(window.webpackJsonp=window.webpackJsonp||[]).push([["course-taking-v4-app","vendors~course-manage-practice-app~course-manage-v2-app~course-preview-app~course-taking-app~lecture~5cee5684","intercom-app","social-auth-app","vendors~channel-dashboard-v2-app","video-asset"],{"./generated/locale/ng lazy recursive ^\\.\\/.*\\.json$":function(e,t,o){var n={"./de-de.json":["./generated/locale/ng/de-de.json","generated-locale-ng-de-de-json"],"./en-us.json":["./generated/locale/ng/en-us.json","generated-locale-ng-en-us-json"],"./es-es.json":["./generated/locale/ng/es-es.json","generated-locale-ng-es-es-json"],"./fr-fr.json":["./generated/locale/ng/fr-fr.json","generated-locale-ng-fr-fr-json"],"./id-id.json":["./generated/locale/ng/id-id.json","generated-locale-ng-id-id-json"],"./it-it.json":["./generated/locale/ng/it-it.json","generated-locale-ng-it-it-json"],"./ja-jp.json":["./generated/locale/ng/ja-jp.json","generated-locale-ng-ja-jp-json"],"./ko-kr.json":["./generated/locale/ng/ko-kr.json","generated-locale-ng-ko-kr-json"],"./nl-nl.json":["./generated/locale/ng/nl-nl.json","generated-locale-ng-nl-nl-json"],"./pl-pl.json":["./generated/locale/ng/pl-pl.json","generated-locale-ng-pl-pl-json"],"./pt-br.json":["./generated/locale/ng/pt-br.json","generated-locale-ng-pt-br-json"],"./ro-ro.json":["./generated/locale/ng/ro-ro.json","generated-locale-ng-ro-ro-json"],"./ru-ru.json":["./generated/locale/ng/ru-ru.json","generated-locale-ng-ru-ru-json"],"./ta-in.json":["./generated/locale/ng/ta-in.json","generated-locale-ng-ta-in-json"],"./th-th.json":["./generated/locale/ng/th-th.json","generated-locale-ng-th-th-json"],"./tr-tr.json":["./generated/locale/ng/tr-tr.json","generated-locale-ng-tr-tr-json"],"./xa-pl.json":["./generated/locale/ng/xa-pl.json","generated-locale-ng-xa-pl-json"],"./xb-lw.json":["./generated/locale/ng/xb-lw.json","generated-locale-ng-xb-lw-json"],"./xc-lt.json":["./generated/locale/ng/xc-lt.json","generated-locale-ng-xc-lt-json"],"./zh-cn.json":["./generated/locale/ng/zh-cn.json","generated-locale-ng-zh-cn-json"],"./zh-tw.json":["./generated/locale/ng/zh-tw.json","generated-locale-ng-zh-tw-json"]};function r(t){var r=n[t];return r?o.e(r[1]).then(function(){var e=r[0];return o.t(e,3)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(n)},r.id="./generated/locale/ng lazy recursive ^\\.\\/.*\\.json$",e.exports=r},"./node_modules/aes-decrypter/es5/aes.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}();var p=null,n=function(){function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),p||(p=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],r=e[1],o=t[4],n=r[4],i=void 0,s=void 0,a=void 0,l=[],c=[],u=void 0,p=void 0,d=void 0,h=void 0,m=void 0;for(i=0;i<256;i++)c[(l[i]=i<<1^283*(i>>7))^i]=i;for(s=a=0;!o[s];s^=u||1,a=c[a]||1)for(d=(d=a^a<<1^a<<2^a<<3^a<<4)>>8^255&d^99,m=16843009*l[p=l[u=l[n[o[s]=d]=s]]]^65537*p^257*u^16843008*s,h=257*l[d]^16843008*d,i=0;i<4;i++)t[i][s]=h=h<<24^h>>>8,r[i][d]=m=m<<24^m>>>8;for(i=0;i<5;i++)t[i]=t[i].slice(0),r[i]=r[i].slice(0);return e}()),this._tables=[[p[0][0].slice(),p[0][1].slice(),p[0][2].slice(),p[0][3].slice(),p[0][4].slice()],[p[1][0].slice(),p[1][1].slice(),p[1][2].slice(),p[1][3].slice(),p[1][4].slice()]];var t=void 0,r=void 0,o=void 0,n=void 0,i=void 0,s=this._tables[0][4],a=this._tables[1],l=e.length,c=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(n=e.slice(0),i=[],this._key=[n,i],t=l;t<4*l+28;t++)o=n[t-1],(t%l==0||8===l&&t%l==4)&&(o=s[o>>>24]<<24^s[o>>16&255]<<16^s[o>>8&255]<<8^s[255&o],t%l==0&&(o=o<<8^o>>>24^c<<24,c=c<<1^283*(c>>7))),n[t]=n[t-l]^o;for(r=0;t;r++,t--)o=n[3&r?t:t-4],i[r]=t<=4||r<4?o:a[0][s[o>>>24]]^a[1][s[o>>16&255]]^a[2][s[o>>8&255]]^a[3][s[255&o]]}return o(u,[{key:"decrypt",value:function(e,t,r,o,n,i){var s=this._key[1],a=e^s[0],l=o^s[1],c=r^s[2],u=t^s[3],p=void 0,d=void 0,h=void 0,m=s.length/4-2,b=void 0,y=4,f=this._tables[1],g=f[0],v=f[1],w=f[2],k=f[3],C=f[4];for(b=0;b<m;b++)p=g[a>>>24]^v[l>>16&255]^w[c>>8&255]^k[255&u]^s[y],d=g[l>>>24]^v[c>>16&255]^w[u>>8&255]^k[255&a]^s[y+1],h=g[c>>>24]^v[u>>16&255]^w[a>>8&255]^k[255&l]^s[y+2],u=g[u>>>24]^v[a>>16&255]^w[l>>8&255]^k[255&c]^s[y+3],y+=4,a=p,l=d,c=h;for(b=0;b<4;b++)n[(3&-b)+i]=C[a>>>24]<<24^C[l>>16&255]<<16^C[c>>8&255]<<8^C[255&u]^s[y++],p=a,a=l,l=c,c=u,u=p}}]),u}();t.default=n,e.exports=t.default},"./node_modules/aes-decrypter/es5/async-stream.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}();var n,i=r("./node_modules/aes-decrypter/es5/stream.js"),s=(n=i)&&n.__esModule?n:{default:n},a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){for(var o=!0;o;){var n=e,i=t,s=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(n);if(null===c)return;e=c,t=i,r=s,o=!0,a=c=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,s.default),this.jobs=[],this.delay=1,this.timeout_=null}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),o(t,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),t}();t.default=a,e.exports=t.default},"./node_modules/aes-decrypter/es5/decrypter.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}();function n(e){return e&&e.__esModule?e:{default:e}}var y=n(r("./node_modules/aes-decrypter/es5/aes.js")),c=n(r("./node_modules/aes-decrypter/es5/async-stream.js")),u=r("./node_modules/pkcs7/lib/pkcs7.js"),f=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},i=function(e,t,r){var o=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),n=new y.default(Array.prototype.slice.call(t)),i=new Uint8Array(e.byteLength),s=new Int32Array(i.buffer),a=void 0,l=void 0,c=void 0,u=void 0,p=void 0,d=void 0,h=void 0,m=void 0,b=void 0;for(a=r[0],l=r[1],c=r[2],u=r[3],b=0;b<o.length;b+=4)p=f(o[b]),d=f(o[b+1]),h=f(o[b+2]),m=f(o[b+3]),n.decrypt(p,d,h,m,s,b),s[b]=f(s[b]^a),s[b+1]=f(s[b+1]^l),s[b+2]=f(s[b+2]^c),s[b+3]=f(s[b+3]^u),a=p,l=d,c=h,u=m;return i};t.decrypt=i;var s=function(){function l(e,t,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var n=l.STEP,i=new Int32Array(e.buffer),s=new Uint8Array(e.byteLength),a=0;for(this.asyncStream_=new c.default,this.asyncStream_.push(this.decryptChunk_(i.subarray(a,a+n),t,r,s)),a=n;a<i.length;a+=n)r=new Uint32Array([f(i[a-4]),f(i[a-3]),f(i[a-2]),f(i[a-1])]),this.asyncStream_.push(this.decryptChunk_(i.subarray(a,a+n),t,r,s));this.asyncStream_.push(function(){o(null,(0,u.unpad)(s))})}return o(l,[{key:"decryptChunk_",value:function(t,r,o,n){return function(){var e=i(t,r,o);n.set(e,t.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),l}();t.Decrypter=s,t.default={Decrypter:s,decrypt:i}},"./node_modules/aes-decrypter/es5/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r("./node_modules/aes-decrypter/es5/decrypter.js"),i=r("./node_modules/aes-decrypter/es5/async-stream.js"),s=(o=i)&&o.__esModule?o:{default:o};t.default={decrypt:n.decrypt,Decrypter:n.Decrypter,AsyncStream:s.default},e.exports=t.default},"./node_modules/aes-decrypter/es5/stream.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}();var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={}}return o(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var r;return!!this.listeners[e]&&(r=this.listeners[e].indexOf(t),this.listeners[e].splice(r,1),-1<r)}},{key:"trigger",value:function(e){var t=void 0,r=void 0,o=void 0,n=void 0;if(t=this.listeners[e])if(2===arguments.length)for(o=t.length,r=0;r<o;++r)t[r].call(this,arguments[1]);else for(n=Array.prototype.slice.call(arguments,1),o=t.length,r=0;r<o;++r)t[r].apply(this,n)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),e}();t.default=n,e.exports=t.default},"./node_modules/angular-slick-carousel/dist/angular-slick.js":function(e,t,r){"use strict";
/*!
 * angular-slick-carousel
 * DevMark <hc.devmark@gmail.com>
 * https://github.com/devmark/angular-slick-carousel
 * Version: 3.1.7 - 2016-08-04T06:43:29.508Z
 * License: MIT
 */angular.module("slickCarousel",[]).constant("slickCarouselConfig",{method:{},event:{}}).directive("slick",["$timeout","slickCarouselConfig",function(c,u){var p;return p=["slickGoTo","slickNext","slickPrev","slickPause","slickPlay","slickAdd","slickRemove","slickFilter","slickUnfilter","unslick"],["afterChange","beforeChange","breakpoint","destroy","edge","init","reInit","setPosition","swipe","lazyLoaded","lazyLoadError"],{scope:{settings:"=",enabled:"@",accessibility:"@",adaptiveHeight:"@",autoplay:"@",autoplaySpeed:"@",arrows:"@",asNavFor:"@",appendArrows:"@",prevArrow:"@",nextArrow:"@",centerMode:"@",centerPadding:"@",cssEase:"@",customPaging:"&",dots:"@",draggable:"@",fade:"@",focusOnSelect:"@",easing:"@",edgeFriction:"@",infinite:"@",initialSlide:"@",lazyLoad:"@",mobileFirst:"@",pauseOnHover:"@",pauseOnDotsHover:"@",respondTo:"@",responsive:"=?",rows:"@",slide:"@",slidesPerRow:"@",slidesToShow:"@",slidesToScroll:"@",speed:"@",swipe:"@",swipeToSlide:"@",touchMove:"@",touchThreshold:"@",useCSS:"@",variableWidth:"@",vertical:"@",verticalSwiping:"@",rtl:"@"},restrict:"AE",link:function(n,o,e){var i,t,s,r,a,l;return angular.element(o).css("display","none"),t=function(){i=angular.extend(angular.copy(u),{enabled:"false"!==n.enabled,accessibility:"false"!==n.accessibility,adaptiveHeight:"true"===n.adaptiveHeight,autoplay:"true"===n.autoplay,autoplaySpeed:null!=n.autoplaySpeed?parseInt(n.autoplaySpeed,10):3e3,arrows:"false"!==n.arrows,asNavFor:n.asNavFor?n.asNavFor:void 0,appendArrows:n.appendArrows?angular.element(n.appendArrows):angular.element(o),prevArrow:n.prevArrow?angular.element(n.prevArrow):void 0,nextArrow:n.nextArrow?angular.element(n.nextArrow):void 0,centerMode:"true"===n.centerMode,centerPadding:n.centerPadding||"50px",cssEase:n.cssEase||"ease",customPaging:e.customPaging?function(e,t){return n.customPaging({slick:e,index:t})}:void 0,dots:"true"===n.dots,draggable:"false"!==n.draggable,fade:"true"===n.fade,focusOnSelect:"true"===n.focusOnSelect,easing:n.easing||"linear",edgeFriction:n.edgeFriction||.15,infinite:"false"!==n.infinite,initialSlide:parseInt(n.initialSlide)||0,lazyLoad:n.lazyLoad||"ondemand",mobileFirst:"true"===n.mobileFirst,pauseOnHover:"false"!==n.pauseOnHover,pauseOnDotsHover:"true"===n.pauseOnDotsHover,respondTo:null!=n.respondTo?n.respondTo:"window",responsive:n.responsive||void 0,rows:null!=n.rows?parseInt(n.rows,10):1,slide:n.slide||"",slidesPerRow:null!=n.slidesPerRow?parseInt(n.slidesPerRow,10):1,slidesToShow:null!=n.slidesToShow?parseInt(n.slidesToShow,10):1,slidesToScroll:null!=n.slidesToScroll?parseInt(n.slidesToScroll,10):1,speed:null!=n.speed?parseInt(n.speed,10):300,swipe:"false"!==n.swipe,swipeToSlide:"true"===n.swipeToSlide,touchMove:"false"!==n.touchMove,touchThreshold:n.touchThreshold?parseInt(n.touchThreshold,10):5,useCSS:"false"!==n.useCSS,variableWidth:"true"===n.variableWidth,vertical:"true"===n.vertical,verticalSwiping:"true"===n.verticalSwiping,rtl:"true"===n.rtl},n.settings)},s=function(){var e=angular.element(o);return e.hasClass("slick-initialized")&&(e.remove("slick-list"),e.slick("unslick")),e},r=function(){t();var r=angular.element(o);if(angular.element(o).hasClass("slick-initialized")){if(i.enabled)return r.slick("getSlick");s()}else{if(!i.enabled)return;r.on("init",function(e,t){if(void 0!==i.event.init&&i.event.init(e,t),void 0!==l)return t.slideHandler(l)}),c(function(){angular.element(o).css("display","block"),r.not(".slick-initialized").slick(i)})}n.internalControl=i.method||{},p.forEach(function(t){n.internalControl[t]=function(){var e;(e=Array.prototype.slice.call(arguments)).unshift(t),r.slick.apply(o,e)}}),r.on("afterChange",function(e,t,r){l=r,void 0!==i.event.afterChange&&c(function(){n.$apply(function(){i.event.afterChange(e,t,r)})})}),r.on("beforeChange",function(e,t,r,o){void 0!==i.event.beforeChange&&c(function(){c(function(){n.$apply(function(){i.event.beforeChange(e,t,r,o)})})})}),r.on("reInit",function(e,t){void 0!==i.event.reInit&&c(function(){n.$apply(function(){i.event.reInit(e,t)})})}),void 0!==i.event.breakpoint&&r.on("breakpoint",function(e,t,r){c(function(){n.$apply(function(){i.event.breakpoint(e,t,r)})})}),void 0!==i.event.destroy&&r.on("destroy",function(e,t){c(function(){n.$apply(function(){i.event.destroy(e,t)})})}),void 0!==i.event.edge&&r.on("edge",function(e,t,r){c(function(){n.$apply(function(){i.event.edge(e,t,r)})})}),void 0!==i.event.setPosition&&r.on("setPosition",function(e,t){c(function(){n.$apply(function(){i.event.setPosition(e,t)})})}),void 0!==i.event.swipe&&r.on("swipe",function(e,t,r){c(function(){n.$apply(function(){i.event.swipe(e,t,r)})})}),void 0!==i.event.lazyLoaded&&r.on("lazyLoaded",function(e,t,r,o){c(function(){n.$apply(function(){i.event.lazyLoaded(e,t,r,o)})})}),void 0!==i.event.lazyLoadError&&r.on("lazyLoadError",function(e,t,r,o){c(function(){n.$apply(function(){i.event.lazyLoadError(e,t,r,o)})})})},a=function(){s(),r()},o.one("$destroy",function(){s()}),n.$watch("settings",function(e,t){if(null!==e)return a()},!0)}}}])},"./node_modules/branch-sdk/dist/build.min.js":function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){for(var aa="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){if(r.get||r.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},k="undefined"!=typeof window&&window===this?this:void 0!==global&&null!=global?global:this,n=["String","prototype","includes"],ba=0;ba<n.length-1;ba++){var ca=n[ba];ca in k||(k[ca]={}),k=k[ca]}var da=n[n.length-1],ea=k[da],fa=ea||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(e,t||0)};function ga(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function ha(e,t,r){return e.call.apply(e.bind,arguments)}function ia(t,r,e){if(!t)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,o),t.apply(r,e)}}return function(){return t.apply(r,arguments)}}function ja(e,t,r){return(ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia).apply(null,arguments)}function ka(e){return!/^\s*$/.test(e)&&/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function la(a){if(a=String(a),ka(a))try{return eval("("+a+")")}catch(e){}throw Error("Invalid JSON string: "+a)}function p(e){var t=[];return ma(new na,e,t),t.join("")}function na(){}function ma(e,t,r){if(null==t)r.push("null");else{if("object"==typeof t){if("array"==ga(t)){var o=t;t=o.length,r.push("[");for(var n="",i=0;i<t;i++)r.push(n),ma(e,o[i],r),n=",";return void r.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(o in r.push("{"),n="",t)Object.prototype.hasOwnProperty.call(t,o)&&("function"!=typeof(i=t[o])&&(r.push(n),oa(o,r),r.push(":"),ma(e,i,r),n=","));return void r.push("}")}t=t.valueOf()}switch(typeof t){case"string":oa(t,r);break;case"number":r.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":r.push(String(t));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}fa!=ea&&null!=fa&&aa(k,da,{configurable:!0,writable:!0,value:fa});var pa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},qa=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;function oa(e,t){t.push('"',e.replace(qa,function(e){var t=pa[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),pa[e]=t),t}),'"')}function t(e){e=String(e);try{return JSON.parse(e)}catch(e){}throw Error("Invalid JSON string: "+e)}function u(e){try{return"object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify(e):p(e)}catch(e){}throw Error("Could not stringify object")}function ra(){var t=[];return function(e){t.push(e),1===t.length&&function e(){t.length&&t[0](function(){t.shift(),e()})}()}}function v(e,r,t){return e=e.replace(/\$(\d)/g,function(e,t){return r[parseInt(t,10)-1]}),t&&(e+="\n Failure Code:"+t),e}function sa(e){return{data:e.data||"",data_parsed:e.data_parsed||{},has_app:e.has_app||null,identity:e.identity||null,referring_identity:e.referring_identity||null,referring_link:e.referring_link||null}}function ta(e){var r=/^\$journeys_\S+$/,o=e.data,n={};if(!o)return{};switch(typeof o){case"string":try{o=t(o)}catch(e){o=la(o)}break;case"object":break;default:o={}}return Object.keys(o).forEach(function(e){r.test(e)&&(n[e]=o[e])}),n}function ua(){var e;return e="_branch_view_id".replace(/[\[\]]/g,"\\$&"),(e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(String(window.location)))&&e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):""}function va(e){e.source="web-sdk";var r=e.data;switch(typeof r){case"string":try{r=t(r)}catch(e){r=la(r)}break;case"object":break;default:r={}}r.$canonical_url||(r.$canonical_url=String(window.location)),r.$og_title||(r.$og_title=w("title")),r.$og_description||(r.$og_description=w("description")),r.$og_image_url||(r.$og_image_url=w("image")),r.$og_video||(r.$og_video=w("video")),"string"==typeof r.$desktop_url&&(r.$desktop_url=r.$desktop_url.replace(/#r:[a-z0-9-_]+$/i,"").replace(/([\?\&]_branch_match_id=\d+)/,""));try{t(r)}catch(e){r=p(r)}return e.data=r,e}function wa(e){return e?e.substring(e.lastIndexOf("/")+1,e.length):null}function x(e,t){if(e&&"object"==typeof e||(e={}),!t||"object"!=typeof t)return e;for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function xa(){try{var e=window.location.hash.match(/r:([^&]*)/);if(e&&1<=e.length)return e[1]}catch(e){}}function y(){var e=navigator.userAgent;return e.match(/android/i)?"android":e.match(/ipad/i)?"ipad":e.match(/i(os|p(hone|od))/i)?"ios":e.match(/\(BB[1-9][0-9]*\;/i)?"blackberry":e.match(/Windows Phone/i)?"windows_phone":!!(e.match(/Kindle/i)||e.match(/Silk/i)||e.match(/KFTT/i)||e.match(/KFOT/i)||e.match(/KFJWA/i)||e.match(/KFJWI/i)||e.match(/KFSOWI/i)||e.match(/KFTHWA/i)||e.match(/KFTHWI/i)||e.match(/KFAPWA/i)||e.match(/KFAPWI/i))&&"kindle"}function ya(){var e,t=navigator.userAgent;if(/^((?!chrome|android|crios|fxios).)*safari/i.test(t))e:{if(11,(t=/version\/([^ ]*)/i.exec(t))&&t[1])try{if(11<=parseFloat(t[1])){e=!0;break e}}catch(e){}e=!1}else e=!1;return e}function za(){try{var e=window.location.search.substring(1).match(/_branch_match_id=([^&]*)/);if(e&&1<=e.length)return e[1]}catch(e){}}function Aa(e){return e.replace(/(\-\w)/g,function(e){return e[1].toUpperCase()})}function Ba(e){var t,r,o,n,i,s,a="",l=0;for(e=e.replace(/\r\n/g,"\n"),r="",o=0;o<e.length;o++)(n=e.charCodeAt(o))<128?r+=String.fromCharCode(n):(127<n&&n<2048?r+=String.fromCharCode(n>>6|192):(r+=String.fromCharCode(n>>12|224),r+=String.fromCharCode(n>>6&63|128)),r+=String.fromCharCode(63&n|128));for(e=r;l<e.length;)n=(t=e.charCodeAt(l++))>>2,t=(3&t)<<4|(r=e.charCodeAt(l++))>>4,i=(15&r)<<2|(o=e.charCodeAt(l++))>>6,s=63&o,isNaN(r)?s=i=64:isNaN(o)&&(s=64),a=a+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(s);return a}function Ca(e,t,r){"function"==typeof e.addEventListener?e.addEventListener(t,r,void 0):"function"==typeof e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}function Da(e){return e?(-1<e.indexOf("://")&&(e=e.split("://")[1]),e.substring(e.indexOf("/")+1)):null}function Ea(e){return e?(-1<e.indexOf("://")?e=e.split("://")[1]:"/"===e.charAt(0)&&(e=e.slice(1)),e):null}function w(e){var t;return e=String(e),t=t||null,(e=document.querySelector('meta[property="og:'+e+'"]'))&&e.content&&(t=e.content),t}function Fa(){for(var e={},t=document.getElementsByTagName("meta"),r=0;r<t.length;r++)if((t[r].getAttribute("name")||t[r].getAttribute("property"))&&t[r].getAttribute("content")){var o=t[r].getAttribute("name"),n=t[r].getAttribute("property");"al:ios:url"===(o=o||n)?e.$ios_deeplink_path=Ea(t[r].getAttribute("content")):"al:android:url"===o?e.$android_deeplink_path=Ea(t[r].getAttribute("content")):3===(o=o.split(":")).length&&"branch"===o[0]&&"deeplink"===o[1]&&(e[o[2]]=t[r].getAttribute("content"))}return e}function Ga(){var t;try{t=(navigator.language||navigator.browserLanguage||"en").split(/[^a-z^A-Z0-9-]/).shift().toLowerCase()}catch(e){t="en"}return t}function Ha(t,e){var r=[];return e.forEach(function(e){-1===t.indexOf(e)&&r.push(e)}),r}var Ia=["purchase"],z={missingPurchaseEvent:"event name is either missing, of the wrong type or not valid. Please specify 'purchase' as the event name.",missingCommerceData:"commerce_data is either missing, of the wrong type or empty. Please ensure that commerce_data is constructed correctly.",invalidKeysForRoot:"Please remove the following keys from the root of commerce_data: ",invalidKeysForProducts:"Please remove the following keys from commerce_data.products: ",invalidProductListType:"commerce_data.products must be an array of objects",invalidProductType:"Each product in the products list must be an object"};function Ja(e){var t="sku name price quantity brand category variant".split(" "),r=Ha("common type transaction_id currency revenue revenue_in_usd exchange_rate shipping tax coupon affiliation persona products".split(" "),Object.keys(e));if(r.length)return z.invalidKeysForRoot+r.join(", ");var o,n=[];if(e.hasOwnProperty("products")){if(!Array.isArray(e.products))return z.invalidProductListType;if(e.products.forEach(function(e){"object"!=typeof e&&(o=z.invalidProductType),n=n.concat(Ha(t,Object.keys(e)))}),o)return o;if(n.length)return z.invalidKeysForProducts+n.join(", ")}return null}function Ka(e,t){if(!e||"string"!=typeof e||-1===Ia.indexOf(e.toLowerCase()))return z.missingPurchaseEvent;if(!t||"object"!=typeof t||!Object.keys(t).length)return z.missingCommerceData;var r=Ja(t);return r||null}function A(e){return"string"!=typeof e?null:e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function B(o,n){return function(e,t,r){if("number"==typeof r||r)if(0===n){if("object"!=typeof r)return v("API request $1, parameter $2 is not $3",[e,t,"an object"])}else if(3===n){if(!(r instanceof Array))return v("API request $1, parameter $2 is not $3",[e,t,"an array"])}else if(2===n){if("number"!=typeof r)return v("API request $1, parameter $2 is not $3",[e,t,"a number"])}else if(4===n){if("boolean"!=typeof r)return v("API request $1, parameter $2 is not $3",[e,t,"a boolean"])}else{if("string"!=typeof r)return v("API request $1, parameter $2 is not $3",[e,t,"a string"]);if(1!==n&&!n.test(r))return v("API request $1, parameter $2 is not $3",[e,t,"in the proper format"])}else if(o)return v("API request $1 missing parameter $2",[e,t]);return!1}}var C=/^[0-9]{15,20}$/;function D(e){return x(e,{browser_fingerprint_id:B(!0,C),identity_id:B(!0,C),sdk:B(!0,1),session_id:B(!0,C)})}var La={destination:"https://api.branch.io",endpoint:"/v1/open",method:"POST",a:{browser_fingerprint_id:B(!1,C),alternative_browser_fingerprint_id:B(!1,C),identity_id:B(!1,C),link_identifier:B(!1,1),sdk:B(!1,1),options:B(!1,0),initial_referrer:B(!1,1)}},Ma={destination:"https://app.link",endpoint:"/_r",method:"GET",U:!0,a:{sdk:B(!0,1),_t:B(!1,C),branch_key:B(!0,1)}},Na={destination:"",endpoint:"",method:"GET",f:{link_url:B(!0,1)},a:{click:B(!0,1)}},Oa={destination:"https://bnc.lt",endpoint:"/c",method:"POST",f:{link_url:B(!0,1)},a:{sdk:B(!1,1),phone:B(!0,1)}},Pa={destination:"https://api.branch.io",endpoint:"/v1/referralcode",method:"POST",a:D({amount:B(!0,2),bucket:B(!1,1),calculation_type:B(!0,2),creation_source:B(!0,2),expiration:B(!1,1),location:B(!0,2),prefix:B(!1,1),type:B(!0,1)})},Qa={destination:"https://api.branch.io",endpoint:"/v1/referralcode",method:"POST",f:{code:B(!0,1)},a:D({})},Ra={destination:"https://api.branch.io",endpoint:"/v1/applycode",method:"POST",f:{code:B(!0,1)},a:D({})},Sa={destination:"https://api.branch.io",endpoint:"/v1/logout",method:"POST",a:D({session_id:B(!0,C)})},Ta={destination:"https://api.branch.io",endpoint:"/v1/profile",method:"POST",a:D({identity_id:B(!0,C),identity:B(!0,1)})},Ua={destination:"https://api.branch.io",endpoint:"/v1/referrals",method:"GET",f:{identity_id:B(!0,C)},a:D({})},Va={destination:"https://api.branch.io",endpoint:"/v1/credithistory",method:"GET",a:D({begin_after_id:B(!1,C),bucket:B(!1,1),direction:B(!1,2),length:B(!1,2),link_click_id:B(!1,C)})},Wa={destination:"https://api.branch.io",endpoint:"/v1/credits",method:"GET",a:D({branch_key:B(!0,1),identity:B(!0,1)})},Xa={destination:"https://api.branch.io",endpoint:"/v1/redeem",method:"POST",a:D({amount:B(!0,2),bucket:B(!0,1),identity_id:B(!0,C)})},Ya={destination:"https://api.branch.io",endpoint:"/v1/url",method:"POST",va:"obj",a:D({alias:B(!1,1),campaign:B(!1,1),channel:B(!1,1),data:B(!1,1),feature:B(!1,1),identity_id:B(!0,C),stage:B(!1,1),tags:B(!1,3),type:B(!1,2),source:B(!1,1)})},Za={destination:"https://api.branch.io",endpoint:"/v1/deepview",U:!0,method:"POST",a:D({campaign:B(!1,1),_t:B(!1,C),channel:B(!1,1),data:B(!0,1),feature:B(!1,1),link_click_id:B(!1,1),open_app:B(!1,4),append_deeplink_path:B(!1,4),stage:B(!1,1),tags:B(!1,3),deepview_type:B(!0,1),source:B(!0,1)})},$a={destination:"https://api.branch.io",endpoint:"/v1/has-app",method:"GET",a:{browser_fingerprint_id:B(!0,C)}},ab={destination:"https://api.branch.io",endpoint:"/v1/event",method:"POST",a:D({event:B(!0,1),metadata:B(!0,0),initial_referrer:B(!1,1)})},bb={destination:"https://api.branch.io",endpoint:"/v1/event",method:"POST",a:D({event:B(!0,1),metadata:B(!1,0),initial_referrer:B(!1,1),commerce_data:B(!0,0)})};function E(e){for(var t=0;t<e.length;t++){var r;if((r="function"==typeof(r=this[e[t]])?r():r).isEnabled())return r.s={},r}}function G(e){return"branch_session"===e||"branch_session_first"===e?e:"BRANCH_WEBSDK_KEY"+e}function cb(e){return"true"===e||"false"!==e&&e}function db(e){var o;try{o=e&&localStorage?localStorage:sessionStorage}catch(e){return{isEnabled:function(){return!1}}}return{getAll:function(){if(void 0===o)return null;var e,t=null;for(e in o)e.indexOf("BRANCH_WEBSDK_KEY")||(null===t&&(t={}),t[e.replace("BRANCH_WEBSDK_KEY","")]=cb(o.getItem(e)));return t},get:function(e,t){return cb(t&&localStorage?localStorage.getItem(G(e)):o.getItem(G(e)))},set:function(e,t,r){r&&localStorage?localStorage.setItem(G(e),t):o.setItem(G(e),t)},remove:function(e,t){t&&localStorage?localStorage.removeItem(G(e)):o.removeItem(G(e))},clear:function(){Object.keys(o).forEach(function(e){e.indexOf("BRANCH_WEBSDK_KEY")||o.removeItem(e)})},isEnabled:function(){try{return o.setItem("test",""),o.removeItem("test"),!0}catch(e){return!1}}}}function fb(n){return{getAll:function(){for(var e=document.cookie.split(";"),t={},r=0;r<e.length;r++){var o;-1!==(o=(o=e[r].replace(" ","")).substring(0,o.length)).indexOf("BRANCH_WEBSDK_KEY")&&(t[(o=o.split("="))[0].replace("BRANCH_WEBSDK_KEY","")]=cb(o[1]))}return t},get:function(e){e=G(e)+"=";for(var t=document.cookie.split(";"),r=0;r<t.length;r++){var o;if(!(o=(o=t[r]).substring(1,o.length)).indexOf(e))return cb(o.substring(e.length,o.length))}return null},set:function(e,t){var r=G(e),o="";n&&((o=new Date).setTime(o.getTime()+31536e6),o="; branch_expiration_date="+o.toGMTString()+"; expires="+o.toGMTString()),document.cookie=r+"="+t+o+"; path=/"},remove:function(e){document.cookie=G(e)+"=; expires=; path=/"},clear:function(){function e(e){document.cookie=e.substring(0,e.indexOf("="))+"=;expires=-1;path=/"}for(var t=document.cookie.split(";"),r=0;r<t.length;r++){var o;-1!==(o=(o=t[r]).substring(1,o.length)).indexOf("BRANCH_WEBSDK_KEY")&&(n||-1!==o.indexOf("branch_expiration_date=")?n&&0<o.indexOf("branch_expiration_date=")&&e(o):e(o))}},isEnabled:function(){return navigator.cookieEnabled}}}function H(e,r){try{return t(e.get(r?"branch_session_first":"branch_session",r))||null}catch(e){return null}}function gb(e,t,r){e.set("branch_session",p(t)),r&&e.set("branch_session_first",p(t),!0)}function hb(e,t){if(t){var r=x(r=H(e)||{},t);e.set("branch_session",p(r))}}function ib(){}function jb(e,t,r){if(void 0===t)return"";var o=[];if(t instanceof Array){for(e=0;e<t.length;e++)o.push(encodeURIComponent(r)+"="+encodeURIComponent(t[e]));return o.join("&")}for(var n in t)t.hasOwnProperty(n)&&(t[n]instanceof Array||"object"==typeof t[n]?o.push(jb(e,t[n],r?r+"."+n:n)):o.push(encodeURIComponent(r?r+"."+n:n)+"="+encodeURIComponent(t[n])));return o.join("&")}function lb(e,r,t){function o(e,t){if(void 0===t&&(t={}),e.branch_key&&l.test(e.branch_key))return t.branch_key=e.branch_key,t;if(e.app_id&&a.test(e.app_id))return t.app_id=e.app_id,t;throw Error(v("API request $1 missing parameter $2",[r.endpoint,"branch_key or app_id"]))}var n,i,s=r.destination+r.endpoint,a=/^[0-9]{15,20}$/,l=/key_(live|test)_[A-Za-z0-9]{32}/;if("/v1/has-app"===r.endpoint)try{r.f=o(t,r.f)}catch(e){return{error:e.message}}if(void 0!==r.f)for(n in r.f)if(r.f.hasOwnProperty(n)){if(i="function"==typeof r.f[n]?r.f[n](r.endpoint,n,t[n]):i)return{error:i};s+="/"+t[n]}var c={};if(void 0!==r.a)for(n in r.a)if(r.a.hasOwnProperty(n)){if(i=r.a[n](r.endpoint,n,t[n]))return{error:i};void 0!==(i=t[n])&&""!==i&&null!==i&&(c[n]=i)}if("POST"===r.method||"/v1/credithistory"===r.endpoint)try{t=o(t,c)}catch(e){return{error:e.message}}return"/v1/event"===r.endpoint&&(c.metadata=u(c.metadata||{}),c.hasOwnProperty("commerce_data")&&(c.commerce_data=u(c.commerce_data||{}))),"/v1/open"===r.endpoint&&(c.options=u(c.options||{})),{data:jb(e,c,""),url:s.replace(/^\//,"")}}function mb(e,t,r){var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,!(e=document.getElementsByTagName("head"))||e.length<1?"function"==typeof t&&t():(e[0].appendChild(o),"function"==typeof t&&Ca(o,"error",t),"function"==typeof r&&Ca(o,"load",r))}function nb(e,t,r,o,n){var i="branch_callback__"+e.g++;e=0<=t.indexOf("branch.io")?"&data=":"&post_data=",r="POST"===o?encodeURIComponent(Ba(p(r))):"";var s=window.setTimeout(function(){window[i]=function(){},n(Error("Request timed out"),null,504)},5e3);window[i]=function(e){window.clearTimeout(s),n(null,e)},mb(t+(t.indexOf("?")<0?"?":"")+(r?e+r:"")+(0<=t.indexOf("/c/")?"&click=1":"")+"&callback="+i,function(){n(Error("Request blocked by client, probably adblock"),null)},function(){try{"function"==typeof this.remove?this.remove():this.parentNode.removeChild(this)}catch(e){}delete window[i]})}function ob(r,o,n,i,s,a,e){var l=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");l.ontimeout=function(){a(Error("Request timed out"),null,504)},l.onerror=function(e){a(Error(e.error||"Error in API: "+l.status),null,l.status)},l.onreadystatechange=function(){var r;if(4===l.readyState)if(200===l.status){if(e)r=l.responseText;else try{r=t(l.responseText)}catch(e){r={}}a(null,r,l.status)}else 402===l.status?a(Error("Not enough credits to redeem."),null,l.status):"4"!==l.status.toString().substring(0,1)&&"5"!==l.status.toString().substring(0,1)||a(Error("Error in API: "+l.status),null,l.status)};try{l.open(i,o,!0),l.timeout=5e3,l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(n)}catch(e){s.set("use_jsonp",!0),nb(r,o,n,i,a)}}function pb(e,t,r,o,n){function i(){o.get("use_jsonp")||t.U?nb(e,l,r,t.method,s):ob(e,l,c,t.method,o,s)}function s(e,t,r){e&&0<u&&"5"===(r||"").toString().substring(0,1)?(u--,window.setTimeout(function(){i()},200)):n(e,t)}var a=lb(e,t,r);if(a.error)return n(Error(a.error));var l,c="";"GET"===t.method?l=a.url+"?"+a.data:(l=a.url,c=a.data);var u=2;i()}function I(e){e&&e.parentNode.removeChild(e)}function qb(e,t){e&&!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))&&(e.className+=" "+t)}function rb(e){var t=document.body;t&&t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," "))}function sb(e){var t=new Date;return t.setDate(t.getDate()+e)}function tb(e){return document.body.currentStyle?document.body.currentStyle[Aa(e)]:window.getComputedStyle(document.body).getPropertyValue(e)}function ub(e){function i(e){function t(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}function r(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)/100}if(!e)return 0;var o=e.replace(/[0-9,\.]/g,"");e=e.match(/\d+/g);var n=parseInt(0<e.length?e[0]:"0",10);return parseInt({px:function(e){return e},em:function(e){return document.body.currentStyle?e*i(document.body.currentStyle.fontSize):e*parseFloat(window.getComputedStyle(document.body).fontSize)},rem:function(e){return document.documentElement.currentStyle?e*i(document.documentElement.currentStyle.fontSize):e*parseFloat(window.getComputedStyle(document.documentElement).fontSize)},vw:function(e){return e*r()},vh:function(e){return e*t()},vmin:function(e){return e*Math.min(t(),r())},vmax:function(e){return e*Math.max(t(),r())},"%":function(){return document.body.clientWidth/100*n}}[o](n),10)}return(i("76px")+i(e)).toString()+"px"}function vb(e,r){var o=e.get("hideBanner",!0);if(r.ia&&navigator&&Number(navigator.doNotTrack))return!1;try{"string"==typeof o&&(o=t(o))}catch(e){o=!1}o="number"==typeof o?new Date>=new Date(o):!o;var n=r.F;return"number"==typeof n&&(n=!1),!document.getElementById("branch-banner")&&!document.getElementById("branch-banner-iframe")&&(o||n)&&(r.ka&&!y()||r.I&&"android"===y()||r.la&&"ipad"===y()||r.M&&"ios"===y()||r.J&&"blackberry"===y()||r.L&&"windows_phone"===y()||r.K&&"kindle"===y())}function wb(e,t){return"#branch-banner-iframe { position: "+("top"!==t||e?"fixed":"absolute")+"; }\n"}function xb(e,t){var r=".branch-banner-is-active { -webkit-transition: all 0.375s ease; transition: all 00.375s ease; }\n#branch-banner { width:100%; z-index: 99999; font-family: Helvetica Neue, Sans-serif; -webkit-font-smoothing: antialiased; -webkit-user-select: none; -moz-user-select: none; user-select: none; -webkit-transition: all 0.25s ease; transition: all 00.25s ease; }\n#branch-banner .button{ border: 1px solid "+(e.buttonBorderColor||("dark"===e.theme?"transparent":"#ccc"))+"; background: "+(e.buttonBackgroundColor||"#fff")+"; color: "+(e.buttonFontColor||"#000")+"; cursor: pointer; margin-top: 0px; font-size: 14px; display: inline-block; margin-left: 5px; font-weight: 400; text-decoration: none;  border-radius: 4px; padding: 6px 12px; transition: all .2s ease;}\n#branch-banner .button:hover {  border: 1px solid "+(e.buttonBorderColorHover||("dark"===e.theme?"transparent":"#BABABA"))+"; background: "+(e.buttonBackgroundColorHover||"#E0E0E0")+"; color: "+(e.buttonFontColorHover||"#000")+";}\n#branch-banner .button:focus { outline: none; }\n#branch-banner * { margin-right: 4px; position: relative; line-height: 1.2em; }\n#branch-banner-close { font-weight: 400; cursor: pointer; float: left; z-index: 2;padding: 0 5px 0 5px; margin-right: 0; }\n#branch-banner .content { width:100%; overflow: hidden; height: 76px; background: rgba(255, 255, 255, 0.95); color: #333; "+("top"===e.position?"border-bottom":"border-top")+': 1px solid #ddd; }\n#branch-banner-close { color: #000; font-size: 24px; top: 14px; opacity: .5; transition: opacity .3s ease; }\n#branch-banner-close:hover { opacity: 1; }\n#branch-banner .title { font-size: 18px; font-weight:bold; color: #555; }\n#branch-banner .description { font-size: 12px; font-weight: normal; color: #777; max-height: 30px; overflow: hidden; }\n#branch-banner .icon { float: left; padding-bottom: 40px; margin-right: 10px; margin-left: 5px; }\n#branch-banner .icon img { width: 63px; height: 63px; margin-right: 0; }\n#branch-banner .reviews { font-size:13px; margin: 1px 0 3px 0; color: #777; }\n#branch-banner .reviews .star { display:inline-block; position: relative; margin-right:0; }\n#branch-banner .reviews .star span { display: inline-block; margin-right: 0; color: #555; position: absolute; top: 0; left: 0; }\n#branch-banner .reviews .review-count { font-size:10px; }\n#branch-banner .reviews .star .half { width: 50%; overflow: hidden; display: block; }\n#branch-banner .content .left { padding: 6px 5px 6px 5px; }\n#branch-banner .vertically-align-middle { top: 50%; transform: translateY(-50%); -webkit-transform: translateY(-50%); -ms-transform: translateY(-50%); }\n#branch-banner .details > * { display: block; }\n#branch-banner .content .left { height: 63px; }\n#branch-banner .content .right { float: right; height: 63px; margin-bottom: 50px; padding-top: 22px; z-index: 1; }\n#branch-banner .right > div { float: left; }\n#branch-banner-action { top: 17px; }\n#branch-banner .content:after { content: ""; position: absolute; left: 0; right: 0; top: 100%; height: 1px; background: rgba(0, 0, 0, 0.2); }\n#branch-banner .theme-dark.content { background: rgba(51, 51, 51, 0.95); }\n#branch-banner .theme-dark #branch-banner-close{ color: #fff; text-shadow: 0 1px 1px rgba(0, 0, 0, .15); }\n#branch-banner .theme-dark .details { text-shadow: 0 1px 1px rgba(0, 0, 0, .15); }\n#branch-banner .theme-dark .title { color: #fff; }\n#branch-banner .theme-dark .description { color: #fff; }\n#branch-banner .theme-dark .reviews { color: #888; }\n#branch-banner .theme-dark .reviews .star span{ color: #fff; }\n#branch-banner .theme-dark .reviews .review-count{ color: #fff; }\n',o=y();"ios"!==o&&"ipad"!==o||!e.M?"android"===o&&e.I?r+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n#branch-banner #branch-banner-close,#branch-banner .theme-dark #branch-banner-close { height:17px; width: 17px; text-align: center; font-size: 15px; top: 24px;  border-radius:14px; border:0; line-height:14px; color:#b1b1b3; background:#efefef; padding: 0; opacity: 1; }\n#branch-banner .button { top: 0; text-decoration:none; border-bottom: 3px solid #A4C639; padding: 0 10px; height: 24px; line-height: 24px; text-align: center; color: #fff; margin-top: 2px;  font-weight: bold; background-color: #A4C639; border-radius: 5px; }\n#branch-banner .button:hover { border-bottom:3px solid #8c9c29; background-color: #c1d739; }\n":"blackberry"===o&&e.J?r+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n":"windows_phone"===o&&e.L?r+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n":"kindle"===o&&e.K?r+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n":(r+="#branch-banner { position: fixed; min-width: 600px; }\n#branch-sms-block * { vertical-align: bottom; font-size: 15px; }\n#branch-sms-block { display: inline-block; }\n#branch-banner input{ border: 1px solid #ccc;  font-weight: 400;  border-radius: 4px; height: 30px; padding: 5px 7px 4px; width: 145px; font-size: 14px;}\n#branch-banner input:focus { outline: none; }\n#branch-banner input.error { color: rgb(194, 0, 0); border-color: rgb(194, 0, 0); }\n#branch-banner .branch-icon-wrapper { width:25px; height: 25px; vertical-align: middle; display: inline-block; margin-top: -18px; }\n@keyframes branch-spinner { 0% { transform: rotate(0deg); -webkit-transform: rotate(0deg); -ms-transform: rotate(0deg); } 100% { transform: rotate(360deg); -webkit-transform: rotate(360deg); -ms-transform: rotate(360deg); } }\n@-webkit-keyframes branch-spinner { 0% { transform: rotate(0deg); -webkit-transform: rotate(0deg); -ms-transform: rotate(0deg); } 100% { transform: rotate(360deg); -webkit-transform: rotate(360deg); -ms-transform: rotate(360deg); } }\n#branch-spinner { -webkit-animation: branch-spinner 1s ease-in-out infinite; animation: branch-spinner 1s ease-in-out infinite; transition: all 0.7s ease-in-out; border:2px solid #ddd; border-bottom-color:#428bca; width:80%; height:80%; border-radius:50%; -webkit-font-smoothing: antialiased !important; }\n#branch-banner .theme-dark input { border-color: transparent; }\n",r=window.ActiveXObject?r+"#branch-banner .checkmark { color: #428bca; font-size: 22px; }\n":r+"#branch-banner .checkmark { stroke: #428bca; stroke-dashoffset: 745.74853515625; stroke-dasharray: 745.74853515625; -webkit-animation: dash 2s ease-out forwards; animation: dash 2s ease-out forwards; }\n@-webkit-keyframes dash { 0% { stroke-dashoffset: 745.748535 15625; } 100% { stroke-dashoffset: 0; } }\n@keyframes dash { 0% { stroke-dashoffset: 745.74853515625; } 100% { stroke-dashoffset: 0; } }\n"):r+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n",r+=e.$,e.w&&(r+="body { margin: 0; }\n",(o=document.createElement("style")).type="text/css",o.id="branch-iframe-css",o.innerHTML="body { -webkit-transition: all 0.375s ease; transition: all 00.375s ease; }\n#branch-banner-iframe { box-shadow: 0 0 5px rgba(0, 0, 0, .35); width: 1px; min-width:100%; left: 0; right: 0; border: 0; height: 76px; z-index: 99999; -webkit-transition: all 0.25s ease; transition: all 00.25s ease; }\n"+(y()?wb(e.ea,e.position):wb(e.aa,e.position)),(document.head||document.getElementsByTagName("head")[0]).appendChild(o)),(o=document.createElement("style")).type="text/css",o.id="branch-css",o.innerHTML=r,(r=(r=e.w?t.contentWindow.document:document).head||r.getElementsByTagName("head")[0])&&"function"==typeof r.appendChild&&r.appendChild(o),"top"===e.position?t.style.top="-76px":"bottom"===e.position&&(t.style.bottom="-76px")}function yb(e,t){var r;if(e.u||e.G){if(e.u){r="";for(var o=0;o<5;o++)r+='<span class="star"><svg class="star" fill="#555555" height="12" viewBox="3 2 20 19" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/><path d="M0 0h24v24H0z" fill="none"/><foreignObject display="none"><span class="star">☆</span></foreignObject></svg>',e.u>o&&(r+=o+1>e.u&&e.u%1?'<span class="half"><svg fill="#555555" height="12" viewBox="3 2 20 19" width="12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M0 0h24v24H0V0z" id="a"/></defs><clipPath id="b"><use overflow="visible" xlink:href="#a"/></clipPath><path clip-path="url(#b)" d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/></svg><foreignObject display="none"><span class="half">★</span></foreignObject></span>':'<span class="full"><svg fill="#555555" height="12" viewBox="3 2 20 19" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/><path d="M0 0h24v24H0z" fill="none"/><foreignObject display="none"><span class="full">★</span></foreignObject></svg> </span>'),r+="</span>";r='<span class="stars">'+r+"</span>"}else r="";r='<div class="reviews">'+r+(e.G?'<span class="review-count">'+e.G+"</span>":"")+"</div>"}else r="";return'<div class="content'+(e.theme?" theme-"+e.theme:"")+'"><div class="right">'+t+'</div><div class="left">'+(e.ba?"":'<div id="branch-banner-close" class="branch-animation" aria-label="Close">&times;</div>')+'<div class="icon"><img src="'+e.icon+'" alt="Application icon"></div><div class="details vertically-align-middle"><div class="title">'+e.title+"</div>"+r+'<div class="description">'+e.description+"</div></div></div></div>"}function zb(e,t){var r='<div id="branch-sms-form-container">'+(y()?'<a id="branch-mobile-action" class="button" href="#" target="_parent">'+((H(t)||{}).has_app?e.fa:e.ca)+"</a>":'<div class="branch-icon-wrapper" id="branch-loader-wrapper" style="opacity: 0;"><div id="branch-spinner"></div></div><div id="branch-sms-block"><form id="sms-form"><input type="phone" aria-label="Enter phone number" class="branch-animation" name="branch-sms-phone" id="branch-sms-phone" placeholder="'+e.ha+'"><button type="submit" id="branch-sms-send" class="branch-animation button">'+e.ja+"</button></form></div>")+"</div>";if(e.w){var o=document.createElement("iframe");o.src="about:blank",o.style.overflow="hidden",o.scrolling="no",o.id="branch-banner-iframe",o.className="branch-animation",document.body.appendChild(o);var n=y();r='<html><head></head><body class="'+("ios"===n||"ipad"===n?"branch-banner-ios":"android"===n?"branch-banner-android":"branch-banner-desktop")+'"><div id="branch-banner" class="branch-animation">'+yb(e,r)+"</body></html>";o.contentWindow.document.open(),o.contentWindow.document.write(r),o.contentWindow.document.close()}else(o=document.createElement("div")).id="branch-banner",o.className="branch-animation",o.innerHTML=yb(e,r),document.body.appendChild(o);return o}function Ab(t,r,e,o){function n(){i(),l.style.background="#FFD4D4",a.className="error",setTimeout(function(){l.style.background="#FFFFFF",a.className=""},2e3)}function i(){l.removeAttribute("disabled"),a.removeAttribute("disabled"),l.style.opacity="1",a.style.opacity="1",c.style.opacity="0"}var s,a=t.getElementById("branch-sms-phone"),l=t.getElementById("branch-sms-send"),c=t.getElementById("branch-loader-wrapper"),u=t.getElementById("branch-sms-form-container");if(a){var p=a.value;/^\d{7,}$/.test(p.replace(/[\s()+\-\.]|ext/gi,""))?(J(r,"willSendBannerSMS"),l.setAttribute("disabled",""),a.setAttribute("disabled",""),l.style.opacity=".4",a.style.opacity=".4",c.style.opacity="1",a.className="",r.sendSMS(p,o,e,function(e){e?(J(r,"sendBannerSMSError"),n()):(J(r,"didSendBannerSMS"),(s=t.createElement("div")).className="branch-icon-wrapper",s.id="branch-checkmark",s.style="opacity: 0;",s.innerHTML=window.ActiveXObject?'<span class="checkmark">&#x2713;</span>':'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 98.5 98.5" enable-background="new 0 0 98.5 98.5" xml:space="preserve"><path class="checkmark" fill="none" stroke-width="8" stroke-miterlimit="10" d="M81.7,17.8C73.5,9.3,62,4,49.2,4C24.3,4,4,24.3,4,49.2s20.3,45.2,45.2,45.2s45.2-20.3,45.2-45.2c0-8.6-2.4-16.6-6.5-23.4l0,0L45.6,68.2L24.7,47.3"/></svg>',u.appendChild(s),l.style.opacity="0",a.style.opacity="0",c.style.opacity="0",setTimeout(function(){s.style.opacity="1"},20),a.value="",setTimeout(function(){u.removeChild(s),i()},3e3))})):n()}}function Bb(t,r,o,n){function i(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},"top"===r.position?s.style.top="-76px":"bottom"===r.position&&(s.style.bottom="-76px"),"number"==typeof r.F?n.set("hideBanner",sb(r.F),!0):n.set("hideBanner",!0,!0),e.T?("top"===r.position?document.body.style.marginTop=c:"bottom"===r.position&&(document.body.style.marginBottom=p),rb("branch-banner-is-active"),I(s),I(document.getElementById("branch-css")),t()):(setTimeout(function(){I(s),I(document.getElementById("branch-css")),t()},270),setTimeout(function(){"top"===r.position?document.body.style.marginTop=c:"bottom"===r.position&&(document.body.style.marginBottom=p),rb("branch-banner-is-active")},20))}function e(){"top"===r.position?s.style.top="0":"bottom"===r.position&&(s.style.bottom="0"),J(t,"didShowBanner")}if(!vb(n,r))return J(t,"willNotShowBanner"),null;J(t,"willShowBanner");var s=zb(r,n);xb(r,s),o.channel=o.channel||"app banner";var a=r.w?s.contentWindow.document:document;y()?(r.open_app=r.ga,r.append_deeplink_path=r.Z,r.make_new_link=r.da,r.deepview_type="banner",t.deepview(o,r),(l=a.getElementById("branch-mobile-action"))&&(l.onclick=function(e){e.preventDefault(),t.deepviewCta()})):a.getElementById("sms-form")?a.getElementById("sms-form").addEventListener("submit",function(e){e.preventDefault(),Ab(a,t,r,o)}):s.onload=function(){(a=s.contentWindow.document).getElementById("sms-form")&&a.getElementById("sms-form").addEventListener("submit",function(e){e.preventDefault(),Ab(a,t,r,o)})};var l=tb("margin-top"),c=document.body.style.marginTop,u=tb("margin-bottom"),p=document.body.style.marginBottom,d=a.getElementById("branch-banner-close");return d&&(d.onclick=function(e){e.preventDefault(),J(t,"willCloseBanner"),i({},function(){J(t,"didCloseBanner")})}),qb(document.body,"branch-banner-is-active"),"top"===r.position?document.body.style.marginTop=ub(l):"bottom"===r.position&&(document.body.style.marginBottom=ub(u)),r.T?e():setTimeout(e,20),i}E.prototype.local=function(){return db(!0)},E.prototype.session=function(){return db(!1)},E.prototype.cookie=function(){return fb(!1)},E.prototype.permcookie=function(){return fb(!0)},E.prototype.pojo={getAll:function(){return this.s},get:function(e){return this.s[e]||null},set:function(e,t){this.s[e]=t},remove:function(e){delete this.s[e]},clear:function(){this.s={}},isEnabled:function(){return!0}},ib.prototype.g=0;var K,L="top",M="absolute",N="76px",O=!1,Cb=!1,P=[],Db=window.innerHeight,Eb=window.innerWidth;window.innerHeight<window.innerWidth&&(Db=window.innerWidth,Eb=window.innerHeight);var Fb=0,Gb=0,Hb=/<script type="application\/json">((.|\s)*?)<\/script>/,Ib=/<script type="text\/javascript">((.|\s)*?)<\/script>/,Jb=/<style type="text\/css" id="branch-css">((.|\s)*?)<\/style>/,Kb=/#branch-banner-spacer {((.|\s)*?)}/,Lb=/margin-bottom: (.*?);/,Q=null,Mb=null,Nb=!1,R=!1,Ob=!1,S=!1,Pb=!1,Qb="",U=[];function Rb(e){if(e=e.match(Hb))return t(e[1])}function Sb(){var e=document.createElement("style");e.type="text/css",e.id="branch-iframe-css";var t=+(Fb=tb("margin-top")).slice(0,-2),r=+(Gb=tb("margin-bottom")).slice(0,-2),o=+N.slice(0,-2);"top"===L?document.body.style.marginTop=(+o+t).toString()+"px":"bottom"===L&&(document.body.style.marginBottom=(+o+r).toString()+"px"),0<P.length&&P.forEach(function(e){var t,r=window.getComputedStyle(e);r&&(t=O&&"fixed"===r.getPropertyValue("position")),t||(e.style.marginTop=N)}),"top"===Qb&&Qb!==L&&Pb&&U&&0<U.length&&U.forEach(function(e){e.style.marginTop=0}),Pb=!1,Qb="",S=!(U=[]),e.innerHTML=Tb(),document.head.appendChild(e)}function Tb(){var e="",t="";return document.body.style.transition="",document.getElementById("branch-banner-iframe")&&(document.getElementById("branch-banner-iframe").style.transition=""),Ob||(e="body { -webkit-transition: all 0.375s ease; }\n",document.body.style.transition="all 00.375s ease",t="-webkit-transition: all 0.25s ease; transition: all 00.25s ease;"),(e||"")+"#branch-banner-iframe { box-shadow: 0 0 5px rgba(0, 0, 0, .35); width: 1px; min-width:100%; left: 0; right: 0; border: 0; height: "+N+"; z-index: 99999; "+t+" }\n#branch-banner-iframe { position: "+M+"; }\n@media only screen and (orientation: landscape) { body { "+("top"===L?"margin-top: ":"margin-bottom: ")+(O?Eb+"px":N)+"; }\n#branch-banner-iframe { height: "+(O?Eb+"px":N)+"; }"}function Ub(e){qb(document.body,"branch-banner-is-active"),O&&"fixed"===M&&qb(document.body,"branch-banner-no-scroll"),setTimeout(function(){"top"===L?e.style.top="0":"bottom"===L&&(e.style.bottom="0"),J(Q,"didShowJourney",{banner_id:K}),Nb=!0},20)}function Vb(e){var r=7;return(e=e.match(Hb))&&("number"==typeof(e=t(e[1])||{}).dismissPeriod&&(r=e.dismissPeriod)),-1===r||sb(r)}function Wb(t,r,o,n,i){if(Mb=n,o&&n){var e=n.contentWindow.document;Array.prototype.forEach.call(e.querySelectorAll("#branch-mobile-action"),function(e){e.addEventListener("click",function(){J(Q,"didClickJourneyCTA",{banner_id:K}),S=!0,o(),Xb(n)})});var s=e.querySelectorAll(".branch-banner-continue");Array.prototype.forEach.call(s,function(e){e.addEventListener("click",function(){J(Q,"didClickJourneyContinue",{banner_id:K}),S=!0,Xb(n),r.set("hideBanner"+t.id,i,!0)})}),s=e.querySelectorAll(".branch-banner-close"),Array.prototype.forEach.call(s,function(e){e.addEventListener("click",function(){J(Q,"didClickJourneyClose",{banner_id:K}),S=!0,Xb(n),r.set("hideBanner"+t.id,i,!0)})})}}function Xb(e){if(Ob&&!R){document.body.style.transition="all 00.375s ease",document.getElementById("branch-banner-iframe").style.transition="all 00.25s ease";var t=document.getElementById("branch-iframe-css").innerHTML+"\n";document.getElementById("branch-iframe-css").innerHTML="",document.getElementById("branch-iframe-css").innerHTML=t+"body { -webkit-transition: all 0.375s ease; }\n#branch-banner-iframe { -webkit-transition: all 0.25s ease; }\n"}"top"===L?e.style.top="-"+N:"bottom"===L&&(e.style.bottom="-"+N),J(Q,"willCloseJourney",{banner_id:K}),setTimeout(function(){I(e),I(document.getElementById("branch-css")),I(document.getElementById("branch-iframe-css")),I(document.getElementById("branch-journey-cta")),(!R||S)&&P&&0<P.length?P.forEach(function(e){e.style.marginTop=0}):(Pb=R,Qb=L,U=P),"top"===L?document.body.style.marginTop=Fb:"bottom"===L&&(document.body.style.marginBottom=Gb),rb("branch-banner-is-active"),rb("branch-banner-no-scroll"),J(Q,"didCloseJourney",{banner_id:K}),Nb=!1},R?0:270)}var Yb=1;function Zb(e,t){J(Q,"willShowJourney",{banner_id:K});var r,o=t?"OPEN":"GET",n=Rb(i=e);if((M=n&&n.bannerHeight&&n.position&&n.sticky?(N=n.bannerHeight,L=n.position,n.sticky):(i=i.match(Kb))?(L="top",(i=i[1].match(Lb))&&(N=i[1]),"absolute"):(L="bottom","fixed"),-1===N.indexOf("vh")&&-1===N.indexOf("%")||(N=(i=N.indexOf("vh")?N.slice(0,-2):N.slice(0,-1))/100*Db+"px",i<100?Cb=!0:O=!0),i=Rb(e))&&(t&&i&&i.ctaText&&i.ctaText.has_app?r=i.ctaText.has_app:i&&i.ctaText&&i.ctaText.no_app&&(r=i.ctaText.no_app),o=r,P=[],i&&i.injectorSelector&&(r=document.querySelectorAll(i.injectorSelector))))for(i=0;i<r.length;i++)P.push(r[i].parentElement);r=(r=e.match(Jb))?r[1]:void 0,(i=e.match(Ib))&&(i=i[1],(n=document.createElement("script")).id="branch-journey-cta",n.innerHTML=i,document.body.appendChild(n));n=(i=e).match(Hb);var i,s=i.match(Ib),a=i.match(Jb);(n&&(i=i.replace(Hb,"")),s&&(i=i.replace(Ib,"")),a&&(i=i.replace(Jb,"")),e=i,(i=document.createElement("iframe")).src="about:blank",i.style.overflow="hidden",i.scrolling="no",i.id="branch-banner-iframe",i.className="branch-animation",document.body.appendChild(i),n='<html><head></head><body class="'+("ios"===(n=y())||"ipad"===n?"branch-banner-ios":"android"===n?"branch-banner-android":"branch-banner-desktop")+'">'+e+"</body></html>",i.contentWindow.document.open(),i.contentWindow.document.write(n),i.contentWindow.document.close(),Sb(),(n=document.createElement("style")).type="text/css",n.id="branch-css",n.innerHTML=r,(r=i.contentWindow.document).head.appendChild(n),Cb||O)&&((l=r.getElementsByClassName("branch-banner-content")[0])&&(l.style.height=N));"top"===L?i.style.top="-"+N:"bottom"===L&&(i.style.bottom="-"+N);try{var l=r.getElementsByClassName("branch-banner-content")[0],c=window.getComputedStyle(l).getPropertyValue("background-color").split(", ");c[3]&&!parseFloat(c[3])&&(i.style.boxShadow="none")}catch(e){}return i.contentWindow.document.getElementById("branch-mobile-action").innerHTML=o,Ub(i),i}function $b(e,i,t,s,a,l,r){if(!(document.getElementById("branch-banner")||document.getElementById("branch-banner-iframe")||document.getElementById("branch-banner-container"))){Q=r;var c=null,u=null;(t=t||{}).feature="journeys",t=va(t),(r=document.getElementById("branch-iframe-css"))&&r.parentElement.removeChild(r);var d=document.createElement("div");if(d.id="branch-banner",document.body.insertBefore(d,null),qb(d,"branch-banner-is-active"),i.html)Zb(i.html,a);else if(i.url){var h="branch_view_callback__"+Yb++;t=encodeURIComponent(Ba(p(t))),r=i.url+"&callback="+h,ob(e,(r+="&_lan="+(Q.ma||Ga()))+"&data="+t,{},"GET",{},function(e,t){var r=!1;if(!e&&t){var o=l?0:Vb(t),n=window.setTimeout(function(){window[h]=function(){}},5e3);if(window[h]=function(e){window.clearTimeout(n),r||Wb(i,s,u=e,c,o)},null===(c=Zb(t,a)))return void(r=!0);Wb(i,s,u,c,o)}document.body.removeChild(d)},!0)}}}function ac(e,t){var r=t.b.get("hideBanner"+e.id,!0);return!0===r||r>Date.now()||(t.b.remove("hideBanner"+e.id,!0),!1)}function bc(e,o,t,r,n){n.m=!!t.branch_view_enabled,n.b.set("branch_view_enabled",n.m);var i=null,s=null,a=null,l=null,c=null,u=!1,p=!1,d=!1;r&&(i=r.branch_view_id||null,s=r.no_journeys||null,n.ma=r.user_language||Ga(),Ob=r.disable_entry_animation||!1,R=r.disable_exit_animation||!1,p=r.make_new_link||!1,d=r.open_app||!1),(i=i||ua()||null)&&y()&&(u=!0,l={id:i,ua:-1,url:"https://api.branch.io/v1/branchview/"+e+"/"+i+"?_a=audience_rule_id&_t="+o.D}),!l&&t.hasOwnProperty("branch_view_data")&&(a=ac(l=t.branch_view_data,n)),!l||a||s?J(n,"willNotShowJourney"):(K=l.id,n.renderQueue(function(){var e=p,t=d,r=n.A||{};r.data||(r.data={}),e=e?null:wa(cc(n)),r.data=x(Fa(),r.data),r.data=x(ta(H(n.b)||{}),r.data),r.data=e?x({link_click_id:e},r.data):r.data,c=r=x({open_app:t},r),$b(n.N,l,c,n.b,o.has_app,u,n)}))}var V={androidAppIndexingTagsPresent:!1,iosAppIndexingTagsPresent:!1,androidDetailsComplete:!1,iosDetailsComplete:!1},W={},ic;function dc(e){"android"===e&&V.androidDetailsComplete&&fc(ec("android-app://"+W.androidPackageName+"/"+W.androidURL)),"ios"===e&&V.iosDetailsComplete&&fc(ec("ios-app://"+W.iosAppId+"/"+W.iosURL))}function ec(e){var t={"~channel":"Firebase App Indexing","~feature":"Auto App Indexing",$canonical_url:String(window.location)};if("object"==typeof W.data)for(var r in W.data)W.data.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=W.data[r]);return e+(-1<e.indexOf("?")?"&":"?")+"link_click_id=a-"+btoa(u(t))}function fc(e){var t=document.createElement("link");t.setAttribute("rel","alternate"),t.setAttribute("href",e),document.head.appendChild(t)}function gc(e){"android"===e&&"string"==typeof W.androidPackageName&&"string"==typeof W.androidURL&&(V.androidDetailsComplete=!0,dc("android")),"ios"===e&&"string"==typeof W.iosAppId&&"string"==typeof W.iosURL&&(V.iosDetailsComplete=!0,dc("ios"))}function hc(e){for(var t=document.getElementsByTagName("meta"),r=0;r<t.length;r++){var o=t[r];"ios"===e&&"al:ios:app_store_id"===o.getAttribute("property")&&(W.iosAppId=o.getAttribute("content")),"ios"===e&&"al:ios:url"===o.getAttribute("property")&&(W.iosURL=o.getAttribute("content").replace("://","/")),"android"===e&&"al:android:package"===o.getAttribute("property")&&(W.androidPackageName=o.getAttribute("content")),"android"===e&&"al:android:url"===o.getAttribute("property")&&(W.androidURL=o.getAttribute("content").replace("://","/"))}gc(e)}function X(i,s,a){return function(){var t,o,n=this,e=arguments[arguments.length-1];i&&"function"==typeof e?(t=Array.prototype.slice.call(arguments,0,arguments.length-1)||[],o=e):(o=function(){},t=Array.prototype.slice.call(arguments)),n.X(function(r){function e(e,t){try{if(e&&!i)throw e;1===i?o(e):2===i&&o(e,t)}finally{r()}}if(!a){if(1===n.j)return e(Error(v("Branch SDK initialization pending and a Branch method was called outside of the queue order")),null);if(2===n.j)return e(Error(v("Branch SDK initialization failed, so further methods cannot be called",n.h,n.l)),null);if(0===n.j||!n.j)return e(Error(v("Branch SDK not initialized")),null)}t.unshift(e),s.apply(n,t)})}}function Y(){if(!(this instanceof Y))return ic||(ic=new Y),ic;this.X=ra(),this.b=new E(["session","cookie","pojo"]),this.N=new ib,this.g=[],this.P="web2.25.0",this.h=this.j=0,this.l=null}function cc(e){var t=H(e.b);return(t=t&&t.referring_link)?t:(e=e.b.get("click_id"))?"https://bnc.lt/c/"+e:null}function J(e,t,r){for(var o=0;o<e.g.length;o++)e.g[o].event&&e.g[o].event!==t||e.g[o].listener(t,r)}function jc(e,r,o){o=o||{};try{e.A=t(u(o))}finally{e.A=e.A||{}}r()}Y.prototype.c=function(e,t,r){return this.O&&(t.app_id=this.O),this.i&&(t.branch_key=this.i),(e.a&&e.a.session_id||e.f&&e.f.session_id)&&this.H&&(t.session_id=this.H),(e.a&&e.a.identity_id||e.f&&e.f.identity_id)&&this.v&&(t.identity_id=this.v),(e.a&&e.a.link_click_id||e.f&&e.f.link_click_id)&&this.V&&(t.link_click_id=this.V),(e.a&&e.a.sdk||e.f&&e.f.sdk)&&this.P&&(t.sdk=this.P),(e.a&&e.a.browser_fingerprint_id||e.f&&e.f.browser_fingerprint_id)&&this.D&&(t.browser_fingerprint_id=this.D),pb(this.N,e,t,this.b,function(e,t){r(e,t)})},Y.prototype.init=X(2,function(o,n,i){function r(){var e,t;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),t&&document.addEventListener(t,function(){document[e]||(a(null),"function"==typeof l.C&&l.C())},!1)}function s(e,r){if(r&&(r=function(e){if(e.link_click_id&&(l.V=e.link_click_id.toString()),e.session_id&&(l.H=e.session_id.toString()),e.identity_id&&(l.v=e.identity_id.toString()),e.link&&(l.W=e.link),e.referring_link){var t=e.referring_link;e.referring_link=t?"http"!==t.substring(0,4)?"https://bnc.lt"+t:t:null}return!e.click_id&&e.referring_link&&(e.click_id=wa(e.referring_link)),l.D=e.browser_fingerprint_id,e}(r),gb(l.b,r,p),l.j=3,r.data_parsed=r.data&&0!==r.data.length?t(r.data):{}),e)return l.j=2,l.h||(l.h=1,l.l=e.message),o(e,r&&sa(r));l.c(ab,{event:"pageview",metadata:{url:c,user_agent:navigator.userAgent,language:navigator.language,page_has_microdata:function(){var t=!1;try{t=!!(document.querySelectorAll('*[itemtype^="http://schema.org"]')||[]).length}catch(e){t=!1}return t}(),screen_width:screen.width||-1,screen_height:screen.height||-1,og_data:{$og_title:w("title"),$og_description:w("description"),$og_image_url:w("image"),$og_video:w("video")},hosted_deeplink_data:Fa()},initial_referrer:document.referrer},function(e,t){e||"object"!=typeof t||bc(n,r,t,i,l);try{o(e,r&&sa(r))}catch(e){}finally{l.renderFinalize()}})}function a(r){var e={sdk:"2.25.0",branch_key:l.i},o=H(l.b)||{},t=H(l.b,!0)||{};t.browser_fingerprint_id&&(e._t=t.browser_fingerprint_id),ya()||l.c(Ma,e,function(e,t){e&&(l.h=3,l.l=e.message),t&&(o.browser_fingerprint_id=t)}),l.c($a,{browser_fingerprint_id:o.browser_fingerprint_id},function(e,t){e&&(l.h=4,l.l=e.message),e||!t||o.has_app||(o.has_app=!0,hb(l.b,o),J(l,"didDownloadApp")),r&&r(null,o)})}var l=this;-(l.j=1)<n.indexOf("key_")?l.i=n:l.O=n,i=i&&"function"==typeof i?{}:i;var e=H(l.b),c=i&&i.url||String(window.location),u=(i&&void 0!==i.branch_match_id&&null!==i.branch_match_id?i.branch_match_id:null)||za()||xa(),p=!e||!e.identity_id;if(l.m=!!l.b.get("branch_view_enabled"),e&&e.session_id&&!u)hb(l.b,{data:""}),r(),a(s);else{e={sdk:"2.25.0",branch_key:l.i};var d=H(l.b,!0)||{};d.browser_fingerprint_id&&(e._t=d.browser_fingerprint_id),ya()?l.c(La,{link_identifier:u,browser_fingerprint_id:u||d.browser_fingerprint_id,alternative_browser_fingerprint_id:d.browser_fingerprint_id,options:i,initial_referrer:document.referrer},function(e,t){e&&(l.h=2,l.l=e.message),e||"object"!=typeof t||(l.m=!!t.branch_view_enabled,l.b.set("branch_view_enabled",l.m),u&&(t.click_id=u)),r(),s(e,t)}):l.c(Ma,e,function(e,t){if(e)return l.h=3,l.l=e.message,s(e,null);l.c(La,{link_identifier:u,browser_fingerprint_id:u||t,alternative_browser_fingerprint_id:d.browser_fingerprint_id,options:i,initial_referrer:document.referrer},function(e,t){e&&(l.h=2,l.l=e.message),e||"object"!=typeof t||(l.m=!!t.branch_view_enabled,l.b.set("branch_view_enabled",l.m),u&&(t.click_id=u)),r(),s(e,t)})})}},!0),Y.prototype.renderQueue=X(0,function(e,t){this.Y?t():(this.o=this.o||[],this.o.push(t)),e(null,null)}),Y.prototype.renderFinalize=X(2,function(e){this.o&&0<this.o.length&&(this.o.forEach(function(e){e.call(this)}),delete this.o),this.Y=!0,e(null,null)}),Y.prototype.data=X(2,function(e){var r=sa(H(this.b));r.referring_link=cc(this),r.data_parsed=r.data&&0!==r.data.length?t(r.data):{},e(null,r)}),Y.prototype.first=X(2,function(e){e(null,sa(H(this.b,!0)))}),Y.prototype.setIdentity=X(2,function(o,n){var i=this;this.c(Ta,{identity:n},function(e,r){e&&o(e),r=r||{},i.v=r.identity_id?r.identity_id.toString():null,i.W=r.link,i.S=n,r.referring_data_parsed=r.referring_data?t(r.referring_data):null,hb(i.b,r),o(null,r)})}),Y.prototype.logout=X(1,function(r){var o=this;this.c(Sa,{},function(e,t){e&&r(e),t={data_parsed:null,data:null,referring_link:null,click_id:null,link_click_id:null,identity:null,session_id:(t=t||{}).session_id,identity_id:t.identity_id,link:t.link,device_fingerprint_id:o.ta||null},o.W=t.link,o.H=t.session_id,o.v=t.identity_id,o.S=t.identity,hb(o.b,t),r(null)})}),Y.prototype.track=X(1,function(r,o,e,n){var i=this;e=e||{},n=n||{},i.c(ab,{event:o,metadata:x({url:document.URL,user_agent:navigator.userAgent,language:navigator.language},e),initial_referrer:document.referrer},function(e,t){e||"object"!=typeof t||"pageview"!==o||bc(i.i,H(i.b),t,n,i),"function"==typeof r&&r.apply(this,arguments)})}),Y.prototype.link=X(2,function(r,e){this.c(Ya,va(e),function(e,t){r(e,t&&t.url)})}),Y.prototype.sendSMS=X(1,function(o,t,e,r){function n(e){i.c(Oa,{link_url:e,phone:t},function(e){o(e||null)})}var i=this;"function"==typeof r?r={}:null==r&&(r={}),r.make_new_link=r.make_new_link||!1,e.channel&&"app banner"!==e.channel||(e.channel="sms");var s=cc(i);s&&!r.make_new_link?n(s.substring(s.lastIndexOf("/")+1,s.length)):i.c(Ya,va(e),function(e,t){if(e)return o(e);var r=t.url;/(bnc.lt\/|app\.link\/)/.test(r)||(r="https://bnc.lt/"+Da(r)),i.c(Na,{link_url:r,click:"click"},function(e,t){if(e)return o(e);n(t.click_id)})})}),Y.prototype.deepview=X(1,function(r,e,t){var o=this;t||(t={}),t.deepview_type=void 0===t.deepview_type?"deepview":"banner",e.data=x(Fa(),e.data);var n,i="https://bnc.lt/a/"+o.i,s=!0;for(n in e)e.hasOwnProperty(n)&&"data"!==n&&(s?(i+="?",s=!1):i+="&",i+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));e=va(e),(t.open_app||null===t.open_app||void 0===t.open_app)&&(e.open_app=!0),e.append_deeplink_path=!!t.append_deeplink_path,e.deepview_type=t.deepview_type,(s=cc(o))&&!t.make_new_link&&(e.link_click_id=s.substring(s.lastIndexOf("/")+1,s.length)),e.banner_options=t,o.C=ja(this.c,o,Za,e,function(e,t){if(e)return o.B=function(){window.location=i},r(e);"function"==typeof t&&(o.B=t),r(null)}),o.C()}),Y.prototype.deepviewCta=X(1,function(e){if(void 0===this.B)throw Error("Cannot call Deepview CTA, please call branch.deepview() first.");window.event&&(window.event.preventDefault?window.event.preventDefault():window.event.returnValue=!1),J(this,"didDeepviewCTA"),this.B(),e()}),Y.prototype.referrals=X(2,function(e){this.c(Ua,{},e)}),Y.prototype.getCode=X(2,function(e,t){t.type="credit",t.creation_source=t.creation_source||2,this.c(Pa,t,e)}),Y.prototype.validateCode=X(1,function(e,t){this.c(Qa,{code:t},e)}),Y.prototype.applyCode=X(1,function(e,t){this.c(Ra,{code:t},e)}),Y.prototype.credits=X(2,function(e){this.c(Wa,{branch_key:this.i,identity:this.S},e)}),Y.prototype.creditHistory=X(2,function(e,t){this.c(Va,t||{},e)}),Y.prototype.redeem=X(1,function(t,e,r){this.c(Xa,{amount:e,bucket:r},function(e){t(e||null)})}),Y.prototype.addListener=function(e,t){"function"==typeof e&&void 0===t&&(t=e),t&&this.g.push({listener:t,event:e||null})},Y.prototype.removeListener=function(t){t&&(this.g=this.g.filter(function(e){if(e.listener!==t)return e}))},Y.prototype.setBranchViewData=X(1,function(e,t){jc.call(null,this,e,t)}),Y.prototype.closeJourney=X(1,function(e){var t=this;t.renderQueue(function(){if(!Mb||!Nb)return e("Journey already dismissed.");J(t,"didCallJourneyClose",{banner_id:K}),Xb(Mb)}),e()}),Y.prototype.banner=X(1,function(e,t,r){r=r||{},jc.call(null,this,function(){},r),void 0===t.showAgain&&void 0!==t.forgetHide&&(t.showAgain=t.forgetHide);var o={icon:A(t.icon)||"",title:A(t.title)||"",description:A(t.description)||"",G:"number"==typeof t.reviewCount&&0<t.reviewCount?Math.floor(t.reviewCount):null,u:"number"==typeof t.rating&&t.rating<=5&&0<t.rating?Math.round(2*t.rating)/2:null,fa:A(t.openAppButtonText)||"View in app",ca:A(t.downloadAppButtonText)||"Download App",ja:A(t.sendLinkText)||"Send Link",ha:A(t.phonePreviewText)||"(999) 999-9999",w:void 0===t.iframe||t.iframe,M:void 0===t.showiOS||t.showiOS,la:void 0===t.showiPad||t.showiPad,I:void 0===t.showAndroid||t.showAndroid,J:void 0===t.showBlackberry||t.showBlackberry,L:void 0===t.showWindowsPhone||t.showWindowsPhone,K:void 0===t.showKindle||t.showKindle,ka:void 0===t.showDesktop||t.showDesktop,ba:!!t.disableHide,F:"number"==typeof t.forgetHide?t.forgetHide:!!t.forgetHide,ia:void 0!==t.respectDNT&&t.respectDNT,position:t.position||"top",$:t.customCSS||"",ea:void 0!==t.mobileSticky&&t.mobileSticky,aa:void 0===t.desktopSticky||t.desktopSticky,pa:t.buttonBorderColor||"",na:t.buttonBackgroundColor||"",ra:t.buttonFontColor||"",qa:t.buttonBorderColorHover||"",oa:t.buttonBackgroundColorHover||"",sa:t.buttonFontColorHover||"",da:!!t.make_new_link,ga:!!t.open_app,T:!!t.immediate,Z:!!t.append_deeplink_path};void 0!==t.showMobile&&(o.M=t.showMobile,o.I=t.showMobile,o.J=t.showMobile,o.L=t.showMobile,o.K=t.showMobile),r.data=x(Fa(),r.data);var n=this;n.renderQueue(function(){n.R=Bb(n,o,r,n.b)}),e()}),Y.prototype.closeBanner=X(0,function(e){var t=this;t.renderQueue(function(){t.R&&(J(t,"willCloseBanner"),t.R(function(){J(t,"didCloseBanner")}))}),e()}),Y.prototype.autoAppIndex=X(1,function(e,t){t=t||{};var r=document.getElementsByTagName("link"),o=r.length;if(o)for(var n=0;n<o;n++){var i=r[n],s=i.href;s&&(s.includes("ios-app")&&(V.iosAppIndexingTagsPresent=!0,i.setAttribute("href",ec(s))),s.includes("android-app")&&(V.androidAppIndexingTagsPresent=!0,i.setAttribute("href",ec(s))))}W=t,V.androidAppIndexingTagsPresent||(gc("android"),V.androidDetailsComplete||hc("android")),V.iosAppIndexingTagsPresent||(gc("ios"),V.iosDetailsComplete||hc("ios")),V.iosDetailsComplete||V.androidDetailsComplete?e(null):e("Firebase App Indexing tags were not added to your webpage. Please check your configuration.")}),Y.prototype.trackCommerceEvent=X(1,function(t,r,o,n){var i=this;i.renderQueue(function(){var e=Ka(r,o);if(e)return t(Error(e));i.c(bb,{event:r,metadata:x({url:document.URL,user_agent:navigator.userAgent,language:navigator.language},n||{}),initial_referrer:document.referrer,commerce_data:o},function(e){t(e||null)})}),t()});var Z=new Y;if(window.branch&&window.branch._q)for(var kc=window.branch._q,lc=0;lc<kc.length;lc++){var mc=kc[lc];Z[mc[0]].apply(Z,mc[1])}__WEBPACK_AMD_DEFINE_RESULT__=function(){return Z}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),window&&(window.branch=Z)}(),module.exports=window.branch}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/chain-function/index.js":function(e,t){e.exports=function(){for(var e=arguments.length,t=[],r=0;r<e;r++)t[r]=arguments[r];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},"./node_modules/clipboard/dist/clipboard.js":function(e,t,r){
/*!
 * clipboard.js v2.0.1
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
var o;o=function(){return function(r){var o={};function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=r,n.c=o,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,r){var o,n,i;n=[e,r(7)],void 0===(i="function"==typeof(o=function(e,t){"use strict";var r,o=(r=t)&&r.__esModule?r:{default:r},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}(),s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return i(t,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":n(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),t}();e.exports=s})?o.apply(t,n):o)||(e.exports=i)},function(e,t,r){var d=r(6),h=r(5);e.exports=function(e,t,r){if(!e&&!t&&!r)throw new Error("Missing required arguments");if(!d.string(t))throw new TypeError("Second argument must be a String");if(!d.fn(r))throw new TypeError("Third argument must be a Function");if(d.node(e))return u=t,p=r,(c=e).addEventListener(u,p),{destroy:function(){c.removeEventListener(u,p)}};if(d.nodeList(e))return s=e,a=t,l=r,Array.prototype.forEach.call(s,function(e){e.addEventListener(a,l)}),{destroy:function(){Array.prototype.forEach.call(s,function(e){e.removeEventListener(a,l)})}};if(d.string(e))return o=e,n=t,i=r,h(document.body,o,n,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,n,i,s,a,l,c,u,p}},function(e,t){function r(){}r.prototype={on:function(e,t,r){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var o=this;function n(){o.off(e,n),t.apply(r,arguments)}return n._=t,this.on(e,n,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),o=0,n=r.length;o<n;o++)r[o].fn.apply(r[o].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),o=r[e],n=[];if(o&&t)for(var i=0,s=o.length;i<s;i++)o[i].fn!==t&&o[i].fn._!==t&&n.push(o[i]);return n.length?r[e]=n:delete r[e],this}},e.exports=r},function(e,t,r){var o,n,i;n=[e,r(0),r(2),r(1)],void 0===(i="function"==typeof(o=function(e,t,r,o){"use strict";var n=a(t),i=a(r),s=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}(),u=function(e){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return r.resolveOptions(t),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),c(o,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new n.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return p("action",e)}},{key:"defaultTarget",value:function(e){var t=p("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return p("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,r=!!document.queryCommandSupported;return t.forEach(function(e){r=r&&!!document.queryCommandSupported(e)}),r}}]),o}(i.default);function p(e,t){var r="data-clipboard-"+e;if(t.hasAttribute(r))return t.getAttribute(r)}e.exports=u})?o.apply(t,n):o)||(e.exports=i)},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,r){var s=r(4);function i(e,t,r,o,n){var i=function(t,r,e,o){return function(e){e.delegateTarget=s(e.target,r),e.delegateTarget&&o.call(t,e)}}.apply(this,arguments);return e.addEventListener(r,i,n),{destroy:function(){e.removeEventListener(r,i,n)}}}e.exports=function(e,t,r,o,n){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof r?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return i(e,t,r,o,n)}))}},function(e,r){r.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},r.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||r.node(e[0]))},r.string=function(e){return"string"==typeof e||e instanceof String},r.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var r=e.hasAttribute("readonly");r||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),r||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),n=document.createRange();n.selectNodeContents(e),o.removeAllRanges(),o.addRange(n),t=o.toString()}return t}}])},e.exports=o()},"./node_modules/exenv/index.js":function(r,o,n){var i;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var e=!("undefined"==typeof window||!window.document||!window.document.createElement),t={canUseDOM:e,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen};void 0===(i=function(){return t}.call(o,n,o,r))||(r.exports=i)}()},"./node_modules/fbjs/lib/emptyObject.js":function(e,t,r){"use strict";e.exports={}},"./node_modules/for-each/index.js":function(e,t,r){var o=r("./node_modules/is-function/index.js");e.exports=function(e,t,r){if(!o(t))throw new TypeError("iterator must be a function");arguments.length<3&&(r=this);"[object Array]"===n.call(e)?function(e,t,r){for(var o=0,n=e.length;o<n;o++)i.call(e,o)&&t.call(r,e[o],o,e)}(e,t,r):"string"==typeof e?function(e,t,r){for(var o=0,n=e.length;o<n;o++)t.call(r,e.charAt(o),o,e)}(e,t,r):function(e,t,r){for(var o in e)i.call(e,o)&&t.call(r,e[o],o,e)}(e,t,r)};var n=Object.prototype.toString,i=Object.prototype.hasOwnProperty},"./node_modules/global/document.js":function(n,e,i){(function(e){var t,r=void 0!==e?e:"undefined"!=typeof window?window:{},o=i(18);"undefined"!=typeof document?t=document:(t=r["__GLOBAL_DOCUMENT_CACHE@4"])||(t=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),n.exports=t}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./node_modules/global/window.js":function(r,e,t){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},r.exports=t}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./node_modules/is-function/index.js":function(e,t){e.exports=function(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var r=Object.prototype.toString},"./node_modules/javascript-state-machine/state-machine.js":function(e,t,r){var d;d={VERSION:"2.4.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(e,t){var r="string"==typeof e.initial?{state:e.initial}:e.initial,o=e.terminal||e.final,n=t||e.target||{},i=e.events||[],s=e.callbacks||{},a={},l={},c=function(e){var t=Array.isArray(e.from)?e.from:e.from?[e.from]:[d.WILDCARD];a[e.name]=a[e.name]||{};for(var r=0;r<t.length;r++)l[t[r]]=l[t[r]]||[],l[t[r]].push(e.name),a[e.name][t[r]]=e.to||t[r];e.to&&(l[e.to]=l[e.to]||[])};r&&(r.event=r.event||"startup",c({name:r.event,from:"none",to:r.state}));for(var u=0;u<i.length;u++)c(i[u]);for(var p in a)a.hasOwnProperty(p)&&(n[p]=d.buildEvent(p,a[p]));for(var p in s)s.hasOwnProperty(p)&&(n[p]=s[p]);return n.current="none",n.is=function(e){return Array.isArray(e)?0<=e.indexOf(this.current):this.current===e},n.can=function(e){return!this.transition&&void 0!==a[e]&&(a[e].hasOwnProperty(this.current)||a[e].hasOwnProperty(d.WILDCARD))},n.cannot=function(e){return!this.can(e)},n.transitions=function(){return(l[this.current]||[]).concat(l[d.WILDCARD]||[])},n.isFinished=function(){return this.is(o)},n.error=e.error||function(e,t,r,o,n,i,s){throw s||i},n.states=function(){return Object.keys(l).sort()},r&&!r.defer&&n[r.event](),n},doCallback:function(t,e,r,o,n,i){if(e)try{return e.apply(t,[r,o,n].concat(i))}catch(e){return t.error(r,o,n,i,d.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",e)}},beforeAnyEvent:function(e,t,r,o,n){return d.doCallback(e,e.onbeforeevent,t,r,o,n)},afterAnyEvent:function(e,t,r,o,n){return d.doCallback(e,e.onafterevent||e.onevent,t,r,o,n)},leaveAnyState:function(e,t,r,o,n){return d.doCallback(e,e.onleavestate,t,r,o,n)},enterAnyState:function(e,t,r,o,n){return d.doCallback(e,e.onenterstate||e.onstate,t,r,o,n)},changeState:function(e,t,r,o,n){return d.doCallback(e,e.onchangestate,t,r,o,n)},beforeThisEvent:function(e,t,r,o,n){return d.doCallback(e,e["onbefore"+t],t,r,o,n)},afterThisEvent:function(e,t,r,o,n){return d.doCallback(e,e["onafter"+t]||e["on"+t],t,r,o,n)},leaveThisState:function(e,t,r,o,n){return d.doCallback(e,e["onleave"+r],t,r,o,n)},enterThisState:function(e,t,r,o,n){return d.doCallback(e,e["onenter"+o]||e["on"+o],t,r,o,n)},beforeEvent:function(e,t,r,o,n){if(!1===d.beforeThisEvent(e,t,r,o,n)||!1===d.beforeAnyEvent(e,t,r,o,n))return!1},afterEvent:function(e,t,r,o,n){d.afterThisEvent(e,t,r,o,n),d.afterAnyEvent(e,t,r,o,n)},leaveState:function(e,t,r,o,n){var i=d.leaveThisState(e,t,r,o,n),s=d.leaveAnyState(e,t,r,o,n);return!1!==i&&!1!==s&&(d.ASYNC===i||d.ASYNC===s?d.ASYNC:void 0)},enterState:function(e,t,r,o,n){d.enterThisState(e,t,r,o,n),d.enterAnyState(e,t,r,o,n)},buildEvent:function(i,s){return function(){var e=this.current,t=s[e]||(s[d.WILDCARD]!=d.WILDCARD?s[d.WILDCARD]:e)||e,r=Array.prototype.slice.call(arguments);if(this.transition)return this.error(i,e,t,r,d.Error.PENDING_TRANSITION,"event "+i+" inappropriate because previous transition did not complete");if(this.cannot(i))return this.error(i,e,t,r,d.Error.INVALID_TRANSITION,"event "+i+" inappropriate in current state "+this.current);if(!1===d.beforeEvent(this,i,e,t,r))return d.Result.CANCELLED;if(e===t)return d.afterEvent(this,i,e,t,r),d.Result.NOTRANSITION;var o=this;this.transition=function(){return o.transition=null,o.current=t,d.enterState(o,i,e,t,r),d.changeState(o,i,e,t,r),d.afterEvent(o,i,e,t,r),d.Result.SUCCEEDED},this.transition.cancel=function(){o.transition=null,d.afterEvent(o,i,e,t,r)};var n=d.leaveState(this,i,e,t,r);return!1===n?(this.transition=null,d.Result.CANCELLED):d.ASYNC===n?d.Result.PENDING:this.transition?this.transition():void 0}}},e.exports&&(t=e.exports=d),t.StateMachine=d},"./node_modules/lodash-es/_baseMap.js":function(e,t,r){"use strict";var s=r("./node_modules/lodash-es/_baseEach.js"),a=r("./node_modules/lodash-es/isArrayLike.js");t.a=function(e,o){var n=-1,i=Object(a.a)(e)?Array(e.length):[];return Object(s.a)(e,function(e,t,r){i[++n]=o(e,t,r)}),i}},"./node_modules/lodash-es/_baseOrderBy.js":function(e,t,r){"use strict";var i=r("./node_modules/lodash-es/_arrayMap.js"),s=r("./node_modules/lodash-es/_baseIteratee.js"),a=r("./node_modules/lodash-es/_baseMap.js");var l=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e},c=r("./node_modules/lodash-es/_baseUnary.js"),u=r("./node_modules/lodash-es/isSymbol.js");var p=function(e,t){if(e!==t){var r=void 0!==e,o=null===e,n=e==e,i=Object(u.a)(e),s=void 0!==t,a=null===t,l=t==t,c=Object(u.a)(t);if(!a&&!c&&!i&&t<e||i&&s&&l&&!a&&!c||o&&s&&l||!r&&l||!n)return 1;if(!o&&!i&&!c&&e<t||c&&r&&n&&!o&&!i||a&&r&&n||!s&&n||!l)return-1}return 0};var d=function(e,t,r){for(var o=-1,n=e.criteria,i=t.criteria,s=n.length,a=r.length;++o<s;){var l=p(n[o],i[o]);if(l)return a<=o?l:l*("desc"==r[o]?-1:1)}return e.index-t.index},h=r("./node_modules/lodash-es/identity.js");t.a=function(e,o,r){var n=-1;o=Object(i.a)(o.length?o:[h.a],Object(c.a)(s.a));var t=Object(a.a)(e,function(t,e,r){return{criteria:Object(i.a)(o,function(e){return e(t)}),index:++n,value:t}});return l(t,function(e,t){return d(e,t,r)})}},"./node_modules/lodash-es/_castFunction.js":function(e,t,r){"use strict";var o=r("./node_modules/lodash-es/identity.js");t.a=function(e){return"function"==typeof e?e:o.a}},"./node_modules/lodash-es/groupBy.js":function(e,t,r){"use strict";var o=r("./node_modules/lodash-es/_baseAssignValue.js"),n=r("./node_modules/lodash-es/_createAggregator.js"),i=Object.prototype.hasOwnProperty,s=Object(n.a)(function(e,t,r){i.call(e,r)?e[r].push(t):Object(o.a)(e,r,[t])});t.a=s},"./node_modules/lodash-es/omit.js":function(e,t,r){"use strict";var i=r("./node_modules/lodash-es/_arrayMap.js"),s=r("./node_modules/lodash-es/_baseClone.js"),a=r("./node_modules/lodash-es/_castPath.js");var o=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},n=r("./node_modules/lodash-es/_baseGet.js"),l=r("./node_modules/lodash-es/_baseSlice.js");var c=function(e,t){return t.length<2?e:Object(n.a)(e,Object(l.a)(t,0,-1))},u=r("./node_modules/lodash-es/_toKey.js");var p=function(e,t){return t=Object(a.a)(t,e),null==(e=c(e,t))||delete e[Object(u.a)(o(t))]},d=r("./node_modules/lodash-es/_copyObject.js"),h=r("./node_modules/lodash-es/isPlainObject.js");var m=function(e){return Object(h.a)(e)?void 0:e},b=r("./node_modules/lodash-es/_flatRest.js"),y=r("./node_modules/lodash-es/_getAllKeysIn.js"),f=Object(b.a)(function(t,e){var r={};if(null==t)return r;var o=!1;e=Object(i.a)(e,function(e){return e=Object(a.a)(e,t),o||(o=1<e.length),e}),Object(d.a)(t,Object(y.a)(t),r),o&&(r=Object(s.a)(r,7,m));for(var n=e.length;n--;)p(r,e[n]);return r});t.a=f},"./node_modules/lodash-es/orderBy.js":function(e,t,r){"use strict";var n=r("./node_modules/lodash-es/_baseOrderBy.js"),i=r("./node_modules/lodash-es/isArray.js");t.a=function(e,t,r,o){return null==e?[]:(Object(i.a)(t)||(t=null==t?[]:[t]),r=o?void 0:r,Object(i.a)(r)||(r=null==r?[]:[r]),Object(n.a)(e,t,r))}},"./node_modules/lodash-es/throttle.js":function(e,t,r){"use strict";var i=r("./node_modules/lodash-es/debounce.js"),s=r("./node_modules/lodash-es/isObject.js");t.a=function(e,t,r){var o=!0,n=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Object(s.a)(r)&&(o="leading"in r?!!r.leading:o,n="trailing"in r?!!r.trailing:n),Object(i.a)(e,t,{leading:o,maxWait:t,trailing:n})}},"./node_modules/lodash-es/times.js":function(e,t,r){"use strict";var i=r("./node_modules/lodash-es/_baseTimes.js"),s=r("./node_modules/lodash-es/_castFunction.js"),a=r("./node_modules/lodash-es/toInteger.js"),l=4294967295,c=Math.min;t.a=function(e,t){if((e=Object(a.a)(e))<1||9007199254740991<e)return[];var r=l,o=c(e,l);t=Object(s.a)(t),e-=l;for(var n=Object(i.a)(o,t);++r<e;)t(r);return n}},"./node_modules/lodash-es/unescape.js":function(e,t,r){"use strict";var o=r("./node_modules/lodash-es/toString.js"),n=r("./node_modules/lodash-es/_basePropertyOf.js"),i=Object(n.a)({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),s=/&(?:amp|lt|gt|quot|#39);/g,a=RegExp(s.source);t.a=function(e){return(e=Object(o.a)(e))&&a.test(e)?e.replace(s,i):e}},"./node_modules/loop-protect/lib/loop-protect.js":function(r,o,n){var i;/*! Loop protect | (c) 2014 JS Bin | jsbin.mit-license.org */"undefined"==typeof DEBUG&&(DEBUG=!0),function(e,t){"use strict";void 0===(i=function(){return function(r){var E=null,D=/\b(for|while|do)\b/g,x=/\b(for|while|do)\b/,O=/\b(?!default:)([a-z_]{1}\w+:)/i,T=/(?:\/\*(?:[\s\S]*?)\*\/)|(?:([\s;])+\/\/(?:.*)$)/gm,o=function(e,f){var g=[],v=e.split("\n"),w=!1,k=o.alias+".protect",C={},_={},S=null;function j(e,t,r){return t.slice(0,r)+"{;"+k+"({ line: "+e+", reset: true }); "+t.slice(r)}f||(f=0);return v.forEach(function(e,t){if(D.lastIndex=0,O.lastIndex=0,!w){-1!==e.toLowerCase().indexOf("noprotect")&&(w=!0);var r=-1,o=-1,n=t,i=t-f+1,s="",a=!1,l=!1,c=!1,u=e.match(D)||[],p=u.length?u[0]:"",d=e.match(O)||[],h=0,m=0,b=!1;if(d.length&&(DEBUG&&E("- label match"),H(r=e.indexOf(d[1]),e)?DEBUG&&E("- ignored label in string or comment"):P(t,v)?DEBUG&&E("- ignored label in multline comment"):function(e,t,r){x.lastIndex=0,O.lastIndex=0;var n=!1,i=r.slice(t).join("\n").substr(e).replace(O,"");return i.replace(x,function(e,t,r){var o=i.substr(0,r).replace(T,"").trim();DEBUG&&E("- directlyBeforeLoop: "+o),0===o.length&&(n=!0)}),n}(r,t,v)?(DEBUG&&E('- found a label: "'+d[0]+'"'),S=t):DEBUG&&E('- ignored "label", false positive')),C[t])DEBUG&&E(" -exit: ignoring line "+t+": "+e);else{if(_[t])return DEBUG&&E("- exit: ignoring, but adding line "+t+": "+e),void g.push(e);if(p&&1===u.length&&-1===e.indexOf("jsbin")){if(DEBUG&&E("match on "+p+"\n"),a="do"===p,o=r=e.indexOf(p),H(r,e))return void g.push(e);if(P(t,v))return void g.push(e);for((r=e.indexOf(p)+p.length)===e.length&&r===e.length&&t<v.length-1&&(DEBUG&&E("- moving to next line"),g.push(e),e=v[++t],C[t]=!0,r=0);r<e.length;){if("("===(s=e.substr(r,1))&&h++,")"===s&&0==--h&&!1===c&&(c=r),"{"===s&&m++,"}"===s&&m--,0===h&&(";"===s||"{"===s)){if(";"===s)t!==n?(DEBUG&&E("- multiline inline loop"),g[n]=g[n].substring(0,c+1)+"{\nif ("+k+"({ line: "+i+" })) break;\n"+g[n].substring(c+1),e+="\n}}\n"):(DEBUG&&E("- single line inline loop"),e=e.substring(0,c+1)+"{\nif ("+k+"({ line: "+i+" })) break;\n"+e.substring(c+1)+"\n}}\n"),b=!0;else if("{"===s){DEBUG&&E("- multiline with braces");var y=";\nif ("+k+"({ line: "+i+" })) break;\n";e=e.substring(0,r+1)+y+e.substring(r+1),r+=y.length}if(t===n&&null===S?(DEBUG&&E("- simple reset insert"),e=j(i,e,o),r+=(";"+k+"({ line: "+t+", reset: true }); ").length):null===S?(DEBUG&&E("- reset inserted above original line"),g[n]=j(i,g[n],o)):(DEBUG&&E("- reset inserted above matched label on line "+S),void 0===g[S]&&(S--,o=0),g[S]=j(i,g[S],o),S=null),a){for(DEBUG&&E("searching for closing `while` statement for: "+e),l=!1;r<e.length;){if("{"===(s=e.substr(r,1))&&m++,"}"===s&&m--,(l=0===m)&&DEBUG&&E("outside of closure, looking for `while` statement: "+e),l&&-1!==e.indexOf("while"))return DEBUG&&E("- exit as we found `while`: "+e),e+="}",g.push(e),void(C[t]=!0);++r===e.length&&t<v.length-1&&(g.push(e),C[t]=!0,e=v[++t],DEBUG&&E(e),r=0)}return}if(b)return void g.push(e);for(DEBUG&&E("searching for closing brace of loop for: "+e);null!==e;){if(s=e.substr(r,1),DEBUG&&E(r,s,m),"{"===s&&m++,"}"===s&&0==--m)return DEBUG&&E("outside of loop, add a close brace to: "+e),e=e.substring(0,r+1)+"}"+e.substring(r+1),g.push(e),void(C[t]=!0);++r>=e.length&&(g.push(e),C[t]=!0,e=v[++t],DEBUG&&E(e),r=0)}return}++r===e.length&&t<v.length-1&&(DEBUG&&E("- moving to next line"),g.push(e),e=v[++t],C[t]=!0,r=0)}}else DEBUG&&E("regular line "+e),g.push(e)}}}),DEBUG&&E("---- source ----"),DEBUG&&E(e),DEBUG&&E("---- rewrite ---"),DEBUG&&E(g.join("\n")),DEBUG&&E(""),w?e:g.join("\n")};function P(e,t){if(0===e)return!1;var r=e,o=1,n=-1,i=-1;do{if(DEBUG&&E("looking backwards "+t[r]),n=t[r].indexOf("*/"),i=t[r].indexOf("/*"),-1!==n&&o++,n===t[r].length-2&&-1!==i&&o--,-1!==i&&0===--o)return DEBUG&&E("- exit: part of a multiline comment"),!0;r-=1}while(0!==r);return!1}function H(e,t){for(var r;-1<--e;){if('"'===(r=t.substr(e,1))||"'"===r||"."===r)return DEBUG&&E("- exit: matched inside a string or property key"),!0;if(("/"===r||"*"===r)&&(--e,"/"===r))return DEBUG&&E("- exit: part of a comment"),!0}return!1}return o.counters={},o.debug=function(e){E=e?function(){console.log.apply(console,[].slice.apply(arguments))}:function(){}},o.debug(!1),o.alias="loopProtect",o.protect=function(e){o.counters[e.line]=o.counters[e.line]||{};var t=o.counters[e.line],r=(new Date).getTime();return e.reset&&(t.time=r,t.hit=0,t.last=0),t.hit++,100<r-t.time?(o.hit(e.line),!0):(t.last++,!1)},o.hit=function(e){var t="Exiting potential infinite loop at line "+e+'. To disable loop protection: add "// noprotect" to your code';r.proxyConsole?r.proxyConsole.error(t):console.error(t)},o.reset=function(){o.counters={}},o}(e)}.call(o,n,o,r))||(r.exports=i)}(this)},"./node_modules/m3u8-parser/es5/index.js":function(e,t,r){"use strict";var o=s(r("./node_modules/m3u8-parser/es5/line-stream.js")),n=s(r("./node_modules/m3u8-parser/es5/parse-stream.js")),i=s(r("./node_modules/m3u8-parser/es5/parser.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={LineStream:o.default,ParseStream:n.default,Parser:i.default}},"./node_modules/m3u8-parser/es5/line-stream.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}(),i=r("./node_modules/m3u8-parser/es5/stream.js"),s=(o=i)&&o.__esModule?o:{default:o};var a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.buffer="",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),n(t,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}();t.default=a},"./node_modules/m3u8-parser/es5/parse-stream.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(n)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}(),i=r("./node_modules/m3u8-parser/es5/stream.js"),s=(o=i)&&o.__esModule?o:{default:o};var p=function(e){for(var t=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},o=t.length,n=void 0;o--;)""!==t[o]&&((n=/([^=]*)=(.*)/.exec(t[o]).slice(1))[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),r[n[0]]=n[1]);return r},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),n(t,[{key:"push",value:function(e){var t=void 0,r=void 0;if(0!==(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===e[0])if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return r={type:"tag",tagType:"inf"},t[1]&&(r.duration=parseFloat(t[1])),t[2]&&(r.title=t[2]),void this.trigger("data",r);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"targetduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"totalduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"version"},t[1]&&(r.version=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"media-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.trigger("data",r);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return r={type:"tag",tagType:"playlist-type"},t[1]&&(r.playlistType=t[1]),void this.trigger("data",r);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return r={type:"tag",tagType:"byterange"},t[1]&&(r.length=parseInt(t[1],10)),t[2]&&(r.offset=parseInt(t[2],10)),void this.trigger("data",r);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return r={type:"tag",tagType:"allow-cache"},t[1]&&(r.allowed=!/NO/.test(t[1])),void this.trigger("data",r);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(r={type:"tag",tagType:"map"},t[1]){var o=p(t[1]);if(o.URI&&(r.uri=o.URI),o.BYTERANGE){var n=o.BYTERANGE.split("@"),i=u(n,2),s=i[0],a=i[1];r.byterange={},s&&(r.byterange.length=parseInt(s,10)),a&&(r.byterange.offset=parseInt(a,10))}}this.trigger("data",r)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(r={type:"tag",tagType:"stream-inf"},t[1]){if(r.attributes=p(t[1]),r.attributes.RESOLUTION){var l=r.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),r.attributes.RESOLUTION=c}r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))}this.trigger("data",r)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return r={type:"tag",tagType:"media"},t[1]&&(r.attributes=p(t[1])),void this.trigger("data",r);if(t=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return r={type:"tag",tagType:"program-date-time"},t[1]&&(r.dateTimeString=t[1],r.dateTimeObject=new Date(t[1])),void this.trigger("data",r);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return r={type:"tag",tagType:"key"},t[1]&&(r.attributes=p(t[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2).toLowerCase()&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void this.trigger("data",r);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-out-cont"},t[1]?r.data=t[1]:r.data="",void this.trigger("data",r);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-out"},t[1]?r.data=t[1]:r.data="",void this.trigger("data",r);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return r={type:"tag",tagType:"cue-in"},t[1]?r.data=t[1]:r.data="",void this.trigger("data",r);this.trigger("data",{type:"tag",data:e.slice(4)})}}}else this.trigger("data",{type:"comment",text:e.slice(1)});else this.trigger("data",{type:"uri",uri:e})}}]),t}();t.default=a},"./node_modules/m3u8-parser/es5/parser.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},o=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}(),n=i(r("./node_modules/m3u8-parser/es5/stream.js")),d=i(r("./node_modules/m3u8-parser/es5/line-stream.js")),h=i(r("./node_modules/m3u8-parser/es5/parse-stream.js"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lineStream=new d.default,e.parseStream=new h.default,e.lineStream.pipe(e.parseStream);var n=e,i=[],s={},a=void 0,l=void 0,c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(t){var r=void 0,o=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&((s.byterange=e).length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&((s.byterange=e).offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<t.duration&&(s.duration=t.duration),0===t.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key:function(){t.attributes?"NONE"!==t.attributes.METHOD?t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(l.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):l=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,u=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){a={},t.uri&&(a.uri=t.uri),t.byterange&&(a.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||c,t.attributes?(s.attributes||(s.attributes={}),p(s.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var e=this.manifest.mediaGroups[t.attributes.TYPE];e[t.attributes["GROUP-ID"]]=e[t.attributes["GROUP-ID"]]||{},r=e[t.attributes["GROUP-ID"]],(o={default:/yes/i.test(t.attributes.DEFAULT)}).default?o.autoselect=!0:o.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(o.language=t.attributes.LANGUAGE),t.attributes.URI&&(o.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(o.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(o.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(o.forced=/yes/i.test(t.attributes.FORCED)),r[t.attributes.NAME]=o}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){u+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function(){this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},"cue-out":function(){s.cueOut=t.data},"cue-out-cont":function(){s.cueOutCont=t.data},"cue-in":function(){s.cueIn=t.data}}[t.tagType]||function(){}).call(n)},uri:function(){s.uri=t.uri,i.push(s),!this.manifest.targetDuration||"duration"in s||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),l&&(s.key=l),s.timeline=u,a&&(s.map=a),s={}},comment:function(){}})[t.type].call(n)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["default"]),o(t,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),t}();t.default=s},"./node_modules/m3u8-parser/es5/stream.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}();var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={}}return o(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e].indexOf(t);return this.listeners[e].splice(r,1),-1<r}},{key:"trigger",value:function(e){var t=this.listeners[e],r=void 0,o=void 0,n=void 0;if(t)if(2===arguments.length)for(o=t.length,r=0;r<o;++r)t[r].call(this,arguments[1]);else for(n=Array.prototype.slice.call(arguments,1),o=t.length,r=0;r<o;++r)t[r].apply(this,n)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),e}();t.default=n},"./node_modules/mailcheck/src/mailcheck.js":function(o,n,e){(function(e,t){var r,i={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["com","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","in","net","net.au","info","biz","mil","co.jp","sg","hu"],run:function(e){e.domains=e.domains||i.defaultDomains,e.secondLevelDomains=e.secondLevelDomains||i.defaultSecondLevelDomains,e.topLevelDomains=e.topLevelDomains||i.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||i.sift3Distance;var t=function(e){return e},r=e.suggested||t,o=e.empty||t,n=i.suggest(i.encodeEmail(e.email),e.domains,e.secondLevelDomains,e.topLevelDomains,e.distanceFunction);return n?r(n):o()},suggest:function(e,t,r,o,n){e=e.toLowerCase();var i=this.splitEmail(e);if(r&&o&&-1!==r.indexOf(i.secondLevelDomain)&&-1!==o.indexOf(i.topLevelDomain))return!1;if(l=this.findClosestDomain(i.domain,t,n,this.domainThreshold))return l!=i.domain&&{address:i.address,domain:l,full:i.address+"@"+l};var s=this.findClosestDomain(i.secondLevelDomain,r,n,this.secondLevelThreshold),a=this.findClosestDomain(i.topLevelDomain,o,n,this.topLevelThreshold);if(i.domain){var l=i.domain,c=!1;if(s&&s!=i.secondLevelDomain&&(l=l.replace(i.secondLevelDomain,s),c=!0),a&&a!=i.topLevelDomain&&(l=l.replace(i.topLevelDomain,a),c=!0),1==c)return{address:i.address,domain:l,full:i.address+"@"+l}}return!1},findClosestDomain:function(e,t,r,o){var n;o=o||this.topLevelThreshold;var i=99,s=null;if(!e||!t)return!1;r||(r=this.sift3Distance);for(var a=0;a<t.length;a++){if(e===t[a])return e;(n=r(e,t[a]))<i&&(i=n,s=t[a])}return i<=o&&null!==s&&s},sift3Distance:function(e,t){if(null==e||0===e.length)return null==t||0===t.length?0:t.length;if(null==t||0===t.length)return e.length;for(var r=0,o=0,n=0,i=0;r+o<e.length&&r+n<t.length;){if(e.charAt(r+o)==t.charAt(r+n))i++;else for(var s=n=o=0;s<5;s++){if(r+s<e.length&&e.charAt(r+s)==t.charAt(r)){o=s;break}if(r+s<t.length&&e.charAt(r)==t.charAt(r+s)){n=s;break}}r++}return(e.length+t.length)/2-i},splitEmail:function(e){var t=e.trim().split("@");if(t.length<2)return!1;for(var r=0;r<t.length;r++)if(""===t[r])return!1;var o=t.pop(),n=o.split("."),i="",s="";if(0==n.length)return!1;if(1==n.length)s=n[0];else{i=n[0];for(r=1;r<n.length;r++)s+=n[r]+".";s=s.substring(0,s.length-1)}return{topLevelDomain:s,secondLevelDomain:i,domain:o,address:t.join("@")}},encodeEmail:function(e){var t=encodeURI(e);return t=t.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};o.exports&&(o.exports=i),void 0===(r=function(){return i}.apply(n,[]))||(o.exports=r),"undefined"!=typeof window&&e&&(t.fn.mailcheck=function(e){var t=this;if(e.suggested){var r=e.suggested;e.suggested=function(e){r(t,e)}}if(e.empty){var o=e.empty;e.empty=function(){o.call(null,t)}}e.email=this.val(),i.run(e)})}).call(this,e("./node_modules/jquery/dist/jquery.js-exposed"),e("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/mersenne-twister/src/mersenne-twister.js":function(e,t){var r=function(e){null==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,e.constructor==Array?this.init_by_array(e,e.length):this.init_seed(e)};r.prototype.init_seed=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},r.prototype.init_by_array=function(e,t){var r,o,n;for(this.init_seed(19650218),r=1,o=0,n=this.N>t?this.N:t;n;n--){var i=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1664525*((4294901760&i)>>>16)<<16)+1664525*(65535&i))+e[o]+o,this.mt[r]>>>=0,o++,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1),t<=o&&(o=0)}for(n=this.N-1;n;n--){i=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1566083941*((4294901760&i)>>>16)<<16)+1566083941*(65535&i))-r,this.mt[r]>>>=0,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1)}this.mt[0]=2147483648},r.prototype.random_int=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var r;for(this.mti==this.N+1&&this.init_seed(5489),r=0;r<this.N-this.M;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+this.M]^e>>>1^t[1&e];for(;r<this.N-1;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},r.prototype.random_int31=function(){return this.random_int()>>>1},r.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},r.prototype.random=function(){return this.random_int()*(1/4294967296)},r.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},r.prototype.random_long=function(){return(67108864*(this.random_int()>>>5)+(this.random_int()>>>6))*(1/9007199254740992)},e.exports=r},"./node_modules/mobx-angularjs/mobx-angularjs.js":function(e,t,r){var o;"undefined"!=typeof self&&self,o=function(r,o){return function(r){var o={};function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=r,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(2).module("mobx-angularjs",[]),i=function(t){var e=t.$$watchers,r=void 0===e?[]:e,o=n.reaction(function(){return r.slice().map(function(e){return e.get(t)})},function(){return!t.$root.$$phase&&t.$digest()});t.$on("$destroy",o)};o.directive("mobxAutorun",function(){return{restrict:"A",scope:!1,link:i}}),t.default=o.name},function(e,t){e.exports=r},function(e,t){e.exports=o}])},e.exports=o(r("./node_modules/mobx/lib/mobx.js"),r("./node_modules/angular/angular.js"))},"./node_modules/mousetrap/mousetrap.js":function(u,p,d){var h;!function(e,o,t){if(e){for(var n,i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},r={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},s=1;s<20;++s)i[111+s]="f"+s;for(s=0;s<=9;++s)i[s+96]=s.toString();C.prototype.bind=function(e,t,r){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,r),this},C.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},C.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},C.prototype.reset=function(){return this._callbacks={},this._directMap={},this},C.prototype.stopCallback=function(e,t){return!(-1<(" "+t.className+" ").indexOf(" mousetrap "))&&(!function e(t,r){return null!==t&&t!==o&&(t===r||e(t.parentNode,r))}(t,this.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},C.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},C.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);n=null},C.init=function(){var t=C(o);for(var e in t)"_"!==e.charAt(0)&&(C[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},C.init(),e.Mousetrap=C,u.exports&&(u.exports=C),void 0===(h=function(){return C}.call(p,d,p,u))||(u.exports=h)}function g(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function v(e){if("keypress"!=e.type)return i[e.which]?i[e.which]:r[e.which]?r[e.which]:String.fromCharCode(e.which).toLowerCase();var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}function w(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function c(e,t,r){return r||(r=function(){if(!n)for(var e in n={},i)95<e&&e<112||i.hasOwnProperty(e)&&(n[i[e]]=e);return n}()[e]?"keydown":"keypress"),"keypress"==r&&t.length&&(r="keydown"),r}function k(e,t){var r,o,n,i,s=[];for(r="+"===(i=e)?["+"]:(i=i.replace(/\+{2}/g,"+plus")).split("+"),n=0;n<r.length;++n)o=r[n],l[o]&&(o=l[o]),t&&"keypress"!=t&&a[o]&&(o=a[o],s.push("shift")),w(o)&&s.push(o);return{key:o,modifiers:s,action:t=c(o,s,t)}}function C(e){var m=this;if(e=e||o,!(m instanceof C))return new C(e);m.target=e,m._callbacks={},m._directMap={};var l,b={},c=!1,u=!1,p=!1;function d(e){e=e||{};var t,r=!1;for(t in b)e[t]?r=!0:b[t]=0;r||(p=!1)}function h(e,t,r,o,n,i){var s,a,l,c,u=[],p=r.type;if(!m._callbacks[e])return[];for("keyup"==p&&w(e)&&(t=[e]),s=0;s<m._callbacks[e].length;++s)if(a=m._callbacks[e][s],(o||!a.seq||b[a.seq]==a.level)&&p==a.action&&("keypress"==p&&!r.metaKey&&!r.ctrlKey||(l=t,c=a.modifiers,l.sort().join(",")===c.sort().join(",")))){var d=!o&&a.combo==n,h=o&&a.seq==o&&a.level==i;(d||h)&&m._callbacks[e].splice(s,1),u.push(a)}return u}function y(e,t,r,o){var n,i;m.stopCallback(t,t.target||t.srcElement,r,o)||!1===e(t,r)&&((i=t).preventDefault?i.preventDefault():i.returnValue=!1,(n=t).stopPropagation?n.stopPropagation():n.cancelBubble=!0)}function t(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t,r,o=v(e);o&&("keyup"!=e.type||c!==o?m.handleKey(o,(r=[],(t=e).shiftKey&&r.push("shift"),t.altKey&&r.push("alt"),t.ctrlKey&&r.push("ctrl"),t.metaKey&&r.push("meta"),r),e):c=!1)}function a(t,e,r,o){function n(e){return function(){p=e,++b[t],clearTimeout(l),l=setTimeout(d,1e3)}}function i(e){y(r,e,t),"keyup"!==o&&(c=v(e)),setTimeout(d,10)}for(var s=b[t]=0;s<e.length;++s){var a=s+1===e.length?i:n(o||k(e[s+1]).action);f(e[s],a,o,t,s)}}function f(e,t,r,o,n){m._directMap[e+":"+r]=t;var i,s=(e=e.replace(/\s+/g," ")).split(" ");1<s.length?a(e,s,t,r):(i=k(e,r),m._callbacks[i.key]=m._callbacks[i.key]||[],h(i.key,i.modifiers,{type:i.action},o,e,n),m._callbacks[i.key][o?"unshift":"push"]({callback:t,modifiers:i.modifiers,action:i.action,seq:o,level:n,combo:e}))}m._handleKey=function(e,t,r){var o,n=h(e,t,r),i={},s=0,a=!1;for(o=0;o<n.length;++o)n[o].seq&&(s=Math.max(s,n[o].level));for(o=0;o<n.length;++o)if(n[o].seq){if(n[o].level!=s)continue;a=!0,i[n[o].seq]=1,y(n[o].callback,r,n[o].combo,n[o].seq)}else a||y(n[o].callback,r,n[o].combo);var l="keypress"==r.type&&u;r.type!=p||w(e)||l||d(i),u=a&&"keydown"==r.type},m._bindMultiple=function(e,t,r){for(var o=0;o<e.length;++o)f(e[o],t,r)},g(e,"keypress",t),g(e,"keydown",t),g(e,"keyup",t)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},"./node_modules/mux.js/lib/aac/index.js":function(e,t,r){"use strict";var o,n=r("./node_modules/mux.js/lib/utils/stream.js");(o=function(){var a=new Uint8Array,l=0;o.prototype.init.call(this),this.setTimestamp=function(e){l=e},this.parseId3TagSize=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?r+20:r+10},this.parseAdtsSize=function(e,t){var r=(224&e[t+5])>>5,o=e[t+4]<<3;return 6144&e[t+3]|o|r},this.push=function(e){var t,r,o,n,i=0,s=0;for(a.length?(n=a.length,(a=new Uint8Array(e.byteLength+n)).set(a.subarray(0,n)),a.set(e,n)):a=e;3<=a.length-s;)if(a[s]!=="I".charCodeAt(0)||a[s+1]!=="D".charCodeAt(0)||a[s+2]!=="3".charCodeAt(0))if(!0&a[s]&&240==(240&a[s+1])){if(a.length-s<7)break;if((i=this.parseAdtsSize(a,s))>a.length)break;o={type:"audio",data:a.subarray(s,s+i),pts:l,dts:l},this.trigger("data",o),s+=i}else s++;else{if(a.length-s<10)break;if((i=this.parseId3TagSize(a,s))>a.length)break;r={type:"timed-metadata",data:a.subarray(s,s+i)},this.trigger("data",r),s+=i}t=a.length-s,a=0<t?a.subarray(s):new Uint8Array}}).prototype=new n,e.exports=o},"./node_modules/mux.js/lib/aac/probe.js":function(e,t,r){"use strict";var o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],a=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={parseId3TagSize:function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?r+20:r+10},parseAdtsSize:function(e,t){var r=(224&e[t+5])>>5,o=e[t+4]<<3;return 6144&e[t+3]|o|r},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return o[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,r,o;t=10,64&e[5]&&(t+=4,t+=a(e.subarray(10,14)));do{if((r=a(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){o=e.subarray(t+10,t+r+10);for(var n=0;n<o.byteLength;n++)if(0===o[n]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(e,t,r){var o,n="";for(o=t;o<r;o++)n+="%"+("00"+e[o].toString(16)).slice(-2);return n}(o,0,n)))break;var i=o.subarray(n+1),s=(1&i[3])<<30|i[4]<<22|i[5]<<14|i[6]<<6|i[7]>>>2;return s*=4,s+=3&i[7]}}t+=10,t+=r}while(t<e.byteLength);return null}}},"./node_modules/mux.js/lib/codecs/adts.js":function(e,t,r){"use strict";var o,n=r("./node_modules/mux.js/lib/utils/stream.js"),u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(o=function(){var c;o.prototype.init.call(this),this.push=function(e){var t,r,o,n,i,s,a=0,l=0;if("audio"===e.type)for(c?(n=c,(c=new Uint8Array(n.byteLength+e.data.byteLength)).set(n),c.set(e.data,n.byteLength)):c=e.data;a+5<c.length;)if(255===c[a]&&240==(246&c[a+1])){if(r=2*(1&~c[a+1]),t=(3&c[a+3])<<11|c[a+4]<<3|(224&c[a+5])>>5,s=9e4*(i=1024*(1+(3&c[a+6])))/u[(60&c[a+2])>>>2],o=a+t,c.byteLength<o)return;if(this.trigger("data",{pts:e.pts+l*s,dts:e.dts+l*s,sampleCount:i,audioobjecttype:1+(c[a+2]>>>6&3),channelcount:(1&c[a+2])<<2|(192&c[a+3])>>>6,samplerate:u[(60&c[a+2])>>>2],samplingfrequencyindex:(60&c[a+2])>>>2,samplesize:16,data:c.subarray(a+7+r,o)}),c.byteLength===o)return void(c=void 0);l++,c=c.subarray(o)}else a++},this.flush=function(){this.trigger("done")}}).prototype=new n,e.exports=o},"./node_modules/mux.js/lib/codecs/h264.js":function(e,t,r){"use strict";var l,c,w,o=r("./node_modules/mux.js/lib/utils/stream.js"),k=r("./node_modules/mux.js/lib/utils/exp-golomb.js");(c=function(){var r,o,n=0;c.prototype.init.call(this),this.push=function(e){var t;for(o=o?((t=new Uint8Array(o.byteLength+e.data.byteLength)).set(o),t.set(e.data,o.byteLength),t):e.data;n<o.byteLength-3;n++)if(1===o[n+2]){r=n+5;break}for(;r<o.byteLength;)switch(o[r]){case 0:if(0!==o[r-1]){r+=2;break}if(0!==o[r-2]){r++;break}for(n+3!==r-2&&this.trigger("data",o.subarray(n+3,r-2));1!==o[++r]&&r<o.length;);n=r-2,r+=3;break;case 1:if(0!==o[r-1]||0!==o[r-2]){r+=3;break}this.trigger("data",o.subarray(n+3,r-2)),n=r-2,r+=3;break;default:r+=3}o=o.subarray(n),r-=n,n=0},this.flush=function(){o&&3<o.byteLength&&this.trigger("data",o.subarray(n+3)),o=null,n=0,this.trigger("done")}}).prototype=new o,w={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(l=function(){var r,o,n,i,s,a,v,t=new c;l.prototype.init.call(this),(r=this).push=function(e){"video"===e.type&&(o=e.trackId,n=e.pts,i=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:o,pts:n,dts:i,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=s(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=s(e.subarray(1)),t.config=a(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}r.trigger("data",t)}),t.on("done",function(){r.trigger("done")}),this.flush=function(){t.flush()},v=function(e,t){var r,o=8,n=8;for(r=0;r<e;r++)0!==n&&(n=(o+t.readExpGolomb()+256)%256),o=0===n?o:n},s=function(e){for(var t,r,o=e.byteLength,n=[],i=1;i<o-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return e;t=o-n.length,r=new Uint8Array(t);var s=0;for(i=0;i<t;s++,i++)s===n[0]&&(s++,n.shift()),r[i]=e[s];return r},a=function(e){var t,r,o,n,i,s,a,l,c,u,p,d,h,m=0,b=0,y=0,f=0,g=1;if(r=(t=new k(e)).readUnsignedByte(),n=t.readUnsignedByte(),o=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),w[r]&&(3===(i=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(p=3!==i?8:12,h=0;h<p;h++)t.readBoolean()&&v(h<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),a=t.readUnsignedExpGolomb(),h=0;h<a;h++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(u=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(m=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:d=[1,1];break;case 2:d=[12,11];break;case 3:d=[10,11];break;case 4:d=[16,11];break;case 5:d=[40,33];break;case 6:d=[24,11];break;case 7:d=[20,11];break;case 8:d=[32,11];break;case 9:d=[80,33];break;case 10:d=[18,11];break;case 11:d=[15,11];break;case 12:d=[64,33];break;case 13:d=[160,99];break;case 14:d=[4,3];break;case 15:d=[3,2];break;case 16:d=[2,1];break;case 255:d=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}d&&(g=d[0]/d[1])}return{profileIdc:r,levelIdc:o,profileCompatibility:n,width:Math.ceil((16*(l+1)-2*m-2*b)*g),height:(2-u)*(c+1)*16-2*y-2*f}}}).prototype=new o,e.exports={H264Stream:l,NalByteStream:c}},"./node_modules/mux.js/lib/data/silence.js":function(e,t){var r,o=[33,16,5,32,164,27],n=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],i=function(e){for(var t=[];e--;)t.push(0);return t},s={96e3:[o,[227,64],i(154),[56]],88200:[o,[231],i(170),[56]],64e3:[o,[248,192],i(240),[56]],48e3:[o,[255,192],i(268),[55,148,128],i(54),[112]],44100:[o,[255,192],i(268),[55,163,128],i(84),[112]],32e3:[o,[255,192],i(268),[55,234],i(226),[112]],24e3:[o,[255,192],i(268),[55,255,128],i(268),[111,112],i(126),[224]],16e3:[o,[255,192],i(268),[55,255,128],i(268),[111,255],i(269),[223,108],i(195),[1,192]],12e3:[n,i(268),[3,127,248],i(268),[6,255,240],i(268),[13,255,224],i(268),[27,253,128],i(259),[56]],11025:[n,i(268),[3,127,248],i(268),[6,255,240],i(268),[13,255,224],i(268),[27,255,192],i(268),[55,175,128],i(108),[112]],8e3:[n,i(268),[3,121,16],i(47),[7]]};e.exports=(r=s,Object.keys(r).reduce(function(e,t){return e[t]=new Uint8Array(r[t].reduce(function(e,t){return e.concat(t)},[])),e},{}))},"./node_modules/mux.js/lib/flv/coalesce-stream.js":function(e,t,r){"use strict";var o=r("./node_modules/mux.js/lib/utils/stream.js"),n=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,n.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};n.prototype=new o,n.prototype.flush=function(e){var t,r,o,n,i={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?n=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(n=this.audioTrack.timelineStartInfo.pts),i.tags.videoTags=this.videoTags,i.tags.audioTags=this.audioTags,o=0;o<this.pendingCaptions.length;o++)(r=this.pendingCaptions[o]).startTime=r.startPts-n,r.startTime/=9e4,r.endTime=r.endPts-n,r.endTime/=9e4,i.captionStreams[r.stream]=!0,i.captions.push(r);for(o=0;o<this.pendingMetadata.length;o++)(t=this.pendingMetadata[o]).cueTime=t.pts-n,t.cueTime/=9e4,i.metadata.push(t);i.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",i),this.trigger("done")}},e.exports=n},"./node_modules/mux.js/lib/flv/flv-header.js":function(e,t,r){"use strict";var l=r("./node_modules/mux.js/lib/flv/flv-tag.js");e.exports=function(e,t,r){var o,n,i,s=new Uint8Array(9),a=new DataView(s.buffer);return e=e||0,t=void 0===t||t,r=void 0===r||r,a.setUint8(0,70),a.setUint8(1,76),a.setUint8(2,86),a.setUint8(3,1),a.setUint8(4,(t?4:0)|(r?1:0)),a.setUint32(5,s.byteLength),e<=0?((n=new Uint8Array(s.byteLength+4)).set(s),n.set([0,0,0,0],s.byteLength)):((o=new l(l.METADATA_TAG)).pts=o.dts=0,o.writeMetaDataDouble("duration",e),i=o.finalize().length,(n=new Uint8Array(s.byteLength+i)).set(s),n.set(a.byteLength,i)),n}},"./node_modules/mux.js/lib/flv/flv-tag.js":function(e,t,r){"use strict";var c;(c=function(e,r){var t,o=0,n=16384,i=function(e,t){var r,o=e.position+t;o<e.bytes.byteLength||((r=new Uint8Array(2*o)).set(e.bytes.subarray(0,e.position),0),e.bytes=r,e.view=new DataView(e.bytes.buffer))},s=c.widthBytes||new Uint8Array("width".length),a=c.heightBytes||new Uint8Array("height".length),l=c.videocodecidBytes||new Uint8Array("videocodecid".length);if(!c.widthBytes){for(t=0;t<"width".length;t++)s[t]="width".charCodeAt(t);for(t=0;t<"height".length;t++)a[t]="height".charCodeAt(t);for(t=0;t<"videocodecid".length;t++)l[t]="videocodecid".charCodeAt(t);c.widthBytes=s,c.heightBytes=a,c.videocodecidBytes=l}switch(this.keyFrame=!1,e){case c.VIDEO_TAG:this.length=16,n*=6;break;case c.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case c.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(n),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=r,this.pts=0,this.dts=0,this.writeBytes=function(e,t,r){var o,n=t||0;o=n+(r=r||e.byteLength),i(this,r),this.bytes.set(e.subarray(n,o),this.position),this.position+=r,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){i(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){i(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===o?0:this.length-(o+4)},this.startNalUnit=function(){if(0<o)throw new Error("Attempted to create new NAL wihout closing the old one");o=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,r;this.length===o+4?this.length-=4:0<o&&(t=o+4,r=this.length-t,this.position=o,this.view.setUint32(this.position,r),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+r))),o=0},this.writeMetaDataDouble=function(e,t){var r;if(i(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(a,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(l,this.position),this.position+=12;else for(r=0;r<e.length;r++)this.bytes[this.position]=e.charCodeAt(r),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++o},this.writeMetaDataBoolean=function(e,t){var r;for(i(this,2),this.view.setUint16(this.position,e.length),this.position+=2,r=0;r<e.length;r++)i(this,1),this.bytes[this.position]=e.charCodeAt(r),this.position++;i(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++o},this.finalize=function(){var e,t;switch(this.bytes[0]){case c.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||r?16:32),this.bytes[12]=r?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case c.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=r?0:1;break;case c.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,o),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return t=this.length-11,this.bytes[1]=(16711680&t)>>>16,this.bytes[2]=(65280&t)>>>8,this.bytes[3]=(255&t)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,i(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=c.frameTime(this.bytes),this}}).AUDIO_TAG=8,c.VIDEO_TAG=9,c.METADATA_TAG=18,c.isAudioFrame=function(e){return c.AUDIO_TAG===e[0]},c.isVideoFrame=function(e){return c.VIDEO_TAG===e[0]},c.isMetaData=function(e){return c.METADATA_TAG===e[0]},c.isKeyFrame=function(e){return c.isVideoFrame(e)?23===e[11]:!!c.isAudioFrame(e)||!!c.isMetaData(e)},c.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},e.exports=c},"./node_modules/mux.js/lib/flv/index.js":function(e,t,r){e.exports={tag:r("./node_modules/mux.js/lib/flv/flv-tag.js"),Transmuxer:r("./node_modules/mux.js/lib/flv/transmuxer.js"),getFlvHeader:r("./node_modules/mux.js/lib/flv/flv-header.js")}},"./node_modules/mux.js/lib/flv/tag-list.js":function(e,t,r){"use strict";e.exports=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})}},"./node_modules/mux.js/lib/flv/transmuxer.js":function(e,t,r){"use strict";var m,b,y,o,a,l,n=r("./node_modules/mux.js/lib/utils/stream.js"),c=r("./node_modules/mux.js/lib/flv/flv-tag.js"),f=r("./node_modules/mux.js/lib/m2ts/m2ts.js"),g=r("./node_modules/mux.js/lib/codecs/adts.js"),v=r("./node_modules/mux.js/lib/codecs/h264.js").H264Stream,w=r("./node_modules/mux.js/lib/flv/coalesce-stream.js"),u=r("./node_modules/mux.js/lib/flv/tag-list.js");o=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},a=function(e,t){var r=new c(c.METADATA_TAG);return r.dts=t,r.pts=t,r.writeMetaDataDouble("videocodecid",7),r.writeMetaDataDouble("width",e.width),r.writeMetaDataDouble("height",e.height),r},l=function(e,t){var r,o=new c(c.VIDEO_TAG,!0);for(o.dts=t,o.pts=t,o.writeByte(1),o.writeByte(e.profileIdc),o.writeByte(e.profileCompatibility),o.writeByte(e.levelIdc),o.writeByte(255),o.writeByte(225),o.writeShort(e.sps[0].length),o.writeBytes(e.sps[0]),o.writeByte(e.pps.length),r=0;r<e.pps.length;++r)o.writeShort(e.pps[r].length),o.writeBytes(e.pps[r]);return o},(y=function(n){var i,s=[],a=[];y.prototype.init.call(this),this.push=function(e){o(n,e),n&&(n.audioobjecttype=e.audioobjecttype,n.channelcount=e.channelcount,n.samplerate=e.samplerate,n.samplingfrequencyindex=e.samplingfrequencyindex,n.samplesize=e.samplesize,n.extraData=n.audioobjecttype<<11|n.samplingfrequencyindex<<7|n.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),s.push(e)},this.flush=function(){var e,t,r,o=new u;if(0!==s.length){for(r=-1/0;s.length;)e=s.shift(),a.length&&e.pts>=a[0]&&(r=a.shift(),this.writeMetaDataTags(o,r)),(n.extraData!==i||1e3<=e.pts-r)&&(this.writeMetaDataTags(o,e.pts),i=n.extraData,r=e.pts),(t=new c(c.AUDIO_TAG)).pts=e.pts,t.dts=e.dts,t.writeBytes(e.data),o.push(t.finalize());a.length=0,i=null,this.trigger("data",{track:n,tags:o.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(e,t){var r;(r=new c(c.METADATA_TAG)).pts=t,r.dts=t,r.writeMetaDataDouble("audiocodecid",10),r.writeMetaDataBoolean("stereo",2===n.channelcount),r.writeMetaDataDouble("audiosamplerate",n.samplerate),r.writeMetaDataDouble("audiosamplesize",16),e.push(r.finalize()),(r=new c(c.AUDIO_TAG,!0)).pts=t,r.dts=t,r.view.setUint16(r.position,n.extraData),r.position+=2,r.length=Math.max(r.length,r.position),e.push(r.finalize())},this.onVideoKeyFrame=function(e){a.push(e)}}).prototype=new n,(b=function(n){var i,s,r=[];b.prototype.init.call(this),this.finishFrame=function(e,t){if(t){if(i&&n&&n.newMetadata&&(t.keyFrame||0===e.length)){var r=a(i,t.dts).finalize(),o=l(n,t.dts).finalize();r.metaDataTag=o.metaDataTag=!0,e.push(r),e.push(o),n.newMetadata=!1,this.trigger("keyframe",t.dts)}t.endNalUnit(),e.push(t.finalize()),s=null}},this.push=function(e){o(n,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),r.push(e)},this.flush=function(){for(var e,t=new u;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0!==r.length){for(;r.length;)"seq_parameter_set_rbsp"===(e=r.shift()).nalUnitType?(n.newMetadata=!0,i=e.config,n.width=i.width,n.height=i.height,n.sps=[e.data],n.profileIdc=i.profileIdc,n.levelIdc=i.levelIdc,n.profileCompatibility=i.profileCompatibility,s.endNalUnit()):"pic_parameter_set_rbsp"===e.nalUnitType?(n.newMetadata=!0,n.pps=[e.data],s.endNalUnit()):"access_unit_delimiter_rbsp"===e.nalUnitType?(s&&this.finishFrame(t,s),(s=new c(c.VIDEO_TAG)).pts=e.pts,s.dts=e.dts):("slice_layer_without_partitioning_rbsp_idr"===e.nalUnitType&&(s.keyFrame=!0),s.endNalUnit()),s.startNalUnit(),s.writeBytes(e.data);s&&this.finishFrame(t,s),this.trigger("data",{track:n,tags:t.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new n,(m=function(e){var t,r,o,n,i,s,a,l,c,u,p,d,h=this;m.prototype.init.call(this),e=e||{},this.metadataStream=new f.MetadataStream,e.metadataStream=this.metadataStream,t=new f.TransportPacketStream,r=new f.TransportParseStream,o=new f.ElementaryStream,n=new f.TimestampRolloverStream("video"),i=new f.TimestampRolloverStream("audio"),s=new f.TimestampRolloverStream("timed-metadata"),a=new g,l=new v,d=new w(e),t.pipe(r).pipe(o),o.pipe(n).pipe(l),o.pipe(i).pipe(a),o.pipe(s).pipe(this.metadataStream).pipe(d),p=new f.CaptionStream,l.pipe(p).pipe(d),o.on("data",function(e){var t,r,o;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?r=e.tracks[t]:"audio"===e.tracks[t].type&&(o=e.tracks[t]);r&&!c&&(d.numberOfTracks++,c=new b(r),l.pipe(c).pipe(d)),o&&!u&&(d.numberOfTracks++,u=new y(o),a.pipe(u).pipe(d),c&&c.on("keyframe",u.onVideoKeyFrame))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},this.resetCaptions=function(){p.reset()},d.on("data",function(e){h.trigger("data",e)}),d.on("done",function(){h.trigger("done")})}).prototype=new n,e.exports=m},"./node_modules/mux.js/lib/m2ts/caption-stream.js":function(e,t,r){"use strict";var o=r("./node_modules/mux.js/lib/utils/stream.js"),n=function(){n.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new s(0,0),new s(0,1),new s(1,0),new s(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};n.prototype=new o,n.prototype.push=function(e){var t,r,o;"sei_rbsp"===e.nalUnitType&&(4===(t=function(e){for(var t=0,r={payloadType:-1,payloadSize:0},o=0,n=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)o+=255,t++;for(o+=e[t++];255===e[t];)n+=255,t++;if(n+=e[t++],!r.payload&&4===o){r.payloadType=o,r.payloadSize=n,r.payload=e.subarray(t,t+n);break}t+=n,n=o=0}return r}(e.escapedRBSP)).payloadType&&(r=181!==(o=t).payload[0]?null:49!=(o.payload[1]<<8|o.payload[2])?null:"GA94"!==String.fromCharCode(o.payload[3],o.payload[4],o.payload[5],o.payload[6])?null:3!==o.payload[7]?null:o.payload.subarray(8,o.payload.length-1))&&(e.dts<this.latestDts_?this.ignoreNextEqualDts_=!0:e.dts===this.latestDts_&&this.ignoreNextEqualDts_?this.ignoreNextEqualDts_=!1:(this.captionPackets_=this.captionPackets_.concat(function(e,t){var r,o,n,i,s=[];if(!(64&t[0]))return s;for(o=31&t[0],r=0;r<o;r++)i={type:3&t[2+(n=3*r)],pts:e},4&t[n+2]&&(i.ccData=t[n+3]<<8|t[n+4],s.push(i));return s}(e.pts,r)),this.latestDts_=e.dts)))},n.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},n.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},n.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},n.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},n.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var i={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},a=function(e){return null===e?"":(e=i[e]||e,String.fromCharCode(e))},l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){for(var e=[],t=15;t--;)e.push("");return e},s=function(e,t){s.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,r,o,n,i;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),o=t>>>8,n=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.topRow_=13,this.mode_="rollUp";else if(t===this.ROLL_UP_3_ROWS_)this.topRow_=12,this.mode_="rollUp";else if(t===this.ROLL_UP_4_ROWS_)this.topRow_=11,this.mode_="rollUp";else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=c();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(t===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(o,n))i=a((o=(3&o)<<8)|n),this[this.mode_](e.pts,i),this.column_++;else if(this.isExtCharacter(o,n))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1),i=a((o=(3&o)<<8)|n),this[this.mode_](e.pts,i),this.column_++;else if(this.isMidRowCode(o,n))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&n)&&this.addFormatting(e.pts,["i"]),1==(1&n)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(o,n))this.column_+=3&n;else if(this.isPAC(o,n)){var s=l.indexOf(7968&t);s!==this.row_&&(this.clearFormatting(e.pts),this.row_=s),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(o)&&(0===n&&(n=null),i=a(o),i+=a(n),this[this.mode_](e.pts,i),this.column_+=i.length)}else this.lastControlCode_=null}};s.prototype=new o,s.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},s.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.formatting_=[]},s.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},s.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},s.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},s.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},s.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},s.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},s.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},s.prototype.isNormalChar=function(e){return 32<=e&&e<=127},s.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var r=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,r)},s.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},s.prototype.popOn=function(e,t){var r=this.nonDisplayed_[this.row_];r+=t,this.nonDisplayed_[this.row_]=r},s.prototype.rollUp=function(e,t){var r=this.displayed_[14];r+=t,this.displayed_[14]=r},s.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<14;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[14]=""},s.prototype.paintOn=function(){},e.exports={CaptionStream:n,Cea608Stream:s}},"./node_modules/mux.js/lib/m2ts/m2ts.js":function(e,t,r){"use strict";var o,a,l,n=r("./node_modules/mux.js/lib/utils/stream.js"),i=r("./node_modules/mux.js/lib/m2ts/caption-stream.js"),c=r("./node_modules/mux.js/lib/m2ts/stream-types.js"),s=r("./node_modules/mux.js/lib/m2ts/timestamp-rollover-stream.js").TimestampRolloverStream,u=r("./node_modules/mux.js/lib/m2ts/stream-types.js");(o=function(){var n=new Uint8Array(188),i=0;o.prototype.init.call(this),this.push=function(e){var t,r=0,o=188;for(i?((t=new Uint8Array(e.byteLength+i)).set(n.subarray(0,i)),t.set(e,i),i=0):t=e;o<t.byteLength;)71!==t[r]||71!==t[o]?(r++,o++):(this.trigger("data",t.subarray(r,o)),r+=188,o+=188);r<t.byteLength&&(n.set(t.subarray(r),0),i=t.byteLength-r)},this.flush=function(){188===i&&71===n[0]&&(this.trigger("data",n),i=0),this.trigger("done")}}).prototype=new n,(a=function(){var o,n,i,s;a.prototype.init.call(this),(s=this).packetsWaitingForPmt=[],this.programMapTable=void 0,o=function(e,t){var r=0;t.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===t.type?n(e.subarray(r),t):i(e.subarray(r),t)},n=function(e,t){t.section_number=e[7],t.last_section_number=e[8],s.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=s.pmtPid},i=function(e,t){var r,o;if(1&e[5]){for(s.programMapTable={video:null,audio:null,"timed-metadata":{}},r=3+((15&e[1])<<8|e[2])-4,o=12+((15&e[10])<<8|e[11]);o<r;){var n=e[o],i=(31&e[o+1])<<8|e[o+2];n===c.H264_STREAM_TYPE&&null===s.programMapTable.video?s.programMapTable.video=i:n===c.ADTS_STREAM_TYPE&&null===s.programMapTable.audio?s.programMapTable.audio=i:n===c.METADATA_STREAM_TYPE&&(s.programMapTable["timed-metadata"][i]=n),o+=5+((15&e[o+3])<<8|e[o+4])}t.programMapTable=s.programMapTable}},this.push=function(e){var t={},r=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(r+=e[r]+1),0===t.pid)t.type="pat",o(e.subarray(r),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",o(e.subarray(r),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,r,t]):this.processPes_(e,r,t)},this.processPes_=function(e,t,r){r.pid===this.programMapTable.video?r.streamType=c.H264_STREAM_TYPE:r.pid===this.programMapTable.audio?r.streamType=c.ADTS_STREAM_TYPE:r.streamType=this.programMapTable["timed-metadata"][r.pid],r.type="pes",r.data=e.subarray(t),this.trigger("data",r)}}).prototype=new n,a.STREAM_TYPES={h264:27,adts:15},(l=function(){var d=this,o={data:[],size:0},n={data:[],size:0},i={data:[],size:0},s=function(e,t,r){var o,n,i=new Uint8Array(e.size),s={type:t},a=0,l=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,a=0;a<e.data.length;a++)n=e.data[a],i.set(n.data,l),l+=n.data.byteLength;var c,u,p;c=i,(u=s).packetLength=6+(c[4]<<8|c[5]),u.dataAlignmentIndicator=0!=(4&c[6]),192&(p=c[7])&&(u.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,u.pts*=4,u.pts+=(6&c[13])>>>1,u.dts=u.pts,64&p&&(u.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,u.dts*=4,u.dts+=(6&c[18])>>>1)),u.data=c.subarray(9+c[8]),o="video"===t||s.packetLength<=e.size,(r||o)&&(e.size=0,e.data.length=0),o&&d.trigger("data",s)}};l.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var e,t;switch(r.streamType){case c.H264_STREAM_TYPE:case u.H264_STREAM_TYPE:e=o,t="video";break;case c.ADTS_STREAM_TYPE:e=n,t="audio";break;case c.METADATA_STREAM_TYPE:e=i,t="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(r),e.size+=r.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},t=r.programMapTable;null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),d.trigger("data",e)}})[r.type]()},this.flush=function(){s(o,"video"),s(n,"audio"),s(i,"timed-metadata"),this.trigger("done")}}).prototype=new n;var p={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:o,TransportParseStream:a,ElementaryStream:l,TimestampRolloverStream:s,CaptionStream:i.CaptionStream,Cea608Stream:i.Cea608Stream,MetadataStream:r("./node_modules/mux.js/lib/m2ts/metadata-stream.js")};for(var d in c)c.hasOwnProperty(d)&&(p[d]=c[d]);e.exports=p},"./node_modules/mux.js/lib/m2ts/metadata-stream.js":function(e,t,r){"use strict";var o,n=r("./node_modules/mux.js/lib/utils/stream.js"),i=r("./node_modules/mux.js/lib/m2ts/stream-types.js"),s=function(e,t,r){var o,n="";for(o=t;o<r;o++)n+="%"+("00"+e[o].toString(16)).slice(-2);return n},a=function(e,t,r){return decodeURIComponent(s(e,t,r))},d=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},h={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=a(e.data,1,t),e.value=a(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=a(e.data,1,t),e.url=a(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,r;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(r=e.data,unescape(s(r,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(o=function(e){var t,l={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},c=0,u=[],p=0;if(o.prototype.init.call(this),this.dispatchType=i.METADATA_STREAM_TYPE.toString(16),l.descriptor)for(t=0;t<l.descriptor.length;t++)this.dispatchType+=("00"+l.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,r,o,n,i;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(p=0,u.length=0),0===u.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))l.debug&&console.log("Skipping unrecognized metadata packet");else if(u.push(e),p+=e.data.byteLength,1===u.length&&(c=d(e.data.subarray(6,10)),c+=10),!(p<c)){for(t={data:new Uint8Array(c),frames:[],pts:u[0].pts,dts:u[0].dts},i=0;i<c;)t.data.set(u[0].data.subarray(0,c-i),i),i+=u[0].data.byteLength,p-=u[0].data.byteLength,u.shift();r=10,64&t.data[5]&&(r+=4,r+=d(t.data.subarray(10,14)),c-=d(t.data.subarray(16,20)));do{if((o=d(t.data.subarray(r+4,r+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((n={id:String.fromCharCode(t.data[r],t.data[r+1],t.data[r+2],t.data[r+3]),data:t.data.subarray(r+10,r+o+10)}).key=n.id,h[n.id]&&(h[n.id](n),"com.apple.streaming.transportStreamTimestamp"===n.owner)){var s=n.data,a=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;a*=4,a+=3&s[7],n.timeStamp=a,void 0===t.pts&&void 0===t.dts&&(t.pts=n.timeStamp,t.dts=n.timeStamp),this.trigger("timestamp",n)}t.frames.push(n),r+=10,r+=o}while(r<c);this.trigger("data",t)}}}).prototype=new n,e.exports=o},"./node_modules/mux.js/lib/m2ts/probe.js":function(e,t,r){"use strict";var o=r("./node_modules/mux.js/lib/m2ts/stream-types.js"),n=function(e){var t=31&e[1];return t<<=8,t|=e[2]},a=function(e){return!!(64&e[1])},l=function(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var r=n(e);return 0===r?"pat":r===t?"pmt":t?"pes":null},parsePat:function(e){var t=a(e),r=4+l(e);return t&&(r+=e[r]+1),(31&e[r+10])<<8|e[r+11]},parsePmt:function(e){var t={},r=a(e),o=4+l(e);if(r&&(o+=e[o]+1),1&e[o+5]){var n;n=3+((15&e[o+1])<<8|e[o+2])-4;for(var i=12+((15&e[o+10])<<8|e[o+11]);i<n;){var s=o+i;t[(31&e[s+1])<<8|e[s+2]]=e[s],i+=5+((15&e[s+3])<<8|e[s+4])}return t}},parsePayloadUnitStartIndicator:a,parsePesType:function(e,t){switch(t[n(e)]){case o.H264_STREAM_TYPE:return"video";case o.ADTS_STREAM_TYPE:return"audio";case o.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!a(e))return null;var t=4+l(e);if(t>=e.byteLength)return null;var r,o=null;return 192&(r=e[t+7])&&((o={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,o.pts*=4,o.pts+=(6&e[t+13])>>>1,o.dts=o.pts,64&r&&(o.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,o.dts*=4,o.dts+=(6&e[t+18])>>>1)),o},videoPacketContainsKeyFrame:function(e){for(var t=4+l(e),r=e.subarray(t),o=0,n=0,i=!1;n<r.byteLength-3;n++)if(1===r[n+2]){o=n+5;break}for(;o<r.byteLength;)switch(r[o]){case 0:if(0!==r[o-1]){o+=2;break}if(0!==r[o-2]){o++;break}for(n+3!==o-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&r[n+3])&&(i=!0);1!==r[++o]&&o<r.length;);n=o-2,o+=3;break;case 1:if(0!==r[o-1]||0!==r[o-2]){o+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&r[n+3])&&(i=!0),n=o-2,o+=3;break;default:o+=3}return r=r.subarray(n),o-=n,n=0,r&&3<r.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===s(31&r[n+3])&&(i=!0),i}}},"./node_modules/mux.js/lib/m2ts/stream-types.js":function(e,t,r){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},"./node_modules/mux.js/lib/m2ts/timestamp-rollover-stream.js":function(e,t,r){"use strict";var o=r("./node_modules/mux.js/lib/utils/stream.js"),n=function(e,t){var r=1;for(t<e&&(r=-1);4294967296<Math.abs(t-e);)e+=8589934592*r;return e},i=function(e){var t,r;i.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===r&&(r=e.dts),e.dts=n(e.dts,r),e.pts=n(e.pts,r),t=e.dts,this.trigger("data",e))},this.flush=function(){r=t,this.trigger("done")},this.discontinuity=function(){t=r=void 0}};i.prototype=new o,e.exports={TimestampRolloverStream:i,handleRollover:n}},"./node_modules/mux.js/lib/mp4/index.js":function(e,t,r){e.exports={generator:r("./node_modules/mux.js/lib/mp4/mp4-generator.js"),Transmuxer:r("./node_modules/mux.js/lib/mp4/transmuxer.js").Transmuxer,AudioSegmentStream:r("./node_modules/mux.js/lib/mp4/transmuxer.js").AudioSegmentStream,VideoSegmentStream:r("./node_modules/mux.js/lib/mp4/transmuxer.js").VideoSegmentStream}},"./node_modules/mux.js/lib/mp4/mp4-generator.js":function(e,t,r){"use strict";var a,o,n,i,s,l,c,u,p,d,h,m,b,y,f,g,v,w,k,C,_,S,j,E,D,x,O,T,P,H,A,I,R,q,N,z,M,L,F,U,B,V=Math.pow(2,32)-1;!function(){var e;if(j={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in j)j.hasOwnProperty(e)&&(j[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);E=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),x=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),D=new Uint8Array([0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),T=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:O,audio:T},I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),q=R,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),z=R,H=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),a=function(e){var t,r,o=[],n=0;for(t=1;t<arguments.length;t++)o.push(arguments[t]);for(t=o.length;t--;)n+=o[t].byteLength;for(r=new Uint8Array(n+8),new DataView(r.buffer,r.byteOffset,r.byteLength).setUint32(0,r.byteLength),r.set(e,4),t=0,n=8;t<o.length;t++)r.set(o[t],n),n+=o[t].byteLength;return r},o=function(){return a(j.dinf,a(j.dref,I))},n=function(e){return a(j.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},i=function(){return a(j.ftyp,E,D,E,x)},g=function(e){return a(j.hdlr,P[e])},s=function(e){return a(j.mdat,e)},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),a(j.mdhd,t)},y=function(e){return a(j.mdia,f(e),g(e.type),c(e))},l=function(e){return a(j.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},c=function(e){return a(j.minf,"video"===e.type?a(j.vmhd,H):a(j.smhd,A),o(),w(e))},u=function(e,t){for(var r=[],o=t.length;o--;)r[o]=C(t[o]);return a.apply(null,[j.moof,l(e)].concat(r))},p=function(e){for(var t=e.length,r=[];t--;)r[t]=m(e[t]);return a.apply(null,[j.moov,h(4294967295)].concat(r).concat(d(e)))},d=function(e){for(var t=e.length,r=[];t--;)r[t]=_(e[t]);return a.apply(null,[j.mvex].concat(r))},h=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(j.mvhd,t)},v=function(e){var t,r,o=e.samples||[],n=new Uint8Array(4+o.length);for(r=0;r<o.length;r++)t=o[r].flags,n[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return a(j.sdtp,n)},w=function(e){return a(j.stbl,k(e),a(j.stts,z),a(j.stsc,q),a(j.stsz,N),a(j.stco,R))},k=function(e){return a(j.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?M(e):L(e))},M=function(e){var t,r=e.sps||[],o=e.pps||[],n=[],i=[];for(t=0;t<r.length;t++)n.push((65280&r[t].byteLength)>>>8),n.push(255&r[t].byteLength),n=n.concat(Array.prototype.slice.call(r[t]));for(t=0;t<o.length;t++)i.push((65280&o[t].byteLength)>>>8),i.push(255&o[t].byteLength),i=i.concat(Array.prototype.slice.call(o[t]));return a(j.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(j.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length]).concat(n).concat([o.length]).concat(i))),a(j.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},L=function(e){return a(j.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),n(e))},b=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return a(j.tkhd,t)},C=function(e){var t,r,o,n,i,s;return t=a(j.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),i=Math.floor(e.baseMediaDecodeTime/(V+1)),s=Math.floor(e.baseMediaDecodeTime%(V+1)),r=a(j.tfdt,new Uint8Array([1,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(o=S(e,92),a(j.traf,t,r,o)):(n=v(e),o=S(e,n.length+92),a(j.traf,t,r,o,n))},m=function(e){return e.duration=e.duration||4294967295,a(j.trak,b(e),y(e))},_=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),a(j.trex,t)},B=function(e,t){var r=0,o=0,n=0,i=0;return e.length&&(void 0!==e[0].duration&&(r=1),void 0!==e[0].size&&(o=2),void 0!==e[0].flags&&(n=4),void 0!==e[0].compositionTimeOffset&&(i=8)),[0,0,r|o|n|i,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},U=function(e,t){var r,o,n,i;for(t+=20+16*(o=e.samples||[]).length,r=B(o,t),i=0;i<o.length;i++)n=o[i],r=r.concat([(4278190080&n.duration)>>>24,(16711680&n.duration)>>>16,(65280&n.duration)>>>8,255&n.duration,(4278190080&n.size)>>>24,(16711680&n.size)>>>16,(65280&n.size)>>>8,255&n.size,n.flags.isLeading<<2|n.flags.dependsOn,n.flags.isDependedOn<<6|n.flags.hasRedundancy<<4|n.flags.paddingValue<<1|n.flags.isNonSyncSample,61440&n.flags.degradationPriority,15&n.flags.degradationPriority,(4278190080&n.compositionTimeOffset)>>>24,(16711680&n.compositionTimeOffset)>>>16,(65280&n.compositionTimeOffset)>>>8,255&n.compositionTimeOffset]);return a(j.trun,new Uint8Array(r))},F=function(e,t){var r,o,n,i;for(t+=20+8*(o=e.samples||[]).length,r=B(o,t),i=0;i<o.length;i++)n=o[i],r=r.concat([(4278190080&n.duration)>>>24,(16711680&n.duration)>>>16,(65280&n.duration)>>>8,255&n.duration,(4278190080&n.size)>>>24,(16711680&n.size)>>>16,(65280&n.size)>>>8,255&n.size]);return a(j.trun,new Uint8Array(r))},S=function(e,t){return"audio"===e.type?F(e,t):U(e,t)},e.exports={ftyp:i,mdat:s,moof:u,moov:p,initSegment:function(e){var t,r=i(),o=p(e);return(t=new Uint8Array(r.byteLength+o.byteLength)).set(r),t.set(o,r.byteLength),t}}},"./node_modules/mux.js/lib/mp4/probe.js":function(e,t,r){"use strict";var l,c,o,n;l=function(e,t){var r,o,n,i,s,a=[];if(!t.length)return null;for(r=0;r<e.byteLength;)o=e[r]<<24,o|=e[r+1]<<16,o|=e[r+2]<<8,o|=e[r+3],n=c(e.subarray(r+4,r+8)),i=1<o?r+o:e.byteLength,n===t[0]&&(1===t.length?a.push(e.subarray(r+8,i)):(s=l(e.subarray(r+8,i),t.slice(1))).length&&(a=a.concat(s))),r=i;return a},c=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},o=function(e){return l(e,["moov","trak"]).reduce(function(e,t){var r,o,n,i;return(r=l(t,["tkhd"])[0])?(n=r[o=0===r[0]?12:20]<<24|r[o+1]<<16|r[o+2]<<8|r[o+3],(i=l(t,["mdia","mdhd"])[0])?(o=0===i[0]?12:20,e[n]=i[o]<<24|i[o+1]<<16|i[o+2]<<8|i[o+3],e):null):null},{})},n=function(n,e){var t,r,o;return t=l(e,["moof","traf"]),r=[].concat.apply([],t.map(function(o){return l(o,["tfhd"]).map(function(e){var t,r;return t=e[4]<<24|e[5]<<16|e[6]<<8|e[7],r=n[t]||9e4,(l(o,["tfdt"]).map(function(e){var t,r;return t=e[0],r=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(r*=Math.pow(2,32),r+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),r})[0]||1/0)/r})})),o=Math.min.apply(null,r),isFinite(o)?o:0},e.exports={parseType:c,timescale:o,startTime:n}},"./node_modules/mux.js/lib/mp4/transmuxer.js":function(e,t,r){"use strict";var d,a,l,c,u,h,m,b,y,p,o=r("./node_modules/mux.js/lib/utils/stream.js"),f=r("./node_modules/mux.js/lib/mp4/mp4-generator.js"),g=r("./node_modules/mux.js/lib/m2ts/m2ts.js"),v=r("./node_modules/mux.js/lib/codecs/adts.js"),w=r("./node_modules/mux.js/lib/codecs/h264.js").H264Stream,k=r("./node_modules/mux.js/lib/aac/index.js"),C=r("./node_modules/mux.js/lib/data/silence.js"),_=r("./node_modules/mux.js/lib/utils/clock.js"),S=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],j=["width","height","profileIdc","levelIdc","profileCompatibility"];u=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},y=function(e,t){var r;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},p=function(e){var t,r=0;for(t=0;t<e.length;t++)r+=e[t].data.byteLength;return r},(a=function(n){var i=[],s=0,t=0,c=0,u=1/0;a.prototype.init.call(this),this.push=function(t){h(n,t),n&&S.forEach(function(e){n[e]=t[e]}),i.push(t)},this.setEarliestDts=function(e){t=e-n.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){u=e},this.setAudioAppendStart=function(e){c=e},this.flush=function(){var e,t,r,o;0!==i.length&&(e=this.trimAdtsFramesByEarliestDts_(i),n.baseMediaDecodeTime=b(n),this.prefixWithSilence_(n,e),n.samples=this.generateSampleTable_(e),r=f.mdat(this.concatenateFrameData_(e)),i=[],t=f.moof(s,[n]),o=new Uint8Array(t.byteLength+r.byteLength),s++,o.set(t),o.set(r,t.byteLength),m(n),this.trigger("data",{track:n,boxes:o})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var r,o,n,i,s=0,a=0,l=0;if(t.length&&(r=_.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(9e4/(e.samplerate/1024)),c&&u&&(s=r-Math.max(c,u),l=(a=Math.floor(s/o))*o),!(a<1||45e3<l))){for((n=C[e.samplerate])||(n=t[0].data),i=0;i<a;i++)t.splice(i,0,{data:n});e.baseMediaDecodeTime-=Math.floor(_.videoTsToAudioTs(l,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return n.minSegmentDts>=t?e:(n.minSegmentDts=1/0,e.filter(function(e){return e.dts>=t&&(n.minSegmentDts=Math.min(n.minSegmentDts,e.dts),n.minSegmentPts=n.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,r,o=[];for(t=0;t<e.length;t++)r=e[t],o.push({size:r.data.byteLength,duration:1024});return o},this.concatenateFrameData_=function(e){var t,r,o=0,n=new Uint8Array(p(e));for(t=0;t<e.length;t++)r=e[t],n.set(r.data,o),o+=r.data.byteLength;return n}}).prototype=new o,(d=function(a,l){var t,r,c=0,u=[],p=[];l=l||{},d.prototype.init.call(this),delete a.minPTS,this.gopCache_=[],this.push=function(e){h(a,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,a.sps=[e.data],j.forEach(function(e){a[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.data,a.pps=[e.data]),u.push(e)},this.flush=function(){for(var e,t,r,o,n,i;u.length&&"access_unit_delimiter_rbsp"!==u[0].nalUnitType;)u.shift();if(0===u.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=this.groupNalsIntoFrames_(u),(r=this.groupFramesIntoGops_(e))[0][0].keyFrame||((t=this.getGopForFusion_(u[0],a))?(r.unshift(t),r.byteLength+=t.byteLength,r.nalCount+=t.nalCount,r.pts=t.pts,r.dts=t.dts,r.duration+=t.duration):r=this.extendFirstKeyFrame_(r)),p.length){var s;if(!(s=l.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r)))return this.gopCache_.unshift({gop:r.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),u=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");m(a),r=s}h(a,r),a.samples=this.generateSampleTable_(r),n=f.mdat(this.concatenateNalData_(r)),a.baseMediaDecodeTime=b(a),this.trigger("processedGopsInfo",r.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:r.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),u=[],this.trigger("baseMediaDecodeTime",a.baseMediaDecodeTime),this.trigger("timelineStartInfo",a.timelineStartInfo),o=f.moof(c,[a]),i=new Uint8Array(o.byteLength+n.byteLength),c++,i.set(o),i.set(n,o.byteLength),this.trigger("data",{track:a,boxes:i}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){m(a),r=t=void 0},this.getGopForFusion_=function(e){var t,r,o,n,i,s=1/0;for(i=0;i<this.gopCache_.length;i++)o=(n=this.gopCache_[i]).gop,a.pps&&y(a.pps[0],n.pps[0])&&a.sps&&y(a.sps[0],n.sps[0])&&(o.dts<a.timelineStartInfo.dts||-1e4<=(t=e.dts-o.dts-o.duration)&&t<=45e3&&(!r||t<s)&&(r=n,s=t));return r?r.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,r,o=[],n=[];for(t=o.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(r=e[t]).nalUnitType?(o.length&&(o.duration=r.dts-o.dts,n.push(o)),(o=[r]).byteLength=r.data.byteLength,o.pts=r.pts,o.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(o.keyFrame=!0),o.duration=r.dts-o.dts,o.byteLength+=r.data.byteLength,o.push(r));return n.length&&(!o.duration||o.duration<=0)&&(o.duration=n[n.length-1].duration),n.push(o),n},this.groupFramesIntoGops_=function(e){var t,r,o=[],n=[];for(o.byteLength=0,o.nalCount=0,o.duration=0,o.pts=e[0].pts,o.dts=e[0].dts,n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,t=0;t<e.length;t++)(r=e[t]).keyFrame?(o.length&&(n.push(o),n.byteLength+=o.byteLength,n.nalCount+=o.nalCount,n.duration+=o.duration),(o=[r]).nalCount=r.length,o.byteLength=r.byteLength,o.pts=r.pts,o.dts=r.dts,o.duration=r.duration):(o.duration+=r.duration,o.nalCount+=r.length,o.byteLength+=r.byteLength,o.push(r));return n.length&&o.duration<=0&&(o.duration=n[n.length-1].duration),n.byteLength+=o.byteLength,n.nalCount+=o.nalCount,n.duration+=o.duration,n.push(o),n},this.generateSampleTable_=function(e,t){var r,o,n,i,s,a=t||0,l=[];for(r=0;r<e.length;r++)for(i=e[r],o=0;o<i.length;o++)s=i[o],(n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}).dataOffset=a,n.compositionTimeOffset=s.pts-s.dts,n.duration=s.duration,n.size=4*s.length,n.size+=s.byteLength,s.keyFrame&&(n.flags.dependsOn=2),a+=n.size,l.push(n);return l},this.concatenateNalData_=function(e){var t,r,o,n,i,s,a=0,l=e.byteLength,c=e.nalCount,u=new Uint8Array(l+4*c),p=new DataView(u.buffer);for(t=0;t<e.length;t++)for(n=e[t],r=0;r<n.length;r++)for(i=n[r],o=0;o<i.length;o++)s=i[o],p.setUint32(a,s.data.byteLength),a+=4,u.set(s.data,a),a+=s.data.byteLength;return u},this.alignGopsAtStart_=function(e){var t,r,o,n,i,s,a,l;for(i=e.byteLength,s=e.nalCount,a=e.duration,t=r=0;t<p.length&&r<e.length&&(o=p[t],n=e[r],o.pts!==n.pts);)n.pts>o.pts?t++:(r++,i-=n.byteLength,s-=n.nalCount,a-=n.duration);return 0===r?e:r===e.length?null:((l=e.slice(r)).byteLength=i,l.duration=a,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,r,o,n,i,s,a;for(t=p.length-1,r=e.length-1,i=null,s=!1;0<=t&&0<=r;){if(o=p[t],n=e[r],o.pts===n.pts){s=!0;break}o.pts>n.pts?t--:(t===p.length-1&&(i=r),r--)}if(!s&&null===i)return null;if(0===(a=s?r:i))return e;var l=e.slice(a),c=l.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){p=e}}).prototype=new o,h=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},m=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},b=function(e){var t,r=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=r,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/9e4,t=Math.floor(t)),t},(c=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,c.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new o,c.prototype.flush=function(e){var t,r,o,n,i=0,s={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,j.forEach(function(e){s.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,S.forEach(function(e){s.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,o=f.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(o.byteLength),s.initSegment.set(o),s.data=new Uint8Array(this.pendingBytes),n=0;n<this.pendingBoxes.length;n++)s.data.set(this.pendingBoxes[n],i),i+=this.pendingBoxes[n].byteLength;for(n=0;n<this.pendingCaptions.length;n++)(t=this.pendingCaptions[n]).startTime=t.startPts-a,t.startTime/=9e4,t.endTime=t.endPts-a,t.endTime/=9e4,s.captionStreams[t.stream]=!0,s.captions.push(t);for(n=0;n<this.pendingMetadata.length;n++)(r=this.pendingMetadata[n]).cueTime=r.pts-a,r.cueTime/=9e4,s.metadata.push(r);s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(l=function(o){var n,i,s=this,r=!0;l.prototype.init.call(this),o=o||{},this.baseMediaDecodeTime=o.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new g.MetadataStream,t.aacStream=new k,t.audioTimestampRolloverStream=new g.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new g.TimestampRolloverStream("timed-metadata"),t.adtsStream=new v,t.coalesceStream=new c(o,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new a(i),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};(this.transmuxPipeline_=r).type="ts",r.metadataStream=new g.MetadataStream,r.packetStream=new g.TransportPacketStream,r.parseStream=new g.TransportParseStream,r.elementaryStream=new g.ElementaryStream,r.videoTimestampRolloverStream=new g.TimestampRolloverStream("video"),r.audioTimestampRolloverStream=new g.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new g.TimestampRolloverStream("timed-metadata"),r.adtsStream=new v,r.h264Stream=new w,r.captionStream=new g.CaptionStream,r.coalesceStream=new c(o,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream),r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream),r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)n||"video"!==e.tracks[t].type?i||"audio"!==e.tracks[t].type||((i=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(n=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;n&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new d(n,o),r.videoSegmentStream.on("timelineStartInfo",function(e){i&&(i.timelineStartInfo=e,r.audioSegmentStream.setEarliestDts(e.dts))}),r.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",function(e){i&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),i&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new a(i),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream))}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e,i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,m(i),i.timelineStartInfo.baseMediaDecodeTime=e,t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),n&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[],t.videoTimestampRolloverStream.discontinuity()),n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,m(n),t.captionStream.reset(),n.timelineStartInfo.baseMediaDecodeTime=e),t.timedMetadataTimestampRolloverStream&&t.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){n&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(r){var t=u(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new o,e.exports={Transmuxer:l,VideoSegmentStream:d,AudioSegmentStream:a,AUDIO_PROPERTIES:S,VIDEO_PROPERTIES:j}},"./node_modules/mux.js/lib/tools/ts-inspector.js":function(e,t,r){"use strict";var n=r("./node_modules/mux.js/lib/m2ts/stream-types.js"),i=r("./node_modules/mux.js/lib/m2ts/timestamp-rollover-stream.js").handleRollover,m={};m.ts=r("./node_modules/mux.js/lib/m2ts/probe.js"),m.aac=r("./node_modules/mux.js/lib/aac/probe.js");var b=188,s=function(e,t,r){for(var o,n,i,s,a=0,l=b,c=!1;l<e.byteLength;)if(71!==e[a]||71!==e[l])a++,l++;else{switch(o=e.subarray(a,l),m.ts.parseType(o,t.pid)){case"pes":n=m.ts.parsePesType(o,t.table),i=m.ts.parsePayloadUnitStartIndicator(o),"audio"===n&&i&&(s=m.ts.parsePesTime(o))&&(s.type="audio",r.audio.push(s),c=!0)}if(c)break;a+=b,l+=b}for(a=(l=e.byteLength)-b,c=!1;0<=a;)if(71!==e[a]||71!==e[l])a--,l--;else{switch(o=e.subarray(a,l),m.ts.parseType(o,t.pid)){case"pes":n=m.ts.parsePesType(o,t.table),i=m.ts.parsePayloadUnitStartIndicator(o),"audio"===n&&i&&(s=m.ts.parsePesTime(o))&&(s.type="audio",r.audio.push(s),c=!0)}if(c)break;a-=b,l-=b}},a=function(e,t,r){for(var o,n,i,s,a,l,c,u=0,p=b,d=!1,h={data:[],size:0};p<e.byteLength;)if(71!==e[u]||71!==e[p])u++,p++;else{switch(o=e.subarray(u,p),m.ts.parseType(o,t.pid)){case"pes":if(n=m.ts.parsePesType(o,t.table),i=m.ts.parsePayloadUnitStartIndicator(o),"video"===n&&(i&&!d&&(s=m.ts.parsePesTime(o))&&(s.type="video",r.video.push(s),d=!0),!r.firstKeyFrame)){if(i&&0!==h.size){for(a=new Uint8Array(h.size),l=0;h.data.length;)c=h.data.shift(),a.set(c,l),l+=c.byteLength;m.ts.videoPacketContainsKeyFrame(a)&&(r.firstKeyFrame=m.ts.parsePesTime(a),r.firstKeyFrame.type="video"),h.size=0}h.data.push(o),h.size+=o.byteLength}}if(d&&r.firstKeyFrame)break;u+=b,p+=b}for(u=(p=e.byteLength)-b,d=!1;0<=u;)if(71!==e[u]||71!==e[p])u--,p--;else{switch(o=e.subarray(u,p),m.ts.parseType(o,t.pid)){case"pes":n=m.ts.parsePesType(o,t.table),i=m.ts.parsePayloadUnitStartIndicator(o),"video"===n&&i&&(s=m.ts.parsePesTime(o))&&(s.type="video",r.video.push(s),d=!0)}if(d)break;u-=b,p-=b}},l=function(e){var t={pid:null,table:null},r={};for(var o in function(e,t){for(var r,o=0,n=b;n<e.byteLength;)if(71!==e[o]||71!==e[n])o++,n++;else{switch(r=e.subarray(o,n),m.ts.parseType(r,t.pid)){case"pat":t.pid||(t.pid=m.ts.parsePat(r));break;case"pmt":t.table||(t.table=m.ts.parsePmt(r))}if(t.pid&&t.table)return;o+=b,n+=b}}(e,t),t.table){if(t.table.hasOwnProperty(o))switch(t.table[o]){case n.H264_STREAM_TYPE:r.video=[],a(e,t,r),0===r.video.length&&delete r.video;break;case n.ADTS_STREAM_TYPE:r.audio=[],s(e,t,r),0===r.audio.length&&delete r.audio}}return r};e.exports={inspect:function(e,t){var r,o;return(o=(r=e)[0]==="I".charCodeAt(0)&&r[1]==="D".charCodeAt(0)&&r[2]==="3".charCodeAt(0)?function(e){for(var t,r=!1,o=0,n=null,i=null,s=0,a=0;3<=e.length-a;){switch(m.aac.parseType(e,a)){case"timed-metadata":if(e.length-a<10){r=!0;break}if((s=m.aac.parseId3TagSize(e,a))>e.length){r=!0;break}null===i&&(t=e.subarray(a,a+s),i=m.aac.parseAacTimestamp(t)),a+=s;break;case"audio":if(e.length-a<7){r=!0;break}if((s=m.aac.parseAdtsSize(e,a))>e.length){r=!0;break}null===n&&(t=e.subarray(a,a+s),n=m.aac.parseSampleRate(t)),o++,a+=s;break;default:a++}if(r)return null}if(null===n||null===i)return null;var l=9e4/n;return{audio:[{type:"audio",dts:i,pts:i},{type:"audio",dts:i+1024*o*l,pts:i+1024*o*l}]}}(e):l(e))&&(o.audio||o.video)?(function(e,t){if(e.audio&&e.audio.length){var r=t;void 0===r&&(r=e.audio[0].dts),e.audio.forEach(function(e){e.dts=i(e.dts,r),e.pts=i(e.pts,r),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})}if(e.video&&e.video.length){var o=t;if(void 0===o&&(o=e.video[0].dts),e.video.forEach(function(e){e.dts=i(e.dts,o),e.pts=i(e.pts,o),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}),e.firstKeyFrame){var n=e.firstKeyFrame;n.dts=i(n.dts,o),n.pts=i(n.pts,o),n.dtsTime=n.dts/9e4,n.ptsTime=n.dts/9e4}}}(o,t),o):null}}},"./node_modules/mux.js/lib/utils/clock.js":function(e,t){var r,o,n,i,s,a;r=function(e){return 9e4*e},o=function(e,t){return e*t},n=function(e){return e/9e4},i=function(e,t){return e/t},s=function(e,t){return r(i(e,t))},a=function(e,t){return o(n(e),t)},e.exports={secondsToVideoTs:r,secondsToAudioTs:o,videoTsToSeconds:n,audioTsToSeconds:i,audioTsToVideoTs:s,videoTsToAudioTs:a}},"./node_modules/mux.js/lib/utils/exp-golomb.js":function(e,t,r){"use strict";var o;o=function(o){var n=o.byteLength,i=0,s=0;this.length=function(){return 8*n},this.bitsAvailable=function(){return 8*n+s},this.loadWord=function(){var e=o.byteLength-n,t=new Uint8Array(4),r=Math.min(4,n);if(0===r)throw new Error("no bytes available");t.set(o.subarray(e,e+r)),i=new DataView(t.buffer).getUint32(0),s=8*r,n-=r},this.skipBits=function(e){var t;e<s||(e-=s,e-=8*(t=Math.floor(e/8)),n-=t,this.loadWord()),i<<=e,s-=e},this.readBits=function(e){var t=Math.min(s,e),r=i>>>32-t;return 0<(s-=t)?i<<=t:0<n&&this.loadWord(),0<(t=e-t)?r<<t|this.readBits(t):r},this.skipLeadingZeros=function(){var e;for(e=0;e<s;++e)if(0!=(i&2147483648>>>e))return i<<=e,s-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=o},"./node_modules/mux.js/lib/utils/stream.js":function(e,t,r){"use strict";var o=function(){this.init=function(){var i={};this.on=function(e,t){i[e]||(i[e]=[]),i[e]=i[e].concat(t)},this.off=function(e,t){var r;return!!i[e]&&(r=i[e].indexOf(t),i[e]=i[e].slice(),i[e].splice(r,1),-1<r)},this.trigger=function(e){var t,r,o,n;if(t=i[e])if(2===arguments.length)for(o=t.length,r=0;r<o;++r)t[r].call(this,arguments[1]);else{for(n=[],r=arguments.length,r=1;r<arguments.length;++r)n.push(arguments[r]);for(o=t.length,r=0;r<o;++r)t[r].apply(this,n)}},this.dispose=function(){i={}}}};o.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},o.prototype.push=function(e){this.trigger("data",e)},o.prototype.flush=function(e){this.trigger("done",e)},e.exports=o},"./node_modules/parse-headers/parse-headers.js":function(e,t,r){var s=r("./node_modules/trim/index.js"),o=r("./node_modules/for-each/index.js");e.exports=function(e){if(!e)return{};var i={};return o(s(e).split("\n"),function(e){var t,r=e.indexOf(":"),o=s(e.slice(0,r)).toLowerCase(),n=s(e.slice(r+1));void 0===i[o]?i[o]=n:(t=i[o],"[object Array]"===Object.prototype.toString.call(t)?i[o].push(n):i[o]=[i[o],n])}),i}},"./node_modules/pkcs7/lib/pad.js":function(e,t,r){"use strict";var o;e.exports=function(e){var t=o[e.byteLength%16||0],r=new Uint8Array(e.byteLength+t.length);return r.set(e),r.set(t,e.byteLength),r},o=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},"./node_modules/pkcs7/lib/pkcs7.js":function(e,t,r){"use strict";t.pad=r("./node_modules/pkcs7/lib/pad.js"),t.unpad=r("./node_modules/pkcs7/lib/unpad.js")},"./node_modules/pkcs7/lib/unpad.js":function(e,t,r){"use strict";e.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},"./node_modules/progressbar.js/src/circle.js":function(e,t,r){var o=r("./node_modules/progressbar.js/src/shape.js"),n=r("./node_modules/progressbar.js/src/utils.js"),i=function(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,o.apply(this,arguments)};((i.prototype=new o).constructor=i).prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var r=50-t/2;return n.render(this._pathTemplate,{radius:r,"2radius":2*r})},i.prototype._trailString=function(e){return this._pathString(e)},e.exports=i},"./node_modules/progressbar.js/src/line.js":function(e,t,r){var o=r("./node_modules/progressbar.js/src/shape.js"),n=r("./node_modules/progressbar.js/src/utils.js"),i=function(e,t){this._pathTemplate="M 0,{center} L 100,{center}",o.apply(this,arguments)};((i.prototype=new o).constructor=i).prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},i.prototype._pathString=function(e){return n.render(this._pathTemplate,{center:e.strokeWidth/2})},i.prototype._trailString=function(e){return this._pathString(e)},e.exports=i},"./node_modules/progressbar.js/src/main.js":function(e,t,r){e.exports={Line:r("./node_modules/progressbar.js/src/line.js"),Circle:r("./node_modules/progressbar.js/src/circle.js"),SemiCircle:r("./node_modules/progressbar.js/src/semicircle.js"),Path:r("./node_modules/progressbar.js/src/path.js"),Shape:r("./node_modules/progressbar.js/src/shape.js"),utils:r("./node_modules/progressbar.js/src/utils.js")}},"./node_modules/progressbar.js/src/path.js":function(e,t,r){var u=r("./node_modules/shifty/dist/shifty.js"),p=r("./node_modules/progressbar.js/src/utils.js"),o={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},n=function e(t,r){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");var o;r=p.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},r),o=p.isString(t)?document.querySelector(t):t,this.path=o,this._opts=r,this._tweenable=null;var n=this.path.getTotalLength();this.path.style.strokeDasharray=n+" "+n,this.set(0)};n.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength();return parseFloat((1-e/t).toFixed(6),10)},n.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(p.isFunction(t)){var r=this._easing(this._opts.easing);t(this._calculateTo(e,r),this._opts.shape||this,this._opts.attachment)}},n.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},n.prototype.animate=function(e,r,t){r=r||{},p.isFunction(r)&&(t=r,r={});var o=p.extend({},r),n=p.extend({},this._opts);r=p.extend(n,r);var i=this._easing(r.easing),s=this._resolveFromAndTo(e,i,o);this.stop(),this.path.getBoundingClientRect();var a=this._getComputedDashOffset(),l=this._progressToOffset(e),c=this;this._tweenable=new u,this._tweenable.tween({from:p.extend({offset:a},s.from),to:p.extend({offset:l},s.to),duration:r.duration,easing:i,step:function(e){c.path.style.strokeDashoffset=e.offset;var t=r.shape||c;r.step(e,t,r.attachment)},finish:function(e){p.isFunction(t)&&t()}})},n.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},n.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},n.prototype._resolveFromAndTo=function(e,t,r){return r.from&&r.to?{from:r.from,to:r.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},n.prototype._calculateFrom=function(e){return u.interpolate(this._opts.from,this._opts.to,this.value(),e)},n.prototype._calculateTo=function(e,t){return u.interpolate(this._opts.from,this._opts.to,e,t)},n.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},n.prototype._easing=function(e){return o.hasOwnProperty(e)?o[e]:e},e.exports=n},"./node_modules/progressbar.js/src/semicircle.js":function(e,t,r){var o=r("./node_modules/progressbar.js/src/shape.js"),n=r("./node_modules/progressbar.js/src/circle.js"),i=r("./node_modules/progressbar.js/src/utils.js"),s=function(e,t){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,o.apply(this,arguments)};((s.prototype=new o).constructor=s).prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 50")},s.prototype._initializeTextContainer=function(e,t,r){e.text.style&&(r.style.top="auto",r.style.bottom="0",e.text.alignToBottom?i.setStyle(r,"transform","translate(-50%, 0)"):i.setStyle(r,"transform","translate(-50%, 50%)"))},s.prototype._pathString=n.prototype._pathString,s.prototype._trailString=n.prototype._trailString,e.exports=s},"./node_modules/progressbar.js/src/shape.js":function(e,t,r){var s=r("./node_modules/progressbar.js/src/path.js"),a=r("./node_modules/progressbar.js/src/utils.js"),o="Object is destroyed",n=function e(t,r){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=a.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},r,!0),a.isObject(r)&&void 0!==r.svgStyle&&(this._opts.svgStyle=r.svgStyle),a.isObject(r)&&a.isObject(r.text)&&void 0!==r.text.style&&(this._opts.text.style=r.text.style);var o,n=this._createSvgView(this._opts);if(!(o=a.isString(t)?document.querySelector(t):t))throw new Error("Container does not exist: "+t);this._container=o,this._container.appendChild(n.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&a.setStyles(n.svg,this._opts.svgStyle),this.svg=n.svg,this.path=n.path,this.trail=n.trail,this.text=null;var i=a.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new s(n.path,i),a.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};n.prototype.animate=function(e,t,r){if(null===this._progressPath)throw new Error(o);this._progressPath.animate(e,t,r)},n.prototype.stop=function(){if(null===this._progressPath)throw new Error(o);void 0!==this._progressPath&&this._progressPath.stop()},n.prototype.destroy=function(){if(null===this._progressPath)throw new Error(o);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,(this._progressPath=null)!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},n.prototype.set=function(e){if(null===this._progressPath)throw new Error(o);this._progressPath.set(e)},n.prototype.value=function(){if(null===this._progressPath)throw new Error(o);return void 0===this._progressPath?0:this._progressPath.value()},n.prototype.setText=function(e){if(null===this._progressPath)throw new Error(o);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),a.isObject(e)?(a.removeChildren(this.text),this.text.appendChild(e)):this.text.innerHTML=e},n.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var r=null;(e.trailColor||e.trailWidth)&&(r=this._createTrail(e),t.appendChild(r));var o=this._createPath(e);return t.appendChild(o),{svg:t,path:o,trail:r}},n.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},n.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},n.prototype._createTrail=function(e){var t=this._trailString(e),r=a.extend({},e);return r.trailColor||(r.trailColor="#eee"),r.trailWidth||(r.trailWidth=r.strokeWidth),r.color=r.trailColor,r.strokeWidth=r.trailWidth,r.fill=null,this._createPathElement(t,r)},n.prototype._createPathElement=function(e,t){var r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",e),r.setAttribute("stroke",t.color),r.setAttribute("stroke-width",t.strokeWidth),t.fill?r.setAttribute("fill",t.fill):r.setAttribute("fill-opacity","0"),r},n.prototype._createTextContainer=function(e,t){var r=document.createElement("div");r.className=e.text.className;var o=e.text.style;return o&&(e.text.autoStyleContainer&&(t.style.position="relative"),a.setStyles(r,o),o.color||(r.style.color=e.color)),this._initializeTextContainer(e,t,r),r},n.prototype._initializeTextContainer=function(e,t,r){},n.prototype._pathString=function(e){throw new Error("Override this function for each progress bar")},n.prototype._trailString=function(e){throw new Error("Override this function for each progress bar")},n.prototype._warnContainerAspectRatio=function(e){if(this.containerAspectRatio){var t=window.getComputedStyle(e,null),r=parseFloat(t.getPropertyValue("width"),10),o=parseFloat(t.getPropertyValue("height"),10);a.floatEquals(this.containerAspectRatio,r/o)||(console.warn("Incorrect aspect ratio of container","#"+e.id,"detected:",t.getPropertyValue("width")+"(width)","/",t.getPropertyValue("height")+"(height)","=",r/o),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},e.exports=n},"./node_modules/progressbar.js/src/utils.js":function(e,t){var i="Webkit Moz O ms".split(" ");function o(e,t,r){for(var o=e.style,n=0;n<i.length;++n){o[i[n]+s(t)]=r}o[t]=r}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(e){return t=e,"[object Array]"!==Object.prototype.toString.call(t)&&("object"===typeof e&&!!e);var t}function n(e,t){for(var r in e){if(e.hasOwnProperty(r))t(e[r],r)}}e.exports={extend:function e(t,r,o){for(var n in t=t||{},o=o||!1,r=r||{})if(r.hasOwnProperty(n)){var i=t[n],s=r[n];o&&a(i)&&a(s)?t[n]=e(i,s,o):t[n]=s}return t},render:function(e,t){var r=e;for(var o in t)if(t.hasOwnProperty(o)){var n=t[o],i=new RegExp("\\{"+o+"\\}","g");r=r.replace(i,n)}return r},setStyle:o,setStyles:function(r,e){n(e,function(e,t){null!=e&&(a(e)&&!0===e.prefix?o(r,t,e.value):r.style[t]=e)})},capitalize:s,isString:function(e){return"string"==typeof e||e instanceof String},isFunction:function(e){return"function"==typeof e},isObject:a,forEachObject:n,floatEquals:function(e,t){return Math.abs(e-t)<.001},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}},"./node_modules/pusher-js/dist/web/pusher.js":function(e,t,r){
/*!
 * Pusher JavaScript Library v3.2.4
 * http://pusher.com/
 *
 * Copyright 2016, Pusher
 * Released under the MIT licence.
 */
var o;o=function(){return function(r){var o={};function n(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return r[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}return n.m=r,n.c=o,n.p="",n(0)}([function(e,t,r){"use strict";var o=r(1);e.exports=o.default},function(e,t,r){"use strict";var n=r(2),i=r(9),s=r(23),a=r(38),l=r(39),c=r(40),o=r(12),u=r(5),p=r(62),d=r(8),h=r(42),m=function(){function r(e,t){var o=this;!function(e){if(null==e)throw"You must pass your app key when you instantiate Pusher."}(e),t=t||{},this.key=e,this.config=i.extend(p.getGlobalConfig(),t.cluster?p.getClusterConfig(t.cluster):{},t),this.channels=h.default.createChannels(),this.global_emitter=new s.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new a.default(this.key,this.sessionID,{cluster:this.config.cluster,features:r.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:l.default.INFO,version:u.default.VERSION}),this.config.disableStats||(this.timelineSender=h.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+n.default.TimelineTransport.name}));this.connection=h.default.createConnectionManager(this.key,i.extend({getStrategy:function(e){var t=i.extend({},o.config,e);return c.build(n.default.getDefaultStrategy(t),t)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){o.subscribeAll(),o.timelineSender&&o.timelineSender.send(o.connection.isEncrypted())}),this.connection.bind("message",function(e){var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var r=o.channel(e.channel);r&&r.handleEvent(e.event,e.data)}t||o.global_emitter.emit(e.event,e.data)}),this.connection.bind("connecting",function(){o.channels.disconnect()}),this.connection.bind("disconnected",function(){o.channels.disconnect()}),this.connection.bind("error",function(e){d.default.warn("Error",e)}),r.instances.push(this),this.timeline.info({instances:r.instances.length}),r.isReady&&this.connect()}return r.ready=function(){r.isReady=!0;for(var e=0,t=r.instances.length;e<t;e++)r.instances[e].connect()},r.log=function(e){r.logToConsole&&window.console&&window.console.log&&window.console.log(e)},r.getClientFeatures=function(){return i.keys(i.filterObject({ws:n.default.Transports.ws},function(e){return e.isSupported({})}))},r.prototype.channel=function(e){return this.channels.find(e)},r.prototype.allChannels=function(){return this.channels.all()},r.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isEncrypted(),t=this.timelineSender;this.timelineSenderTimer=new o.PeriodicTimer(6e4,function(){t.send(e)})}},r.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},r.prototype.bind=function(e,t){return this.global_emitter.bind(e,t),this},r.prototype.unbind=function(e,t){return this.global_emitter.unbind(e,t),this},r.prototype.bind_all=function(e){return this.global_emitter.bind_all(e),this},r.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},r.prototype.subscribe=function(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t},r.prototype.unsubscribe=function(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&"connected"===this.connection.state&&t.unsubscribe()},r.prototype.send_event=function(e,t,r){return this.connection.send_event(e,t,r)},r.prototype.isEncrypted=function(){return"https:"===n.default.getProtocol()||Boolean(this.config.encrypted)},r.instances=[],r.isReady=!1,r.logToConsole=!1,r.Runtime=n.default,r.ScriptReceivers=n.default.ScriptReceivers,r.DependenciesReceivers=n.default.DependenciesReceivers,r.auth_callbacks=n.default.auth_callbacks,r}();t.__esModule=!0,t.default=m,n.default.setup(m)},function(e,t,r){"use strict";var o=r(3),n=r(7),i=r(14),s=r(15),a=r(16),l=r(4),c=r(17),u=r(18),p=r(25),d=r(26),h=r(27),m=r(28),b={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:l.ScriptReceivers,DependenciesReceivers:o.DependenciesReceivers,getDefaultStrategy:d.default,Transports:u.default,transportConnectionInitializer:h.default,HTTPFactory:m.default,TimelineTransport:c.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(e){var t=this;window.Pusher=e;var r=function(){t.onDocumentBody(e.ready)};window.JSON?r():o.Dependencies.load("json2",{},r)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:n.default,jsonp:i.default}},onDocumentBody:function(e){var t=this;document.body?e():setTimeout(function(){t.onDocumentBody(e)},0)},createJSONPRequest:function(e,t){return new a.default(e,t)},createScriptRequest:function(e){return new s.default(e)},getLocalStorage:function(){try{return window.localStorage}catch(e){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return p.Network},createWebSocket:function(e){return new(this.getWebSocketAPI())(e)},createSocketRequest:function(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var e=this.getXHRAPI();return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported:function(e){var t=e?"https:":"http:",r=this.getProtocol();return Boolean(window.XDomainRequest)&&r===t},addUnloadListener:function(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener:function(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)}};t.__esModule=!0,t.default=b},function(e,t,r){"use strict";var o=r(4),n=r(5),i=r(6);t.DependenciesReceivers=new o.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),t.Dependencies=new i.default({cdn_http:n.default.cdn_http,cdn_https:n.default.cdn_https,version:n.default.VERSION,suffix:n.default.dependency_suffix,receivers:t.DependenciesReceivers})},function(e,t){"use strict";var r=function(){function e(e,t){this.lastId=0,this.prefix=e,this.name=t}return e.prototype.create=function(e){this.lastId++;var t=this.lastId,r=this.prefix+t,o=this.name+"["+t+"]",n=!1,i=function(){n||(e.apply(null,arguments),n=!0)};return{number:t,id:r,name:o,callback:this[t]=i}},e.prototype.remove=function(e){delete this[e.number]},e}();t.ScriptReceiverFactory=r,t.ScriptReceivers=new r("_pusher_script_","Pusher.ScriptReceivers")},function(e,t){"use strict";t.__esModule=!0,t.default={VERSION:"3.2.4",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""}},function(e,t,r){"use strict";var o=r(4),l=r(2),n=function(){function e(e){this.options=e,this.receivers=e.receivers||o.ScriptReceivers,this.loading={}}return e.prototype.load=function(n,e,t){var i=this;if(i.loading[n]&&0<i.loading[n].length)i.loading[n].push(t);else{i.loading[n]=[t];var s=l.default.createScriptRequest(i.getPath(n,e)),a=i.receivers.create(function(e){if(i.receivers.remove(a),i.loading[n]){var t=i.loading[n];delete i.loading[n];for(var r=function(e){e||s.cleanup()},o=0;o<t.length;o++)t[o](e,r)}});s.send(a)}},e.prototype.getRoot=function(e){var t=l.default.getDocument().location.protocol;return(e&&e.encrypted||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},e.prototype.getPath=function(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"},e}();t.__esModule=!0,t.default=n},function(e,t,r){"use strict";var i=r(8),s=r(2);t.__esModule=!0,t.default=function(e,t,r){var o;for(var n in(o=s.default.createXHR()).open("POST",this.options.authEndpoint,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)o.setRequestHeader(n,this.authOptions.headers[n]);return o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var e,t=!1;try{e=JSON.parse(o.responseText),t=!0}catch(e){r(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+o.responseText)}t&&r(!1,e)}else i.default.warn("Couldn't get auth info from your webapp",o.status),r(!0,o.status)},o.send(this.composeQuery(t)),o}},function(e,t,r){"use strict";var o=r(9),n=r(1),i={debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];n.default.log&&n.default.log(o.stringify.apply(this,arguments))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=o.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(r):window.console.log&&window.console.log(r)),n.default.log&&n.default.log(r)}};t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var o=r(10),n=r(11);function i(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(e[r],r,e)}function s(e,t){for(var r=[],o=0;o<e.length;o++)r.push(t(e[o],o,e,r));return r}function a(e,r){var o={};return i(e,function(e,t){o[t]=r(e)}),o}function l(r,o){var n={};return i(r,function(e,t){(o&&o(e,t,r,n)||Boolean(e))&&(n[t]=e)}),n}function c(e){var r=[];return i(e,function(e,t){r.push([t,e])}),r}function u(e){return a(e,function(e){return"object"==typeof e&&(e=d(e)),encodeURIComponent(o.default(e.toString()))})}function p(e){var s=[],a=[];return function e(t,r){var o,n,i;switch(typeof t){case"object":if(!t)return null;for(o=0;o<s.length;o+=1)if(s[o]===t)return{$ref:a[o]};if(s.push(t),a.push(r),"[object Array]"===Object.prototype.toString.apply(t))for(i=[],o=0;o<t.length;o+=1)i[o]=e(t[o],r+"["+o+"]");else for(n in i={},t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=e(t[n],r+"["+JSON.stringify(n)+"]"));return i;case"number":case"string":case"boolean":return t}}(e,"$")}function d(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(p(t))}}t.extend=function e(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];for(var n=0;n<r.length;n++){var i=r[n];for(var s in i)i[s]&&i[s].constructor&&i[s].constructor===Object?t[s]=e(t[s]||{},i[s]):t[s]=i[s]}return t},t.stringify=function(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(d(arguments[t]));return e.join(" : ")},t.arrayIndexOf=function(e,t){var r=Array.prototype.indexOf;if(null===e)return-1;if(r&&e.indexOf===r)return e.indexOf(t);for(var o=0,n=e.length;o<n;o++)if(e[o]===t)return o;return-1},t.objectApply=i,t.keys=function(e){var r=[];return i(e,function(e,t){r.push(t)}),r},t.values=function(e){var t=[];return i(e,function(e){t.push(e)}),t},t.apply=function(e,t,r){for(var o=0;o<e.length;o++)t.call(r||window,e[o],o,e)},t.map=s,t.mapObject=a,t.filter=function(e,t){t=t||function(e){return!!e};for(var r=[],o=0;o<e.length;o++)t(e[o],o,e,r)&&r.push(e[o]);return r},t.filterObject=l,t.flatten=c,t.any=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r,e))return!0;return!1},t.all=function(e,t){for(var r=0;r<e.length;r++)if(!t(e[r],r,e))return!1;return!0},t.encodeParamsObject=u,t.buildQueryString=function(e){return s(c(u(l(e,function(e){return void 0!==e}))),n.default.method("join","=")).join("&")},t.decycleObject=p,t.safeJSONStringify=d},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return p(c(e))};for(var o=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={},s=0,a=n.length;s<a;s++)i[n.charAt(s)]=s;var l=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?o(192|t>>>6)+o(128|63&t):o(224|t>>>12&15)+o(128|t>>>6&63)+o(128|63&t)},c=function(e){return e.replace(/[^\x00-\x7F]/g,l)},u=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(1<e.length?e.charCodeAt(1):0)<<8|(2<e.length?e.charCodeAt(2):0);return[n.charAt(r>>>18),n.charAt(r>>>12&63),2<=t?"=":n.charAt(r>>>6&63),1<=t?"=":n.charAt(63&r)].join("")},p=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,u)}},function(e,t,r){"use strict";var o=r(12),n={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(e){return new o.OneOffTimer(0,e)},method:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,o.concat(arguments))}}};t.__esModule=!0,t.default=n},function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r(13);function i(e){window.clearTimeout(e)}function s(e){window.clearInterval(e)}var a=function(r){function e(e,t){r.call(this,setTimeout,i,e,function(e){return t(),null})}return o(e,r),e}(n.default);t.OneOffTimer=a;var l=function(r){function e(e,t){r.call(this,setInterval,s,e,function(e){return t(),e})}return o(e,r),e}(n.default);t.PeriodicTimer=l},function(e,t){"use strict";var r=function(){function e(e,t,r,o){var n=this;this.clear=t,this.timer=e(function(){n.timer&&(n.timer=o(n.timer))},r)}return e.prototype.isRunning=function(){return null!==this.timer},e.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},e}();t.__esModule=!0,t.default=r},function(e,t,r){"use strict";var l=r(8);t.__esModule=!0,t.default=function(e,t,r){void 0!==this.authOptions.headers&&l.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var o=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var n=e.getDocument(),i=n.createElement("script");e.auth_callbacks[o]=function(e){r(!1,e)};var s="Pusher.auth_callbacks['"+o+"']";i.src=this.options.authEndpoint+"?callback="+encodeURIComponent(s)+"&"+this.composeQuery(t);var a=n.getElementsByTagName("head")[0]||n.documentElement;a.insertBefore(i,a.firstChild)}},function(e,t){"use strict";var r=function(){function e(e){this.src=e}return e.prototype.send=function(e){var t=this,r="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(r)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){"loaded"!==t.script.readyState&&"complete"!==t.script.readyState||e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+r+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var o=document.getElementsByTagName("head")[0];o.insertBefore(t.script,o.firstChild),t.errorScript&&o.insertBefore(t.errorScript,t.script.nextSibling)},e.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},e}();t.__esModule=!0,t.default=r},function(e,t,r){"use strict";var o=r(9),n=r(2),i=function(){function e(e,t){this.url=e,this.data=t}return e.prototype.send=function(e){if(!this.request){var t=o.buildQueryString(this.data),r=this.url+"/"+e.number+"?"+t;this.request=n.default.createScriptRequest(r),this.request.send(e)}},e.prototype.cleanup=function(){this.request&&this.request.cleanup()},e}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var a=r(2),l=r(4),o={name:"jsonp",getAgent:function(i,s){return function(e,r){var t="http"+(s?"s":"")+"://"+(i.host||i.options.host)+i.options.path,o=a.default.createJSONPRequest(t,e),n=a.default.ScriptReceivers.create(function(e,t){l.ScriptReceivers.remove(n),o.cleanup(),t&&t.host&&(i.host=t.host),r&&r(e,t)});o.send(n)}}};t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var o=r(19),n=r(21),i=r(20),s=r(2),a=r(3),l=r(9),c=new n.default({file:"sockjs",urls:i.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:a.Dependencies.getPath("sockjs",{encrypted:t.encrypted}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),u={isSupported:function(e){return s.default.isXDRSupported(e.encrypted)}},p=new n.default(l.extend({},o.streamingConfiguration,u)),d=new n.default(l.extend({},o.pollingConfiguration,u));o.default.xdr_streaming=p,o.default.xdr_polling=d,o.default.sockjs=c,t.__esModule=!0,t.default=o.default},function(e,t,r){"use strict";var o=r(20),n=r(21),i=r(9),s=r(2),a=new n.default({urls:o.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(s.default.getWebSocketAPI())},isSupported:function(){return Boolean(s.default.getWebSocketAPI())},getSocket:function(e){return s.default.createWebSocket(e)}}),l={urls:o.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};t.streamingConfiguration=i.extend({getSocket:function(e){return s.default.HTTPFactory.createStreamingSocket(e)}},l),t.pollingConfiguration=i.extend({getSocket:function(e){return s.default.HTTPFactory.createPollingSocket(e)}},l);var c={isSupported:function(){return s.default.isXHRSupported()}},u={ws:a,xhr_streaming:new n.default(i.extend({},t.streamingConfiguration,c)),xhr_polling:new n.default(i.extend({},t.pollingConfiguration,c))};t.__esModule=!0,t.default=u},function(e,t,r){"use strict";var o=r(5);function n(e,t,r){return e+(t.encrypted?"s":"")+"://"+(t.encrypted?t.hostEncrypted:t.hostUnencrypted)+r}function i(e,t){return"/app/"+e+("?protocol="+o.default.PROTOCOL+"&client=js&version="+o.default.VERSION+(t?"&"+t:""))}t.ws={getInitial:function(e,t){return n("ws",t,i(e,"flash=false"))}},t.http={getInitial:function(e,t){return n("http",t,(t.httpPath||"/pusher")+i(e))}},t.sockjs={getInitial:function(e,t){return n("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return i(e)}}},function(e,t,r){"use strict";var n=r(22),o=function(){function e(e){this.hooks=e}return e.prototype.isSupported=function(e){return this.hooks.isSupported(e)},e.prototype.createConnection=function(e,t,r,o){return new n.default(this.hooks,e,t,r,o)},e}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r(11),s=r(9),i=r(23),a=r(8),l=r(2),c=function(i){function e(e,t,r,o,n){i.call(this),this.initialize=l.default.transportConnectionInitializer,this.hooks=e,this.name=t,this.priority=r,this.key=o,this.options=n,this.state="new",this.timeline=n.timeline,this.activityTimeout=n.activityTimeout,this.id=this.timeline.generateUniqueID()}return o(e,i),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return n.default.defer(function(){t.onError(e),t.changeState("closed")}),!1}return this.bindListeners(),a.default.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(e){var t=this;return"open"===this.state&&(n.default.defer(function(){t.socket&&t.socket.send(e)}),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))},e.prototype.onClose=function(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(e){this.emit("message",e)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)},e.prototype.buildTimelineMessage=function(e){return s.extend({cid:this.id},e)},e}(i.default);t.__esModule=!0,t.default=c},function(e,t,r){"use strict";var o=r(24),n=function(){function e(e){this.callbacks=new o.default,this.global_callbacks=[],this.failThrough=e}return e.prototype.bind=function(e,t,r){return this.callbacks.add(e,t,r),this},e.prototype.bind_all=function(e){return this.global_callbacks.push(e),this},e.prototype.unbind=function(e,t,r){return this.callbacks.remove(e,t,r),this},e.prototype.unbind_all=function(e,t){return this.callbacks.remove(e,t),this},e.prototype.emit=function(e,t){var r;for(r=0;r<this.global_callbacks.length;r++)this.global_callbacks[r](e,t);var o=this.callbacks.get(e);if(o&&0<o.length)for(r=0;r<o.length;r++)o[r].fn.call(o[r].context||window,t);else this.failThrough&&this.failThrough(e,t);return this},e}();t.__esModule=!0,t.default=n},function(e,t,r){"use strict";var n=r(9),o=function(){function e(){this._callbacks={}}return e.prototype.get=function(e){return this._callbacks[i(e)]},e.prototype.add=function(e,t,r){var o=i(e);this._callbacks[o]=this._callbacks[o]||[],this._callbacks[o].push({fn:t,context:r})},e.prototype.remove=function(e,t,r){if(e||t||r){var o=e?[i(e)]:n.keys(this._callbacks);t||r?this.removeCallback(o,t,r):this.removeAllCallbacks(o)}else this._callbacks={}},e.prototype.removeCallback=function(e,t,r){n.apply(e,function(e){this._callbacks[e]=n.filter(this._callbacks[e]||[],function(e){return t&&t!==e.fn||r&&r!==e.context}),0===this._callbacks[e].length&&delete this._callbacks[e]},this)},e.prototype.removeAllCallbacks=function(e){n.apply(e,function(e){delete this._callbacks[e]},this)},e}();function i(e){return"_"+e}t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=function(t){function e(){t.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}return o(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(r(23).default);t.NetInfo=n,t.Network=new n},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t;return t=e.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:e.wsHost+":"+e.wsPort,hostEncrypted:e.wsHost+":"+e.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:e.httpHost+":"+e.httpPort,hostEncrypted:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],t,":http_fallback_loop"]]]]]}},function(e,t,r){"use strict";var o=r(3);t.__esModule=!0,t.default=function(){var r=this;r.timeline.info(r.buildTimelineMessage({transport:r.name+(r.options.encrypted?"s":"")})),r.hooks.isInitialized()?r.changeState("initialized"):r.hooks.file?(r.changeState("initializing"),o.Dependencies.load(r.hooks.file,{encrypted:r.options.encrypted},function(e,t){r.hooks.isInitialized()?(r.changeState("initialized"),t(!0)):(e&&r.onError(e),r.onClose(),t(!1))})):r.onClose()}},function(e,t,r){"use strict";var o=r(29),n=r(31);n.default.createXDR=function(e,t){return this.createRequest(o.default,e,t)},t.__esModule=!0,t.default=n.default},function(e,t,r){"use strict";var o=r(30),n={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new o.RequestTimedOut),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&0<e.responseText.length&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&0<e.responseText.length&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}};t.__esModule=!0,t.default=n},function(e,t){"use strict";var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.BadEventName=o;var n=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.RequestTimedOut=n;var i=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.TransportPriorityTooLow=i;var s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.TransportClosed=s;var a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.UnsupportedTransport=a;var l=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.UnsupportedStrategy=l},function(e,t,r){"use strict";var o=r(32),n=r(33),i=r(35),s=r(36),a=r(37),l={createStreamingSocket:function(e){return this.createSocket(i.default,e)},createPollingSocket:function(e){return this.createSocket(s.default,e)},createSocket:function(e,t){return new n.default(e,t)},createXHR:function(e,t){return this.createRequest(a.default,e,t)},createRequest:function(e,t,r){return new o.default(e,t,r)}};t.__esModule=!0,t.default=l},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},i=r(2),o=r(23),s=function(o){function e(e,t,r){o.call(this),this.hooks=e,this.method=t,this.url=r}return n(e,o),e.prototype.start=function(e){var t=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){t.close()},i.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)},e.prototype.close=function(){this.unloader&&(i.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(e,t){for(;;){var r=this.advanceBuffer(t);if(!r)break;this.emit("chunk",{status:e,data:r})}this.isBufferTooLong(t)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(e){var t=e.slice(this.position),r=t.indexOf("\n");return-1!==r?(this.position+=r+1,t.slice(0,r)):null},e.prototype.isBufferTooLong=function(e){return this.position===e.length&&262144<e.length},e}(o.default);t.__esModule=!0,t.default=s},function(e,t,r){"use strict";var n=r(34),o=r(11),i=r(2),s=1,a=function(){function e(e,t){var r;this.hooks=e,this.session=c(1e3)+"/"+function(e){for(var t=[],r=0;r<e;r++)t.push(c(32).toString(32));return t.join("")}(8),this.location={base:(r=/([^\?]*)\/*(\??.*)/.exec(t))[1],queryString:r[2]},this.readyState=n.default.CONNECTING,this.openStream()}return e.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},e.prototype.ping=function(){this.hooks.sendHeartbeat(this)},e.prototype.close=function(e,t){this.onClose(e,t,!0)},e.prototype.sendRaw=function(e){if(this.readyState!==n.default.OPEN)return!1;try{return i.default.createSocketRequest("POST",l((t=this.location,r=this.session,t.base+"/"+r+"/xhr_send"))).start(e),!0}catch(e){return!1}var t,r},e.prototype.reconnect=function(){this.closeStream(),this.openStream()},e.prototype.onClose=function(e,t,r){this.closeStream(),this.readyState=n.default.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:r})},e.prototype.onChunk=function(e){var t;if(200===e.status)switch(this.readyState===n.default.OPEN&&this.onActivity(),e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var r=0;r<t.length;r++)this.onEvent(t[r]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}},e.prototype.onOpen=function(e){var t,r,o;this.readyState===n.default.CONNECTING?(e&&e.hostname&&(this.location.base=(t=this.location.base,r=e.hostname,(o=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t))[1]+r+o[3])),this.readyState=n.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},e.prototype.onEvent=function(e){this.readyState===n.default.OPEN&&this.onmessage&&this.onmessage({data:e})},e.prototype.onActivity=function(){this.onactivity&&this.onactivity()},e.prototype.onError=function(e){this.onerror&&this.onerror(e)},e.prototype.openStream=function(){var t=this;this.stream=i.default.createSocketRequest("POST",l(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){o.default.defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},e.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},e}();function l(e){var t=-1===e.indexOf("?")?"?":"&";return e+t+"t="+ +new Date+"&n="+s++}function c(e){return Math.floor(Math.random()*e)}t.__esModule=!0,t.default=a},function(e,t){"use strict";var r,o;(o=r||(r={}))[o.CONNECTING=0]="CONNECTING",o[o.OPEN=1]="OPEN",o[o.CLOSED=3]="CLOSED",t.__esModule=!0,t.default=r},function(e,t){"use strict";t.__esModule=!0,t.default={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}}},function(e,t){"use strict";t.__esModule=!0,t.default={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}}},function(e,t,r){"use strict";var o=r(2),n={getRequest:function(e){var t=new(o.default.getXHRAPI());return t.onreadystatechange=t.onprogress=function(){switch(t.readyState){case 3:t.responseText&&0<t.responseText.length&&e.onChunk(t.status,t.responseText);break;case 4:t.responseText&&0<t.responseText.length&&e.onChunk(t.status,t.responseText),e.emit("finished",t.status),e.close()}},t},abortRequest:function(e){e.onreadystatechange=null,e.abort()}};t.__esModule=!0,t.default=n},function(e,t,r){"use strict";var n=r(9),o=r(11),i=r(39),s=function(){function e(e,t,r){this.key=e,this.session=t,this.events=[],this.options=r||{},this.sent=0,this.uniqueID=0}return e.prototype.log=function(e,t){e<=this.options.level&&(this.events.push(n.extend({},t,{timestamp:o.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.prototype.error=function(e){this.log(i.default.ERROR,e)},e.prototype.info=function(e){this.log(i.default.INFO,e)},e.prototype.debug=function(e){this.log(i.default.DEBUG,e)},e.prototype.isEmpty=function(){return 0===this.events.length},e.prototype.send=function(e,r){var o=this,t=n.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(t,function(e,t){e||o.sent++,r&&r(e,t)}),!0},e.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},e}();t.__esModule=!0,t.default=s},function(e,t){"use strict";var r,o;(o=r||(r={}))[o.ERROR=3]="ERROR",o[o.INFO=6]="INFO",o[o.DEBUG=7]="DEBUG",t.__esModule=!0,t.default=r},function(e,t,r){"use strict";var c=r(9),o=r(11),n=r(41),u=r(30),p=r(55),i=r(56),s=r(57),a=r(58),l=r(59),d=r(60),h=r(61),m=r(2).default.Transports;t.build=function(e,t){return k(e,c.extend({},f,t))[1].strategy};var b={isSupported:function(){return!1},connect:function(e,t){var r=o.default.defer(function(){t(new u.UnsupportedStrategy)});return{abort:function(){r.ensureAborted()},forceMinPriority:function(){}}}};function y(t){return function(e){return[t.apply(this,arguments),e]}}var f={extend:function(e,t,r){return[c.extend({},t,r),e]},def:function(e,t,r){if(void 0!==e[t])throw"Redefining symbol "+t;return e[t]=r,[void 0,e]},def_transport:function(e,t,r,o,n,i){var s,a=m[r];if(!a)throw new u.UnsupportedTransport(r);s=!(e.enabledTransports&&-1===c.arrayIndexOf(e.enabledTransports,t)||e.disabledTransports&&-1!==c.arrayIndexOf(e.disabledTransports,t))?new p.default(t,o,i?i.getAssistant(a):a,c.extend({key:e.key,encrypted:e.encrypted,timeline:e.timeline,ignoreNullOrigin:e.ignoreNullOrigin},n)):b;var l=e.def(e,t,s)[1];return l.Transports=e.Transports||{},l.Transports[t]=s,[void 0,l]},transport_manager:y(function(e,t){return new n.default(t)}),sequential:y(function(e,t){var r=Array.prototype.slice.call(arguments,2);return new i.default(r,t)}),cached:y(function(e,t,r){return new a.default(r,e.Transports,{ttl:t,timeline:e.timeline,encrypted:e.encrypted})}),first_connected:y(function(e,t){return new h.default(t)}),best_connected_ever:y(function(){var e=Array.prototype.slice.call(arguments,1);return new s.default(e)}),delayed:y(function(e,t,r){return new l.default(r,{delay:t})}),if:y(function(e,t,r,o){return new d.default(t,r,o)}),is_supported:y(function(e,t){return function(){return t.isSupported()}})};function g(e){return"string"==typeof e&&":"===e.charAt(0)}function v(e,t){return t[e.slice(1)]}function w(e,t){if(g(e[0])){var r=v(e[0],t);if(1<e.length){if("function"!=typeof r)throw"Calling non-function "+e[0];var o=[c.extend({},t)].concat(c.map(e.slice(1),function(e){return k(e,c.extend({},t))[0]}));return r.apply(this,o)}return[r,t]}return function e(t,r){if(0===t.length)return[[],r];var o=k(t[0],r),n=e(t.slice(1),o[1]);return[[o[0]].concat(n[0]),n[1]]}(e,t)}function k(e,t){return"string"==typeof e?function(e,t){if(!g(e))return[e,t];var r=v(e,t);if(void 0===r)throw"Undefined symbol "+e;return[r,t]}(e,t):"object"==typeof e&&e instanceof Array&&0<e.length?w(e,t):[e,t]}},function(e,t,r){"use strict";var o=r(42),n=function(){function e(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return e.prototype.getAssistant=function(e){return o.default.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.prototype.isAlive=function(){return 0<this.livesLeft},e.prototype.reportDeath=function(){this.livesLeft-=1},e}();t.__esModule=!0,t.default=n},function(e,t,r){"use strict";var o=r(43),n=r(44),i=r(47),s=r(48),a=r(49),l=r(50),c=r(51),u=r(53),p=r(54),d={createChannels:function(){return new p.default},createConnectionManager:function(e,t){return new u.default(e,t)},createChannel:function(e,t){return new c.default(e,t)},createPrivateChannel:function(e,t){return new l.default(e,t)},createPresenceChannel:function(e,t){return new a.default(e,t)},createTimelineSender:function(e,t){return new s.default(e,t)},createAuthorizer:function(e,t){return new i.default(e,t)},createHandshake:function(e,t){return new n.default(e,t)},createAssistantToTheTransportManager:function(e,t,r){return new o.default(e,t,r)}};t.__esModule=!0,t.default=d},function(e,t,r){"use strict";var c=r(11),u=r(9),o=function(){function e(e,t,r){this.manager=e,this.transport=t,this.minPingDelay=r.minPingDelay,this.maxPingDelay=r.maxPingDelay,this.pingDelay=void 0}return e.prototype.createConnection=function(e,t,r,o){var n=this;o=u.extend({},o,{activityTimeout:this.pingDelay});var i=this.transport.createConnection(e,t,r,o),s=null,a=function(){i.unbind("open",a),i.bind("closed",l),s=c.default.now()},l=function(e){if(i.unbind("closed",l),1002===e.code||1003===e.code)n.manager.reportDeath();else if(!e.wasClean&&s){var t=c.default.now()-s;t<2*n.maxPingDelay&&(n.manager.reportDeath(),n.pingDelay=Math.max(t/2,n.minPingDelay))}};return i.bind("open",a),i},e.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},e}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var o=r(9),n=r(45),i=r(46),s=function(){function e(e,t){this.transport=e,this.callback=t,this.bindListeners()}return e.prototype.close=function(){this.unbindListeners(),this.transport.close()},e.prototype.bindListeners=function(){var o=this;this.onMessage=function(e){var t;o.unbindListeners();try{t=n.processHandshake(e)}catch(e){return o.finish("error",{error:e}),void o.transport.close()}"connected"===t.action?o.finish("connected",{connection:new i.default(t.id,o.transport),activityTimeout:t.activityTimeout}):(o.finish(t.action,{error:t.error}),o.transport.close())},this.onClosed=function(e){o.unbindListeners();var t=n.getCloseAction(e)||"backoff",r=n.getCloseError(e);o.finish(t,{error:r})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},e.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.prototype.finish=function(e,t){this.callback(o.extend({transport:this.transport,action:e},t))},e}();t.__esModule=!0,t.default=s},function(e,t){"use strict";t.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(e){if(!(e instanceof SyntaxError))throw e}return e}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},t.encodeMessage=function(e){return JSON.stringify(e)},t.processHandshake=function(e){if("pusher:connection_established"===(e=t.decodeMessage(e)).event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},t.getCloseAction=function(e){return e.code<4e3?1002<=e.code&&e.code<=1004?"backoff":null:4e3===e.code?"ssl_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},t.getCloseError=function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}},function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r(9),i=r(23),s=r(45),a=r(8),l=function(r){function e(e,t){r.call(this),this.id=e,this.transport=t,this.activityTimeout=t.activityTimeout,this.bindListeners()}return o(e,r),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(e){return this.transport.send(e)},e.prototype.send_event=function(e,t,r){var o={event:e,data:t};return r&&(o.channel=r),a.default.debug("Event sent",o),this.send(s.encodeMessage(o))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var r=this,e={message:function(t){var e;try{e=s.decodeMessage(t)}catch(e){r.emit("error",{type:"MessageParseError",error:e,data:t.data})}if(void 0!==e){switch(a.default.debug("Event recd",e),e.event){case"pusher:error":r.emit("error",{type:"PusherError",data:e.data});break;case"pusher:ping":r.emit("ping");break;case"pusher:pong":r.emit("pong")}r.emit("message",e)}},activity:function(){r.emit("activity")},error:function(e){r.emit("error",{type:"WebSocketError",error:e})},closed:function(e){t(),e&&e.code&&r.handleCloseEvent(e),r.transport=null,r.emit("closed")}},t=function(){n.objectApply(e,function(e,t){r.transport.unbind(t,e)})};n.objectApply(e,function(e,t){r.transport.bind(t,e)})},e.prototype.handleCloseEvent=function(e){var t=s.getCloseAction(e),r=s.getCloseError(e);r&&this.emit("error",r),t&&this.emit(t)},e}(i.default);t.__esModule=!0,t.default=l},function(e,t,r){"use strict";var o=r(2),n=function(){function r(e,t){this.channel=e;var r=t.authTransport;if(void 0===o.default.getAuthorizers()[r])throw"'"+r+"' is not a recognized auth transport";this.type=r,this.options=t,this.authOptions=(t||{}).auth||{}}return r.prototype.composeQuery=function(e){var t="socket_id="+encodeURIComponent(e)+"&channel_name="+encodeURIComponent(this.channel.name);for(var r in this.authOptions.params)t+="&"+encodeURIComponent(r)+"="+encodeURIComponent(this.authOptions.params[r]);return t},r.prototype.authorize=function(e,t){return(r.authorizers=r.authorizers||o.default.getAuthorizers())[this.type].call(this,o.default,e,t)},r}();t.__esModule=!0,t.default=n},function(e,t,r){"use strict";var o=r(2),n=function(){function e(e,t){this.timeline=e,this.options=t||{}}return e.prototype.send=function(e,t){this.timeline.isEmpty()||this.timeline.send(o.default.TimelineTransport.getAgent(this,e),t)},e}();t.__esModule=!0,t.default=n},function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r(50),i=r(8),s=r(52),a=function(r){function e(e,t){r.call(this,e,t),this.members=new s.default}return o(e,r),e.prototype.authorize=function(e,o){var n=this;r.prototype.authorize.call(this,e,function(e,t){if(!e){if(void 0===t.channel_data)return i.default.warn("Invalid auth response for channel '"+n.name+"', expected 'channel_data' field"),void o("Invalid auth response");var r=JSON.parse(t.channel_data);n.members.setMyID(r.user_id)}o(e,t)})},e.prototype.handleEvent=function(e,t){switch(e){case"pusher_internal:subscription_succeeded":this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t),this.emit("pusher:subscription_succeeded",this.members));break;case"pusher_internal:member_added":var r=this.members.addMember(t);this.emit("pusher:member_added",r);break;case"pusher_internal:member_removed":var o=this.members.removeMember(t);o&&this.emit("pusher:member_removed",o);break;default:n.default.prototype.handleEvent.call(this,e,t)}},e.prototype.disconnect=function(){this.members.reset(),r.prototype.disconnect.call(this)},e}(n.default);t.__esModule=!0,t.default=a},function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r(42),i=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.authorize=function(e,t){return n.default.createAuthorizer(this,this.pusher.config).authorize(e,t)},t}(r(51).default);t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r(23),i=r(30),s=r(8),a=function(t){function e(r,e){t.call(this,function(e,t){s.default.debug("No callbacks on "+r+" for "+e)}),this.name=r,this.pusher=e,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return o(e,t),e.prototype.authorize=function(e,t){return t(!1,{})},e.prototype.trigger=function(e,t){if(0!==e.indexOf("client-"))throw new i.BadEventName("Event '"+e+"' does not start with 'client-'");return this.pusher.send_event(e,t,this.name)},e.prototype.disconnect=function(){this.subscribed=!1},e.prototype.handleEvent=function(e,t){0===e.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===e&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t)):this.emit(e,t)},e.prototype.subscribe=function(){var r=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(e,t){e?r.handleEvent("pusher:subscription_error",t):r.pusher.send_event("pusher:subscribe",{auth:t.auth,channel_data:t.channel_data,channel:r.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(n.default);t.__esModule=!0,t.default=a},function(e,t,r){"use strict";var n=r(9),o=function(){function e(){this.reset()}return e.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},e.prototype.each=function(r){var o=this;n.objectApply(this.members,function(e,t){r(o.get(t))})},e.prototype.setMyID=function(e){this.myID=e},e.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},e.prototype.addMember=function(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},e.prototype.removeMember=function(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t},e.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},e}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var o=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function o(){this.constructor=e}e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},n=r(23),i=r(12),s=r(8),a=r(9),l=r(2),c=function(n){function e(e,t){var r=this;n.call(this),this.key=e,this.options=t||{},this.state="initialized",this.connection=null,this.encrypted=!!t.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var o=l.default.getNetwork();o.bind("online",function(){r.timeline.info({netinfo:"online"}),"connecting"!==r.state&&"unavailable"!==r.state||r.retryIn(0)}),o.bind("offline",function(){r.timeline.info({netinfo:"offline"}),r.connection&&r.sendActivityCheck()}),this.updateStrategy()}return o(e,n),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(e){return!!this.connection&&this.connection.send(e)},e.prototype.send_event=function(e,t,r){return!!this.connection&&this.connection.send_event(e,t,r)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isEncrypted=function(){return this.encrypted},e.prototype.startConnecting=function(){var r=this,o=function(e,t){e?r.runner=r.strategy.connect(0,o):"error"===t.action?(r.emit("error",{type:"HandshakeError",error:t.error}),r.timeline.error({handshakeError:t.error})):(r.abortConnecting(),r.handshakeCallbacks[t.action](t))};this.runner=this.strategy.connect(0,o)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection)&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},e.prototype.retryIn=function(e){var t=this;this.timeline.info({action:"retry",delay:e}),0<e&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new i.OneOffTimer(e||0,function(){t.disconnectInternally(),t.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var e=this;this.unavailableTimer=new i.OneOffTimer(this.options.unavailableTimeout,function(){e.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new i.OneOffTimer(this.options.pongTimeout,function(){e.timeline.error({pong_timed_out:e.options.pongTimeout}),e.retryIn(0)})},e.prototype.resetActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.handlesActivityChecks()||(this.activityTimer=new i.OneOffTimer(this.activityTimeout,function(){e.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},e.prototype.buildHandshakeCallbacks=function(e){var t=this;return a.extend({},e,{connected:function(e){t.activityTimeout=Math.min(t.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),t.clearUnavailableTimer(),t.setConnection(e.connection),t.socket_id=t.connection.id,t.updateState("connected",{socket_id:t.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var r=this,e=function(t){return function(e){e.error&&r.emit("error",{type:"WebSocketError",error:e.error}),t(e)}};return{ssl_only:e(function(){r.encrypted=!0,r.updateStrategy(),r.retryIn(0)}),refused:e(function(){r.disconnect()}),backoff:e(function(){r.retryIn(1e3)}),retry:e(function(){r.retryIn(0)})}},e.prototype.setConnection=function(e){for(var t in this.connection=e,this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var e in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}},e.prototype.updateState=function(e,t){var r=this.state;if(r!==(this.state=e)){var o=e;"connected"===o&&(o+=" with new socket ID "+t.socket_id),s.default.debug("State changed",r+" -> "+o),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:r,current:e}),this.emit(e,t)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(n.default);t.__esModule=!0,t.default=c},function(e,t,r){"use strict";var o=r(9),n=r(42),i=function(){function e(){this.channels={}}return e.prototype.add=function(e,t){var r,o;return this.channels[e]||(this.channels[e]=(o=t,0===(r=e).indexOf("private-")?n.default.createPrivateChannel(r,o):0===r.indexOf("presence-")?n.default.createPresenceChannel(r,o):n.default.createChannel(r,o))),this.channels[e]},e.prototype.all=function(){return o.values(this.channels)},e.prototype.find=function(e){return this.channels[e]},e.prototype.remove=function(e){var t=this.channels[e];return delete this.channels[e],t},e.prototype.disconnect=function(){o.objectApply(this.channels,function(e){e.disconnect()})},e}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var p=r(42),o=r(11),d=r(30),h=r(9),n=function(){function e(e,t,r,o){this.name=e,this.priority=t,this.transport=r,this.options=o||{}}return e.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},e.prototype.connect=function(e,t){var r=this;if(!this.isSupported())return m(new d.UnsupportedStrategy,t);if(this.priority<e)return m(new d.TransportPriorityTooLow,t);var o=!1,n=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),i=null,s=function(){n.unbind("initialized",s),n.connect()},a=function(){i=p.default.createHandshake(n,function(e){o=!0,u(),t(null,e)})},l=function(e){u(),t(e)},c=function(){var e;u(),e=h.safeJSONStringify(n),t(new d.TransportClosed(e))},u=function(){n.unbind("initialized",s),n.unbind("open",a),n.unbind("error",l),n.unbind("closed",c)};return n.bind("initialized",s),n.bind("open",a),n.bind("error",l),n.bind("closed",c),n.initialize(),{abort:function(){o||(u(),i?i.close():n.close())},forceMinPriority:function(e){o||r.priority<e&&(i?i.close():n.close())}}},e}();function m(e,t){return o.default.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}t.__esModule=!0,t.default=n},function(e,t,r){"use strict";var o=r(9),n=r(11),s=r(12),i=function(){function e(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}return e.prototype.isSupported=function(){return o.any(this.strategies,n.default.method("isSupported"))},e.prototype.connect=function(r,o){var n=this,i=this.strategies,s=0,a=this.timeout,l=null,c=function(e,t){t?o(null,t):(s+=1,n.loop&&(s%=i.length),s<i.length?(a&&(a*=2,n.timeoutLimit&&(a=Math.min(a,n.timeoutLimit))),l=n.tryStrategy(i[s],r,{timeout:a,failFast:n.failFast},c)):o(!0))};return l=this.tryStrategy(i[s],r,{timeout:a,failFast:this.failFast},c),{abort:function(){l.abort()},forceMinPriority:function(e){r=e,l&&l.forceMinPriority(e)}}},e.prototype.tryStrategy=function(e,t,r,o){var n=null,i=null;return 0<r.timeout&&(n=new s.OneOffTimer(r.timeout,function(){i.abort(),o(!0)})),i=e.connect(t,function(e,t){e&&n&&n.isRunning()&&!r.failFast||(n&&n.ensureAborted(),o(e,t))}),{abort:function(){n&&n.ensureAborted(),i.abort()},forceMinPriority:function(e){i.forceMinPriority(e)}}},e}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var a=r(9),o=r(11),n=function(){function e(e){this.strategies=e}return e.prototype.isSupported=function(){return a.any(this.strategies,o.default.method("isSupported"))},e.prototype.connect=function(e,i){return t=this.strategies,n=e,s=function(o,n){return function(e,t){if(n[o].error=e)return r=n,void(a.all(r,function(e){return Boolean(e.error)})&&i(!0));var r;a.apply(n,function(e){e.forceMinPriority(t.transport.priority)}),i(null,t)}},r=a.map(t,function(e,t,r,o){return e.connect(n,s(t,o))}),{abort:function(){a.apply(r,l)},forceMinPriority:function(t){a.apply(r,function(e){e.forceMinPriority(t)})}};var t,n,s,r},e}();function l(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}t.__esModule=!0,t.default=n},function(e,t,r){"use strict";var c=r(11),u=r(2),p=r(56),d=r(9),o=function(){function e(e,t,r){this.strategy=e,this.transports=t,this.ttl=r.ttl||18e5,this.encrypted=r.encrypted,this.timeline=r.timeline}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(o,n){var i=this.encrypted,e=function(t){var e=u.default.getLocalStorage();if(e)try{var r=e[h(t)];if(r)return JSON.parse(r)}catch(e){m(t)}return null}(i),s=[this.strategy];if(e&&e.timestamp+this.ttl>=c.default.now()){var t=this.transports[e.transport];t&&(this.timeline.info({cached:!0,transport:e.transport,latency:e.latency}),s.push(new p.default([t],{timeout:2*e.latency+1e3,failFast:!0})))}var a=c.default.now(),l=s.pop().connect(o,function e(t,r){t?(m(i),0<s.length?(a=c.default.now(),l=s.pop().connect(o,e)):n(t)):(!function(e,t,r){var o=u.default.getLocalStorage();if(o)try{o[h(e)]=d.safeJSONStringify({timestamp:c.default.now(),transport:t,latency:r})}catch(e){}}(i,r.transport.name,c.default.now()-a),n(null,r))});return{abort:function(){l.abort()},forceMinPriority:function(e){o=e,l&&l.forceMinPriority(e)}}},e}();function h(e){return"pusherTransport"+(e?"Encrypted":"Unencrypted")}function m(e){var t=u.default.getLocalStorage();if(t)try{delete t[h(e)]}catch(e){}}t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var i=r(12),o=function(){function e(e,t){var r=t.delay;this.strategy=e,this.options={delay:r}}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(t,e){var r,o=this.strategy,n=new i.OneOffTimer(this.options.delay,function(){r=o.connect(t,e)});return{abort:function(){n.ensureAborted(),r&&r.abort()},forceMinPriority:function(e){t=e,r&&r.forceMinPriority(e)}}},e}();t.__esModule=!0,t.default=o},function(e,t){"use strict";var r=function(){function e(e,t,r){this.test=e,this.trueBranch=t,this.falseBranch=r}return e.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},e.prototype.connect=function(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)},e}();t.__esModule=!0,t.default=r},function(e,t){"use strict";var r=function(){function e(e){this.strategy=e}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,r){var o=this.strategy.connect(e,function(e,t){t&&o.abort(),r(e,t)});return o},e}();t.__esModule=!0,t.default=r},function(e,t,r){"use strict";var o=r(5);t.getGlobalConfig=function(){return{wsHost:o.default.host,wsPort:o.default.ws_port,wssPort:o.default.wss_port,httpHost:o.default.sockjs_host,httpPort:o.default.sockjs_http_port,httpsPort:o.default.sockjs_https_port,httpPath:o.default.sockjs_path,statsHost:o.default.stats_host,authEndpoint:o.default.channel_auth_endpoint,authTransport:o.default.channel_auth_transport,activity_timeout:o.default.activity_timeout,pong_timeout:o.default.pong_timeout,unavailable_timeout:o.default.unavailable_timeout}},t.getClusterConfig=function(e){return{wsHost:"ws-"+e+".pusher.com",httpHost:"sockjs-"+e+".pusher.com"}}}])},e.exports=o()},"./node_modules/raven-js/plugins/angular.js":function(e,t,r){var o=r("./node_modules/raven-js/src/utils.js").wrappedCallback,n=/^\[((?:[$a-zA-Z0-9]+:)?(?:[$a-zA-Z0-9]+))\] (.*?)\n?(\S+)$/,i="ngRaven";function s(t,e){function r(r,o){return function(e,t){r.captureException(e,{extra:{cause:t}}),o(e,t)}}(e=e||window.angular)&&(e.module(i,[]).provider("Raven",function(){this.$get=["$window",function(e){return t}]}).config(["$provide",function(e){e.decorator("$exceptionHandler",["Raven","$delegate",r])}]),t.setDataCallback(o(function(e){return s._normalizeData(e)})))}s._normalizeData=function(e){var t=e.exception;if(t){t=t.values[0];var r=n.exec(t.value);r&&(t.type=r[1],t.value=r[2],e.message=t.type+": "+t.value,e.extra.angularDocs=r[3].substr(0,250))}return e},s.moduleName=i,e.exports=s},"./node_modules/react-bootstrap/lib/NavDropdown.js":function(e,t,r){"use strict";t.__esModule=!0;var h=a(r("./node_modules/babel-runtime/helpers/objectWithoutProperties.js")),o=a(r("./node_modules/babel-runtime/helpers/classCallCheck.js")),n=a(r("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=a(r("./node_modules/babel-runtime/helpers/inherits.js")),m=a(r("./node_modules/babel-runtime/helpers/extends.js")),b=a(r("./node_modules/classnames/index.js")),y=a(r("./node_modules/react/index.js")),s=a(r("./node_modules/react-bootstrap/node_modules/prop-types/index.js")),f=a(r("./src/udemy/js/base-components/dropdown.react-component.js")),g=a(r("./node_modules/react-bootstrap/lib/utils/splitComponentProps.js")),v=a(r("./node_modules/react-bootstrap/lib/utils/ValidComponentChildren.js"));function a(e){return e&&e.__esModule?e:{default:e}}var l=(0,m.default)({},f.default.propTypes,{title:s.default.node.isRequired,noCaret:s.default.bool,active:s.default.bool,children:s.default.node}),c=function(e){function t(){return(0,o.default)(this,t),(0,n.default)(this,e.apply(this,arguments))}return(0,i.default)(t,e),t.prototype.isActive=function(e,t,r){var o=e.props,n=this;return!!(o.active||null!=t&&o.eventKey===t||r&&o.href===r)||(!!v.default.some(o.children,function(e){return n.isActive(e,t,r)})||o.active)},t.prototype.render=function(){var t=this,e=this.props,r=e.title,o=e.activeKey,n=e.activeHref,i=e.className,s=e.style,a=e.children,l=(0,h.default)(e,["title","activeKey","activeHref","className","style","children"]),c=this.isActive(this,o,n);delete l.active,delete l.eventKey;var u=(0,g.default)(l,f.default.ControlledComponent),p=u[0],d=u[1];return y.default.createElement(f.default,(0,m.default)({},p,{componentClass:"li",className:(0,b.default)(i,{active:c}),style:s}),y.default.createElement(f.default.Toggle,(0,m.default)({},d,{useAnchor:!0}),r),y.default.createElement(f.default.Menu,null,v.default.map(a,function(e){return y.default.cloneElement(e,{active:t.isActive(e,o,n)})})))},t}(y.default.Component);c.propTypes=l,t.default=c,e.exports=t.default},"./node_modules/react-highlight-words/dist/main.js":function(e,t,r){e.exports=function(r){var o={};function n(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return r[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}return n.m=r,n.c=o,n.p="",n(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(2),i=(o=n)&&o.__esModule?o:{default:o};t.default=i.default,e.exports=t.default},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var x=r(3),n=o(r(4)),O=o(r(14));function i(e){var t=e.activeClassName,n=void 0===t?"":t,r=e.activeIndex,i=void 0===r?-1:r,s=e.activeStyle,o=e.autoEscape,a=e.caseSensitive,l=void 0!==a&&a,c=e.className,u=e.findChunks,p=e.highlightClassName,d=void 0===p?"":p,h=e.highlightStyle,m=void 0===h?{}:h,b=e.highlightTag,y=void 0===b?"mark":b,f=e.sanitize,g=e.searchWords,v=e.textToHighlight,w=e.unhighlightClassName,k=void 0===w?"":w,C=e.unhighlightStyle,_=(0,x.findAll)({autoEscape:o,caseSensitive:l,findChunks:u,sanitize:f,searchWords:g,textToHighlight:v}),S=y,j=-1,E="",D=void 0;return O.default.createElement("span",{className:c},_.map(function(e,t){var r=v.substr(e.start,e.end-e.start);if(e.highlight){var o=++j===+i;return E=d+" "+(o?n:""),D=!0===o&&null!=s?Object.assign({},m,s):m,O.default.createElement(S,{className:E,key:t,style:D},r)}return O.default.createElement("span",{className:k,key:t,style:C},r)}))}i.propTypes={activeClassName:n.default.string,activeIndex:n.default.number,activeStyle:n.default.object,autoEscape:n.default.bool,className:n.default.string,findChunks:n.default.func,highlightClassName:n.default.string,highlightStyle:n.default.object,highlightTag:n.default.oneOfType([n.default.node,n.default.func,n.default.string]),sanitize:n.default.func,searchWords:n.default.arrayOf(n.default.string).isRequired,textToHighlight:n.default.string.isRequired,unhighlightClassName:n.default.string,unhighlightStyle:n.default.object},e.exports=t.default},function(e,t){e.exports=function(r){var o={};function n(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return r[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}return n.m=r,n.c=o,n.p="",n(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return o.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return o.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return o.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return o.findChunks}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.findAll=function(e){var t=e.autoEscape,r=e.caseSensitive,o=void 0!==r&&r,n=e.findChunks,i=void 0===n?u:n,s=e.sanitize,a=e.searchWords,l=e.textToHighlight;return p({chunksToHighlight:c({chunks:i({autoEscape:t,caseSensitive:o,sanitize:s,searchWords:a,textToHighlight:l})}),totalLength:l?l.length:0})};var c=t.combineChunks=function(e){var t=e.chunks;return t=t.sort(function(e,t){return e.start-t.start}).reduce(function(e,t){if(0===e.length)return[t];var r=e.pop();if(t.start<=r.end){var o=Math.max(r.end,t.end);e.push({start:r.start,end:o})}else e.push(r,t);return e},[])},u=function(e){var s=e.autoEscape,a=e.caseSensitive,t=e.sanitize,l=void 0===t?o:t,r=e.searchWords,c=e.textToHighlight;return c=l(c),r.filter(function(e){return e}).reduce(function(e,t){t=l(t),s&&(t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var r=new RegExp(t,a?"g":"gi"),o=void 0;o=r.exec(c);){var n=o.index,i=r.lastIndex;n<i&&e.push({start:n,end:i}),o.index==r.lastIndex&&r.lastIndex++}return e},[])};t.findChunks=u;var p=t.fillInChunks=function(e){var t=e.chunksToHighlight,r=e.totalLength,o=[],n=function(e,t,r){0<t-e&&o.push({start:e,end:t,highlight:r})};if(0===t.length)n(0,r,!1);else{var i=0;t.forEach(function(e){n(i,e.start,!1),n(e.start,e.end,!0),i=e.end}),n(i,r,!1)}return o};function o(e){return e}}])},function(r,e,o){(function(e){if("production"!==e.env.NODE_ENV){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;r.exports=o(6)(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},!0)}else r.exports=o(13)()}).call(e,o(5))},function(e,t){var r,o,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var l,c=[],u=!1,p=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):p=-1,c.length&&h())}function h(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,u=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function b(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||u||a(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=b,n.addListener=b,n.once=b,n.off=b,n.removeListener=b,n.removeAllListeners=b,n.emit=b,n.prependListener=b,n.prependOnceListener=b,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,r){(function(b){"use strict";var n=r(7),y=r(8),f=r(9),g=r(10),v=r(11),w=r(12);e.exports=function(a,p){var i="function"==typeof Symbol&&Symbol.iterator,s="@@iterator";var d="<<anonymous>>",e={array:t("array"),bool:t("boolean"),func:t("function"),number:t("number"),object:t("object"),string:t("string"),symbol:t("symbol"),any:r(n.thatReturnsNull),arrayOf:function(c){return r(function(e,t,r,o,n){if("function"!=typeof c)return new h("Property `"+n+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var i=e[t];if(!Array.isArray(i)){var s=m(i);return new h("Invalid "+o+" `"+n+"` of type `"+s+"` supplied to `"+r+"`, expected an array.")}for(var a=0;a<i.length;a++){var l=c(i,a,r,o,n+"["+a+"]",v);if(l instanceof Error)return l}return null})},element:r(function(e,t,r,o,n){var i=e[t];if(a(i))return null;var s=m(i);return new h("Invalid "+o+" `"+n+"` of type `"+s+"` supplied to `"+r+"`, expected a single ReactElement.")}),instanceOf:function(l){return r(function(e,t,r,o,n){if(e[t]instanceof l)return null;var i=l.name||d,s=(a=e[t],a.constructor&&a.constructor.name?a.constructor.name:d);var a;return new h("Invalid "+o+" `"+n+"` of type `"+s+"` supplied to `"+r+"`, expected instance of `"+i+"`.")})},node:r(function(e,t,r,o,n){return l(e[t])?null:new h("Invalid "+o+" `"+n+"` supplied to `"+r+"`, expected a ReactNode.")}),objectOf:function(c){return r(function(e,t,r,o,n){if("function"!=typeof c)return new h("Property `"+n+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var i=e[t],s=m(i);if("object"!==s)return new h("Invalid "+o+" `"+n+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var a in i)if(i.hasOwnProperty(a)){var l=c(i,a,r,o,n+"."+a,v);if(l instanceof Error)return l}return null})},oneOf:function(l){if(!Array.isArray(l))return"production"!==b.env.NODE_ENV&&f(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull;return r(function(e,t,r,o,n){for(var i=e[t],s=0;s<l.length;s++)if(c(i,l[s]))return null;var a=JSON.stringify(l);return new h("Invalid "+o+" `"+n+"` of value `"+i+"` supplied to `"+r+"`, expected one of "+a+".")})},oneOfType:function(a){if(!Array.isArray(a))return"production"!==b.env.NODE_ENV&&f(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var e=0;e<a.length;e++){var t=a[e];if("function"!=typeof t)return f(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",o(t),e),n.thatReturnsNull}return r(function(e,t,r,o,n){for(var i=0;i<a.length;i++){var s=a[i];if(null==s(e,t,r,o,n,v))return null}return new h("Invalid "+o+" `"+n+"` supplied to `"+r+"`.")})},shape:function(u){return r(function(e,t,r,o,n){var i=e[t],s=m(i);if("object"!==s)return new h("Invalid "+o+" `"+n+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var a in u){var l=u[a];if(l){var c=l(i,a,r,o,n+"."+a,v);if(c)return c}}return null})},exact:function(p){return r(function(e,t,r,o,n){var i=e[t],s=m(i);if("object"!==s)return new h("Invalid "+o+" `"+n+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");var a=g({},e[t],p);for(var l in a){var c=p[l];if(!c)return new h("Invalid "+o+" `"+n+"` key `"+l+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[t],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(p),null,"  "));var u=c(i,l,r,o,n+"."+l,v);if(u)return u}return null})}};function c(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){this.message=e,this.stack=""}function r(l){if("production"!==b.env.NODE_ENV)var c={},u=0;function e(e,t,r,o,n,i,s){if(o=o||d,i=i||r,s!==v)if(p)y(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==b.env.NODE_ENV&&"undefined"!=typeof console){var a=o+":"+r;!c[a]&&u<3&&(f(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",i,o),c[a]=!0,u++)}return null==t[r]?e?null===t[r]?new h("The "+n+" `"+i+"` is marked as required in `"+o+"`, but its value is `null`."):new h("The "+n+" `"+i+"` is marked as required in `"+o+"`, but its value is `undefined`."):null:l(t,r,o,n,i)}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function t(a){return r(function(e,t,r,o,n,i){var s=e[t];return m(s)===a?null:new h("Invalid "+o+" `"+n+"` of type `"+u(s)+"` supplied to `"+r+"`, expected `"+a+"`.")})}function l(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(l);if(null===e||a(e))return!0;var t=function(e){var t=e&&(i&&e[i]||e[s]);if("function"==typeof t)return t}(e);if(!t)return!1;var r,o=t.call(e);if(t!==e.entries){for(;!(r=o.next()).done;)if(!l(r.value))return!1}else for(;!(r=o.next()).done;){var n=r.value;if(n&&!l(n[1]))return!1}return!0;default:return!1}}function m(e){var t,r=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=e,"symbol"===r||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol?"symbol":r)}function u(e){if(null==e)return""+e;var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function o(e){var t=u(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return h.prototype=Error.prototype,e.checkPropTypes=w,e.PropTypes=e}}).call(t,r(5))},function(e,t){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(t,e,r){(function(e){"use strict";var p=function(e){};"production"!==e.env.NODE_ENV&&(p=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),t.exports=function(e,t,r,o,n,i,s,a){if(p(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,n,i,s,a],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}}).call(e,r(5))},function(r,e,o){(function(e){"use strict";var t=o(7);if("production"!==e.env.NODE_ENV){t=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var r=arguments.length,o=Array(2<r?r-2:0),n=2;n<r;n++)o[n-2]=arguments[n];(function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var n=0,i="Warning: "+e.replace(/%s/g,function(){return r[n++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(o))}}}r.exports=t}).call(e,o(5))},function(e,t){
/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,o,n=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var s in r=Object(arguments[i]))c.call(r,s)&&(n[s]=r[s]);if(l){o=l(r);for(var a=0;a<o.length;a++)u.call(r,o[a])&&(n[o[a]]=r[o[a]])}}return n}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){(function(l){"use strict";if("production"!==l.env.NODE_ENV)var c=r(8),u=r(9),p=r(11),d={};e.exports=function(e,t,r,o,n){if("production"!==l.env.NODE_ENV)for(var i in e)if(e.hasOwnProperty(i)){var s;try{c("function"==typeof e[i],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",o||"React class",r,i,typeof e[i]),s=e[i](t,i,o,r,null,p)}catch(e){s=e}if(u(!s||s instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",o||"React class",r,i,typeof s),s instanceof Error&&!(s.message in d)){d[s.message]=!0;var a=n?n():"";u(!1,"Failed %s type: %s%s",r,s.message,null!=a?a:"")}}}}).call(t,r(5))},function(e,t,r){"use strict";var o=r(7),s=r(8),a=r(11);e.exports=function(){function e(e,t,r,o,n,i){i!==a&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}var r={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r}},function(e,t){e.exports=r("./node_modules/react/index.js")}])},"./node_modules/react-transition-group/TransitionGroup.js":function(e,t,r){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},l=n(r("./node_modules/chain-function/index.js")),c=n(r("./node_modules/react/index.js")),o=n(r("./node_modules/react-transition-group/node_modules/prop-types/index.js")),u=(n(r("./node_modules/warning/browser.js")),r("./node_modules/react-transition-group/utils/ChildMapping.js"));function n(e){return e&&e.__esModule?e:{default:e}}o.default.any,o.default.func,o.default.node;var i=function(r){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,r.call(this,e,t));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var r=(0,u.getChildMapping)(o.props.children);r&&r.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var r=(0,u.getChildMapping)(o.props.children);r&&r.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(r,e){e.componentDidLeave&&e.componentDidLeave(),delete o.currentlyTransitioningKeys[r];var t=(0,u.getChildMapping)(o.props.children);t&&t.hasOwnProperty(r)?o.keysToEnter.push(r):o.setState(function(e){var t=a({},e.children);return delete t[r],{children:t}})},o.childRefs=Object.create(null),o.state={children:(0,u.getChildMapping)(e.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),n.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},n.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},n.prototype.componentWillReceiveProps=function(e){var t=(0,u.getChildMapping)(e.children),r=this.state.children;for(var o in this.setState({children:(0,u.mergeChildMappings)(r,t)}),t){var n=r&&r.hasOwnProperty(o);!t[o]||n||this.currentlyTransitioningKeys[o]||this.keysToEnter.push(o)}for(var i in r){var s=t&&t.hasOwnProperty(i);!r[i]||s||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},n.prototype.componentDidUpdate=function(){var t=this,e=this.keysToEnter;this.keysToEnter=[],e.forEach(function(e){return t.performEnter(e,t.childRefs[e])});var r=this.keysToLeave;this.keysToLeave=[],r.forEach(function(e){return t.performLeave(e,t.childRefs[e])})},n.prototype.render=function(){var i=this,s=[],e=function(t){var e=i.state.children[t];if(e){var r="string"!=typeof e.ref,o=i.props.childFactory(e),n=function(e){i.childRefs[t]=e};o===e&&r&&(n=(0,l.default)(e.ref,n)),s.push(c.default.cloneElement(o,{key:t,ref:n}))}};for(var t in this.state.children)e(t);var r=a({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,c.default.createElement(this.props.component,r,s)},n}(c.default.Component);i.displayName="TransitionGroup",i.propTypes={},i.defaultProps={component:"span",childFactory:function(e){return e}},t.default=i,e.exports=t.default},"./node_modules/react-transition-group/node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,r){"use strict";var o=r("./node_modules/fbjs/lib/emptyFunction.js"),s=r("./node_modules/fbjs/lib/invariant.js"),a=r("./node_modules/react-transition-group/node_modules/prop-types/lib/ReactPropTypesSecret.js");e.exports=function(){function e(e,t,r,o,n,i){i!==a&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}var r={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r}},"./node_modules/react-transition-group/node_modules/prop-types/index.js":function(e,t,r){e.exports=r("./node_modules/react-transition-group/node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/react-transition-group/node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/react-transition-group/utils/ChildMapping.js":function(e,t,r){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return o.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(t,r){function e(e){return r.hasOwnProperty(e)?r[e]:t[e]}t=t||{},r=r||{};var o={},n=[];for(var i in t)r.hasOwnProperty(i)?n.length&&(o[i]=n,n=[]):n.push(i);var s=void 0,a={};for(var l in r){if(o.hasOwnProperty(l))for(s=0;s<o[l].length;s++){var c=o[l][s];a[o[l][s]]=e(c)}a[l]=e(l)}for(s=0;s<n.length;s++)a[n[s]]=e(n[s]);return a};var o=r("./node_modules/react/index.js")},"./node_modules/safe-json-parse/tuple.js":function(e,t){e.exports=function(e,t){var r,o=null;try{r=JSON.parse(e,t)}catch(e){o=e}return[o,r]}},"./node_modules/shifty/dist/shifty.js":function(o,e,t){(function(){var y,t=this||Function("return this")(),f=function(){"use strict";var p,r,d,h,m,b,e=Date.now?Date.now:function(){return+new Date},y="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:e;function n(){}function i(e,t){var r;for(r in e)Object.hasOwnProperty.call(e,r)&&t(r)}function s(t,r){return i(r,function(e){t[e]=r[e]}),t}function a(t,r){i(r,function(e){void 0===t[e]&&(t[e]=r[e])})}function f(e,t,r,o,n,i,s){var a,l,c,u=e<i?0:(e-i)/n;for(a in t)t.hasOwnProperty(a)&&(c="function"==typeof(l=s[a])?l:p[l],t[a]=g(r[a],o[a],c,u));return t}function g(e,t,r,o){return e+(t-e)*r(o)}function v(t,r){var o=u.prototype.filter,n=t._filterArgs;i(o,function(e){void 0!==o[e][r]&&o[e][r].apply(t,n)})}function l(e,t,r,o,n,i,s,a,l,c,u){d=t+r+o,h=Math.min(u||y(),d),m=d<=h,b=o-(d-h),e.isPlaying()&&(m?(l(s,e._attachment,b),e.stop(!0)):(e._scheduleId=c(e._timeoutHandler,1e3/60),v(e,"beforeTween"),h<t+r?f(1,n,i,s,1,1,a):f(h,n,i,s,o,t+r,a),v(e,"afterTween"),l(n,e._attachment,b)))}function c(e,t){var r={},o=typeof t;return i(e,"string"===o||"function"===o?function(e){r[e]=t}:function(e){r[e]||(r[e]=t[e]||"linear")}),r}function u(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=r,void 0!==t&&this.setConfig(t)}return r="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,u.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._timestamp=y(),this._start(this.get(),this._attachment),this.resume())},u.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||n,this._step=e.step||n,this._finish=e.finish||n,this._duration=e.duration||500,this._currentState=s({},e.from||this.get()),this._originalState=this.get(),this._targetState=s({},e.to||this.get());var t=this;this._timeoutHandler=function(){l(t,t._timestamp,t._delay,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)};var r=this._currentState,o=this._targetState;return a(o,r),this._easing=c(r,e.easing||"linear"),this._filterArgs=[r,this._originalState,o,this._easing],v(this,"tweenCreated"),this},u.prototype.get=function(){return s({},this._currentState)},u.prototype.set=function(e){this._currentState=e},u.prototype.pause=function(){return this._pausedAtTime=y(),this._isPaused=!0,this},u.prototype.resume=function(){return this._isPaused&&(this._timestamp+=y()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},u.prototype.seek=function(e){e=Math.max(e,0);var t=y();return this._timestamp+e===0||(this._timestamp=t-e,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,l(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause())),this},u.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=n,(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.mozCancelRequestAnimationFrame||t.clearTimeout)(this._scheduleId),e&&(v(this,"beforeTween"),f(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),v(this,"afterTween"),v(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},u.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},u.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},u.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},u.prototype.filter={},p=u.prototype.formula={linear:function(e){return e}},s(u,{now:y,each:i,tweenProps:f,tweenProp:g,applyFilter:v,shallowCopy:s,defaults:a,composeEasingObject:c}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=l),o.exports=u}();f.shallowCopy(f.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){return e*e*(2.70158*e-1.70158)},easeOutBack:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},swingFrom:function(e){return e*e*(2.70158*e-1.70158)},swingTo:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}}),function(){function u(e,t,r,o,n,i){var s,c=0,u=0,p=0,a=0,l=0,d=0;function h(e){return((c*e+u)*e+p)*e}function m(e){return 0<=e?e:0-e}return c=1-(p=3*t)-(u=3*(o-t)-p),a=1-(d=3*r)-(l=3*(n-r)-d),s=function(e,t){var r,o,n,i,s,a,l;for(n=e,a=0;a<8;a++){if(m(i=h(n)-e)<t)return n;if(m(s=(3*c*(l=n)+2*u)*l+p)<1e-6)break;n-=i/s}if(o=1,(n=e)<(r=0))return r;if(o<n)return o;for(;r<o;){if(m((i=h(n))-e)<t)return n;i<e?r=n:o=n,n=.5*(o-r)+r}return n}(e,1/(200*i)),((a*s+l)*s+d)*s}f.setBezierFunction=function(e,t,r,o,n){var i,s,a,l,c=(i=t,s=r,a=o,l=n,function(e){return u(e,i,s,a,l,1)});return c.displayName=e,c.x1=t,c.y1=r,c.x2=o,c.y2=n,f.prototype.formula[e]=c},f.unsetBezierFunction=function(e){delete f.prototype.formula[e]}}(),(y=new f)._filterArgs=[],f.interpolate=function(e,t,r,o,n){var i=f.shallowCopy({},e),s=n||0,a=f.composeEasingObject(e,o||"linear");y.set({});var l=y._filterArgs;l.length=0,l[0]=i,l[1]=e,l[2]=t,l[3]=a,f.applyFilter(y,"tweenCreated"),f.applyFilter(y,"beforeTween");var c,u,p,d,h,m,b=(c=e,u=i,p=t,d=r,h=a,m=s,f.tweenProps(d,u,c,p,1,m,h));return f.applyFilter(y,"afterTween"),b},function(c){var a=/(\d|\-|\.)/,l=/([^\-0-9\.]+)/g,i=/[0-9.\-]+/g,s=new RegExp("rgb\\("+i.source+/,\s*/.source+i.source+/,\s*/.source+i.source+"\\)","g"),u=/^.*\(/,o=/#([0-9]|[a-f]){3,6}/gi,p="VAL";function n(r){c.each(r,function(e){var t=r[e];"string"==typeof t&&t.match(o)&&(r[e]=m(o,t,d))})}function d(e){var t=function(e){3===(e=e.replace(/#/,"")).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);return r[0]=h(e.substr(0,2)),r[1]=h(e.substr(2,2)),r[2]=h(e.substr(4,2)),r}(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}var r=[];function h(e){return parseInt(e,16)}function m(e,t,r){var o=t.match(e),n=t.replace(e,p);if(o)for(var i,s=o.length,a=0;a<s;a++)i=o.shift(),n=n.replace(p,r(i));return n}function b(e){for(var t=e.match(i),r=t.length,o=e.match(u)[0],n=0;n<r;n++)o+=parseInt(t[n],10)+",";return o=o.slice(0,-1)+")"}function y(i){var s={};return c.each(i,function(e){var t,r,o=i[e];if("string"==typeof o){var n=w(o);s[e]={formatString:(t=o,r=t.match(l),r?(1===r.length||t.charAt(0).match(a))&&r.unshift(""):r=["",""],r.join(p)),chunkNames:function(e,t){var r,o=[],n=e.length;for(r=0;r<n;r++)o.push("_"+t+"_"+r);return o}(n,e)}}}),s}function f(n,i){c.each(i,function(e){for(var t=w(n[e]),r=t.length,o=0;o<r;o++)n[i[e].chunkNames[o]]=+t[o];delete n[e]})}function g(o,n){c.each(n,function(e){var t=o[e],r=function(e,t){v.length=0;for(var r=t.length,o=0;o<r;o++)v.push(e[t[o]]);return v}(function(e,t){for(var r,o={},n=t.length,i=0;i<n;i++)r=t[i],o[r]=e[r],delete e[r];return o}(o,n[e].chunkNames),n[e].chunkNames);t=function(e,t){for(var r=e,o=t.length,n=0;n<o;n++)r=r.replace(p,+t[n].toFixed(4));return r}(n[e].formatString,r),o[e]=m(s,t,b)})}var v=[];function w(e){return e.match(i)}c.prototype.filter.token={tweenCreated:function(e,t,r,o){n(e),n(t),n(r),this._tokenData=y(e)},beforeTween:function(e,t,r,o){var a,l;a=o,l=this._tokenData,c.each(l,function(e){var t,r=l[e].chunkNames,o=r.length,n=a[e];if("string"==typeof n){var i=n.split(" "),s=i[i.length-1];for(t=0;t<o;t++)a[r[t]]=i[t]||s}else for(t=0;t<o;t++)a[r[t]]=n;delete a[e]}),f(e,this._tokenData),f(t,this._tokenData),f(r,this._tokenData)},afterTween:function(e,t,r,o){var s,a;g(e,this._tokenData),g(t,this._tokenData),g(r,this._tokenData),s=o,a=this._tokenData,c.each(a,function(e){var t=a[e].chunkNames,r=t.length,o=s[t[0]];if("string"==typeof o){for(var n="",i=0;i<r;i++)n+=" "+s[t[i]],delete s[t[i]];s[e]=n.substr(1)}else s[e]=o})}}}(f)}).call(null)},"./node_modules/slick-carousel/slick/slick.js":function(t,r,o){var n,i,s;!function(e){"use strict";i=[o("./node_modules/jquery/dist/jquery.js-exposed")],void 0===(s="function"==typeof(n=function(c){var i=window.Slick||{};(n=0,i=function(e,t){var r,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:c(e),appendDots:c(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return c('<button type="button" data-role="none" role="button" tabindex="0" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},c.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.focussed=!1,o.interrupted=!1,o.hidden="hidden",o.paused=!0,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=c(e),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,r=c(e).data("slick")||{},o.options=c.extend({},o.defaults,t,r),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,void 0!==document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=c.proxy(o.autoPlay,o),o.autoPlayClear=c.proxy(o.autoPlayClear,o),o.autoPlayIterator=c.proxy(o.autoPlayIterator,o),o.changeSlide=c.proxy(o.changeSlide,o),o.clickHandler=c.proxy(o.clickHandler,o),o.selectHandler=c.proxy(o.selectHandler,o),o.setPosition=c.proxy(o.setPosition,o),o.swipeHandler=c.proxy(o.swipeHandler,o),o.dragHandler=c.proxy(o.dragHandler,o),o.keyHandler=c.proxy(o.keyHandler,o),o.instanceUid=n++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},i.prototype.addSlide=i.prototype.slickAdd=function(e,t,r){var o=this;if("boolean"==typeof t)r=t,t=null;else if(t<0||t>=o.slideCount)return!1;o.unload(),"number"==typeof t?0===t&&0===o.$slides.length?c(e).appendTo(o.$slideTrack):r?c(e).insertBefore(o.$slides.eq(t)):c(e).insertAfter(o.$slides.eq(t)):!0===r?c(e).prependTo(o.$slideTrack):c(e).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(e,t){c(t).attr("data-slick-index",e)}),o.$slidesCache=o.$slides,o.reinit()},i.prototype.animateHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var e=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.animate({height:e},this.options.speed)}},i.prototype.animateSlide=function(e,t){var r={},o=this;o.animateHeight(),!0===o.options.rtl&&!1===o.options.vertical&&(e=-e),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:e},o.options.speed,o.options.easing,t):o.$slideTrack.animate({top:e},o.options.speed,o.options.easing,t):!1===o.cssTransitions?(!0===o.options.rtl&&(o.currentLeft=-o.currentLeft),c({animStart:o.currentLeft}).animate({animStart:e},{duration:o.options.speed,easing:o.options.easing,step:function(e){e=Math.ceil(e),!1===o.options.vertical?r[o.animType]="translate("+e+"px, 0px)":r[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(r)},complete:function(){t&&t.call()}})):(o.applyTransition(),e=Math.ceil(e),!1===o.options.vertical?r[o.animType]="translate3d("+e+"px, 0px, 0px)":r[o.animType]="translate3d(0px,"+e+"px, 0px)",o.$slideTrack.css(r),t&&setTimeout(function(){o.disableTransition(),t.call()},o.options.speed))},i.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=c(e).not(this.$slider)),e},i.prototype.asNavFor=function(t){var e=this.getNavTarget();null!==e&&"object"==typeof e&&e.each(function(){var e=c(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},i.prototype.applyTransition=function(e){var t=this,r={};!1===t.options.fade?r[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:r[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(r):t.$slides.eq(e).css(r)},i.prototype.autoPlay=function(){this.autoPlayClear(),this.slideCount>this.options.slidesToShow&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))},i.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},i.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},i.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=c(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=c(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},i.prototype.buildDots=function(){var e,t,r=this;if(!0===r.options.dots&&r.slideCount>r.options.slidesToShow){for(r.$slider.addClass("slick-dotted"),t=c("<ul />").addClass(r.options.dotsClass),e=0;e<=r.getDotCount();e+=1)t.append(c("<li />").append(r.options.customPaging.call(this,r,e)));r.$dots=t.appendTo(r.options.appendDots),r.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},i.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){c(t).attr("data-slick-index",e).data("originalStyling",c(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?c('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),c("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},i.prototype.buildRows=function(){var e,t,r,o,n,i,s,a=this;if(o=document.createDocumentFragment(),i=a.$slider.children(),1<a.options.rows){for(s=a.options.slidesPerRow*a.options.rows,n=Math.ceil(i.length/s),e=0;e<n;e++){var l=document.createElement("div");for(t=0;t<a.options.rows;t++){var c=document.createElement("div");for(r=0;r<a.options.slidesPerRow;r++){var u=e*s+(t*a.options.slidesPerRow+r);i.get(u)&&c.appendChild(i.get(u))}l.appendChild(c)}o.appendChild(l)}a.$slider.empty().append(o),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},i.prototype.checkResponsive=function(e,t){var r,o,n,i=this,s=!1,a=i.$slider.width(),l=window.innerWidth||c(window).width();if("window"===i.respondTo?n=l:"slider"===i.respondTo?n=a:"min"===i.respondTo&&(n=Math.min(l,a)),i.options.responsive&&i.options.responsive.length&&null!==i.options.responsive){for(r in o=null,i.breakpoints)i.breakpoints.hasOwnProperty(r)&&(!1===i.originalSettings.mobileFirst?n<i.breakpoints[r]&&(o=i.breakpoints[r]):n>i.breakpoints[r]&&(o=i.breakpoints[r]));null!==o?null!==i.activeBreakpoint?(o!==i.activeBreakpoint||t)&&(i.activeBreakpoint=o,"unslick"===i.breakpointSettings[o]?i.unslick(o):(i.options=c.extend({},i.originalSettings,i.breakpointSettings[o]),!0===e&&(i.currentSlide=i.options.initialSlide),i.refresh(e)),s=o):(i.activeBreakpoint=o,"unslick"===i.breakpointSettings[o]?i.unslick(o):(i.options=c.extend({},i.originalSettings,i.breakpointSettings[o]),!0===e&&(i.currentSlide=i.options.initialSlide),i.refresh(e)),s=o):null!==i.activeBreakpoint&&(i.activeBreakpoint=null,i.options=i.originalSettings,!0===e&&(i.currentSlide=i.options.initialSlide),i.refresh(e),s=o),e||!1===s||i.$slider.trigger("breakpoint",[i,s])}},i.prototype.changeSlide=function(e,t){var r,o,n,i=this,s=c(e.currentTarget);switch(s.is("a")&&e.preventDefault(),s.is("li")||(s=s.closest("li")),n=i.slideCount%i.options.slidesToScroll!=0,r=n?0:(i.slideCount-i.currentSlide)%i.options.slidesToScroll,e.data.message){case"previous":o=0===r?i.options.slidesToScroll:i.options.slidesToShow-r,i.slideCount>i.options.slidesToShow&&i.slideHandler(i.currentSlide-o,!1,t);break;case"next":o=0===r?i.options.slidesToScroll:r,i.slideCount>i.options.slidesToShow&&i.slideHandler(i.currentSlide+o,!1,t);break;case"index":var a=0===e.data.index?0:e.data.index||s.index()*i.options.slidesToScroll;i.slideHandler(i.checkNavigable(a),!1,t),s.children().trigger("focus");break;default:return}},i.prototype.checkNavigable=function(e){var t,r;if(t=this.getNavigableIndexes(),r=0,e>t[t.length-1])e=t[t.length-1];else for(var o in t){if(e<t[o]){e=r;break}r=t[o]}return e},i.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&c("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",c.proxy(e.interrupt,e,!0)).off("mouseleave.slick",c.proxy(e.interrupt,e,!1)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),c(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().off("click.slick",e.selectHandler),c(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),c(window).off("resize.slick.slick-"+e.instanceUid,e.resize),c("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),c(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),c(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},i.prototype.cleanUpSlideEvents=function(){this.$list.off("mouseenter.slick",c.proxy(this.interrupt,this,!0)),this.$list.off("mouseleave.slick",c.proxy(this.interrupt,this,!1))},i.prototype.cleanUpRows=function(){var e;1<this.options.rows&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(e))},i.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},i.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),c(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){c(this).attr("style",c(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},i.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t)},i.prototype.fadeSlide=function(e,t){var r=this;!1===r.cssTransitions?(r.$slides.eq(e).css({zIndex:r.options.zIndex}),r.$slides.eq(e).animate({opacity:1},r.options.speed,r.options.easing,t)):(r.applyTransition(e),r.$slides.eq(e).css({opacity:1,zIndex:r.options.zIndex}),t&&setTimeout(function(){r.disableTransition(e),t.call()},r.options.speed))},i.prototype.fadeSlideOut=function(e){!1===this.cssTransitions?this.$slides.eq(e).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(e),this.$slides.eq(e).css({opacity:0,zIndex:this.options.zIndex-2}))},i.prototype.filterSlides=i.prototype.slickFilter=function(e){null!==e&&(this.$slidesCache=this.$slides,this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(e).appendTo(this.$slideTrack),this.reinit())},i.prototype.focusHandler=function(){var r=this;r.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(e){e.stopImmediatePropagation();var t=c(this);setTimeout(function(){r.options.pauseOnFocus&&(r.focussed=t.is(":focus"),r.autoPlay())},0)})},i.prototype.getCurrent=i.prototype.slickCurrentSlide=function(){return this.currentSlide},i.prototype.getDotCount=function(){var e=this,t=0,r=0,o=0;if(!0===e.options.infinite)for(;t<e.slideCount;)++o,t=r+e.options.slidesToScroll,r+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)o=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++o,t=r+e.options.slidesToScroll,r+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else o=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return o-1},i.prototype.getLeft=function(e){var t,r,o,n=this,i=0;return n.slideOffset=0,r=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,i=r*n.options.slidesToShow*-1),n.slideCount%n.options.slidesToScroll!=0&&e+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i=e>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(e-n.slideCount))*n.slideWidth*-1,(n.options.slidesToShow-(e-n.slideCount))*r*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,n.slideCount%n.options.slidesToScroll*r*-1))):e+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(e+n.options.slidesToShow-n.slideCount)*n.slideWidth,i=(e+n.options.slidesToShow-n.slideCount)*r),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,i=0),!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),t=!1===n.options.vertical?e*n.slideWidth*-1+n.slideOffset:e*r*-1+i,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(e):n.$slideTrack.children(".slick-slide").eq(e+n.options.slidesToShow),t=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(e):n.$slideTrack.children(".slick-slide").eq(e+n.options.slidesToShow+1),t=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,t+=(n.$list.width()-o.outerWidth())/2)),t},i.prototype.getOption=i.prototype.slickGetOption=function(e){return this.options[e]},i.prototype.getNavigableIndexes=function(){var e,t=this,r=0,o=0,n=[];for(e=!1===t.options.infinite?t.slideCount:(r=-1*t.options.slidesToScroll,o=-1*t.options.slidesToScroll,2*t.slideCount);r<e;)n.push(r),r=o+t.options.slidesToScroll,o+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return n},i.prototype.getSlick=function(){return this},i.prototype.getSlideCount=function(){var r,o,n=this;return o=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft-o+c(t).outerWidth()/2>-1*n.swipeLeft)return r=t,!1}),Math.abs(c(r).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},i.prototype.goTo=i.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},i.prototype.init=function(e){var t=this;c(t.$slider).hasClass("slick-initialized")||(c(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},i.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(e){c(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+e})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(e){c(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+e,id:"slick-slide"+t.instanceUid+e})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},i.prototype.initArrowEvents=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},this.changeSlide),this.$nextArrow.off("click.slick").on("click.slick",{message:"next"},this.changeSlide))},i.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&c("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&c("li",e.$dots).on("mouseenter.slick",c.proxy(e.interrupt,e,!0)).on("mouseleave.slick",c.proxy(e.interrupt,e,!1))},i.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",c.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",c.proxy(this.interrupt,this,!1)))},i.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),c(document).on(e.visibilityChange,c.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().on("click.slick",e.selectHandler),c(window).on("orientationchange.slick.slick-"+e.instanceUid,c.proxy(e.orientationChange,e)),c(window).on("resize.slick.slick-"+e.instanceUid,c.proxy(e.resize,e)),c("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),c(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),c(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},i.prototype.initUI=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show()),!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()},i.prototype.keyHandler=function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))},i.prototype.lazyLoad=function(){var e,t,o=this;function r(e){c("img[data-lazy]",e).each(function(){var e=c(this),t=c(this).attr("data-lazy"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy").removeClass("slick-loading")}),o.$slider.trigger("lazyLoaded",[o,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,e,t])},r.src=t})}!0===o.options.centerMode?t=!0===o.options.infinite?(e=o.currentSlide+(o.options.slidesToShow/2+1))+o.options.slidesToShow+2:(e=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),o.options.slidesToShow/2+1+2+o.currentSlide):(e=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,t=Math.ceil(e+o.options.slidesToShow),!0===o.options.fade&&(0<e&&e--,t<=o.slideCount&&t++)),r(o.$slider.find(".slick-slide").slice(e,t)),o.slideCount<=o.options.slidesToShow?r(o.$slider.find(".slick-slide")):o.currentSlide>=o.slideCount-o.options.slidesToShow?r(o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow)):0===o.currentSlide&&r(o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow))},i.prototype.loadSlider=function(){this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()},i.prototype.next=i.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},i.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},i.prototype.pause=i.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},i.prototype.play=i.prototype.slickPlay=function(){this.autoPlay(),this.options.autoplay=!0,this.paused=!1,this.focussed=!1,this.interrupted=!1},i.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&t.initADA())},i.prototype.prev=i.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},i.prototype.preventDefault=function(e){e.preventDefault()},i.prototype.progressiveLazyLoad=function(e){e=e||1;var t,r,o,n=this,i=c("img[data-lazy]",n.$slider);i.length?(t=i.first(),r=t.attr("data-lazy"),(o=document.createElement("img")).onload=function(){t.attr("src",r).removeAttr("data-lazy").removeClass("slick-loading"),!0===n.options.adaptiveHeight&&n.setPosition(),n.$slider.trigger("lazyLoaded",[n,t,r]),n.progressiveLazyLoad()},o.onerror=function(){e<3?setTimeout(function(){n.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,t,r]),n.progressiveLazyLoad())},o.src=r):n.$slider.trigger("allImagesLoaded",[n])},i.prototype.refresh=function(e){var t,r,o=this;r=o.slideCount-o.options.slidesToShow,!o.options.infinite&&o.currentSlide>r&&(o.currentSlide=r),o.slideCount<=o.options.slidesToShow&&(o.currentSlide=0),t=o.currentSlide,o.destroy(!0),c.extend(o,o.initials,{currentSlide:t}),o.init(),e||o.changeSlide({data:{message:"index",index:t}},!1)},i.prototype.registerBreakpoints=function(){var e,t,r,o=this,n=o.options.responsive||null;if("array"===c.type(n)&&n.length){for(e in o.respondTo=o.options.respondTo||"window",n)if(r=o.breakpoints.length-1,t=n[e].breakpoint,n.hasOwnProperty(e)){for(;0<=r;)o.breakpoints[r]&&o.breakpoints[r]===t&&o.breakpoints.splice(r,1),r--;o.breakpoints.push(t),o.breakpointSettings[t]=n[e].settings}o.breakpoints.sort(function(e,t){return o.options.mobileFirst?e-t:t-e})}},i.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},i.prototype.resize=function(){var e=this;c(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=c(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},i.prototype.removeSlide=i.prototype.slickRemove=function(e,t,r){var o=this;if(e="boolean"==typeof e?!0===(t=e)?0:o.slideCount-1:!0===t?--e:e,o.slideCount<1||e<0||e>o.slideCount-1)return!1;o.unload(),!0===r?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(e).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},i.prototype.setCSS=function(e){var t,r,o=this,n={};!0===o.options.rtl&&(e=-e),t="left"==o.positionProp?Math.ceil(e)+"px":"0px",r="top"==o.positionProp?Math.ceil(e)+"px":"0px",n[o.positionProp]=e,!1===o.transformsEnabled||(!(n={})===o.cssTransitions?n[o.animType]="translate("+t+", "+r+")":n[o.animType]="translate3d("+t+", "+r+", 0px)"),o.$slideTrack.css(n)},i.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},i.prototype.setFade=function(){var r,o=this;o.$slides.each(function(e,t){r=o.slideWidth*e*-1,!0===o.options.rtl?c(t).css({position:"relative",right:r,top:0,zIndex:o.options.zIndex-2,opacity:0}):c(t).css({position:"relative",left:r,top:0,zIndex:o.options.zIndex-2,opacity:0})}),o.$slides.eq(o.currentSlide).css({zIndex:o.options.zIndex-1,opacity:1})},i.prototype.setHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var e=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.css("height",e)}},i.prototype.setOption=i.prototype.slickSetOption=function(){var e,t,r,o,n,i=this,s=!1;if("object"===c.type(arguments[0])?(r=arguments[0],s=arguments[1],n="multiple"):"string"===c.type(arguments[0])&&(r=arguments[0],o=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===c.type(arguments[1])?n="responsive":void 0!==arguments[1]&&(n="single")),"single"===n)i.options[r]=o;else if("multiple"===n)c.each(r,function(e,t){i.options[e]=t});else if("responsive"===n)for(t in o)if("array"!==c.type(i.options.responsive))i.options.responsive=[o[t]];else{for(e=i.options.responsive.length-1;0<=e;)i.options.responsive[e].breakpoint===o[t].breakpoint&&i.options.responsive.splice(e,1),e--;i.options.responsive.push(o[t])}s&&(i.unload(),i.reinit())},i.prototype.setPosition=function(){this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this])},i.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},i.prototype.setSlideClasses=function(e){var t,r,o,n,i=this;r=i.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),i.$slides.eq(e).addClass("slick-current"),!0===i.options.centerMode?(t=Math.floor(i.options.slidesToShow/2),!0===i.options.infinite&&(t<=e&&e<=i.slideCount-1-t?i.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(o=i.options.slidesToShow+e,r.slice(o-t+1,o+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?r.eq(r.length-1-i.options.slidesToShow).addClass("slick-center"):e===i.slideCount-1&&r.eq(i.options.slidesToShow).addClass("slick-center")),i.$slides.eq(e).addClass("slick-center")):0<=e&&e<=i.slideCount-i.options.slidesToShow?i.$slides.slice(e,e+i.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):r.length<=i.options.slidesToShow?r.addClass("slick-active").attr("aria-hidden","false"):(n=i.slideCount%i.options.slidesToShow,o=!0===i.options.infinite?i.options.slidesToShow+e:e,i.options.slidesToShow==i.options.slidesToScroll&&i.slideCount-e<i.options.slidesToShow?r.slice(o-(i.options.slidesToShow-n),o+n).addClass("slick-active").attr("aria-hidden","false"):r.slice(o,o+i.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===i.options.lazyLoad&&i.lazyLoad()},i.prototype.setupInfinite=function(){var e,t,r,o=this;if(!0===o.options.fade&&(o.options.centerMode=!1),!0===o.options.infinite&&!1===o.options.fade&&(t=null,o.slideCount>o.options.slidesToShow)){for(r=!0===o.options.centerMode?o.options.slidesToShow+1:o.options.slidesToShow,e=o.slideCount;e>o.slideCount-r;e-=1)t=e-1,c(o.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(e=0;e<r;e+=1)t=e,c(o.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){c(this).attr("id","")})}},i.prototype.interrupt=function(e){e||this.autoPlay(),this.interrupted=e},i.prototype.selectHandler=function(e){var t=c(e.target).is(".slick-slide")?c(e.target):c(e.target).parents(".slick-slide"),r=parseInt(t.attr("data-slick-index"));if(r||(r=0),this.slideCount<=this.options.slidesToShow)return this.setSlideClasses(r),void this.asNavFor(r);this.slideHandler(r)},i.prototype.slideHandler=function(e,t,r){var o,n,i,s,a,l=null,c=this;if(t=t||!1,(!0!==c.animating||!0!==c.options.waitForAnimate)&&!(!0===c.options.fade&&c.currentSlide===e||c.slideCount<=c.options.slidesToShow))if(!1===t&&c.asNavFor(e),o=e,l=c.getLeft(o),s=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?s:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(e<0||e>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(o=c.currentSlide,!0!==r?c.animateSlide(s,function(){c.postSlide(o)}):c.postSlide(o));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(e<0||e>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(o=c.currentSlide,!0!==r?c.animateSlide(s,function(){c.postSlide(o)}):c.postSlide(o));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),n=o<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+o:o>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:o-c.slideCount:o,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,n]),i=c.currentSlide,c.currentSlide=n,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(a=(a=c.getNavTarget()).slick("getSlick")).slideCount<=a.options.slidesToShow&&a.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==r?(c.fadeSlideOut(i),c.fadeSlide(n,function(){c.postSlide(n)})):c.postSlide(n),void c.animateHeight();!0!==r?c.animateSlide(l,function(){c.postSlide(n)}):c.postSlide(n)}},i.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},i.prototype.swipeDirection=function(){var e,t,r,o;return e=this.touchObject.startX-this.touchObject.curX,t=this.touchObject.startY-this.touchObject.curY,r=Math.atan2(t,e),(o=Math.round(180*r/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&0<=o?!1===this.options.rtl?"left":"right":o<=360&&315<=o?!1===this.options.rtl?"left":"right":135<=o&&o<=225?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=o&&o<=135?"down":"up":"vertical"},i.prototype.swipeEnd=function(e){var t,r,o=this;if(o.dragging=!1,o.interrupted=!1,o.shouldClick=!(10<o.touchObject.swipeLength),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(r=o.swipeDirection()){case"left":case"down":t=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":t=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=r&&(o.slideHandler(t),o.touchObject={},o.$slider.trigger("swipe",[o,r]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},i.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},i.prototype.swipeMove=function(e){var t,r,o,n,i,s=this;return i=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!s.dragging||i&&1!==i.length)&&(t=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==i?i[0].pageX:e.clientX,s.touchObject.curY=void 0!==i?i[0].pageY:e.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2)))),"vertical"!==(r=s.swipeDirection())?(void 0!==e.originalEvent&&4<s.touchObject.swipeLength&&e.preventDefault(),n=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(n=s.touchObject.curY>s.touchObject.startY?1:-1),o=s.touchObject.swipeLength,(s.touchObject.edgeHit=!1)===s.options.infinite&&(0===s.currentSlide&&"right"===r||s.currentSlide>=s.getDotCount()&&"left"===r)&&(o=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=t+o*n:s.swipeLeft=t+o*(s.$list.height()/s.listWidth)*n,!0===s.options.verticalSwiping&&(s.swipeLeft=t+o*n),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))):void 0)},i.prototype.swipeStart=function(e){var t,r=this;if(r.interrupted=!0,1!==r.touchObject.fingerCount||r.slideCount<=r.options.slidesToShow)return!(r.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),r.touchObject.startX=r.touchObject.curX=void 0!==t?t.pageX:e.clientX,r.touchObject.startY=r.touchObject.curY=void 0!==t?t.pageY:e.clientY,r.dragging=!0},i.prototype.unfilterSlides=i.prototype.slickUnfilter=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())},i.prototype.unload=function(){var e=this;c(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},i.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},i.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},i.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},i.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},c.fn.slick=function(){var e,t,r=arguments[0],o=Array.prototype.slice.call(arguments,1),n=this.length;for(e=0;e<n;e++)if("object"==typeof r||void 0===r?this[e].slick=new i(this[e],r):t=this[e].slick[r].apply(this[e].slick,o),void 0!==t)return t;return this};var n})?n.apply(r,i):n)||(t.exports=s)}()},"./node_modules/store/dist/store.legacy.js":function(e,t,r){var o=r("./node_modules/store/src/store-engine.js"),n=r("./node_modules/store/storages/all.js"),i=[r("./node_modules/store/plugins/json2.js")];e.exports=o.createStore(n,i)},"./node_modules/store/plugins/json2.js":function(e,t,r){e.exports=function(){return r("./node_modules/store/plugins/lib/json2.js"),{}}},"./node_modules/store/plugins/lib/json2.js":function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,o,n,i,s,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(i=l.length,r=0;r<i;r+=1)s[r]=str(r,l)||"null";return n=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,n}if(rep&&"object"==typeof rep)for(i=rep.length,r=0;r<i;r+=1)"string"==typeof rep[r]&&(n=str(o=rep[r],l))&&s.push(quote(o)+(gap?": ":":")+n);else for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(n=str(o,l))&&s.push(quote(o)+(gap?": ":":")+n);return n=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,n}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,r){var o;if(indent=gap="","number"==typeof r)for(o=0;o<r;o+=1)indent+=" ";else"string"==typeof r&&(indent=r);if((rep=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var r,o,n=e[t];if(n&&"object"==typeof n)for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(void 0!==(o=walk(n,r))?n[r]=o:delete n[r]);return reviver.call(e,t,n)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},"./node_modules/store/storages/all.js":function(e,t,r){e.exports={localStorage:r("./node_modules/store/storages/localStorage.js"),"oldFF-globalStorage":r("./node_modules/store/storages/oldFF-globalStorage.js"),"oldIE-userDataStorage":r("./node_modules/store/storages/oldIE-userDataStorage.js"),cookieStorage:r("./node_modules/store/storages/cookieStorage.js"),sessionStorage:r("./node_modules/store/storages/sessionStorage.js"),memoryStorage:r("./node_modules/store/storages/memoryStorage.js")}},"./node_modules/store/storages/cookieStorage.js":function(e,t,r){var o=r("./node_modules/store/src/util.js"),n=o.Global,i=o.trim;e.exports={name:"cookieStorage",read:function(e){if(!e||!c(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(s.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){if(!e)return;s.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:a,remove:l,clearAll:function(){a(function(e,t){l(t)})}};var s=n.document;function a(e){for(var t=s.cookie.split(/; ?/g),r=t.length-1;0<=r;r--)if(i(t[r])){var o=t[r].split("="),n=unescape(o[0]);e(unescape(o[1]),n)}}function l(e){e&&c(e)&&(s.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function c(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(s.cookie)}},"./node_modules/store/storages/oldFF-globalStorage.js":function(e,t,r){var o=r("./node_modules/store/src/util.js").Global;e.exports={name:"oldFF-globalStorage",read:function(e){return n[e]},write:function(e,t){n[e]=t},each:i,remove:function(e){return n.removeItem(e)},clearAll:function(){i(function(e,t){delete n[e]})}};var n=o.globalStorage;function i(e){for(var t=n.length-1;0<=t;t--){var r=n.key(t);e(n[r],r)}}},"./node_modules/store/storages/oldIE-userDataStorage.js":function(e,t,r){var o=r("./node_modules/store/src/util.js").Global;e.exports={name:"oldIE-userDataStorage",write:function(e,t){if(a)return;var r=c(e);s(function(e){e.setAttribute(r,t),e.save(n)})},read:function(e){if(a)return;var t=c(e),r=null;return s(function(e){r=e.getAttribute(t)}),r},each:function(n){s(function(e){for(var t=e.XMLDocument.documentElement.attributes,r=t.length-1;0<=r;r--){var o=t[r];n(e.getAttribute(o.name),o.name)}})},remove:function(e){var t=c(e);s(function(e){e.removeAttribute(t),e.save(n)})},clearAll:function(){s(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(n);for(var r=t.length-1;0<=r;r--)e.removeAttribute(t[r].name);e.save(n)})}};var n="storejs",i=o.document,s=function(){if(!i||!i.documentElement||!i.documentElement.addBehavior)return null;var r,e,o;try{(e=new ActiveXObject("htmlfile")).open(),e.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),e.close(),r=e.w.frames[0].document,o=r.createElement("div")}catch(e){o=i.createElement("div"),r=i.body}return function(e){var t=[].slice.call(arguments,0);t.unshift(o),r.appendChild(o),o.addBehavior("#default#userData"),o.load(n),e.apply(this,t),r.removeChild(o)}}(),a=(o.navigator?o.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);var l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function c(e){return e.replace(/^\d/,"___$&").replace(l,"___")}},"./node_modules/store/storages/sessionStorage.js":function(e,t,r){var o=r("./node_modules/store/src/util.js").Global;function n(){return o.sessionStorage}function i(e){return n().getItem(e)}e.exports={name:"sessionStorage",read:i,write:function(e,t){return n().setItem(e,t)},each:function(e){for(var t=n().length-1;0<=t;t--){var r=n().key(t);e(i(r),r)}},remove:function(e){return n().removeItem(e)},clearAll:function(){return n().clear()}}},"./node_modules/trim/index.js":function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},"./node_modules/tsml/tsml.js":function(e,t){e.exports=function(e){for(var t="",r=0;r<arguments.length;r++)t+=e[r].replace(/\n\r?\s*/g,"")+(arguments[r+1]||"");return t}},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,r){var o,u,n,i,p;o=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,u=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,p={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var o=p.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");return o.path=p.normalizePath(o.path),p.buildURLFromParts(o)}var n=p.parseURL(t);if(!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return r.alwaysNormalize?(n.path=p.normalizePath(n.path),p.buildURLFromParts(n)):t;var i=p.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");if(!i.netLoc&&i.path&&"/"!==i.path[0]){var s=u.exec(i.path);i.netLoc=s[1],i.path=s[2]}i.netLoc&&!i.path&&(i.path="/");var a={scheme:i.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};if(!n.netLoc&&(a.netLoc=i.netLoc,"/"!==n.path[0]))if(n.path){var l=i.path,c=l.substring(0,l.lastIndexOf("/")+1)+n.path;a.path=p.normalizePath(c)}else a.path=i.path,n.params||(a.params=i.params,n.query||(a.query=i.query));return null===a.path&&(a.path=r.alwaysNormalize?p.normalizePath(n.path):n.path),p.buildURLFromParts(a)},parseURL:function(e){var t=o.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=p},"./node_modules/uuid/lib/bytesToUuid.js":function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]}},"./node_modules/uuid/lib/rng-browser.js":function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var o=new Uint8Array(16);e.exports=function(){return r(o),o}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},"./node_modules/uuid/v4.js":function(e,t,r){var s=r("./node_modules/uuid/lib/rng-browser.js"),a=r("./node_modules/uuid/lib/bytesToUuid.js");e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t)for(var i=0;i<16;++i)t[o+i]=n[i];return t||a(n)}},"./node_modules/velocity-animate/velocity.js":function(o,n,i){(function(l,c){var t,r;/*! VelocityJS.org (1.5.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */ /*! VelocityJS.org (1.5.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(t){"use strict";if(!l){var u=function(e,t){return new u.fn.init(e,t)};u.isWindow=function(e){return e&&e===e.window},u.type=function(e){return e?"object"==typeof e||"function"==typeof e?r[n.call(e)]||"object":typeof e:e+""},u.isArray=Array.isArray||function(e){return"array"===u.type(e)},u.isPlainObject=function(e){var t;if(!e||"object"!==u.type(e)||e.nodeType||u.isWindow(e))return!1;try{if(e.constructor&&!o.call(e,"constructor")&&!o.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||o.call(e,t)},u.each=function(e,t,r){var o=0,n=e.length,i=a(e);if(r){if(i)for(;o<n&&!1!==t.apply(e[o],r);o++);else for(o in e)if(e.hasOwnProperty(o)&&!1===t.apply(e[o],r))break}else if(i)for(;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(e.hasOwnProperty(o)&&!1===t.call(e[o],o,e[o]))break;return e},u.data=function(e,t,r){if(void 0===r){var o=e[u.expando],n=o&&s[o];if(void 0===t)return n;if(n&&t in n)return n[t]}else if(void 0!==t){var i=e[u.expando]||(e[u.expando]=++u.uuid);return s[i]=s[i]||{},s[i][t]=r}},u.removeData=function(e,t){var r=e[u.expando],o=r&&s[r];o&&(t?u.each(t,function(e,t){delete o[t]}):delete s[r])},u.extend=function(){var e,t,r,o,n,i,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"!=typeof s&&"function"!==u.type(s)&&(s={}),a===l&&(s=this,a--);a<l;a++)if(n=arguments[a])for(o in n)n.hasOwnProperty(o)&&(e=s[o],s!==(r=n[o])&&(c&&r&&(u.isPlainObject(r)||(t=u.isArray(r)))?(i=t?(t=!1,e&&u.isArray(e)?e:[]):e&&u.isPlainObject(e)?e:{},s[o]=u.extend(c,i,r)):void 0!==r&&(s[o]=r)));return s},u.queue=function(e,t,r){if(e){t=(t||"fx")+"queue";var o,n,i,s=u.data(e,t);return r?(!s||u.isArray(r)?s=u.data(e,t,(i=n||[],(o=r)&&(a(Object(o))?function(e,t){for(var r=+t.length,o=0,n=e.length;o<r;)e[n++]=t[o++];if(r!=r)for(;void 0!==t[o];)e[n++]=t[o++];e.length=n}(i,"string"==typeof o?[o]:o):[].push.call(i,o)),i)):s.push(r),s):s||[]}},u.dequeue=function(e,n){u.each(e.nodeType?[e]:e,function(e,t){n=n||"fx";var r=u.queue(t,n),o=r.shift();"inprogress"===o&&(o=r.shift()),o&&("fx"===n&&r.unshift("inprogress"),o.call(t,function(){u.dequeue(t,n)}))})},u.fn=u.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var e=this[0],t=function(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position;)t=t.offsetParent;return t||document}(e),r=this.offset(),o=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:u(t).offset();return r.top-=parseFloat(e.style.marginTop)||0,r.left-=parseFloat(e.style.marginLeft)||0,t.style&&(o.top+=parseFloat(t.style.borderTopWidth)||0,o.left+=parseFloat(t.style.borderLeftWidth)||0),{top:r.top-o.top,left:r.left-o.left}}};var s={};u.expando="velocity"+(new Date).getTime(),u.uuid=0;for(var r={},o=r.hasOwnProperty,n=r.toString,e="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<e.length;i++)r["[object "+e[i]+"]"]=e[i].toLowerCase();u.fn.init.prototype=u.fn,t.Velocity={Utilities:u}}function a(e){var t=e.length,r=u.type(e);return"function"!==r&&!u.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===r||0===t||"number"==typeof t&&0<t&&t-1 in e))}}(window),function(e){"use strict";"object"==typeof o.exports?o.exports=e():void 0===(r="function"==typeof(t=e)?t.call(n,i,n,o):t)||(o.exports=r)}(function(){"use strict";return function(e,F,U,B){var o,D=function(){if(U.documentMode)return U.documentMode;for(var e=7;4<e;e--){var t=U.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return B}(),t=(o=0,F.webkitRequestAnimationFrame||F.mozRequestAnimationFrame||function(e){var t,r=(new Date).getTime();return t=Math.max(0,16-(r-o)),o=r+t,setTimeout(function(){e(r+t)},t)}),x=function(){var e=F.performance||{};if("function"!=typeof e.now){var t=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-t}}return e}();var r=function(){var a=Array.prototype.slice;try{return a.call(U.documentElement),a}catch(e){return function(e,t){var r=this.length;if("number"!=typeof e&&(e=0),"number"!=typeof t&&(t=r),this.slice)return a.call(this,e,t);var o,n=[],i=0<=e?e:Math.max(0,r+e),s=(t<0?r+t:Math.min(t,r))-i;if(0<s)if(n=new Array(s),this.charAt)for(o=0;o<s;o++)n[o]=this.charAt(i+o);else for(o=0;o<s;o++)n[o]=this[i+o];return n}}}(),V=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:Array.prototype.indexOf?function(e,t){return 0<=e.indexOf(t)}:function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}};function b(e){return Q.isWrapped(e)?e=r.call(e):Q.isNode(e)&&(e=[e]),e}var $,Q={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&e!==F&&Q.isNumber(e.length)&&!Q.isString(e)&&!Q.isFunction(e)&&!Q.isNode(e)&&(0===e.length||Q.isNode(e[0]))},isSVG:function(e){return F.SVGElement&&e instanceof F.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},n=!1;if(e.fn&&e.fn.jquery?($=e,n=!0):$=F.Velocity.Utilities,D<=8&&!n)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(D<=7)){var i="swing",W={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:F.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:U.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:$,Redirects:{},Easings:{},Promise:F.Promise,defaults:{queue:"",duration:400,easing:i,begin:B,complete:B,progress:B,display:B,visibility:B,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){$.data(e,"velocity",{isSVG:Q.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:0},debug:!1,timestamp:!0,pauseAll:function(r){var o=(new Date).getTime();$.each(W.State.calls,function(e,t){if(t){if(r!==B&&(t[2].queue!==r||!1===t[2].queue))return!0;t[5]={resume:!1}}}),$.each(W.State.delayedElements,function(e,t){t&&f(t,o)})},resumeAll:function(r){var o=(new Date).getTime();$.each(W.State.calls,function(e,t){if(t){if(r!==B&&(t[2].queue!==r||!1===t[2].queue))return!0;t[5]&&(t[5].resume=!0)}}),$.each(W.State.delayedElements,function(e,t){t&&g(t,o)})}};F.pageYOffset!==B?(W.State.scrollAnchor=F,W.State.scrollPropertyLeft="pageXOffset",W.State.scrollPropertyTop="pageYOffset"):(W.State.scrollAnchor=U.documentElement||U.body.parentNode||U.body,W.State.scrollPropertyLeft="scrollLeft",W.State.scrollPropertyTop="scrollTop");var s=function(){function g(e){return-e.tension*e.x-e.friction*e.v}function v(e,t,r){var o={x:e.x+r.dx*t,v:e.v+r.dv*t,tension:e.tension,friction:e.friction};return{dx:o.v,dv:g(o)}}return function e(t,r,o){var n,i,s,a,l,c,u,p,d,h,m,b={x:-1,v:0,tension:null,friction:null},y=[0],f=0;for(t=parseFloat(t)||500,r=parseFloat(r)||20,o=o||null,b.tension=t,b.friction=r,i=(n=null!==o)?(f=e(t,r))/o*.016:.016;l=i,void 0,c={dx:(a=s||b).v,dv:g(a)},u=v(a,.5*l,c),p=v(a,.5*l,u),d=v(a,l,p),h=1/6*(c.dx+2*(u.dx+p.dx)+d.dx),m=1/6*(c.dv+2*(u.dv+p.dv)+d.dv),a.x=a.x+h*l,a.v=a.v+m*l,s=a,y.push(1+s.x),f+=16,1e-4<Math.abs(s.x)&&1e-4<Math.abs(s.v););return n?function(e){return y[e*(y.length-1)|0]}:f}}();W.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},$.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){W.Easings[t[0]]=l.apply(null,t[1])});var G=W.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<G.Lists.colors.length;e++){var t="color"===G.Lists.colors[e]?"0 0 0 1":"255 255 255 1";G.Hooks.templates[G.Lists.colors[e]]=["Red Green Blue Alpha",t]}var r,o,n;if(D)for(r in G.Hooks.templates)if(G.Hooks.templates.hasOwnProperty(r)){n=(o=G.Hooks.templates[r])[0].split(" ");var i=o[1].match(G.RegEx.valueSplit);"Color"===n[0]&&(n.push(n.shift()),i.push(i.shift()),G.Hooks.templates[r]=[n.join(" "),i.join(" ")])}for(r in G.Hooks.templates)if(G.Hooks.templates.hasOwnProperty(r))for(var s in n=(o=G.Hooks.templates[r])[0].split(" "))if(n.hasOwnProperty(s)){var a=r+n[s],l=s;G.Hooks.registered[a]=[r,l]}},getRoot:function(e){var t=G.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var r=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return r&&V(G.Lists.units)?r:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(e,t,r){return G.Lists.colorNames.hasOwnProperty(r)?(t||"rgba(")+G.Lists.colorNames[r]+(t?"":",1)"):t+r})},cleanRootPropertyValue:function(e,t){return G.RegEx.valueUnwrap.test(t)&&(t=t.match(G.RegEx.valueUnwrap)[1]),G.Values.isCSSNullValue(t)&&(t=G.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=G.Hooks.registered[e];if(r){var o=r[0],n=r[1];return(t=G.Hooks.cleanRootPropertyValue(o,t)).toString().match(G.RegEx.valueSplit)[n]}return t},injectValue:function(e,t,r){var o=G.Hooks.registered[e];if(o){var n,i=o[0],s=o[1];return(n=(r=G.Hooks.cleanRootPropertyValue(i,r)).toString().match(G.RegEx.valueSplit))[s]=t,n.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var o;return o=G.RegEx.wrappedValueAlreadyExtracted.test(r)?r:(o=r.toString().match(G.RegEx.valueUnwrap))?o[1].replace(/,(\s+)?/g," "):r;case"inject":return"rect("+r+")"}},blur:function(e,t,r){switch(e){case"name":return W.State.isFirefox?"filter":"-webkit-filter";case"extract":var o=parseFloat(r);if(!o&&0!==o){var n=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);o=n?n[1]:0}return o;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(e,t,r){if(D<=8)switch(e){case"name":return"filter";case"extract":var o=r.toString().match(/alpha\(opacity=(.*)\)/i);return r=o?o[1]/100:1;case"inject":return(t.style.zoom=1)<=parseFloat(r)?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return r}}},register:function(){D&&!(9<D)||W.State.isGingerbread||(G.Lists.transformsBase=G.Lists.transformsBase.concat(G.Lists.transforms3D));for(var e=0;e<G.Lists.transformsBase.length;e++)!function(){var n=G.Lists.transformsBase[e];G.Normalizations.registered[n]=function(e,t,r){switch(e){case"name":return"transform";case"extract":return Y(t)===B||Y(t).transformCache[n]===B?/^scale/i.test(n)?1:0:Y(t).transformCache[n].replace(/[()]/g,"");case"inject":var o=!1;switch(n.substr(0,n.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":W.State.isAndroid&&Y(t).transformCache[n]===B&&r<1&&(r=1),o=!/(\d)$/i.test(r);break;case"skew":case"rotate":o=!/(deg|\d)$/i.test(r)}return o||(Y(t).transformCache[n]="("+r+")"),Y(t).transformCache[n]}}}();for(var t=0;t<G.Lists.colors.length;t++)!function(){var s=G.Lists.colors[t];G.Normalizations.registered[s]=function(e,t,r){switch(e){case"name":return s;case"extract":var o;if(G.RegEx.wrappedValueAlreadyExtracted.test(r))o=r;else{var n,i={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?n=i[r]!==B?i[r]:i.black:G.RegEx.isHex.test(r)?n="rgb("+G.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(n=i.black),o=(n||r).toString().match(G.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!D||8<D)&&3===o.split(" ").length&&(o+=" 1"),o;case"inject":return/^rgb/.test(r)?r:(D<=8?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(D<=8?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();function i(e,t,r){if("border-box"===G.getPropertyValue(t,"boxSizing").toString().toLowerCase()!==(r||!1))return 0;var o,n,i=0,s="width"===e?["Left","Right"]:["Top","Bottom"],a=["padding"+s[0],"padding"+s[1],"border"+s[0]+"Width","border"+s[1]+"Width"];for(o=0;o<a.length;o++)n=parseFloat(G.getPropertyValue(t,a[o])),isNaN(n)||(i+=n);return r?-i:i}function r(o,n){return function(e,t,r){switch(e){case"name":return o;case"extract":return parseFloat(r)+i(o,t,n);case"inject":return parseFloat(r)-i(o,t,n)+"px"}}}G.Normalizations.registered.innerWidth=r("width",!0),G.Normalizations.registered.innerHeight=r("height",!0),G.Normalizations.registered.outerWidth=r("width"),G.Normalizations.registered.outerHeight=r("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(D||W.State.isAndroid&&!W.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(W.State.prefixMatches[e])return[W.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],r=0,o=t.length;r<o;r++){var n;if(n=0===r?e:t[r]+e.replace(/^\w/,function(e){return e.toUpperCase()}),Q.isString(W.State.prefixElement.style[n]))return[W.State.prefixMatches[e]=n,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,o){return t+t+r+r+o+o}),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(Q.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var r=e.getAttribute(D<=7?"className":"class")||"";e.setAttribute("class",r+(r?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(Q.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var r=e.getAttribute(D<=7?"className":"class")||"";e.setAttribute("class",r.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,t,r,c){function u(e,t){var r=0;if(D<=8)r=$.css(e,t);else{var o=!1;/^(width|height)$/.test(t)&&0===G.getPropertyValue(e,"display")&&(o=!0,G.setPropertyValue(e,"display",G.Values.getDisplayType(e)));var n,i=function(){o&&G.setPropertyValue(e,"display","none")};if(!c){if("height"===t&&"border-box"!==G.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var s=e.offsetHeight-(parseFloat(G.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(G.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(G.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(G.getPropertyValue(e,"paddingBottom"))||0);return i(),s}if("width"===t&&"border-box"!==G.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var a=e.offsetWidth-(parseFloat(G.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(G.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(G.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(G.getPropertyValue(e,"paddingRight"))||0);return i(),a}}n=Y(e)===B?F.getComputedStyle(e,null):Y(e).computedStyle?Y(e).computedStyle:Y(e).computedStyle=F.getComputedStyle(e,null),"borderColor"===t&&(t="borderTopColor"),""!==(r=9===D&&"filter"===t?n.getPropertyValue(t):n[t])&&null!==r||(r=e.style[t]),i()}if("auto"===r&&/^(top|right|bottom|left)$/i.test(t)){var l=u(e,"position");("fixed"===l||"absolute"===l&&/top|left/i.test(t))&&(r=$(e).position()[t]+"px")}return r}var o;if(G.Hooks.registered[t]){var n=t,i=G.Hooks.getRoot(n);r===B&&(r=G.getPropertyValue(e,G.Names.prefixCheck(i)[0])),G.Normalizations.registered[i]&&(r=G.Normalizations.registered[i]("extract",e,r)),o=G.Hooks.extractValue(n,r)}else if(G.Normalizations.registered[t]){var s,a;"transform"!==(s=G.Normalizations.registered[t]("name",e))&&(a=u(e,G.Names.prefixCheck(s)[0]),G.Values.isCSSNullValue(a)&&G.Hooks.templates[t]&&(a=G.Hooks.templates[t][1])),o=G.Normalizations.registered[t]("extract",e,a)}if(!/^[\d-]/.test(o)){var l=Y(e);if(l&&l.isSVG&&G.Names.SVGAttribute(t))if(/^(height|width)$/i.test(t))try{o=e.getBBox()[t]}catch(e){o=0}else o=e.getAttribute(t);else o=u(e,G.Names.prefixCheck(t)[0])}return G.Values.isCSSNullValue(o)&&(o=0),2<=W.debug&&console.log("Get "+t+": "+o),o},setPropertyValue:function(e,t,r,o,n){var i=t;if("scroll"===t)n.container?n.container["scroll"+n.direction]=r:"Left"===n.direction?F.scrollTo(r,n.alternateValue):F.scrollTo(n.alternateValue,r);else if(G.Normalizations.registered[t]&&"transform"===G.Normalizations.registered[t]("name",e))G.Normalizations.registered[t]("inject",e,r),i="transform",r=Y(e).transformCache[t];else{if(G.Hooks.registered[t]){var s=t,a=G.Hooks.getRoot(t);o=o||G.getPropertyValue(e,a),r=G.Hooks.injectValue(s,r,o),t=a}if(G.Normalizations.registered[t]&&(r=G.Normalizations.registered[t]("inject",e,r),t=G.Normalizations.registered[t]("name",e)),i=G.Names.prefixCheck(t)[0],D<=8)try{e.style[i]=r}catch(e){W.debug&&console.log("Browser does not support ["+r+"] for ["+i+"]")}else{var l=Y(e);l&&l.isSVG&&G.Names.SVGAttribute(t)?e.setAttribute(t,r):e.style[i]=r}2<=W.debug&&console.log("Set "+t+" ("+i+"): "+r)}return[i,r]},flushTransformCache:function(t){var r="",e=Y(t);if((D||W.State.isAndroid&&!W.State.isChrome)&&e&&e.isSVG){var o=function(e){return parseFloat(G.getPropertyValue(t,e))},n={translate:[o("translateX"),o("translateY")],skewX:[o("skewX")],skewY:[o("skewY")],scale:1!==o("scale")?[o("scale"),o("scale")]:[o("scaleX"),o("scaleY")],rotate:[o("rotateZ"),0,0]};$.each(Y(t).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),n[e]&&(r+=e+"("+n[e].join(" ")+") ",delete n[e])})}else{var i,s;$.each(Y(t).transformCache,function(e){if(i=Y(t).transformCache[e],"transformPerspective"===e)return s=i,!0;9===D&&"rotateZ"===e&&(e="rotate"),r+=e+i+" "}),s&&(r="perspective"+s+" "+r)}G.setPropertyValue(t,"transform",r)}};G.Hooks.register(),G.Normalizations.register(),W.hook=function(e,o,n){var i;return e=b(e),$.each(e,function(e,t){if(Y(t)===B&&W.init(t),n===B)i===B&&(i=G.getPropertyValue(t,o));else{var r=G.setPropertyValue(t,o,n);"transform"===r[0]&&W.CSS.flushTransformCache(t),i=r}}),i};var y=function(){var r;function e(){return t?O.promise||null:o}var t,o,n,E,D,x,i=arguments[0]&&(arguments[0].p||$.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||Q.isString(arguments[0].properties));Q.isWrapped(this)?(t=!1,n=0,o=E=this):(t=!0,n=1,E=i?arguments[0].elements||arguments[0].e:arguments[0]);var O={promise:null,resolver:null,rejecter:null};if(t&&W.Promise&&(O.promise=new W.Promise(function(e,t){O.resolver=e,O.rejecter=t})),x=i?(D=arguments[0].properties||arguments[0].p,arguments[0].options||arguments[0].o):(D=arguments[n],arguments[n+1]),E=b(E)){var T,N=E.length,z=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(D)&&!$.isPlainObject(x)){x={};for(var s=n+1;s<arguments.length;s++)Q.isArray(arguments[s])||!/^(fast|normal|slow)$/i.test(arguments[s])&&!/^\d/.test(arguments[s])?Q.isString(arguments[s])||Q.isArray(arguments[s])?x.easing=arguments[s]:Q.isFunction(arguments[s])&&(x.complete=arguments[s]):x.duration=arguments[s]}switch(D){case"scroll":T="scroll";break;case"reverse":T="reverse";break;case"pause":var a=(new Date).getTime();return $.each(E,function(e,t){f(t,a)}),$.each(W.State.calls,function(e,o){var n=!1;o&&$.each(o[1],function(e,r){var t=x===B?"":x;return!0!==t&&o[2].queue!==t&&(x!==B||!1!==o[2].queue)||($.each(E,function(e,t){if(t===r)return o[5]={resume:!1},!(n=!0)}),!n&&void 0)})}),e();case"resume":return $.each(E,function(e,t){g(t)}),$.each(W.State.calls,function(e,o){var n=!1;o&&$.each(o[1],function(e,r){var t=x===B?"":x;return!0!==t&&o[2].queue!==t&&(x!==B||!1!==o[2].queue)||(!o[5]||($.each(E,function(e,t){if(t===r)return o[5].resume=!0,!(n=!0)}),!n&&void 0))})}),e();case"finish":case"finishAll":case"stop":$.each(E,function(e,t){Y(t)&&Y(t).delayTimer&&(clearTimeout(Y(t).delayTimer.setTimeout),Y(t).delayTimer.next&&Y(t).delayTimer.next(),delete Y(t).delayTimer),"finishAll"!==D||!0!==x&&!Q.isString(x)||($.each($.queue(t,Q.isString(x)?x:""),function(e,t){Q.isFunction(t)&&t()}),$.queue(t,Q.isString(x)?x:"",[]))});var l=[];return $.each(W.State.calls,function(i,s){s&&$.each(s[1],function(e,o){var n=x===B?"":x;if(!0!==n&&s[2].queue!==n&&(x!==B||!1!==s[2].queue))return!0;$.each(E,function(e,t){if(t===o)if((!0===x||Q.isString(x))&&($.each($.queue(t,Q.isString(x)?x:""),function(e,t){Q.isFunction(t)&&t(null,!0)}),$.queue(t,Q.isString(x)?x:"",[])),"stop"===D){var r=Y(t);r&&r.tweensContainer&&!1!==n&&$.each(r.tweensContainer,function(e,t){t.endValue=t.currentValue}),l.push(i)}else"finish"!==D&&"finishAll"!==D||(s[2].duration=1)})})}),"stop"===D&&($.each(l,function(e,t){P(t,!0)}),O.promise&&O.resolver(E)),e();default:if(!$.isPlainObject(D)||Q.isEmptyObject(D)){if(Q.isString(D)&&W.Redirects[D]){var c=(r=$.extend({},x)).duration,u=r.delay||0;return!0===r.backwards&&(E=$.extend(!0,[],E).reverse()),$.each(E,function(e,t){parseFloat(r.stagger)?r.delay=u+parseFloat(r.stagger)*e:Q.isFunction(r.stagger)&&(r.delay=u+r.stagger.call(t,e,N)),r.drag&&(r.duration=parseFloat(c)||(/^(callout|transition)/.test(D)?1e3:400),r.duration=Math.max(r.duration*(r.backwards?1-e/N:(e+1)/N),.75*r.duration,200)),W.Redirects[D].call(t,t,r||{},e,N,E,O.promise?O:B)}),e()}var p="Velocity: First argument ("+D+") was not a property map, a known action, or a registered redirect. Aborting.";return O.promise?O.rejecter(new Error(p)):F.console&&console.log(p),e()}T="start"}var M={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},L=[];$.each(E,function(e,t){Q.isNode(t)&&function(A,j){var I,e,R=$.extend({},W.defaults,x),q={};switch(Y(A)===B&&W.init(A),parseFloat(R.delay)&&!1!==R.queue&&$.queue(A,R.queue,function(e){W.velocityQueueEntryFlag=!0;var t=W.State.delayedElements.count++;W.State.delayedElements[t]=A;var r,o=(r=t,function(){W.State.delayedElements[r]=!1,e()});Y(A).delayBegin=(new Date).getTime(),Y(A).delay=parseFloat(R.delay),Y(A).delayTimer={setTimeout:setTimeout(e,parseFloat(R.delay)),next:o}}),R.duration.toString().toLowerCase()){case"fast":R.duration=200;break;case"normal":R.duration=400;break;case"slow":R.duration=600;break;default:R.duration=parseFloat(R.duration)||1}function r(e){var P,H,t,r,o,n,i;if(R.begin&&0===z)try{R.begin.call(E,E)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===T){var s,a,l,c=/^x$/i.test(R.axis)?"Left":"Top",u=parseFloat(R.offset)||0;R.container?Q.isWrapped(R.container)||Q.isNode(R.container)?(R.container=R.container[0]||R.container,l=(s=R.container["scroll"+c])+$(A).position()[c.toLowerCase()]+u):R.container=null:(s=W.State.scrollAnchor[W.State["scrollProperty"+c]],a=W.State.scrollAnchor[W.State["scrollProperty"+("Left"===c?"Top":"Left")]],l=$(A).offset()[c.toLowerCase()]+u),q={scroll:{rootPropertyValue:!1,startValue:s,currentValue:s,endValue:l,unitType:"",easing:R.easing,scrollData:{container:R.container,direction:c,alternateValue:a}},element:A},W.debug&&console.log("tweensContainer (scroll): ",q.scroll,A)}else if("reverse"===T){if(!(P=Y(A)))return;if(!P.tweensContainer)return void $.dequeue(A,R.queue);for(var p in"none"===P.opts.display&&(P.opts.display="auto"),"hidden"===P.opts.visibility&&(P.opts.visibility="visible"),P.opts.loop=!1,P.opts.begin=null,P.opts.complete=null,x.easing||delete R.easing,x.duration||delete R.duration,R=$.extend({},P.opts,R),H=$.extend(!0,{},P?P.tweensContainer:null))if(H.hasOwnProperty(p)&&"element"!==p){var d=H[p].startValue;H[p].startValue=H[p].currentValue=H[p].endValue,H[p].endValue=d,Q.isEmptyObject(x)||(H[p].easing=R.easing),W.debug&&console.log("reverse tweensContainer ("+p+"): "+JSON.stringify(H[p]),A)}q=H}else if("start"===T){(P=Y(A))&&P.tweensContainer&&!0===P.isAnimating&&(H=P.tweensContainer);var h=function(e,t){var r,o=G.Hooks.getRoot(e),n=!1,i=t[0],s=t[1],a=t[2];if(P&&P.isSVG||"tween"===o||!1!==G.Names.prefixCheck(o)[1]||G.Normalizations.registered[o]!==B){(R.display!==B&&null!==R.display&&"none"!==R.display||R.visibility!==B&&"hidden"!==R.visibility)&&/opacity|filter/.test(e)&&!a&&0!==i&&(a=0),R._cacheValues&&H&&H[e]?(a===B&&(a=H[e].endValue+H[e].unitType),n=P.rootPropertyValueCache[o]):G.Hooks.registered[e]?a===B?(n=G.getPropertyValue(A,o),a=G.getPropertyValue(A,e,n)):n=G.Hooks.templates[o][1]:a===B&&(a=G.getPropertyValue(A,e));var l,c,u,p=!1,d=function(e,t){var r,o;return o=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return r=e,""}),r||(r=G.Values.getUnitType(e)),[o,r]};if(a!==i&&Q.isString(a)&&Q.isString(i)){r="";var h=0,m=0,b=[],y=[],f=0,g=0,v=0;for(a=G.Hooks.fixColors(a),i=G.Hooks.fixColors(i);h<a.length&&m<i.length;){var w=a[h],k=i[m];if(/[\d\.-]/.test(w)&&/[\d\.-]/.test(k)){for(var C=w,_=k,S=".",j=".";++h<a.length;){if((w=a[h])===S)S="..";else if(!/\d/.test(w))break;C+=w}for(;++m<i.length;){if((k=i[m])===j)j="..";else if(!/\d/.test(k))break;_+=k}var E=G.Hooks.getUnit(a,h),D=G.Hooks.getUnit(i,m);if(h+=E.length,m+=D.length,E===D)C===_?r+=C+E:(r+="{"+b.length+(g?"!":"")+"}"+E,b.push(parseFloat(C)),y.push(parseFloat(_)));else{var x=parseFloat(C),O=parseFloat(_);r+=(f<5?"calc":"")+"("+(x?"{"+b.length+(g?"!":"")+"}":"0")+E+" + "+(O?"{"+(b.length+(x?1:0))+(g?"!":"")+"}":"0")+D+")",x&&(b.push(x),y.push(0)),O&&(b.push(0),y.push(O))}}else{if(w!==k){f=0;break}r+=w,h++,m++,0===f&&"c"===w||1===f&&"a"===w||2===f&&"l"===w||3===f&&"c"===w||4<=f&&"("===w?f++:(f&&f<5||4<=f&&")"===w&&--f<5)&&(f=0),0===g&&"r"===w||1===g&&"g"===w||2===g&&"b"===w||3===g&&"a"===w||3<=g&&"("===w?(3===g&&"a"===w&&(v=1),g++):v&&","===w?3<++v&&(g=v=0):(v&&g<(v?5:4)||(v?4:3)<=g&&")"===w&&--g<(v?5:4))&&(g=v=0)}}h===a.length&&m===i.length||(W.debug&&console.error('Trying to pattern match mis-matched strings ["'+i+'", "'+a+'"]'),r=B),r&&(b.length?(W.debug&&console.log('Pattern found "'+r+'" -> ',b,y,"["+a+","+i+"]"),a=b,i=y,c=u=""):r=B)}if(r||(a=(l=d(e,a))[0],u=l[1],i=(l=d(e,i))[0].replace(/^([+-\/*])=/,function(e,t){return p=t,""}),c=l[1],a=parseFloat(a)||0,i=parseFloat(i)||0,"%"===c&&(/^(fontSize|lineHeight)$/.test(e)?(i/=100,c="em"):/^scale/.test(e)?(i/=100,c=""):/(Red|Green|Blue)$/i.test(e)&&(i=i/100*255,c=""))),/[\/*]/.test(p))c=u;else if(u!==c&&0!==a)if(0===i)c=u;else{I=I||function(){var e={myParent:A.parentNode||U.body,position:G.getPropertyValue(A,"position"),fontSize:G.getPropertyValue(A,"fontSize")},t=e.position===M.lastPosition&&e.myParent===M.lastParent,r=e.fontSize===M.lastFontSize;M.lastParent=e.myParent,M.lastPosition=e.position,M.lastFontSize=e.fontSize;var o={};if(r&&t)o.emToPx=M.lastEmToPx,o.percentToPxWidth=M.lastPercentToPxWidth,o.percentToPxHeight=M.lastPercentToPxHeight;else{var n=P&&P.isSVG?U.createElementNS("http://www.w3.org/2000/svg","rect"):U.createElement("div");W.init(n),e.myParent.appendChild(n),$.each(["overflow","overflowX","overflowY"],function(e,t){W.CSS.setPropertyValue(n,t,"hidden")}),W.CSS.setPropertyValue(n,"position",e.position),W.CSS.setPropertyValue(n,"fontSize",e.fontSize),W.CSS.setPropertyValue(n,"boxSizing","content-box"),$.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){W.CSS.setPropertyValue(n,t,"100%")}),W.CSS.setPropertyValue(n,"paddingLeft","100em"),o.percentToPxWidth=M.lastPercentToPxWidth=(parseFloat(G.getPropertyValue(n,"width",null,!0))||1)/100,o.percentToPxHeight=M.lastPercentToPxHeight=(parseFloat(G.getPropertyValue(n,"height",null,!0))||1)/100,o.emToPx=M.lastEmToPx=(parseFloat(G.getPropertyValue(n,"paddingLeft"))||1)/100,e.myParent.removeChild(n)}return null===M.remToPx&&(M.remToPx=parseFloat(G.getPropertyValue(U.body,"fontSize"))||16),null===M.vwToPx&&(M.vwToPx=parseFloat(F.innerWidth)/100,M.vhToPx=parseFloat(F.innerHeight)/100),o.remToPx=M.remToPx,o.vwToPx=M.vwToPx,o.vhToPx=M.vhToPx,1<=W.debug&&console.log("Unit ratios: "+JSON.stringify(o),A),o}();var T=/margin|padding|left|right|width|text|word|letter/i.test(e)||/X$/.test(e)||"x"===e?"x":"y";switch(u){case"%":a*="x"===T?I.percentToPxWidth:I.percentToPxHeight;break;case"px":break;default:a*=I[u+"ToPx"]}switch(c){case"%":a*=1/("x"===T?I.percentToPxWidth:I.percentToPxHeight);break;case"px":break;default:a*=1/I[c+"ToPx"]}}switch(p){case"+":i=a+i;break;case"-":i=a-i;break;case"*":i*=a;break;case"/":i=a/i}q[e]={rootPropertyValue:n,startValue:a,currentValue:a,endValue:i,unitType:c,easing:s},r&&(q[e].pattern=r),W.debug&&console.log("tweensContainer ("+e+"): "+JSON.stringify(q[e]),A)}else W.debug&&console.log("Skipping ["+o+"] due to a lack of browser support.")};for(var m in D)if(D.hasOwnProperty(m)){var b=G.Names.camelCase(m),y=(t=D[m],i=n=o=r=void 0,Q.isFunction(t)&&(t=t.call(A,j,N)),Q.isArray(t)?(o=t[0],i=!Q.isArray(t[1])&&/^[\d-]/.test(t[1])||Q.isFunction(t[1])||G.RegEx.isHex.test(t[1])?t[1]:Q.isString(t[1])&&!G.RegEx.isHex.test(t[1])&&W.Easings[t[1]]||Q.isArray(t[1])?(n=r?t[1]:K(t[1],R.duration),t[2]):t[1]||t[2]):o=t,r||(n=n||R.easing),Q.isFunction(o)&&(o=o.call(A,j,N)),Q.isFunction(i)&&(i=i.call(A,j,N)),[o||0,n,i]);if(V(G.Lists.colors)){var f=y[0],g=y[1],v=y[2];if(G.RegEx.isHex.test(f)){for(var w=["Red","Green","Blue"],k=G.Values.hexToRgb(f),C=v?G.Values.hexToRgb(v):B,_=0;_<w.length;_++){var S=[k[_]];g&&S.push(g),C!==B&&S.push(C[_]),h(b+w[_],S)}continue}}h(b,y)}q.element=A}q.element&&(G.Values.addClass(A,"velocity-animating"),L.push(q),(P=Y(A))&&(""===R.queue&&(P.tweensContainer=q,P.opts=R),P.isAnimating=!0),z===N-1?(W.State.calls.push([L,E,R,null,O.resolver,null,0]),!1===W.State.isTicking&&(W.State.isTicking=!0,X())):z++)}if(!1!==W.mock&&(!0===W.mock?R.duration=R.delay=1:(R.duration*=parseFloat(W.mock)||1,R.delay*=parseFloat(W.mock)||1)),R.easing=K(R.easing,R.duration),R.begin&&!Q.isFunction(R.begin)&&(R.begin=null),R.progress&&!Q.isFunction(R.progress)&&(R.progress=null),R.complete&&!Q.isFunction(R.complete)&&(R.complete=null),R.display!==B&&null!==R.display&&(R.display=R.display.toString().toLowerCase(),"auto"===R.display&&(R.display=W.CSS.Values.getDisplayType(A))),R.visibility!==B&&null!==R.visibility&&(R.visibility=R.visibility.toString().toLowerCase()),R.mobileHA=R.mobileHA&&W.State.isMobile&&!W.State.isGingerbread,!1===R.queue)if(R.delay){var t=W.State.delayedElements.count++;W.State.delayedElements[t]=A;var o=(e=t,function(){W.State.delayedElements[e]=!1,r()});Y(A).delayBegin=(new Date).getTime(),Y(A).delay=parseFloat(R.delay),Y(A).delayTimer={setTimeout:setTimeout(r,parseFloat(R.delay)),next:o}}else r();else $.queue(A,R.queue,function(e,t){if(!0===t)return O.promise&&O.resolver(E),!0;W.velocityQueueEntryFlag=!0,r()});""!==R.queue&&"fx"!==R.queue||"inprogress"===$.queue(A)[0]||$.dequeue(A)}(t,e)}),(r=$.extend({},W.defaults,x)).loop=parseInt(r.loop,10);var d=2*r.loop-1;if(r.loop)for(var h=0;h<d;h++){var m={delay:r.delay,progress:r.progress};h===d-1&&(m.display=r.display,m.visibility=r.visibility,m.complete=r.complete),y(E,"reverse",m)}return e()}O.promise&&(D&&x&&!1===x.promiseRejectEmpty?O.resolver():O.rejecter())};(W=$.extend(y,W)).animate=y;var O=F.requestAnimationFrame||t;if(!W.State.isMobile&&U.hidden!==B){var a=function(){U.hidden?(O=function(e){return setTimeout(function(){e(!0)},16)},X()):O=F.requestAnimationFrame||t};a(),U.addEventListener("visibilitychange",a)}return e.Velocity=W,e!==F&&(e.fn.velocity=y,e.fn.velocity.defaults=W.defaults),$.each(["Down","Up"],function(e,p){W.Redirects["slide"+p]=function(r,e,o,t,n,i){var s=$.extend({},e),a=s.begin,l=s.complete,c={},u={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};s.display===B&&(s.display="Down"===p?"inline"===W.CSS.Values.getDisplayType(r)?"inline-block":"block":"none"),s.begin=function(){for(var e in 0===o&&a&&a.call(n,n),u)if(u.hasOwnProperty(e)){c[e]=r.style[e];var t=G.getPropertyValue(r,e);u[e]="Down"===p?[t,0]:[0,t]}c.overflow=r.style.overflow,r.style.overflow="hidden"},s.complete=function(){for(var e in c)c.hasOwnProperty(e)&&(r.style[e]=c[e]);o===t-1&&(l&&l.call(n,n),i&&i.resolver(n))},W(r,u,s)}}),$.each(["In","Out"],function(e,c){W.Redirects["fade"+c]=function(e,t,r,o,n,i){var s=$.extend({},t),a=s.complete,l={opacity:"In"===c?1:0};0!==r&&(s.begin=null),s.complete=r!==o-1?null:function(){a&&a.call(n,n),i&&i.resolver(n)},s.display===B&&(s.display="In"===c?"auto":"none"),W(this,l,s)}}),W}function Y(e){var t=$.data(e,"velocity");return null===t?B:t}function f(e,t){var r=Y(e);r&&r.delayTimer&&!r.delayPaused&&(r.delayRemaining=r.delay-t+r.delayBegin,r.delayPaused=!0,clearTimeout(r.delayTimer.setTimeout))}function g(e,t){var r=Y(e);r&&r.delayTimer&&r.delayPaused&&(r.delayPaused=!1,r.delayTimer.setTimeout=setTimeout(r.delayTimer.next,r.delayRemaining))}function l(s,t,a,r){var l=4,c=1e-7,u=10,p=11,d=1/(p-1),e="Float32Array"in F;if(4!==arguments.length)return!1;for(var o=0;o<4;++o)if("number"!=typeof arguments[o]||isNaN(arguments[o])||!isFinite(arguments[o]))return!1;s=Math.min(s,1),a=Math.min(a,1),s=Math.max(s,0),a=Math.max(a,0);var h=e?new Float32Array(p):new Array(p);function n(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function m(e){return 3*e}function b(e,t,r){return((n(t,r)*e+i(t,r))*e+m(t))*e}function y(e,t,r){return 3*n(t,r)*e*e+2*i(t,r)*e+m(t)}function f(e){for(var t=0,r=1,o=p-1;r!==o&&h[r]<=e;++r)t+=d;var n=t+(e-h[--r])/(h[r+1]-h[r])*d,i=y(n,s,a);return.001<=i?function(e,t){for(var r=0;r<l;++r){var o=y(t,s,a);if(0===o)return t;t-=(b(t,s,a)-e)/o}return t}(e,n):0===i?n:function(e,t,r){for(var o,n,i=0;0<(o=b(n=t+(r-t)/2,s,a)-e)?r=n:t=n,Math.abs(o)>c&&++i<u;);return n}(e,t,t+d)}var g=!1;function v(){g=!0,s===t&&a===r||function(){for(var e=0;e<p;++e)h[e]=b(e*d,s,a)}()}var w=function(e){return g||v(),s===t&&a===r?e:0===e?0:1===e?1:b(f(e),t,r)};w.getControlPoints=function(){return[{x:s,y:t},{x:a,y:r}]};var k="generateBezier("+[s,t,a,r]+")";return w.toString=function(){return k},w}function K(e,t){var r=e;return Q.isString(e)?W.Easings[e]||(r=!1):r=Q.isArray(e)&&1===e.length?function(t){return function(e){return Math.round(e*t)*(1/t)}}.apply(null,e):Q.isArray(e)&&2===e.length?s.apply(null,e.concat([t])):!(!Q.isArray(e)||4!==e.length)&&l.apply(null,e),!1===r&&(r=W.Easings[W.defaults.easing]?W.defaults.easing:i),r}function X(e){if(e){var t=W.timestamp&&!0!==e?e:x.now(),r=W.State.calls.length;1e4<r&&(W.State.calls=function(e){for(var t=-1,r=e?e.length:0,o=[];++t<r;){var n=e[t];n&&o.push(n)}return o}(W.State.calls),r=W.State.calls.length);for(var o=0;o<r;o++)if(W.State.calls[o]){var n=W.State.calls[o],i=n[0],s=n[2],a=n[3],l=!!a,c=null,u=n[5],p=n[6];if(a||(a=W.State.calls[o][3]=t-16),u){if(!0!==u.resume)continue;a=n[3]=Math.round(t-p-16),n[5]=null}p=n[6]=t-a;for(var d=Math.min(p/s.duration,1),h=0,m=i.length;h<m;h++){var b=i[h],y=b.element;if(Y(y)){var f=!1;if(s.display!==B&&null!==s.display&&"none"!==s.display){if("flex"===s.display){$.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(e,t){G.setPropertyValue(y,"display",t)})}G.setPropertyValue(y,"display",s.display)}for(var g in s.visibility!==B&&"hidden"!==s.visibility&&G.setPropertyValue(y,"visibility",s.visibility),b)if(b.hasOwnProperty(g)&&"element"!==g){var v,w=b[g],k=Q.isString(w.easing)?W.Easings[w.easing]:w.easing;if(Q.isString(w.pattern)){var C=1===d?function(e,t,r){var o=w.endValue[t];return r?Math.round(o):o}:function(e,t,r){var o=w.startValue[t],n=w.endValue[t]-o,i=o+n*k(d,s,n);return r?Math.round(i):i};v=w.pattern.replace(/{(\d+)(!)?}/g,C)}else if(1===d)v=w.endValue;else{var _=w.endValue-w.startValue;v=w.startValue+_*k(d,s,_)}if(!l&&v===w.currentValue)continue;if(w.currentValue=v,"tween"===g)c=v;else{var S;if(G.Hooks.registered[g]){S=G.Hooks.getRoot(g);var j=Y(y).rootPropertyValueCache[S];j&&(w.rootPropertyValue=j)}var E=G.setPropertyValue(y,g,w.currentValue+(D<9&&0===parseFloat(v)?"":w.unitType),w.rootPropertyValue,w.scrollData);G.Hooks.registered[g]&&(G.Normalizations.registered[S]?Y(y).rootPropertyValueCache[S]=G.Normalizations.registered[S]("extract",null,E[1]):Y(y).rootPropertyValueCache[S]=E[1]),"transform"===E[0]&&(f=!0)}}s.mobileHA&&Y(y).transformCache.translate3d===B&&(Y(y).transformCache.translate3d="(0px, 0px, 0px)",f=!0),f&&G.flushTransformCache(y)}}s.display!==B&&"none"!==s.display&&(W.State.calls[o][2].display=!1),s.visibility!==B&&"hidden"!==s.visibility&&(W.State.calls[o][2].visibility=!1),s.progress&&s.progress.call(n[1],n[1],d,Math.max(0,a+s.duration-t),a,c),1===d&&P(o)}}W.State.isTicking&&O(X)}function P(e,t){if(!W.State.calls[e])return!1;for(var r=W.State.calls[e][0],o=W.State.calls[e][1],n=W.State.calls[e][2],i=W.State.calls[e][4],s=!1,a=0,l=r.length;a<l;a++){var c=r[a].element;t||n.loop||("none"===n.display&&G.setPropertyValue(c,"display",n.display),"hidden"===n.visibility&&G.setPropertyValue(c,"visibility",n.visibility));var u=Y(c);if(!0!==n.loop&&($.queue(c)[1]===B||!/\.velocityQueueEntryFlag/i.test($.queue(c)[1]))&&u){u.isAnimating=!1;var p=!(u.rootPropertyValueCache={});$.each(G.Lists.transforms3D,function(e,t){var r=/^scale/.test(t)?1:0,o=u.transformCache[t];u.transformCache[t]!==B&&new RegExp("^\\("+r+"[^.]").test(o)&&(p=!0,delete u.transformCache[t])}),n.mobileHA&&(p=!0,delete u.transformCache.translate3d),p&&G.flushTransformCache(c),G.Values.removeClass(c,"velocity-animating")}if(!t&&n.complete&&!n.loop&&a===l-1)try{n.complete.call(o,o)}catch(e){setTimeout(function(){throw e},1)}i&&!0!==n.loop&&i(o),u&&!0===n.loop&&!t&&($.each(u.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var r=t.startValue;t.startValue=t.endValue,t.endValue=r}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),W(c,"reverse",{loop:!0,delay:n.delay})),!1!==n.queue&&$.dequeue(c,n.queue)}W.State.calls[e]=!1;for(var d=0,h=W.State.calls.length;d<h;d++)if(!1!==W.State.calls[d]){s=!0;break}!1===s&&(W.State.isTicking=!1,delete W.State.calls,W.State.calls=[])}c.fn.velocity=c.fn.animate}(l||window.Zepto||window,window,window?window.document:void 0)}),o.exports=window.Velocity}).call(this,i("./node_modules/jquery/dist/jquery.js-exposed"),i("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/velocity-animate/velocity.ui.js":function(r,e,o){(function(t){o("./node_modules/velocity-animate/velocity.js");
/* VelocityJS.org UI Pack (5.2.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License. Portions copyright Daniel Eden, Christian Pucci. */
!function(e){"use strict";r.exports=function(e,t,r,C){var _=e.Velocity;if(_&&_.Utilities){var o,n,i,S=_.Utilities,s=_.version;if(i=[],o={major:1,minor:1,patch:0},(n=s)&&(S.each([o,n],function(e,t){var r=[];S.each(t,function(e,t){for(;t.toString().length<5;)t="0"+t;r.push(t)}),i.push(r.join(""))}),parseFloat(i[0])>parseFloat(i[1]))){var a="Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(a),new Error(a)}for(var l in _.RegisterEffect=_.RegisterUI=function(v,w){function k(e,t,o,n){var i,s=0;S.each(e.nodeType?[e]:e,function(e,r){n&&(o+=e*n),i=r.parentNode;var t=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===_.CSS.getPropertyValue(r,"boxSizing").toString().toLowerCase()&&(t=["height"]),S.each(t,function(e,t){s+=parseFloat(_.CSS.getPropertyValue(r,t))})}),_.animate(i,{height:("In"===t?"+":"-")+"="+s},{queue:!1,easing:"ease-in-out",duration:o*("In"===t?.6:1)})}return _.Redirects[v]=function(o,n,i,s,a,l,c){var u=i===s-1,e=0;c=c||w.loop,"function"==typeof w.defaultDuration?w.defaultDuration=w.defaultDuration.call(a,a):w.defaultDuration=parseFloat(w.defaultDuration);for(var t=0;t<w.calls.length;t++)"number"==typeof(m=w.calls[t][1])&&(e+=m);var r=1<=e?0:w.calls.length?(1-e)/w.calls.length:1;for(t=0;t<w.calls.length;t++){var p=w.calls[t],d=p[0],h=1e3,m=p[1],b=p[2]||{},y={};if(n.duration!==C?h=n.duration:w.defaultDuration!==C&&(h=w.defaultDuration),y.duration=h*("number"==typeof m?m:r),y.queue=n.queue||"",y.easing=b.easing||"ease",y.delay=parseFloat(b.delay)||0,y.loop=!w.loop&&b.loop,y._cacheValues=b._cacheValues||!0,0===t){if(y.delay+=parseFloat(n.delay)||0,0===i&&(y.begin=function(){n.begin&&n.begin.call(a,a);var e=v.match(/(In|Out)$/);e&&"In"===e[0]&&d.opacity!==C&&S.each(a.nodeType?[a]:a,function(e,t){_.CSS.setPropertyValue(t,"opacity",0)}),n.animateParentHeight&&e&&k(a,e[0],h+y.delay,n.stagger)}),null!==n.display)if(n.display!==C&&"none"!==n.display)y.display=n.display;else if(/In$/.test(v)){var f=_.CSS.Values.getDisplayType(o);y.display="inline"===f?"inline-block":f}n.visibility&&"hidden"!==n.visibility&&(y.visibility=n.visibility)}if(t===w.calls.length-1){var g=function(){n.display!==C&&"none"!==n.display||!/Out$/.test(v)||S.each(a.nodeType?[a]:a,function(e,t){_.CSS.setPropertyValue(t,"display","none")}),n.complete&&n.complete.call(a,a),l&&l.resolver(a||o)};y.complete=function(){if(c&&_.Redirects[v](o,n,i,s,a,l,!0===c||Math.max(0,c-1)),w.reset){for(var e in w.reset)if(w.reset.hasOwnProperty(e)){var t=w.reset[e];_.CSS.Hooks.registered[e]!==C||"string"!=typeof t&&"number"!=typeof t||(w.reset[e]=[w.reset[e],w.reset[e]])}var r={duration:0,queue:!1};u&&(r.complete=g),_.animate(o,w.reset,r)}else u&&g()},"hidden"===n.visibility&&(y.visibility=n.visibility)}_.animate(o,d,y)}},_},_.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:0}]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]}],[{opacity:[1,"easeInOutQuad"]}],[{opacity:[0,"easeInOutQuad"]}],[{opacity:[1,"easeInOutQuad"]}]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15}],[{rotateZ:-10}],[{rotateZ:5}],[{rotateZ:-5}],[{rotateZ:0}]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10}],[{opacity:0,rotateY:90}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15}],[{opacity:0,rotateX:90}]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.35],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.45]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}},_.RegisterEffect.packagedEffects)_.RegisterEffect.packagedEffects.hasOwnProperty(l)&&_.RegisterEffect(l,_.RegisterEffect.packagedEffects[l]);_.RunSequence=function(e){var l=S.extend(!0,[],e);1<l.length&&(S.each(l.reverse(),function(e,r){var o=l[e+1];if(o){var t=r.o||r.options,n=o.o||o.options,i=t&&!1===t.sequenceQueue?"begin":"complete",s=n&&n[i],a={};a[i]=function(){var e=o.e||o.elements,t=e.nodeType?[e]:e;s&&s.call(t,t),_(r)},o.o?o.o=S.extend({},n,a):o.options=S.extend({},n,a)}}),l.reverse()),_(l[0])}}else t.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting.")}(t||window.Zepto||window,window,window&&window.document)}(),r.exports=window.Velocity}).call(this,o("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/velocity-react/node_modules/lodash/array/last.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");e.exports=function(e){var t=e?e.length:0;return t?e[t-1]:void 0}},"./node_modules/velocity-react/node_modules/lodash/collection/each.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");e.exports=r("./node_modules/velocity-react/node_modules/lodash/collection/forEach.js")},"./node_modules/velocity-react/node_modules/lodash/collection/map.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var o=r("./node_modules/velocity-react/node_modules/lodash/internal/arrayMap.js"),n=r("./node_modules/velocity-react/node_modules/lodash/internal/baseCallback.js"),i=r("./node_modules/velocity-react/node_modules/lodash/internal/baseMap.js"),s=r("./node_modules/velocity-react/node_modules/lodash/lang/isArray.js");e.exports=function(e,t,r){return(s(e)?o:i)(e,t=n(t,r,3))}},"./node_modules/velocity-react/node_modules/lodash/collection/pluck.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var o=r("./node_modules/velocity-react/node_modules/lodash/collection/map.js"),n=r("./node_modules/velocity-react/node_modules/lodash/utility/property.js");e.exports=function(e,t){return o(e,n(t))}},"./node_modules/velocity-react/node_modules/lodash/internal/assignWith.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var c=r("./node_modules/velocity-react/node_modules/lodash/object/keys.js");e.exports=function(e,t,r){for(var o=-1,n=c(t),i=n.length;++o<i;){var s=n[o],a=e[s],l=r(a,t[s],s,e,t);(l==l?l===a:a!=a)&&(void 0!==a||s in e)||(e[s]=l)}return e}},"./node_modules/velocity-react/node_modules/lodash/internal/baseAssign.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var o=r("./node_modules/velocity-react/node_modules/lodash/internal/baseCopy.js"),n=r("./node_modules/velocity-react/node_modules/lodash/object/keys.js");e.exports=function(e,t){return null==t?e:o(t,n(t),e)}},"./node_modules/velocity-react/node_modules/lodash/internal/baseCallback.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var n=r("./node_modules/velocity-react/node_modules/lodash/internal/baseMatches.js"),i=r("./node_modules/velocity-react/node_modules/lodash/internal/baseMatchesProperty.js"),s=r("./node_modules/velocity-react/node_modules/lodash/internal/bindCallback.js"),a=r("./node_modules/velocity-react/node_modules/lodash/utility/identity.js"),l=r("./node_modules/velocity-react/node_modules/lodash/utility/property.js");e.exports=function(e,t,r){var o=typeof e;return"function"==o?void 0===t?e:s(e,t,r):null==e?a:"object"==o?n(e):void 0===t?l(e):i(e,t)}},"./node_modules/velocity-react/node_modules/lodash/internal/baseCopy.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");e.exports=function(e,t,r){r||(r={});for(var o=-1,n=t.length;++o<n;){var i=t[o];r[i]=e[i]}return r}},"./node_modules/velocity-react/node_modules/lodash/internal/baseGet.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var i=r("./node_modules/velocity-react/node_modules/lodash/internal/toObject.js");e.exports=function(e,t,r){if(null!=e){void 0!==r&&r in i(e)&&(t=[r]);for(var o=0,n=t.length;null!=e&&o<n;)e=e[t[o++]];return o&&o==n?e:void 0}}},"./node_modules/velocity-react/node_modules/lodash/internal/baseIsMatch.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var p=r("./node_modules/velocity-react/node_modules/lodash/internal/baseIsEqual.js"),d=r("./node_modules/velocity-react/node_modules/lodash/internal/toObject.js");e.exports=function(e,t,r){var o=t.length,n=o,i=!r;if(null==e)return!n;for(e=d(e);o--;){var s=t[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<n;){var a=(s=t[o])[0],l=e[a],c=s[1];if(i&&s[2]){if(void 0===l&&!(a in e))return!1}else{var u=r?r(l,c,a):void 0;if(!(void 0===u?p(c,l,r,!0):u))return!1}}return!0}},"./node_modules/velocity-react/node_modules/lodash/internal/baseMap.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var s=r("./node_modules/velocity-react/node_modules/lodash/internal/baseEach.js"),a=r("./node_modules/velocity-react/node_modules/lodash/internal/isArrayLike.js");e.exports=function(e,o){var n=-1,i=a(e)?Array(e.length):[];return s(e,function(e,t,r){i[++n]=o(e,t,r)}),i}},"./node_modules/velocity-react/node_modules/lodash/internal/baseMatches.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var n=r("./node_modules/velocity-react/node_modules/lodash/internal/baseIsMatch.js"),i=r("./node_modules/velocity-react/node_modules/lodash/internal/getMatchData.js"),s=r("./node_modules/velocity-react/node_modules/lodash/internal/toObject.js");e.exports=function(e){var t=i(e);if(1==t.length&&t[0][2]){var r=t[0][0],o=t[0][1];return function(e){return null!=e&&e[r]===o&&(void 0!==o||r in s(e))}}return function(e){return n(e,t)}}},"./node_modules/velocity-react/node_modules/lodash/internal/baseMatchesProperty.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var a=r("./node_modules/velocity-react/node_modules/lodash/internal/baseGet.js"),l=r("./node_modules/velocity-react/node_modules/lodash/internal/baseIsEqual.js"),c=r("./node_modules/velocity-react/node_modules/lodash/internal/baseSlice.js"),u=r("./node_modules/velocity-react/node_modules/lodash/lang/isArray.js"),p=r("./node_modules/velocity-react/node_modules/lodash/internal/isKey.js"),d=r("./node_modules/velocity-react/node_modules/lodash/internal/isStrictComparable.js"),h=r("./node_modules/velocity-react/node_modules/lodash/array/last.js"),m=r("./node_modules/velocity-react/node_modules/lodash/internal/toObject.js"),b=r("./node_modules/velocity-react/node_modules/lodash/internal/toPath.js");e.exports=function(r,o){var n=u(r),i=p(r)&&d(o),s=r+"";return r=b(r),function(e){if(null==e)return!1;var t=s;if(e=m(e),(n||!i)&&!(t in e)){if(null==(e=1==r.length?e:a(e,c(r,0,-1))))return!1;t=h(r),e=m(e)}return e[t]===o?void 0!==o||t in e:l(o,e[t],void 0,!0)}}},"./node_modules/velocity-react/node_modules/lodash/internal/basePropertyDeep.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var o=r("./node_modules/velocity-react/node_modules/lodash/internal/baseGet.js"),n=r("./node_modules/velocity-react/node_modules/lodash/internal/toPath.js");e.exports=function(t){var r=t+"";return t=n(t),function(e){return o(e,t,r)}}},"./node_modules/velocity-react/node_modules/lodash/internal/baseSlice.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");e.exports=function(e,t,r){var o=-1,n=e.length;(t=null==t?0:+t||0)<0&&(t=n<-t?0:n+t),(r=void 0===r||n<r?n:+r||0)<0&&(r+=n),n=r<t?0:r-t>>>0,t>>>=0;for(var i=Array(n);++o<n;)i[o]=e[o+t];return i}},"./node_modules/velocity-react/node_modules/lodash/internal/baseToString.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");e.exports=function(e){return null==e?"":e+""}},"./node_modules/velocity-react/node_modules/lodash/internal/createAssigner.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var c=r("./node_modules/velocity-react/node_modules/lodash/internal/bindCallback.js"),u=r("./node_modules/velocity-react/node_modules/lodash/internal/isIterateeCall.js"),o=r("./node_modules/velocity-react/node_modules/lodash/function/restParam.js");e.exports=function(l){return o(function(e,t){var r=-1,o=null==e?0:t.length,n=2<o?t[o-2]:void 0,i=2<o?t[2]:void 0,s=1<o?t[o-1]:void 0;for("function"==typeof n?(n=c(n,s,5),o-=2):o-=(n="function"==typeof s?s:void 0)?1:0,i&&u(t[0],t[1],i)&&(n=o<3?void 0:n,o=1);++r<o;){var a=t[r];a&&l(e,a,n)}return e})}},"./node_modules/velocity-react/node_modules/lodash/internal/getMatchData.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var o=r("./node_modules/velocity-react/node_modules/lodash/internal/isStrictComparable.js"),n=r("./node_modules/velocity-react/node_modules/lodash/object/pairs.js");e.exports=function(e){for(var t=n(e),r=t.length;r--;)t[r][2]=o(t[r][1]);return t}},"./node_modules/velocity-react/node_modules/lodash/internal/isIterateeCall.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var i=r("./node_modules/velocity-react/node_modules/lodash/internal/isArrayLike.js"),s=r("./node_modules/velocity-react/node_modules/lodash/internal/isIndex.js"),a=r("./node_modules/velocity-react/node_modules/lodash/lang/isObject.js");e.exports=function(e,t,r){if(!a(r))return!1;var o=typeof t;if("number"==o?i(r)&&s(t,r.length):"string"==o&&t in r){var n=r[t];return e==e?e===n:n!=n}return!1}},"./node_modules/velocity-react/node_modules/lodash/internal/isKey.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var o=r("./node_modules/velocity-react/node_modules/lodash/lang/isArray.js"),n=r("./node_modules/velocity-react/node_modules/lodash/internal/toObject.js"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){var r=typeof e;return!!("string"==r&&s.test(e)||"number"==r)||!o(e)&&(!i.test(e)||null!=t&&e in n(t))}},"./node_modules/velocity-react/node_modules/lodash/internal/isStrictComparable.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var o=r("./node_modules/velocity-react/node_modules/lodash/lang/isObject.js");e.exports=function(e){return e==e&&!o(e)}},"./node_modules/velocity-react/node_modules/lodash/internal/toPath.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var o=r("./node_modules/velocity-react/node_modules/lodash/internal/baseToString.js"),i=r("./node_modules/velocity-react/node_modules/lodash/lang/isArray.js"),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;e.exports=function(e){if(i(e))return e;var n=[];return o(e).replace(s,function(e,t,r,o){n.push(r?o.replace(a,"$1"):t||e)}),n}},"./node_modules/velocity-react/node_modules/lodash/object/assign.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var o=r("./node_modules/velocity-react/node_modules/lodash/internal/assignWith.js"),n=r("./node_modules/velocity-react/node_modules/lodash/internal/baseAssign.js"),i=r("./node_modules/velocity-react/node_modules/lodash/internal/createAssigner.js")(function(e,t,r){return r?o(e,t,r):n(e,t)});e.exports=i},"./node_modules/velocity-react/node_modules/lodash/object/extend.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");e.exports=r("./node_modules/velocity-react/node_modules/lodash/object/assign.js")},"./node_modules/velocity-react/node_modules/lodash/object/pairs.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var s=r("./node_modules/velocity-react/node_modules/lodash/object/keys.js"),a=r("./node_modules/velocity-react/node_modules/lodash/internal/toObject.js");e.exports=function(e){e=a(e);for(var t=-1,r=s(e),o=r.length,n=Array(o);++t<o;){var i=r[t];n[t]=[i,e[i]]}return n}},"./node_modules/velocity-react/node_modules/lodash/utility/property.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var o=r("./node_modules/velocity-react/node_modules/lodash/internal/baseProperty.js"),n=r("./node_modules/velocity-react/node_modules/lodash/internal/basePropertyDeep.js"),i=r("./node_modules/velocity-react/node_modules/lodash/internal/isKey.js");e.exports=function(e){return i(e)?o(e):n(e)}},"./node_modules/velocity-react/velocity-transition-group.js":function(e,t,r){r("./node_modules/velocity-animate/velocity.js"),r("./node_modules/velocity-animate/velocity.ui.js");var o=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}();function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={each:r("./node_modules/velocity-react/node_modules/lodash/collection/each.js"),extend:r("./node_modules/velocity-react/node_modules/lodash/object/extend.js"),forEach:r("./node_modules/velocity-react/node_modules/lodash/collection/forEach.js"),isEqual:r("./node_modules/velocity-react/node_modules/lodash/lang/isEqual.js"),keys:r("./node_modules/velocity-react/node_modules/lodash/object/keys.js"),omit:r("./node_modules/velocity-react/node_modules/lodash/object/omit.js"),pluck:r("./node_modules/velocity-react/node_modules/lodash/collection/pluck.js")},a=r("./node_modules/react/index.js"),l=r("./node_modules/react-dom/index.js"),c=r("./node_modules/velocity-react/node_modules/prop-types/index.js"),u=r("./node_modules/react-transition-group/TransitionGroup.js"),b=r("./node_modules/velocity-react/lib/velocity-animate-shim.js"),y="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,0)});y="undefined"!=typeof window&&y.bind(window);var p="undefined"!=typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){window.clearTimeout(e)});p="undefined"!=typeof window&&p.bind(window);var d=function(e){function t(){return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,a.Component),o(t,[{key:"componentWillAppear",value:function(e){this.props.willAppearFunc(l.findDOMNode(this),e)}},{key:"componentWillEnter",value:function(e){this.props.willEnterFunc(l.findDOMNode(this),e)}},{key:"componentWillLeave",value:function(e){this.props.willLeaveFunc(l.findDOMNode(this),e)}},{key:"componentWillUnmount",value:function(){b.Utilities.removeData(l.findDOMNode(this),["velocity","fxqueue"])}},{key:"render",value:function(){return a.Children.only(this.props.children)}}]),t}();d.propTypes={children:c.element.isRequired,willAppearFunc:c.func.isRequired,willEnterFunc:c.func.isRequired,willLeaveFunc:c.func.isRequired};var h=function(e){function r(e){n(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t._scheduledAnimationFrame=null,t._scheduledAnimationRunFrames=[],t._entering=[],t._leaving=[],t._timers=[],t._unmounted=!1,t.childWillAppear=t.childWillAppear.bind(t),t.childWillEnter=t.childWillEnter.bind(t),t.childWillLeave=t.childWillLeave.bind(t),t._runAnimations=t._runAnimations.bind(t),t._wrapChild=t._wrapChild.bind(t),t}return s(r,a.Component),o(r,[{key:"componentWillUnmount",value:function(){this._scheduledAnimationFrame&&p(this._scheduledAnimationFrame),m.forEach(this._timers,function(e){clearTimeout(e)}),m.forEach(this._scheduledAnimationRunFrames,function(e){p(e)}),this._unmounted=!0}},{key:"render",value:function(){var e=m.omit(this.props,m.keys(r.propTypes));return this.constructor.disabledForTest||b.velocityReactServerShim||(e.childFactory=this._wrapChild),a.createElement(u,e,this.props.children)}},{key:"childWillAppear",value:function(e,t){var r=this;if(this.props.runOnMount)this.childWillEnter(e,t);else{this._finishAnimation(e,this.props.enter);var o=setTimeout(function(){var e=r._timers.indexOf(o);0<=e&&r._timers.splice(e,1),t()},0);this._timers.push(o)}}},{key:"childWillEnter",value:function(r,e){this._shortCircuitAnimation(this.props.enter,e)||(this._finishAnimation(r,this.props.leave,{begin:void 0,complete:void 0}),m.forEach(this.props.enterHideStyle,function(e,t){b.CSS.setPropertyValue(r,t,e)}),this._entering.push({node:r,doneFn:e}),this._schedule())}},{key:"childWillLeave",value:function(e,t){this._shortCircuitAnimation(this.props.leave,t)||(this._leaving.push({node:e,doneFn:t}),this._schedule())}},{key:"_shortCircuitAnimation",value:function(e,t){return!(!document.hidden&&null!=this._parseAnimationProp(e).animation)&&(t(),!0)}},{key:"_schedule",value:function(){this._scheduledAnimationFrame||(this._scheduledAnimationFrame=y(this._runAnimations))}},{key:"_runAnimations",value:function(){this._scheduledAnimationFrame=null,this._runAnimation(!0,this._entering,this.props.enter),this._runAnimation(!1,this._leaving,this.props.leave),this._entering=[],this._leaving=[]}},{key:"_parseAnimationProp",value:function(e){var t,r,o;return r="string"==typeof e?(t=e,o=null,{}):(t=null!=e?e.animation:null,o=null!=e?e.style:null,m.omit(e,"animation","style")),{animation:t,style:o,opts:r}}},{key:"_runAnimation",value:function(e,t,r){var o=this;if(0!==t.length){var n=m.pluck(t,"node"),i=m.pluck(t,"doneFn"),s=this._parseAnimationProp(r),a=s.animation,l=s.style,c=s.opts;e&&(m.isEqual(this.props.enterShowStyle,{display:""})&&(/^(fade|slide)/.test(a)||/In$/.test(a))||(l=m.extend({},this.props.enterShowStyle,l))),null!=l&&m.each(l,function(e,t){b.hook(n,t,e)});var u,p=function(){o._unmounted||i.map(function(e){e()})};if(e?(p(),p=null):b(n,"stop"),p&&c.complete){var d=c.complete;u=function(){p(),d.apply(this,arguments)}}else u=p||c.complete;var h=y(function(){var e=o._scheduledAnimationRunFrames.indexOf(h);0<=e&&o._scheduledAnimationRunFrames.splice(e,1),b(n,a,m.extend({},c,{complete:u}))});this._scheduledAnimationRunFrames.push(h)}}},{key:"_finishAnimation",value:function(r,e,t){var o=this._parseAnimationProp(e),n=o.animation,i=o.style,s=m.extend({},o.opts,t);null!=i&&m.each(i,function(e,t){b.hook(r,t,e)}),null!=n&&(b(r,n,s),b(r,"finishAll",!0))}},{key:"_wrapChild",value:function(e){return a.createElement(d,{willAppearFunc:this.childWillAppear,willEnterFunc:this.childWillEnter,willLeaveFunc:this.childWillLeave},e)}}]),r}();h.disabledForTest=!1,h.propTypes={runOnMount:c.bool,enter:c.any,leave:c.any,children:c.any,enterHideStyle:c.object,enterShowStyle:c.object},h.defaultProps={runOnMount:!1,enter:null,leave:null,enterHideStyle:{display:"none"},enterShowStyle:{display:""}},e.exports=h},"./node_modules/webwackify/index.js":function(e,t,a){var u=arguments[3],p=arguments[4],d=arguments[5],h=JSON.stringify,s=!1;void 0===u&&(s=!0,u=function(r){var o={};function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=r,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=entryModule)},p=a.m);e.exports=function(e,t){var r;r=s?function(e,t){var r,o="string"==typeof t;r=o?{}:[],Object.keys(p).forEach(function(e){p[e]&&(r[e]=p[e].toString())});var n,i=a(t);if(!i||i!==e&&i.default!==e){var s=r[t];r[t]=s.substring(0,s.length-1)+"\n"+e.name+"();\n}"}n=o?(t=h(t),"{"+Object.keys(r).map(function(e){return h(e)+":"+r[e]}).join(",")+"}"):"["+r.join(",")+"]";return"var fn = ("+u.toString().replace("entryModule",t)+")("+n+');\n(typeof fn === "function") && fn(self);'}(e,t):function(e){for(var t,r=Object.keys(d),o=0;o<r.length;o++){var n=r[o],i=d[n].exports;if(i===e||i&&i.default===e){t=n;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var s={};for(o=0;o<r.length;o++)s[n=r[o]]=n;p[t]=["function(require,module,exports){"+e+"(self); }",s]}var a=Math.floor(Math.pow(16,8)*Math.random()).toString(16),l={};l[t]=t,p[a]=["function(require,module,exports){var f = require("+h(t)+");(f.default ? f.default : f)(self);}",l];var c={};return function e(t){for(var r in c[t]=!0,p[t][1]){var o=p[t][1][r];c[o]||e(o)}}(a),"("+u+")({"+Object.keys(c).map(function(e){return h(e)+":["+p[e][0]+","+h(p[e][1])+"]"}).join(",")+"},{},["+h(a)+"])"}(e);var o=new Blob([r],{type:"text/javascript"}),n=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(o),i=new Worker(n);return i.objectURL=n,i}},"./node_modules/xhr/index.js":function(e,t,r){"use strict";var o=r("./node_modules/global/window.js"),n=r("./node_modules/is-function/index.js"),y=r("./node_modules/parse-headers/parse-headers.js"),i=r("./node_modules/xtend/immutable.js");function s(e,t,r){var o=e;return n(t)?(r=t,"string"==typeof e&&(o={uri:e})):o=i(t,{uri:e}),o.callback=r,o}function f(e,t,r){return a(t=s(e,t,r))}function a(o){if(void 0===o.callback)throw new Error("callback argument missing");var n=!1,i=function(e,t,r){n||(n=!0,o.callback(e,t,r))};var s={body:void 0,headers:{},statusCode:0,method:p,url:u,rawRequest:l};function t(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,i(e,s)}function e(){if(!a){var e;clearTimeout(c),e=o.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var t=s,r=null;return 0!==e?(t={body:function(){var e=void 0;if(e=l.response?l.response:l.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(l),b)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:p,headers:{},url:u,rawRequest:l},l.getAllResponseHeaders&&(t.headers=y(l.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),i(r,t,t.body)}}var r,a,l=o.xhr||null;l||(l=o.cors||o.useXDR?new f.XDomainRequest:new f.XMLHttpRequest);var c,u=l.url=o.uri||o.url,p=l.method=o.method||"GET",d=o.body||o.data||null,h=l.headers=o.headers||{},m=!!o.sync,b=!1;if("json"in o&&(b=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),d=JSON.stringify(o.json))),l.onreadystatechange=function(){4===l.readyState&&e()},l.onload=e,l.onerror=t,l.onprogress=function(){},l.ontimeout=t,l.open(p,u,!m,o.username,o.password),m||(l.withCredentials=!!o.withCredentials),!m&&0<o.timeout&&(c=setTimeout(function(){a=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)},o.timeout)),l.setRequestHeader)for(r in h)h.hasOwnProperty(r)&&l.setRequestHeader(r,h[r]);else if(o.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(o.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in o&&(l.responseType=o.responseType),"beforeSend"in o&&"function"==typeof o.beforeSend&&o.beforeSend(l),l.send(d),l}(e.exports=f).XMLHttpRequest=o.XMLHttpRequest||function(){},f.XDomainRequest="withCredentials"in new f.XMLHttpRequest?f.XMLHttpRequest:o.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],function(o){f["delete"===o?"del":o]=function(e,t,r){return(t=s(e,t,r)).method=o.toUpperCase(),a(t)}})},"./node_modules/xtend/immutable.js":function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var o in r)n.call(r,o)&&(e[o]=r[o])}return e};var n=Object.prototype.hasOwnProperty},"./src/udemy/js/ace/ace-file-extensions.js":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var o={C:"c_cpp",CPP:"c_cpp",c:"c_cpp","c++":"c_cpp",cc:"c_cpp",cp:"c_cpp",cpp:"c_cpp",cs:"csharp",css:"css",cxx:"c_cpp",h:"c_cpp",htm:"html",html:"html",java:"java",js:"javascript",php:"php",py:"python",rb:"ruby",swift:"swift"};function n(e){return o[e]||"text"}},"./src/udemy/js/ace/ace.react-component.js":function(e,b,y){"use strict";(function(t){y.d(b,"a",function(){return m});var e,r,o,n=y("./node_modules/autobind-decorator/lib/index.js"),i=y.n(n),s=y("./node_modules/lodash-es/noop.js"),a=y("./node_modules/prop-types/index.js"),l=y.n(a),c=y("./node_modules/react/index.js"),u=y.n(c),p=y("./src/udemy/js/utils/ud-ace.js"),d=y("./src/udemy/js/ace/ace-file-extensions.js"),h=null,m=(o=r=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).editorSessions=new Map,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){var t=this;this.createEditor().then(function(e){t.editor=e,t.setEditorSession(t.editor,t.props.file),t.props.registerResizeHandler(function(){t.editor.resize()})})}},{key:"componentDidUpdate",value:function(e){this.editor&&e.file!==this.props.file&&this.setEditorSession(this.editor,this.props.file)}},{key:"getFileExtension",value:function(e){return(e.file_name||e.fileName||"").split(".").pop()}},{key:"updateCursorPosition",value:function(e){var t=e.getCursorPosition();this.props.updateCursorPosition(t.row+1,t.column+1)}},{key:"createEditor",value:function(){var r=this;return Object(p.a)().then(function(e){var t=(h=e).edit(r.$node[0]);return t.setTheme("ace/theme/IDLE"),t.setHighlightActiveLine(!1),t.setHighlightGutterLine(!0),t.setShowPrintMargin(!1),t.setDisplayIndentGuides(!0),t.setFontSize("12px"),t.commands.removeCommand("gotoline"),t.renderer.setScrollMargin(20,20),t.$blockScrolling=1/0,t.on("change",function(){r.props.updateFile(r.props.file,t.getValue())}),t})}},{key:"setEditorSession",value:function(e,t){var r=this.editorSessions.get(t);if(r)return e.setSession(r),void(r.getValue()!==t.content&&r.setValue(t.content));var o=Object(d.a)(this.getFileExtension(t));r=new h.EditSession(t.content),Object(p.b)(o).then(function(){r.setMode("ace/mode/".concat(o))}),r.setUndoManager(new h.UndoManager),r.setUseSoftTabs(!0),r.setUseWrapMode(!0),r.getSelection().on("changeCursor",this.updateCursorPosition.bind(this,this.editor)),e.setSession(r),this.editorSessions.set(t,r),this.updateCursorPosition(e)}},{key:"setRefs",value:function(e){this.$node=t(e)}},{key:"render",value:function(){return u.a.createElement("div",{id:"editor",ref:this.setRefs})}}]),r}(c.Component),r.propTypes={file:l.a.object.isRequired,updateFile:l.a.func.isRequired,updateCursorPosition:l.a.func,registerResizeHandler:l.a.func},r.defaultProps={updateCursorPosition:s.a,registerResizeHandler:s.a},e=o,babelHelpers.applyDecoratedDescriptor(e.prototype,"setRefs",[i.a],Object.getOwnPropertyDescriptor(e.prototype,"setRefs"),e.prototype),e)}).call(this,y("./node_modules/jquery/dist/jquery.js-exposed"))},"./src/udemy/js/asset/article/article-asset.less":function(e,t,r){e.exports={"article-content":"article-asset--article-content--1MwHd"}},"./src/udemy/js/asset/article/article-asset.mobx-model.js":function(e,t,r){"use strict";r.d(t,"a",function(){return p});var o,s,n,i,a=r("./node_modules/jquery/dist/jquery.js-exposed"),l=r.n(a),c=r("./node_modules/mobx/lib/mobx.js"),u=r("./src/udemy/js/asset/asset.mobx-model.js"),p=(i=n=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"body",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"apiDataMap",get:function(){return babelHelpers.objectSpread({},babelHelpers.get(babelHelpers.getPrototypeOf(i.prototype),"apiDataMap",this),{body:{source:"body",map:function(e){var t=l()("<div>".concat(e,"</div>"));return t.find("a").attr("target","_blank"),t.find("img").attr("align","middle"),t.html()}}})}}]),i}(u.a),n.requestFields=u.a.requestFields.concat(["body"]),o=i,s=babelHelpers.applyDecoratedDescriptor(o.prototype,"body",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o)},"./src/udemy/js/asset/article/article-asset.react-component.js":function(e,t,r){"use strict";var o=r("./node_modules/mobx-react/index.module.js"),n=r("./node_modules/prop-types/index.js"),i=r.n(n),s=r("./node_modules/react/index.js"),a=r.n(s),l=r("./src/udemy/js/base-components/rich-text-viewer.react-component.js"),c=r("./src/udemy/js/asset/asset.react-component.js"),u=r("./src/udemy/js/asset/article/article-asset.mobx-model.js"),p=(r("./src/udemy/js/asset/article/article-asset.less"),Object(o.c)("store")(Object(o.d)(function(e){var t=e.store;return a.a.createElement("div",{className:"asset-container"},a.a.createElement(l.a,{className:"article-asset--article-content--1MwHd",unsafeHTML:t.asset.body}))})));p.wrappedComponent.propTypes={store:i.a.object.isRequired},t.a=Object(c.a)("ArticleAsset",p,u.a)},"./src/udemy/js/asset/asset.mobx-model.js":function(e,t,r){"use strict";r.d(t,"a",function(){return p});var o,s,a,l,c,n,i,u=r("./node_modules/mobx/lib/mobx.js"),p=(i=n=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"title",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"status",a,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"delayedAssetMessage",l,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"processingErrors",c,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"apiDataMap",get:function(){return{id:"id",type:"asset_type",fileName:"filename",externalUrl:"external_url",timeEstimation:"time_estimation",downloadUrls:"download_urls",title:"title",status:"status",delayedAssetMessage:"delayed_asset_message",processingErrors:"processing_errors"}}},{key:"isExternal",get:function(){return!!this.externalUrl}},{key:"downloadUrl",get:function(){var e=this.downloadUrls&&this.downloadUrls[this.type];if(e&&0<e.length)return e[0].file}}]),i}(r("./src/udemy/js/utils/mobx.js").a),n.requestFields=["status","delayed_asset_message","processing_errors"],n.extraParams={},o=i,s=babelHelpers.applyDecoratedDescriptor(o.prototype,"title",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=babelHelpers.applyDecoratedDescriptor(o.prototype,"status",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=babelHelpers.applyDecoratedDescriptor(o.prototype,"delayedAssetMessage",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=babelHelpers.applyDecoratedDescriptor(o.prototype,"processingErrors",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o)},"./src/udemy/js/asset/asset.react-component.js":function(e,t,r){"use strict";var o,n,i,s=r("./node_modules/mobx-react/index.module.js"),a=r("./node_modules/prop-types/index.js"),l=r.n(a),c=r("./node_modules/react/index.js"),u=r.n(c),p=r("./node_modules/mobx/lib/mobx.js"),d=r("./src/udemy/js/utils/ud-api.js"),h=r("./src/udemy/js/asset/asset.mobx-model.js"),m=(o=p.observable.ref,n=function(){function r(e,t){babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"asset",i,this),this.assetId=e,t||(t=h.a),this.modelClass=t}return babelHelpers.createClass(r,[{key:"fetchData",value:function(e,t){var r=this;if(!e&&!t){var o=this.modelClass.requestFields;return d.c.get("/assets/".concat(this.assetId),{params:Object.assign({"fields[asset]":"@min,".concat(o.join(","))},this.modelClass.extraParams)}).then(Object(p.action)(function(e){r.asset=new r.modelClass(e.data)}))}this.asset=e||new this.modelClass(t)}}]),r}(),i=babelHelpers.applyDecoratedDescriptor(n.prototype,"asset",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"fetchData",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"fetchData"),n.prototype),n),b=r("./src/udemy/js/asset/constants.js"),y=Object(s.c)("store")(function(e){var t=e.store,r=t.asset?t.asset.delayedAssetMessage:"";return u.a.createElement("div",{className:"asset-container--delayed"},u.a.createElement("div",{className:"asset-content--delayed"},u.a.createElement("p",null,r)))}),f=Object(s.c)("store")(function(e){var t=e.store;return u.a.createElement("div",{className:"asset-container--failed p30"},u.a.createElement("div",{className:"asset-content--failed"},u.a.createElement("p",null,gettext("Your video failed to process for the following reasons:")),u.a.createElement("ul",{className:"bulleted-list"},(t.asset.processingErrors||[]).map(function(e,t){return u.a.createElement("li",{key:t,className:"mt10"},u.a.createElement("span",null,e.message),e.help_link&&u.a.createElement("a",{href:e.help_link,target:"_blank",rel:"noopener noreferrer"}," ",gettext("Get Help")))}))))}),g=function(){return u.a.createElement("div",{className:"asset-container--processing p30"},u.a.createElement("div",{className:"asset-content--processing"},u.a.createElement("p",null,gettext("We've uploaded your file, and are processing it to ensure it works smoothly\n                           on Udemy. As soon as it's ready, we'll send you an email."))))};function v(e,t,o){var r,n;return Object(s.d)((n=r=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).store=new m(e.id,o),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){this.store.fetchData(this.props.asset,this.props.assetData)}},{key:"render",value:function(){if(!this.store.asset)return null;var e;switch(this.store.asset.status){case b.a.SUCCESS:e=u.a.createElement(t,this.props);break;case b.a.UNPROCESSED:e=u.a.createElement(g,null);break;case b.a.FAILED:e=u.a.createElement(f,null);break;case b.a.DELAYED:e=u.a.createElement(y,null)}return e?u.a.createElement(s.b,{store:this.store},e):null}}]),r}(u.a.Component),r.displayName=e,r.propTypes={id:l.a.number.isRequired,asset:l.a.object,assetData:l.a.object},r.defaultProps={asset:null,assetData:null},n))}r.d(t,"a",function(){return v})},"./src/udemy/js/asset/constants.js":function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return n});var o=Object.freeze({ARTICLE:"Article",AUDIO:"Audio",EBOOK:"E-Book",EXTERNAL_LINK:"ExternalLink",FILE:"File",IFRAME:"IFrame",IMPORT_CONTENT:"ImportContent",PRESENTATION:"Presentation",SOURCE_CODE:"SourceCode",UPCOMING:"Upcoming",VIDEO:"Video",VIDEO_MASHUP:"VideoMashup"}),n=Object.freeze({SUCCESS:1,UNPROCESSED:0,FAILED:-1,DELAYED:-2})},"./src/udemy/js/asset/presentation/presentation-asset.mobx-model.js":function(e,t,r){"use strict";r.d(t,"a",function(){return c});var o,s,n,i,a=r("./node_modules/mobx/lib/mobx.js"),l=r("./src/udemy/js/asset/asset.mobx-model.js"),c=(i=n=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"slideUrls",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"apiDataMap",get:function(){return babelHelpers.objectSpread({},babelHelpers.get(babelHelpers.getPrototypeOf(i.prototype),"apiDataMap",this),{slideUrls:"slide_urls"})}}]),i}(l.a),n.requestFields=l.a.requestFields.concat(["slide_urls"]),o=i,s=babelHelpers.applyDecoratedDescriptor(o.prototype,"slideUrls",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o)},"./src/udemy/js/asset/presentation/presentation-asset.react-component.js":function(e,t,r){"use strict";var o,n,i,s,a,l,c,u,p=r("./node_modules/autobind-decorator/lib/index.js"),d=r.n(p),h=r("./node_modules/classnames/index.js"),m=r.n(h),b=r("./node_modules/lodash-es/noop.js"),y=r("./node_modules/mobx-react/index.module.js"),f=r("./node_modules/prop-types/index.js"),g=r.n(f),v=r("./node_modules/react/index.js"),w=r.n(v),k=r("./node_modules/react-hotkeys/lib/index.js"),C=r("./src/udemy/js/base-components/button.react-component.js"),_=r("./src/udemy/js/base-components/icon.react-component.js"),S=r("./src/udemy/js/base-components/image.react-component.js"),j=r("./src/udemy/js/asset/asset.react-component.js"),E=r("./src/udemy/js/asset/presentation/presentation-asset.mobx-model.js"),D=r("./node_modules/mobx/lib/mobx.js"),x=r("./src/udemy/js/utils/fullscreen.js"),O=r("./src/udemy/js/utils/ud-moment.js"),T=(o=function(){function o(e,t,r){babelHelpers.classCallCheck(this,o),babelHelpers.initializerDefineProperty(this,"currentSlideNum",n,this),babelHelpers.initializerDefineProperty(this,"isTransitioning",i,this),babelHelpers.initializerDefineProperty(this,"isFullscreen",s,this),this.slideUrls=e,this.updateProgressFn=t,this.onCompleteFn=r}return babelHelpers.createClass(o,[{key:"toggleFullscreen",value:function(e){this.isFullscreen&&!1!==x.c.exitFullscreen()?this.isFullscreen=!1:this.isFullscreen||!1===x.c.requestFullscreen(e)||(this.isFullscreen=!0)}},{key:"goToNext",value:function(){this.isNextDisabled||this.skipTo(this.currentSlideNum+1)}},{key:"goToPrev",value:function(){this.isPrevDisabled||this.skipTo(this.currentSlideNum-1)}},{key:"skipTo",value:function(e){e===this.currentSlideNum||this.isTransitioning||(this.isTransitioning=!0,this.currentSlideNum=e,this.updateProgress(),this.isTransitioning=!1)}},{key:"updateProgress",value:function(){var e=[{position:this.currentSlideNum,total:this.numSlides,context:{type:"Presentation"},time:Object(O.b)().format("YYYY-MM-DDTHH:mm:ssZ+HH:mm")}];this.updateProgressFn(e),this.currentSlideNum===this.numSlides&&this.onCompleteFn()}},{key:"numSlides",get:function(){return this.slideUrls.length}},{key:"progressUnitWidth",get:function(){return 100/this.numSlides}},{key:"progressUnitWidths",get:function(){var e=Array(this.numSlides-1).fill("".concat(this.progressUnitWidth,"%"));return e.push("".concat(100-(this.numSlides-1)*this.progressUnitWidth,"%")),e}},{key:"currentProgressWidth",get:function(){var e=100;return this.currentSlideNum<this.numSlides&&(e=this.progressUnitWidth*this.currentSlideNum),"".concat(e,"%")}},{key:"isPrevDisabled",get:function(){return 1===this.currentSlideNum||this.isTransitioning}},{key:"isNextDisabled",get:function(){return this.currentSlideNum>=this.numSlides||this.isTransitioning}}]),o}(),n=babelHelpers.applyDecoratedDescriptor(o.prototype,"currentSlideNum",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),i=babelHelpers.applyDecoratedDescriptor(o.prototype,"isTransitioning",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=babelHelpers.applyDecoratedDescriptor(o.prototype,"isFullscreen",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(o.prototype,"toggleFullscreen",[d.a,D.action],Object.getOwnPropertyDescriptor(o.prototype,"toggleFullscreen"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"goToNext",[d.a],Object.getOwnPropertyDescriptor(o.prototype,"goToNext"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"goToPrev",[d.a],Object.getOwnPropertyDescriptor(o.prototype,"goToPrev"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"skipTo",[D.action],Object.getOwnPropertyDescriptor(o.prototype,"skipTo"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"currentProgressWidth",[D.computed],Object.getOwnPropertyDescriptor(o.prototype,"currentProgressWidth"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"isPrevDisabled",[D.computed],Object.getOwnPropertyDescriptor(o.prototype,"isPrevDisabled"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"isNextDisabled",[D.computed],Object.getOwnPropertyDescriptor(o.prototype,"isNextDisabled"),o.prototype),o),P=Object(y.c)("store")(a=Object(y.d)((u=c=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).store=new T(e.store.asset.slideUrls,e.updateProgress,e.onComplete),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){this.store.updateProgress(),this.ref.focus()}},{key:"onSkipToProgressUnit",value:function(e){var t=parseInt(e.target.dataset.index,10);this.store.skipTo(t+1)}},{key:"toggleFullscreen",value:function(){this.store.toggleFullscreen(this.ref)}},{key:"renderFooter",value:function(){return this.props.renderFooter?this.props.renderFooter(this.navigationControls):w.a.createElement("div",{className:"player-footer player-controls","data-purpose":"presentation-footer"},w.a.createElement("div",{className:"presentation__controls"},w.a.createElement("div",{className:"controls__left"},this.navigationControls),w.a.createElement("div",{className:"controls__right"},this.rightControls)))}},{key:"render",value:function(){var t=this,e={toggleFullscreen:this.toggleFullscreen,goToPrev:this.store.goToPrev,goToNext:this.store.goToNext};return w.a.createElement(k.HotKeys,{keyMap:{toggleFullscreen:{sequence:"shift+f",action:"keyup"},goToPrev:{sequence:"left",action:"keyup"},goToNext:{sequence:"right",action:"keyup"}},handlers:e,className:"container--presentation"},w.a.createElement("div",{className:"presentation__inner",tabIndex:"0",ref:function(e){t.ref=e}},w.a.createElement("div",{className:"pos-r w100p h100p"},this.slideImages),w.a.createElement("div",{className:"presentation__progress-bar"},w.a.createElement("div",{className:"progress-bar__inner-bar bg-rain-light"}),w.a.createElement("div",{className:"progress-bar__inner-bar bg-primary",style:{width:this.store.currentProgressWidth}}),w.a.createElement("div",{className:"progress-bar__inner-bar"},this.slideLinks)),this.renderFooter()))}},{key:"slideImages",get:function(){var o=this;return this.props.store.asset.slideUrls.map(function(e,t){var r=m()("presentation__slide","slide--center",{"slide--left":t+1<o.store.currentSlideNum},{"slide--right":t+1>o.store.currentSlideNum});return w.a.createElement("div",{key:t,className:r,"data-purpose":"slide-image-container"},w.a.createElement(S.a,{src:e,alt:gettext("Slide"),width:720,height:540}))})}},{key:"slideLinks",get:function(){var r=this;return this.store.progressUnitWidths.map(function(e,t){return w.a.createElement("div",{key:t,role:"button",tabIndex:"0",className:"inner-bar__progress-unit",style:{width:e},"data-index":t,onClick:r.onSkipToProgressUnit,onKeyPress:r.onSkipToProgressUnit,"data-purpose":"slide-link"})})}},{key:"currentSlideText",get:function(){var e=gettext("%(currentSlideNum)s of %(totalSlides)s Slides");return interpolate(e,{currentSlideNum:this.store.currentSlideNum,totalSlides:this.store.numSlides},!0)}},{key:"navigationControls",get:function(){return w.a.createElement(w.a.Fragment,null,w.a.createElement(C.default,{bsSize:"small",bsStyle:"primary",className:"btn-slide-control",onClick:this.store.goToPrev,disabled:this.store.isPrevDisabled,"aria-label":gettext("Previous"),"data-purpose":"previous-slide"},w.a.createElement(_.a,{glyph:"previous"})),w.a.createElement(C.default,{bsSize:"small",bsStyle:"primary",className:"btn-slide-control",onClick:this.store.goToNext,disabled:this.store.isNextDisabled,"aria-label":gettext("Next"),"data-purpose":"next-slide"},w.a.createElement(_.a,{glyph:"next"})),w.a.createElement("span",{className:"btn-text--sm slide-counter-display","data-purpose":"slide-text"},this.currentSlideText))}},{key:"rightControls",get:function(){return w.a.createElement(C.default,{bsSize:"small",className:"btn-icon",onClick:this.toggleFullscreen,"data-purpose":"fullscreen-toggle-button","aria-label":gettext("Fullscreen")},w.a.createElement(_.a,{glyph:this.store.isFullscreen?"collapse":"expand"}))}}]),r}(w.a.Component),c.propTypes={store:g.a.object.isRequired,updateProgress:g.a.func,onComplete:g.a.func,renderFooter:g.a.func},c.defaultProps={updateProgress:b.a,onComplete:b.a,renderFooter:void 0},l=u,babelHelpers.applyDecoratedDescriptor(l.prototype,"onSkipToProgressUnit",[d.a],Object.getOwnPropertyDescriptor(l.prototype,"onSkipToProgressUnit"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"toggleFullscreen",[d.a],Object.getOwnPropertyDescriptor(l.prototype,"toggleFullscreen"),l.prototype),a=l))||a)||a;t.a=Object(j.a)("PresentationAsset",P,E.a)},"./src/udemy/js/asset/video/mashup/video-mashup-asset.mobx-model.js":function(e,t,r){"use strict";r.d(t,"a",function(){return i});var o=r("./src/udemy/js/utils/ud-utils.js"),n=r("./src/udemy/js/asset/video/video-asset.mobx-model.js"),i=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"apiDataMap",get:function(){return babelHelpers.objectSpread({},babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"apiDataMap",this),{slides:"slides",length:"length"})}},{key:"videoPlayerProps",get:function(){return o.b.Object.deepMergeWithArrayMerge(babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"videoPlayerProps",this),{videojsSetupData:{plugins:{mashup:{slides:this.slides,length:this.length}}}})}}]),t}(n.a);i.requestFields=n.a.requestFields.concat(["slides","length"]).filter(function(e){return"thumbnail_sprite"!==e})},"./src/udemy/js/asset/video/mashup/video-mashup-asset.react-component.js":function(e,t,r){"use strict";var o=r("./src/udemy/js/asset/asset.react-component.js"),n=r("./src/udemy/js/asset/video/video-asset.react-component.js"),i=r("./src/udemy/js/asset/video/mashup/video-mashup-asset.mobx-model.js");t.a=Object(o.a)("VideoMashupAsset",n.VideoAssetBase,i.a)},"./src/udemy/js/asset/video/video-asset.mobx-model.js":function(e,t,r){"use strict";r.d(t,"a",function(){return i});var o=r("./src/udemy/js/utils/a11y.js"),n=r("./src/udemy/js/asset/asset.mobx-model.js"),i=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).playerId=Object(o.a)("playerId__".concat(t.id)),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"apiDataMap",get:function(){return babelHelpers.objectSpread({},babelHelpers.get(babelHelpers.getPrototypeOf(r.prototype),"apiDataMap",this),{thumbnailUrl:"thumbnail_url",thumbnailSprite:"thumbnail_sprite",streamUrls:"stream_urls",captions:{source:"captions",defaultValue:[]},created:"created"})}}]),babelHelpers.createClass(r,[{key:"videoPlayerProps",get:function(){return{playerId:this.playerId,thumbnail:this.thumbnailUrl,streamUrls:this.streamUrls,duration:this.timeEstimation,captions:this.captions.slice(),thumbnailSprite:this.thumbnailSprite}}}]),r}(n.a);i.requestFields=n.a.requestFields.concat(["time_estimation","stream_urls","thumbnail_url","captions","thumbnail_sprite","created"]),i.extraParams=Object.assign({},n.a.extraParams,{"fields[caption]":"@default,is_translation"})},"./src/udemy/js/asset/video/video-asset.react-component.js":function(e,t,r){"use strict";r.r(t);var o=r("./node_modules/mobx/lib/mobx.js"),n=r("./node_modules/mobx-react/index.module.js"),i=r("./node_modules/prop-types/index.js"),s=r.n(i),a=r("./node_modules/react/index.js"),l=r.n(a),c=r("./src/udemy/js/base-components/error-boundary/index.js"),u=r("./src/udemy/js/utils/ud-utils.js"),p=r("./src/udemy/js/video-player/video-player.react-component.js"),d=r("./src/udemy/js/asset/asset.react-component.js"),h=r("./node_modules/react-helmet/lib/Helmet.js"),m=r.n(h),b=r("./src/udemy/js/utils/ud-config.js"),y=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).schemaObject={"@type":"VideoObject","@context":"http://schema.org",publisher:{"@type":"Organization",name:"Udemy",sameAs:b.a.url.to_app,logo:{"@type":"ImageObject",url:"".concat(b.a.url.to_app,"/staticx/udemy/images/v6/apple-touch-icon-60x60.png"),height:60,width:60}},provider:{"@type":"Organization",name:e.course.visible_instructors[0].display_name,sameAs:"".concat(b.a.url.to_app.slice(0,-1)).concat(e.course.visible_instructors[0].url)},name:e.title,description:e.course.headline,isAccessibleForFree:!0,image:e.asset.thumbnailUrl,inLanguage:e.course.locale.locale.slice(0,2),thumbnailUrl:e.asset.thumbnailUrl,uploadDate:e.asset.created},t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement("script",{type:"application/ld+json"},JSON.stringify(this.schemaObject)))}}]),r}(a.Component);y.propTypes={course:s.a.shape({headline:s.a.string.isRequired,visible_instructors:s.a.arrayOf(s.a.shape({display_name:s.a.string.isRequired,url:s.a.string.isRequired}).isRequired).isRequired,locale:s.a.shape({locale:s.a.string.isRequired})}).isRequired,title:s.a.string.isRequired,asset:s.a.shape({thumbnailUrl:s.a.string.isRequired,created:s.a.string.isRequired}).isRequired};var f,g,v,w=r("./src/udemy/js/asset/video/video-asset.mobx-model.js");r.d(t,"VideoAssetBase",function(){return k});var k=Object(n.c)("store")(f=Object(n.d)((v=g=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=u.b.Object.deepMergeWithArrayMerge(this.props.playerOptions,this.props.store.asset.videoPlayerProps);return e=Object(o.toJS)(e),l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,null,this.props.addGoogleVideoSchema&&l.a.createElement(y,{title:this.props.title,course:this.props.course,asset:this.props.store.asset})),l.a.createElement(p.a,e))}}]),t}(l.a.Component),g.propTypes={store:s.a.object.isRequired,id:s.a.number.isRequired,playerOptions:s.a.object,addGoogleVideoSchema:s.a.bool,course:s.a.object,title:s.a.string},g.defaultProps={playerOptions:{},addGoogleVideoSchema:!1,course:{},title:"",asset:{}},f=v))||f)||f;t.default=Object(d.a)("VideoAsset",k,w.a)},"./src/udemy/js/auth/components/django-email-field.react-component.js":function(e,t,r){"use strict";var o,n,s,i,a,l,c,u,p,d=r("./node_modules/autobind-decorator/lib/index.js"),h=r.n(d),m=r("./node_modules/mobx/lib/mobx.js"),b=r("./node_modules/mobx-react/index.module.js"),y=r("./node_modules/prop-types/index.js"),f=r.n(y),g=r("./node_modules/react/index.js"),v=r.n(g),w=r("./node_modules/lodash-es/escape.js"),k=r("./node_modules/mailcheck/src/mailcheck.js"),C=r.n(k),_=r("./src/udemy/js/base-components/form/form-control.react-component.js"),S=r("./src/udemy/js/base-components/localized-html.react-component.js"),j=r("./src/udemy/js/base-components/safe-anchor.react-component.js"),E=C.a.defaultSecondLevelDomains.filter(function(e){return"gmx"!==e}),D=Object(b.d)((a=i=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"suggestion",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"setSuggestion",value:function(e){this.suggestion=e.full}},{key:"clearSuggestion",value:function(){this.suggestion=""}},{key:"onClickSuggestion",value:function(){this.props.onSuggest(this.suggestion),this.clearSuggestion()}},{key:"onBlur",value:function(e){this.check(),this.props.onBlur&&this.props.onBlur(e)}},{key:"check",value:function(){C.a.run({email:this.props.value,secondLevelDomains:E,suggested:this.setSuggestion,empty:this.clearSuggestion})}},{key:"render",value:function(){var e=this.props,t=(e.onSuggest,babelHelpers.objectWithoutProperties(e,["onSuggest"]));return v.a.createElement("div",null,v.a.createElement(_.a,Object.assign({},t,{onBlur:this.onBlur})),this.suggestion?v.a.createElement("div",{className:"mt5","data-purpose":"mailcheck-suggestion"},v.a.createElement(S.a,{dangerouslySetInnerHTML:{__html:interpolate(gettext('Did you mean <a class="link">%(suggestion)s</a>?'),{suggestion:Object(w.a)(this.suggestion)},!0)},interpolate:{link:v.a.createElement(j.default,{onClick:this.onClickSuggestion})}})):null)}}]),i}(g.Component),i.propTypes=babelHelpers.objectSpread({},_.a.propTypes,{onSuggest:f.a.func.isRequired}),i.defaultProps=babelHelpers.objectSpread({},_.a.defaultProps),n=a,s=babelHelpers.applyDecoratedDescriptor(n.prototype,"suggestion",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"setSuggestion",[h.a,m.action],Object.getOwnPropertyDescriptor(n.prototype,"setSuggestion"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"clearSuggestion",[h.a,m.action],Object.getOwnPropertyDescriptor(n.prototype,"clearSuggestion"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"onClickSuggestion",[h.a],Object.getOwnPropertyDescriptor(n.prototype,"onClickSuggestion"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"onBlur",[h.a],Object.getOwnPropertyDescriptor(n.prototype,"onBlur"),n.prototype),o=n))||o;function x(e){return{name:e.getAttribute("name")||"",type:e.getAttribute("type")||"",required:e.hasAttribute("required"),defaultValue:e.getAttribute("value")||"",maxLength:e.getAttribute("maxlength")||"",minLength:e.getAttribute("minlength")||"",placeholder:e.getAttribute("placeholder")||"","data-purpose":e.getAttribute("data-purpose")||""}}r.d(t,"b",function(){return x}),r.d(t,"a",function(){return O});var O=Object(b.d)((p=u=function(e){function o(e,t){var r;return babelHelpers.classCallCheck(this,o),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e,t)),Object(m.extendObservable)(babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(r)),{value:r.props.defaultValue}),r}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"onChange",value:function(e){this.value=e.target.value}},{key:"onSuggest",value:function(e){this.value=e}},{key:"render",value:function(){var e=this.props,t=(e.defaultValue,babelHelpers.objectWithoutProperties(e,["defaultValue"]));return v.a.createElement(D,Object.assign({},t,{value:this.value,onChange:this.onChange,onSuggest:this.onSuggest}))}}]),o}(g.Component),u.propTypes={defaultValue:f.a.string},u.defaultProps={defaultValue:""},c=p,babelHelpers.applyDecoratedDescriptor(c.prototype,"onChange",[h.a,m.action],Object.getOwnPropertyDescriptor(c.prototype,"onChange"),c.prototype),babelHelpers.applyDecoratedDescriptor(c.prototype,"onSuggest",[h.a,m.action],Object.getOwnPropertyDescriptor(c.prototype,"onSuggest"),c.prototype),l=c))||l},"./src/udemy/js/base-components/ajax-modal/open-ajax-modal.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return g});var o,n,s,i,a,l=r("./node_modules/autobind-decorator/lib/index.js"),c=r.n(l),u=r("./node_modules/lodash-es/noop.js"),p=r("./node_modules/mobx/lib/mobx.js"),d=r("./node_modules/mobx-react/index.module.js"),h=r("./node_modules/prop-types/index.js"),m=r.n(h),b=r("./node_modules/react/index.js"),y=r.n(b),f=r("./src/udemy/js/base-components/ajax-modal/ajax-modal.react-component.js"),g=Object(d.d)((a=i=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isOpen",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"onClick",value:function(e){var t=this.props,r=t.children,o=t.onClick;r.props.onClick&&r.props.onClick(e),o(e),this.isOpen=!0}},{key:"onHide",value:function(e){this.props.onHide(e),this.isOpen=!1}},{key:"render",value:function(){var e=y.a.cloneElement(y.a.Children.only(this.props.children),{onClick:this.onClick});return y.a.createElement("span",null,e,y.a.createElement(f.a,Object.assign({},this.modalProps,{show:this.isVisible,url:this.props.url,onClick:this.props.onModalClick,onHide:this.onHide})))}},{key:"modalProps",get:function(){var e=this.props;e.children,e.onClick,e.onHide,e.onModalClick,e.url;return babelHelpers.objectWithoutProperties(e,["children","onClick","onHide","onModalClick","url"])}},{key:"isVisible",get:function(){return void 0!==this.props.show?this.props.show:this.isOpen}}]),i}(b.Component),i.propTypes={children:m.a.node.isRequired,onClick:m.a.func,onHide:m.a.func,onModalClick:m.a.func,url:m.a.string.isRequired,show:m.a.bool},i.defaultProps={onClick:u.a,onHide:u.a,onModalClick:void 0,show:void 0},n=a,s=babelHelpers.applyDecoratedDescriptor(n.prototype,"isOpen",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"onClick",[c.a,p.action],Object.getOwnPropertyDescriptor(n.prototype,"onClick"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"onHide",[c.a,p.action],Object.getOwnPropertyDescriptor(n.prototype,"onHide"),n.prototype),o=n))||o},"./src/udemy/js/base-components/comments/comment-thread.react-component.js":function(e,t,r){"use strict";var o,n,i,s,a,l,c,u,p,d,h,m,b,y,f,g,v,w,k,C,_=r("./node_modules/mobx-react/index.module.js"),S=r("./node_modules/prop-types/index.js"),j=r.n(S),E=r("./node_modules/react/index.js"),D=r.n(E),x=r("./src/udemy/js/base-components/icon.react-component.js"),O=r("./src/udemy/js/base-components/safe-anchor.react-component.js"),T=r("./node_modules/autobind-decorator/lib/index.js"),P=r.n(T),H=r("./node_modules/lodash-es/noop.js"),A=r("./node_modules/mobx/lib/mobx.js"),I=r("./node_modules/react-dom/index.js"),R=r.n(I),q=r("./src/udemy/js/base-components/button.react-component.js"),N=r("./src/udemy/js/base-components/confirm-modal.react-component.js"),z=r("./src/udemy/js/base-components/form/form-control.react-component.js"),M=r("./src/udemy/js/base-components/rich-text-editor/rich-text-editor.react-component.js"),L=r("./src/udemy/js/base-components/rich-text-viewer.react-component.js"),F=r("./src/udemy/js/base-components/user-image.react-component.js"),U=r("./src/udemy/js/report-abuse/report-abuse-launcher.react-component.js"),B=r("./src/udemy/js/utils/a11y.js"),V=r("./src/udemy/js/utils/ud-config.js"),$=r("./src/udemy/js/utils/ud-me.js"),Q=r("./src/udemy/js/utils/ud-moment.js"),W=r("./src/udemy/js/utils/ud-utils.js"),G=(o=function(){function r(e,t){babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"content",n,this),babelHelpers.initializerDefineProperty(this,"isSubmitting",i,this),babelHelpers.initializerDefineProperty(this,"isDeleting",s,this),this.commentsStore=e,this.id=t.id,this.created=t.created,this.user=t.user,this.setObservablesFromAPIData(t)}return babelHelpers.createClass(r,[{key:"setObservablesFromAPIData",value:function(e){this.content=e.content}},{key:"setContent",value:function(e){this.content=e}},{key:"save",value:function(){var e=this;if(this.isSubmitting||!this.content)return Promise.reject("Cannot save right now.");this.isSubmitting=!0,this.content=this.content.trim();var t={content:this.content};return this.cannedCommentId&&(t.canned_comments=[this.cannedCommentId]),(this.id?this.commentsStore.updateComment(this.id,t):this.commentsStore.createComment(t)).catch(function(){W.b.Feedback.fromText(W.b.Feedback.DEFAULT_ERROR_MESSAGE,W.b.MessageType.error)}).finally(Object(A.action)(function(){e.isSubmitting=!1}))}},{key:"delete",value:function(){var e=this;return this.isDeleting?Promise.reject("Cannot delete right now."):(this.isDeleting=!0,this.commentsStore.deleteComment(this.id).catch(function(){W.b.Feedback.fromText(W.b.Feedback.DEFAULT_ERROR_MESSAGE,W.b.MessageType.error)}).finally(Object(A.action)(function(){e.isDeleting=!1})))}}]),r}(),n=babelHelpers.applyDecoratedDescriptor(o.prototype,"content",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=babelHelpers.applyDecoratedDescriptor(o.prototype,"isSubmitting",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=babelHelpers.applyDecoratedDescriptor(o.prototype,"isDeleting",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(o.prototype,"setObservablesFromAPIData",[A.action],Object.getOwnPropertyDescriptor(o.prototype,"setObservablesFromAPIData"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"setContent",[A.action],Object.getOwnPropertyDescriptor(o.prototype,"setContent"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"save",[A.action],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"delete",[P.a,A.action],Object.getOwnPropertyDescriptor(o.prototype,"delete"),o.prototype),o),Y=gettext("Enter your comment"),K=(r("./src/udemy/js/base-components/comments/comment.less"),Object(_.d)((m=h=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"isEditMode",c,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isConfirmModalShown",u,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isTextAreaFocused",p,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isWysiwygActive",d,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.textAreaId=Object(B.a)("announcement-comment"),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){this.comment.id||this.toggleEditMode({autoFocus:!1})}},{key:"componentWillUnmount",value:function(){this.wysiwygRef=null}},{key:"showConfirmModal",value:function(){this.isConfirmModalShown=!0}},{key:"hideConfirmModal",value:function(){this.isConfirmModalShown=!1}},{key:"toggleEditMode",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e=babelHelpers.objectSpread({autoFocus:!0},e),this.isEditMode=!this.isEditMode,this.isEditMode&&e.autoFocus&&(this.props.richTextTheme&&!this.isWysiwygActive?this.toggleWysiwyg():this.props.richTextTheme||setTimeout(function(){if(t.textAreaRef){t.textAreaRef.focus();var e=t.textAreaRef.value.length;t.textAreaRef.setSelectionRange&&0<e&&t.textAreaRef.setSelectionRange(e,e)}},0))}},{key:"setTextAreaFocused",value:function(){this.isTextAreaFocused=!0}},{key:"setTextAreaNotFocused",value:function(){this.isTextAreaFocused=!1}},{key:"onKeyDown",value:function(e){"Escape"===e.key&&(e.preventDefault(),e.target.blur(),this.comment.id&&this.toggleEditMode())}},{key:"onKeyPress",value:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),e.target.blur(),this.saveComment())}},{key:"onClickEdit",value:function(){this.toggleEditMode()}},{key:"onWysiwygSubmit",value:function(){this.toggleWysiwyg(),this.saveComment()}},{key:"onWysiwygCancel",value:function(){this.toggleWysiwyg(),this.isEditMode=!this.comment.id}},{key:"saveComment",value:function(){var e=this;this.comment.save().then(function(){e.comment.id?e.toggleEditMode():e.comment.setContent("")}).catch(H.a)}},{key:"deleteComment",value:function(){this.hideConfirmModal(),this.comment.delete().catch(H.a)}},{key:"onInputChange",value:function(e){this.comment.setContent(e.target.value)}},{key:"onWysiwygInputChange",value:function(e){this.comment.setContent(e)}},{key:"toggleWysiwyg",value:function(){var e=this;this.isWysiwygActive=!this.isWysiwygActive,this.isWysiwygActive&&setTimeout(function(){e.isWysiwygActive&&e.wysiwygRef&&e.wysiwygRef.focus()},0)}},{key:"setTextAreaRef",value:function(e){this.textAreaRef=e?R.a.findDOMNode(e):null}},{key:"setWysiwygRef",value:function(e){this.wysiwygRef=e}},{key:"renderDisplayMode",value:function(){var e=$.a.id===this.comment.user.id,t=V.a.features.report_abuse&&!e;return D.a.createElement("div",{className:"comment--basic-info--GKo2F","data-purpose":"content-container"},D.a.createElement("a",{href:this.comment.user.url,className:"comment--user-title--3ygpu","data-purpose":"commenter-name"},this.comment.user.title),D.a.createElement("time",{"data-purpose":"comment-time"}," · ",Object(Q.c)(this.comment.created)),e&&D.a.createElement(q.default,{bsStyle:"quintinary",className:"pull-right","data-purpose":"delete-button",disabled:this.comment.isDeleting,onClick:this.showConfirmModal},D.a.createElement(x.a,{glyph:"trash","aria-hidden":"true","aria-label":gettext("Delete comment")})),e&&D.a.createElement(q.default,{bsStyle:"quintinary",className:"pull-right","data-purpose":"edit-button",disabled:this.comment.isDeleting,onClick:this.onClickEdit},D.a.createElement(x.a,{glyph:"pencil","aria-hidden":"true","aria-label":gettext("Edit comment")})),t&&D.a.createElement("span",null," · ",D.a.createElement(U.a,{useAnchor:!0,objectType:"comment",objectId:this.comment.id})),this.comment.content&&D.a.createElement(L.a,{className:"comment--content--34deS","data-purpose":"content",unsafeHTML:this.comment.content}))}},{key:"renderBasicEditor",value:function(){return D.a.createElement("div",null,D.a.createElement("label",{htmlFor:this.textAreaId,className:"sr-only"},gettext("Enter your comment:")),D.a.createElement(z.a,{ref:this.setTextAreaRef,componentClass:"textarea",value:this.comment.content,disabled:this.comment.isSubmitting,id:this.textAreaId,rows:"1",onFocus:this.setTextAreaFocused,onBlur:this.setTextAreaNotFocused,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,placeholder:Y,"data-purpose":"edit-textarea"}),this.isTextAreaFocused&&D.a.createElement("div",{"data-purpose":"edit-comment-tip",className:"comment--edit-comment-tip--hEVV3",dangerouslySetInnerHTML:{__html:gettext("Press <b>Enter</b> to post, <b>Esc</b> to cancel, <b>Shift + Enter</b> to go to a new line")}}))}},{key:"renderWysiwygEditor",value:function(){var e=D.a.createElement(z.a,{componentClass:"textarea",rows:"1",onFocus:this.toggleWysiwyg,placeholder:Y,"data-purpose":"edit-textarea"}),t=D.a.createElement("div",null,D.a.createElement(M.a,{theme:this.props.richTextTheme,placeholder:Y,value:this.comment.content,contentEditable:!this.comment.isSubmitting,onInit:this.setWysiwygRef,onValueChange:this.onWysiwygInputChange}),D.a.createElement(q.default,{bsStyle:"primary",bsSize:"sm",className:"mt-space-xs","data-purpose":"submit-wysiwyg",disabled:this.comment.isSubmitting,onClick:this.onWysiwygSubmit},gettext("Submit")),D.a.createElement(q.default,{bsStyle:"tertiary",bsSize:"sm",className:"mt-space-xs","data-purpose":"cancel-wysiwyg",disabled:this.comment.isSubmitting,onClick:this.onWysiwygCancel},gettext("Cancel")));return this.isWysiwygActive?t:e}},{key:"renderEditMode",value:function(){return D.a.createElement("div",{className:"comment--basic-info--GKo2F comment--basic-info--no-top-line-height--1c_RD","data-purpose":"edit-container"},this.props.richTextTheme?this.renderWysiwygEditor():this.renderBasicEditor())}},{key:"render",value:function(){return D.a.createElement("div",{className:"comment--comment--160e1","data-purpose":"comment"},D.a.createElement("div",{className:"comment--avatar--3U-gS comment--avatar--stick-top--hAP9D"},D.a.createElement(F.b,{user:this.comment.user,alt:gettext("Commenter"),"data-purpose":"avatar",title:gettext("Commenter")})),this.isEditMode?this.renderEditMode():this.renderDisplayMode(),D.a.createElement(N.a,{body:gettext("Are you sure you want to delete?"),onCancel:this.hideConfirmModal,onConfirm:this.deleteComment,show:this.isConfirmModalShown}))}},{key:"comment",get:function(){return this.props.comment}}]),r}(D.a.Component),h.propTypes={comment:j.a.instanceOf(G).isRequired,richTextTheme:j.a.oneOf(Object.values(M.a.THEMES))},h.defaultProps={richTextTheme:null},l=m,c=babelHelpers.applyDecoratedDescriptor(l.prototype,"isEditMode",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=babelHelpers.applyDecoratedDescriptor(l.prototype,"isConfirmModalShown",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=babelHelpers.applyDecoratedDescriptor(l.prototype,"isTextAreaFocused",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=babelHelpers.applyDecoratedDescriptor(l.prototype,"isWysiwygActive",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(l.prototype,"showConfirmModal",[P.a,A.action],Object.getOwnPropertyDescriptor(l.prototype,"showConfirmModal"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"hideConfirmModal",[P.a,A.action],Object.getOwnPropertyDescriptor(l.prototype,"hideConfirmModal"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"toggleEditMode",[A.action],Object.getOwnPropertyDescriptor(l.prototype,"toggleEditMode"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"setTextAreaFocused",[P.a,A.action],Object.getOwnPropertyDescriptor(l.prototype,"setTextAreaFocused"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"setTextAreaNotFocused",[P.a,A.action],Object.getOwnPropertyDescriptor(l.prototype,"setTextAreaNotFocused"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"onKeyDown",[P.a],Object.getOwnPropertyDescriptor(l.prototype,"onKeyDown"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"onKeyPress",[P.a],Object.getOwnPropertyDescriptor(l.prototype,"onKeyPress"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"onClickEdit",[P.a],Object.getOwnPropertyDescriptor(l.prototype,"onClickEdit"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"onWysiwygSubmit",[P.a],Object.getOwnPropertyDescriptor(l.prototype,"onWysiwygSubmit"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"onWysiwygCancel",[P.a,A.action],Object.getOwnPropertyDescriptor(l.prototype,"onWysiwygCancel"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"saveComment",[P.a],Object.getOwnPropertyDescriptor(l.prototype,"saveComment"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"deleteComment",[P.a],Object.getOwnPropertyDescriptor(l.prototype,"deleteComment"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"onInputChange",[P.a],Object.getOwnPropertyDescriptor(l.prototype,"onInputChange"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"onWysiwygInputChange",[P.a],Object.getOwnPropertyDescriptor(l.prototype,"onWysiwygInputChange"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"toggleWysiwyg",[P.a,A.action],Object.getOwnPropertyDescriptor(l.prototype,"toggleWysiwyg"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"setTextAreaRef",[P.a],Object.getOwnPropertyDescriptor(l.prototype,"setTextAreaRef"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"setWysiwygRef",[P.a],Object.getOwnPropertyDescriptor(l.prototype,"setWysiwygRef"),l.prototype),a=l))||a),X=r("./src/udemy/js/utils/ud-api.js"),J=(b=function(){function r(e,t){babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"hasNextPage",y,this),babelHelpers.initializerDefineProperty(this,"isLoading",f,this),babelHelpers.initializerDefineProperty(this,"comments",g,this),babelHelpers.initializerDefineProperty(this,"numComments",v,this),this.currentPage=1,this.resourceUrl=e,this.commentThread=t,this.commentThread&&(this.setNumComments(this.commentThread.num_comments),this.commentThread.comments&&this.addComments(this.commentThread.comments),this.numComments>this.comments.length&&this.setHasNextPage(!0)),this.newComment=new G(this,{user:$.a})}return babelHelpers.createClass(r,[{key:"loadComments",value:function(){var r=this;return this.isLoading=!0,X.c.get(this.resourceUrl,{params:{page:this.currentPage,page_size:8}}).then(Object(A.action)(function(e){var t=e.data;r.setHasNextPage(!!t.next),r.setNumComments(t.count),r.addComments(t.results)})).catch(function(e){404===e.status&&r.setHasNextPage(!1)}).finally(Object(A.action)(function(){r.isLoading=!1}))}},{key:"loadMore",value:function(){return this.currentPage+=1,this.loadComments()}},{key:"setHasNextPage",value:function(e){this.hasNextPage=e}},{key:"setNumComments",value:function(e){this.numComments=e}},{key:"addComments",value:function(e){var t=this;e.forEach(function(e){t.commentIds.has(e.id)||t.comments.push(new G(t,e))})}},{key:"createComment",value:function(e){var o=this;return X.c.post(this.resourceUrl,e).then(Object(A.action)(function(e){var t=e.data;o.numComments+=1;var r=new G(o,Object.assign({},t));o.comments.unshift(r)}))}},{key:"updateComment",value:function(e,t){return X.c.patch("".concat(this.resourceUrl,"/").concat(e),t)}},{key:"deleteComment",value:function(t){var e=this;return X.c.delete("".concat(this.resourceUrl,"/").concat(t)).then(Object(A.action)(function(){e.numComments-=1,e.comments=e.comments.filter(function(e){return e.id!==t}),e.loadComments()}))}},{key:"commentIds",get:function(){return new Set(this.comments.map(function(e){return e.id}))}}]),r}(),y=babelHelpers.applyDecoratedDescriptor(b.prototype,"hasNextPage",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=babelHelpers.applyDecoratedDescriptor(b.prototype,"isLoading",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=babelHelpers.applyDecoratedDescriptor(b.prototype,"comments",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=babelHelpers.applyDecoratedDescriptor(b.prototype,"numComments",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),babelHelpers.applyDecoratedDescriptor(b.prototype,"loadComments",[P.a,A.action],Object.getOwnPropertyDescriptor(b.prototype,"loadComments"),b.prototype),babelHelpers.applyDecoratedDescriptor(b.prototype,"loadMore",[P.a],Object.getOwnPropertyDescriptor(b.prototype,"loadMore"),b.prototype),babelHelpers.applyDecoratedDescriptor(b.prototype,"setHasNextPage",[A.action],Object.getOwnPropertyDescriptor(b.prototype,"setHasNextPage"),b.prototype),babelHelpers.applyDecoratedDescriptor(b.prototype,"setNumComments",[A.action],Object.getOwnPropertyDescriptor(b.prototype,"setNumComments"),b.prototype),babelHelpers.applyDecoratedDescriptor(b.prototype,"addComments",[A.action],Object.getOwnPropertyDescriptor(b.prototype,"addComments"),b.prototype),babelHelpers.applyDecoratedDescriptor(b.prototype,"commentIds",[A.computed],Object.getOwnPropertyDescriptor(b.prototype,"commentIds"),b.prototype),b);r.d(t,"a",function(){return Z});var Z=Object(_.d)((C=k=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).store=new J(t.props.resourceUrl,t.props.commentThread),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){this.props.autoLoad&&this.props.commentThread&&this.store.loadComments()}},{key:"render",value:function(){var t=this,e=!!this.store.numComments&&0===this.store.comments.length&&!this.store.isLoading,r=this.store.hasNextPage&&!e&&!this.store.isLoading;return D.a.createElement("div",null,this.props.canReply&&D.a.createElement(K,{key:"new-comment","data-purpose":"new-comment",comment:this.store.newComment,richTextTheme:this.props.richTextTheme}),this.store.comments.map(function(e){return D.a.createElement(K,{key:e.id,comment:e,richTextTheme:t.props.richTextTheme})}),e&&D.a.createElement(O.default,{role:"button",tabIndex:"0","data-purpose":"show-comments-link",onClick:this.store.loadComments},interpolate(gettext("Show comments (%(numComments)s)"),{numComments:this.store.numComments},!0)),r&&D.a.createElement(O.default,{role:"button",tabIndex:"0","data-purpose":"load-more-link",onClick:this.store.loadMore},interpolate(gettext("Load more (%(remainingComments)s)"),{remainingComments:this.store.numComments-this.store.comments.length},!0)),this.store.isLoading&&D.a.createElement(x.a,{"data-purpose":"loading-icon",glyph:"circle-loader",size:"small"}))}}]),r}(D.a.Component),k.propTypes={resourceUrl:j.a.string.isRequired,commentThread:j.a.object,autoLoad:j.a.bool,canReply:j.a.bool,richTextTheme:K.propTypes.richTextTheme},k.defaultProps={commentThread:void 0,autoLoad:!1,canReply:!0,richTextTheme:K.defaultProps.richTextTheme},w=C))||w},"./src/udemy/js/base-components/comments/comment.less":function(e,t,r){e.exports={comment:"comment--comment--160e1","basic-info":"comment--basic-info--GKo2F","user-title":"comment--user-title--3ygpu","basic-info--no-top-line-height":"comment--basic-info--no-top-line-height--1c_RD",avatar:"comment--avatar--3U-gS","avatar--stick-top":"comment--avatar--stick-top--hAP9D",content:"comment--content--34deS","edit-comment-tip":"comment--edit-comment-tip--hEVV3"}},"./src/udemy/js/base-components/dismissable-tooltip-container.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return v});var o,n,s,i,a,l=r("./node_modules/autobind-decorator/lib/index.js"),c=r.n(l),u=r("./node_modules/lodash-es/noop.js"),p=r("./node_modules/mobx/lib/mobx.js"),d=r("./node_modules/mobx-react/index.module.js"),h=r("./node_modules/prop-types/index.js"),m=r.n(h),b=r("./node_modules/react/index.js"),y=r.n(b),f=r("./src/udemy/js/base-components/tooltip-container.react-component.js"),g=r("./src/udemy/js/utils/ud-system-message.js"),v=Object(d.d)((a=i=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"hasSeenSystemMessage",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){var t=this;g.a.hasSeen(this.props.systemMessageId,this.relatedObject).then(Object(p.action)(function(e){t.hasSeenSystemMessage=e.data}))}},{key:"onClose",value:function(){this.hasSeenSystemMessage=!0,g.a.seen(this.props.systemMessageId,this.relatedObject),this.props.onClose()}},{key:"render",value:function(){return this.hasSeenSystemMessage?y.a.createElement("div",null,this.props.children):y.a.createElement("div",{className:"dismissable-tooltip-container"},y.a.createElement(f.a,{tooltip:this.props.tooltip,onClose:this.onClose},this.props.children))}},{key:"relatedObject",get:function(){return{obj_id:this.props.relatedObject.objectId,obj_type:this.props.relatedObject.objectType}}}]),i}(y.a.Component),i.propTypes={systemMessageId:m.a.string.isRequired,relatedObject:m.a.shape({objectId:m.a.number,objectType:m.a.string}),tooltip:m.a.node.isRequired,onClose:m.a.func},i.defaultProps={relatedObject:{},onClose:u.a},n=a,s=babelHelpers.applyDecoratedDescriptor(n.prototype,"hasSeenSystemMessage",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"onClose",[c.a,p.action],Object.getOwnPropertyDescriptor(n.prototype,"onClose"),n.prototype),o=n))||o},"./src/udemy/js/base-components/duration.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return c});var o=r("./node_modules/prop-types/index.js"),n=r.n(o),i=r("./node_modules/react/index.js"),s=r.n(i),a=Object.freeze({HUMAN:"human",TIMESTAMP:"timestamp"}),l=Object.freeze({HOURS:"hours",MINUTES:"minutes"}),c=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=(e.numSeconds,e.presentationStyle),r=(e.precision,babelHelpers.objectWithoutProperties(e,["numSeconds","presentationStyle","precision"]));return s.a.createElement("span",r,t===a.HUMAN?this.human:this.timestamp)}},{key:"numSeconds",get:function(){return Math.round(this.props.numSeconds)}},{key:"human",get:function(){var e=gettext("%(hours)shr"),t=gettext("%(minutes)smin"),r=gettext("%(hours)shr %(minutes)smin"),o=Math.round(this.numSeconds/60),n=Math.floor(o/60);return n?this.props.precision===l.HOURS?(n=Math.round(o/30)/2,interpolate(e,{hours:n},!0)):(o%=60)?interpolate(r,{hours:n,minutes:o},!0):interpolate(e,{hours:n},!0):(o||(o=1),interpolate(t,{minutes:o},!0))}},{key:"timestamp",get:function(){var e=this.numSeconds,t=Math.floor(e/3600);t<10&&(t="0".concat(t)),e%=3600;var r=Math.floor(e/60);return r<10&&(r="0".concat(r)),(e%=60)<10&&(e="0".concat(e)),"00"===t?"".concat(r,":").concat(e):"".concat(t,":").concat(r,":").concat(e)}}]),t}(s.a.Component);c.STYLE=a,c.PRECISION=l,c.propTypes={numSeconds:n.a.number.isRequired,presentationStyle:n.a.oneOf(Object.values(a)),precision:n.a.oneOf(Object.values(l))},c.defaultProps={presentationStyle:a.HUMAN,precision:l.MINUTES}},"./src/udemy/js/base-components/error-boundary/index.js":function(e,t,r){"use strict";var o,n,s,a,i=r("./node_modules/mobx/lib/mobx.js"),l=r("./node_modules/mobx-react/index.module.js"),c=r("./node_modules/react/index.js"),u=r.n(c),p=r("./src/udemy/js/utils/ud-raven.js"),d=Object(l.d)((n=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"error",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"info",a,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidCatch",value:function(e,t){p.a.captureException(e),this.setErrorState(e,t)}},{key:"setErrorState",value:function(e,t){this.error=e,this.info=t}},{key:"render",value:function(){return this.error?null:this.props.children}}]),i}(c.Component),s=babelHelpers.applyDecoratedDescriptor(n.prototype,"error",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=babelHelpers.applyDecoratedDescriptor(n.prototype,"info",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"setErrorState",[i.action],Object.getOwnPropertyDescriptor(n.prototype,"setErrorState"),n.prototype),o=n))||o,h=function(t){return function(e){return u.a.createElement(d,null,u.a.createElement(t,e))}};r.d(t,"b",function(){return h});t.a=d},"./src/udemy/js/base-components/form/form-group-with-help-block.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return h});var o,n,i,s=r("./node_modules/mobx-react/index.module.js"),a=r("./node_modules/prop-types/index.js"),l=r.n(a),c=r("./node_modules/react/index.js"),u=r.n(c),p=r("./src/udemy/js/base-components/form/form-group.react-component.js"),d=r("./src/udemy/js/base-components/form/help-block.react-component.js"),h=(r("./src/udemy/js/base-components/form/form.global.less"),Object(s.d)((i=n=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=0<this.props.errors.length,t=this.props,r=t.helperText,o=t.errors,n=t.children,i=t.overrideValidationState,s=babelHelpers.objectWithoutProperties(t,["helperText","errors","children","overrideValidationState"]);return u.a.createElement(p.a,Object.assign({validationState:i||(e?"error":null)},s),n,e?u.a.createElement(d.a,null,o.map(function(e,t){return u.a.createElement("div",{key:t,dangerouslySetInnerHTML:{__html:e}})})):r?u.a.createElement(d.a,null,r):null)}}]),t}(c.Component),n.propTypes={errors:s.a.arrayOrObservableArray,helperText:l.a.string,overrideValidationState:l.a.string,children:l.a.node},n.defaultProps={errors:[],helperText:void 0,children:void 0,overrideValidationState:void 0},o=i))||o)},"./src/udemy/js/base-components/hotkey-overlay/hotkey-label.less":function(e,t,r){e.exports={wrapper:"hotkey-label--wrapper--1K_Wd",title:"hotkey-label--title--3Yyhn",label:"hotkey-label--label--Lwp78",keys:"hotkey-label--keys--2vXAP",key:"hotkey-label--key--1RxHU"}},"./src/udemy/js/base-components/hotkey-overlay/hotkey-overlay.less":function(e,t,r){e.exports={overlay:"hotkey-overlay--overlay--2Ur5V","overlay-fixed":"hotkey-overlay--overlay-fixed--3gAID",body:"hotkey-overlay--body--w3tS1",shortcuts:"hotkey-overlay--shortcuts--3p3aQ"}},"./src/udemy/js/base-components/hotkey-overlay/hotkey-overlay.react-component.js":function(e,t,r){"use strict";var o=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),s=r.n(o),n=r("./node_modules/classnames/index.js"),a=r.n(n),i=r("./node_modules/lodash-es/noop.js"),l=r("./node_modules/prop-types/index.js"),c=r.n(l),u=r("./node_modules/react/index.js"),p=r.n(u),d=r("./node_modules/react-bootstrap/lib/Modal.js"),h=r.n(d),m=r("./node_modules/react-overlays/lib/Modal.js"),b=r.n(m),y=r("./src/udemy/js/base-components/close-button.react-component.js"),f=r("./src/udemy/js/base-components/fade.react-component.js"),g=r("./src/udemy/js/base-components/icon.react-component.js"),v=(r("./src/udemy/js/base-components/hotkey-overlay/hotkey-label.less"),{"./hotkey-label.less":{wrapper:"hotkey-label--wrapper--1K_Wd",df:"hotkey-label--df--1lKG9",fx:"hotkey-label--fx--3W7BR",title:"hotkey-label--title--3Yyhn",label:"hotkey-label--label--Lwp78",a3:"hotkey-label--a3--1u6kY",a1:"hotkey-label--a1--1XKQY",keys:"hotkey-label--keys--2vXAP","fx-lc":"hotkey-label--fx-lc--jDTF8",key:"hotkey-label--key--1RxHU","bg-midnight-lighter":"hotkey-label--bg-midnight-lighter--3CGR_"}}),w=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).keyToStringMap={shift:pgettext("Keyboard shift key","Shift"),space:pgettext("Keyboard spacebar","Space"),escape:pgettext("Keyboard escape key","ESC"),left:p.a.createElement(g.a,{glyph:"thin-arrow-left"}),up:p.a.createElement(g.a,{glyph:"thin-arrow-up"}),right:p.a.createElement(g.a,{glyph:"thin-arrow-right"}),down:p.a.createElement(g.a,{glyph:"thin-arrow-down"}),slash:"/"},t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"getKeyString",value:function(e){return this.keyToStringMap[e]?this.keyToStringMap[e]:e.toUpperCase()}},{key:"render",value:function(){var e,o=this,n=this.props.shortcut.key&&this.props.shortcut.key.split("+");return n&&(e=p.a.createElement("div",{className:"hotkey-label--keys--2vXAP"},n.reduce(function(e,t,r){return e.push(p.a.createElement("span",{key:t,className:"hotkey-label--key--1RxHU"},o.getKeyString(t))),n[r+1]&&e.push(p.a.createElement(g.a,{key:"".concat(t,"-plus"),glyph:"vjs-plus"})),e},[]))),p.a.createElement("div",{className:s()(a()("wrapper",{title:this.props.isTitle}),v)},p.a.createElement("div",{className:s()(a()("label",{title:this.props.isTitle}),v)},this.props.shortcut.name),e)}}]),i}(u.Component);w.propTypes={shortcut:c.a.shape({name:c.a.string.isRequired,key:c.a.string}).isRequired,isTitle:c.a.bool},w.defaultProps={isTitle:!1};r("./src/udemy/js/base-components/hotkey-overlay/hotkey-overlay.less");r.d(t,"a",function(){return C});var k={"./hotkey-overlay.less":{overlay:"hotkey-overlay--overlay--2Ur5V","overlay-fixed":"hotkey-overlay--overlay-fixed--3gAID",body:"hotkey-overlay--body--w3tS1",shortcuts:"hotkey-overlay--shortcuts--3p3aQ"}},C=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.keyMap.find(function(e){return e.isShowShortcuts});e||(e={name:gettext("Keyboard shortcuts")});var t=this.props.keyMap.reduce(function(e,t){return t.isShowShortcuts||e.push(p.a.createElement(w,{key:t.name,shortcut:t})),e},[]);return p.a.createElement(b.a,{show:this.props.show,onHide:this.props.onHide,container:this.props.container,containerClassName:"modal-open",backdrop:!1,transition:f.default,dialogTransitionTimeout:h.a.TRANSITION_DURATION,className:"modal "+s()(a()("overlay",{"overlay-fixed":!this.props.container}),k)},p.a.createElement("div",{tabIndex:"-1",className:"w100p h100p"},p.a.createElement(y.default,{onClick:this.props.onHide}),p.a.createElement("div",{className:"hotkey-overlay--body--w3tS1"},p.a.createElement("div",null,p.a.createElement(w,{shortcut:e,isTitle:!0})),p.a.createElement("div",{className:"hotkey-overlay--shortcuts--3p3aQ"},t))))}}]),t}(p.a.Component);C.propTypes={keyMap:c.a.arrayOf(c.a.shape({name:c.a.string.isRequired,key:c.a.string.isRequired,isShowShortcuts:c.a.bool})).isRequired,show:c.a.bool,onHide:c.a.func,container:b.a.propTypes.container},C.defaultProps={show:!1,onHide:i.a,container:b.a.defaultProps.container}},"./src/udemy/js/base-components/input-range.less":function(e,t,r){e.exports={"step-container":"input-range--step-container--121Cf","step-line":"input-range--step-line--PP08r","input-range":"input-range--input-range--19Lja"}},"./src/udemy/js/base-components/input-range.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return m});var o,n,i,s=r("./node_modules/autobind-decorator/lib/index.js"),a=r.n(s),l=r("./node_modules/lodash-es/noop.js"),c=r("./node_modules/lodash-es/times.js"),u=r("./node_modules/prop-types/index.js"),p=r.n(u),d=r("./node_modules/react/index.js"),h=r.n(d),m=(r("./src/udemy/js/base-components/input-range.less"),i=n=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).isTouching=!1,t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"onChange",value:function(e){this.props.onInput(e),!this.isTouching&&this.props.onChange(e)}},{key:"onTouchEnd",value:function(e){this.isTouching=!1,this.onChange(e)}},{key:"onTouchStart",value:function(){this.isTouching=!0}},{key:"render",value:function(){var e=this.props,t=e.value,r=(e.onInput,babelHelpers.objectWithoutProperties(e,["value","onInput"])),o=babelHelpers.objectSpread({},r,{onChange:this.onChange,onTouchEnd:this.onTouchEnd,onTouchStart:this.onTouchStart,defaultValue:null!==t?t:this.props.min+(this.props.max-this.props.min)/2});return h.a.createElement("div",null,h.a.createElement("input",Object.assign({type:"range"},o,{className:"input-range--input-range--19Lja","data-purpose":"input-range"})),h.a.createElement("div",{className:"input-range--step-container--121Cf"},Object(c.a)(this.numberOfSteps+1,function(e){return h.a.createElement("div",{key:e,className:"input-range--step-line--PP08r","data-purpose":"step-line"})})))}},{key:"numberOfSteps",get:function(){return(this.props.max-this.props.min)/this.props.step}}]),i}(d.Component),n.propTypes={min:p.a.number.isRequired,max:p.a.number.isRequired,step:p.a.number.isRequired,value:function(e,t){return null!==e[t]&&(e[t]<e.min||e[t]>e.max)?new Error("Provided value is not in range"):null},onChange:p.a.func,onInput:p.a.func},n.defaultProps={value:null,onChange:l.a,onInput:l.a},o=i,babelHelpers.applyDecoratedDescriptor(o.prototype,"onChange",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"onChange"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onTouchEnd",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"onTouchEnd"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onTouchStart",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"onTouchStart"),o.prototype),o)},"./src/udemy/js/base-components/merchandising-course-card/index.js":function(e,t,r){"use strict";var o=r("./src/udemy/js/base-components/merchandising-course-card/base/merchandising-course-card.react-component.js"),n=r("./src/udemy/js/base-components/merchandising-course-card/list-view/list-view-course-card.react-component.js"),i=r("./src/udemy/js/base-components/merchandising-course-card/list-view/list-view-course-card.mobx-model.js"),s=r("./src/udemy/js/base-components/merchandising-course-card/common/merchandising-course.mobx-model.js"),a=(r("./src/udemy/js/base-components/merchandising-course-card/common/quick-view-box.react-component.js"),r("./src/udemy/js/base-components/merchandising-course-card/common/wishlist-button.react-component.js")),l=r("./node_modules/prop-types/index.js"),c=r.n(l),u=r("./node_modules/react/index.js"),p=r.n(u),d=r("./src/udemy/js/base-components/icon.react-component.js"),h=r("./src/udemy/js/base-components/star-rating.react-component.js"),m=(r("./src/udemy/js/base-components/merchandising-course-card/common/star-rating.less"),function(e){var t=e.course,r=Object(h.d)(t.rating);return p.a.createElement("span",{"data-purpose":"details-rating","aria-label":Object(h.c)(r,t.num_reviews),className:"star-rating--rating-fraction--3oiVb"},p.a.createElement(d.a,{glyph:"star",size:"small",className:"star-rating--star-icon--34S38"}),p.a.createElement("span",{className:"star-rating--rating-score--3P-ZS","data-purpose":"rating-score"},r))});m.propTypes={course:c.a.instanceOf(s.a).isRequired};var b=m;r.d(t,"c",function(){return o.a}),r.d(t,"a",function(){return n.a}),r.d(t,"b",function(){return i.a}),r.d(t,"d",function(){return s.a}),r.d(t,"f",function(){return a.a}),r.d(t,"e",function(){return b})},"./src/udemy/js/base-components/merchandising-course-card/list-view/course-objectives/course-objectives-quick-view.less":function(e,t,r){e.exports={"review-highlight-quickview__container":"course-objectives-quick-view--review-highlight-quickview__container--2Wzd5",title:"course-objectives-quick-view--title--1jMBK"}},"./src/udemy/js/base-components/merchandising-course-card/list-view/list-view-course-card.less":function(e,t,r){e.exports={"course-card-wrapper":"list-view-course-card--course-card-wrapper--TJ6ET",container:"list-view-course-card--container--2fJ9s","bottom-border":"list-view-course-card--bottom-border--3bYxz",content:"list-view-course-card--content--1TGG4","headline-and-instructor-container":"list-view-course-card--headline-and-instructor-container--1z6wI","image-container":"list-view-course-card--image-container--16j0R","course-image":"list-view-course-card--course-image--1XvxT","exp-polished-card":"list-view-course-card--exp-polished-card--3EG-2","instructor-container":"list-view-course-card--instructor-container--1ZPqI",instructor:"list-view-course-card--instructor--2lbmP","meta-with-badge-container":"list-view-course-card--meta-with-badge-container--2AmUC","price-rating":"list-view-course-card--price-rating--3vt-J","price-container":"list-view-course-card--price-container--3pq7h","rating-container":"list-view-course-card--rating-container--1BLNe",rating:"list-view-course-card--rating--za-yU",title:"list-view-course-card--title--2pfA0","meta-item":"list-view-course-card--meta-item--1Pyfe",icon:"list-view-course-card--icon--2k0d7","headline-and-instructor":"list-view-course-card--headline-and-instructor--2nbyp","meta-with-badge":"list-view-course-card--meta-with-badge--3oqjF","badge-with-context":"list-view-course-card--badge-with-context--3pIpP",badge:"list-view-course-card--badge--3El7q","badge-context-container":"list-view-course-card--badge-context-container--JAIBQ","badge-context":"list-view-course-card--badge-context--2beYY","closed-caption-icon":"list-view-course-card--closed-caption-icon--1HS7S","speech-bubble-icon":"list-view-course-card--speech-bubble-icon--3ERks","with-context-menu":"list-view-course-card--with-context-menu--FR8xX"}},"./src/udemy/js/base-components/merchandising-course-card/list-view/list-view-course-card.mobx-model.js":function(e,t,r){"use strict";var o,n=r("./node_modules/autobind-decorator/lib/index.js"),i=r.n(n),s=r("./node_modules/lodash-es/escape.js"),a=r("./src/udemy/js/base-components/star-rating.react-component.js"),l=r("./src/udemy/js/ng/services/funnel-tracking/funnel-tracking.js"),c=r("./src/udemy/js/utils/ud-config.js"),u=r("./node_modules/ua-parser-js/src/ua-parser.js"),p=r.n(u),d=r("./src/udemy/js/utils/ud-api-stat.js"),h=(new p.a).getDevice().type?"mobile-web":"web",m=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"trackClick",value:function(e,t,r){r&&d.e.trackPageEvent("trackclick",r,{item:t,courseId:e.id,platform:h})}},{key:"trackSeen",value:function(e,t,r,o){d.e.trackPageEvent("trackseen",o,{component:e,itemKey:t,itemValue:r,platform:h})}}]),e}();r.d(t,"a",function(){return b});var b=(o=function(){function o(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).quickViewBoxEnabled,r=void 0!==t&&t;babelHelpers.classCallCheck(this,o),this._course=e,this.funnelTracking=l.a,this.hasBeenMarkedAsSeen=!1,this.tracking=new m,this.clickTrackingPageName="",this.quickViewBoxEnabled=r}return babelHelpers.createClass(o,[{key:"setClickTrackingPageName",value:function(e){this.clickTrackingPageName=e}},{key:"markAsSeen",value:function(e){this.hasBeenMarkedAsSeen||(this.hasBeenMarkedAsSeen=!0,this.funnelTracking.markAsSeen(this._course,e))}},{key:"trackCourseCardClick",value:function(){this.tracking.trackClick(this._course,"course-card",this.clickTrackingPageName)}},{key:"trackTitleClick",value:function(){this.tracking.trackClick(this._course,"course-card-title",this.clickTrackingPageName)}},{key:"trackCourseImageClick",value:function(){this.tracking.trackClick(this._course,"course-image",this.clickTrackingPageName)}},{key:"trackInstructorClick",value:function(){this.tracking.trackClick(this._course,"instructor-name",this.clickTrackingPageName)}},{key:"trackNumOfRatingsClick",value:function(){this.tracking.trackClick(this._course,"num-of-ratings",this.clickTrackingPageName)}},{key:"trackReviewsClick",value:function(){this.tracking.trackClick(this._course,"reviews",this.clickTrackingPageName)}},{key:"trackSeenReviewHighlightsQuickView",value:function(){this.tracking.trackSeen("review-highlights-quick-view-only","courseId",this._course.id,"search-result-page")}},{key:"id",get:function(){return this._course.id}},{key:"image",get:function(){return this._course.image_240x135}},{key:"imageSize",get:function(){return{width:240,height:135}}},{key:"image2x",get:function(){return this._course.image_480x270}},{key:"title",get:function(){return this._course.title}},{key:"price",get:function(){return c.a.brand.has_organization?null:this._course.is_paid?this._course.price:0}},{key:"captionLanguages",get:function(){return this._course.caption_languages}},{key:"priceDetail",get:function(){return this._course.price_detail}},{key:"url",get:function(){return this._course.url}},{key:"discountPrice",get:function(){return this._course.discount?this._course.discount.price:null}},{key:"rating",get:function(){return Object(a.a)(this._course.rating||0)}},{key:"numReviews",get:function(){return this._course.num_reviews||0}},{key:"badge",get:function(){return this._course.badges&&(this._course.badges.length?this._course.badges[0]:null)}},{key:"instructorName",get:function(){return this._course.instructor_name?this._course.instructor_name:Object(s.a)(this._course.visible_instructors[0].title)}},{key:"isPracticeTestCourse",get:function(){return this._course.is_practice_test_course}},{key:"hasObjectiveSummary",get:function(){return this._course.objectives_summary&&0<this._course.objectives_summary.length}},{key:"practiceTestsCount",get:function(){return this._course.num_published_practice_tests}},{key:"practiceTestsLength",get:function(){return this._course.content_length_practice_test_questions}},{key:"numPublishedLectures",get:function(){return this._course.num_published_lectures}},{key:"courseLanguage",get:function(){return gettext(this._course.locale.simple_english_title)}},{key:"contentInfo",get:function(){return this._course.content_info}},{key:"instructionalLevelSimple",get:function(){return this._course.instructional_level_simple}},{key:"headline",get:function(){return this._course.headline}},{key:"predictiveScore",get:function(){return this._course.predictive_score}},{key:"inputFeatures",get:function(){return this._course.input_features}},{key:"relevancyScore",get:function(){return this._course.relevancy_score}}]),o}(),babelHelpers.applyDecoratedDescriptor(o.prototype,"markAsSeen",[i.a],Object.getOwnPropertyDescriptor(o.prototype,"markAsSeen"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"trackCourseCardClick",[i.a],Object.getOwnPropertyDescriptor(o.prototype,"trackCourseCardClick"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"trackTitleClick",[i.a],Object.getOwnPropertyDescriptor(o.prototype,"trackTitleClick"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"trackCourseImageClick",[i.a],Object.getOwnPropertyDescriptor(o.prototype,"trackCourseImageClick"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"trackInstructorClick",[i.a],Object.getOwnPropertyDescriptor(o.prototype,"trackInstructorClick"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"trackNumOfRatingsClick",[i.a],Object.getOwnPropertyDescriptor(o.prototype,"trackNumOfRatingsClick"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"trackReviewsClick",[i.a],Object.getOwnPropertyDescriptor(o.prototype,"trackReviewsClick"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"trackSeenReviewHighlightsQuickView",[i.a],Object.getOwnPropertyDescriptor(o.prototype,"trackSeenReviewHighlightsQuickView"),o.prototype),o)},"./src/udemy/js/base-components/merchandising-course-card/list-view/list-view-course-card.react-component.js":function(e,t,r){"use strict";var o,n,i,s,a,l,c,u,p,d=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),h=r.n(d),m=r("./node_modules/autobind-decorator/lib/index.js"),b=r.n(m),y=r("./node_modules/classnames/index.js"),f=r.n(y),g=r("./node_modules/lodash-es/isEmpty.js"),v=r("./node_modules/mobx-react/index.module.js"),w=r("./node_modules/prop-types/index.js"),k=r.n(w),C=r("./node_modules/react/index.js"),_=r.n(C),S=r("./node_modules/react-waypoint/build/waypoint.js"),j=r.n(S),E=r("./src/udemy/js/base-components/badge-with-context.react-component.js"),D=r("./src/udemy/js/base-components/context-info.react-component.js"),x=r("./src/udemy/js/base-components/course-badge.react-component.js"),O=r("./src/udemy/js/base-components/error-boundary/index.js"),T=r("./src/udemy/js/base-components/icon.react-component.js"),P=r("./src/udemy/js/base-components/image.react-component.js"),H=r("./src/udemy/js/base-components/merchandising-course-card/index.js"),A=r("./src/udemy/js/base-components/overlay-trigger.react-component.js"),I=r("./src/udemy/js/base-components/performance-mark-on-load.react-component.js"),R=r("./src/udemy/js/base-components/popover.react-component.js"),q=r("./src/udemy/js/base-components/price-text.react-component.js"),N=r("./src/udemy/js/base-components/star-rating.react-component.js"),z=r("./src/udemy/js/experiment/index.js"),M=r("./src/udemy/js/experiment/machine-translation/pl-ro-experiment.js"),L=r("./src/udemy/js/organization-common/course-context-menu/constants.js"),F=r("./src/udemy/js/organization-common/course-context-menu/wrappers/ufb-submenu-context-menu.react-component.js"),U=r("./src/udemy/js/utils/ud-config.js"),B=r("./src/udemy/js/utils/ud-numeral.js"),V=r("./node_modules/mobx/lib/mobx.js"),$=r("./src/udemy/js/base-components/universal/variables.js"),Q=r("./src/udemy/js/utils/window-measurement.mobx-store.js"),W=(o=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"isMobileSize",get:function(){return Q.a.innerWidth<$.a["screen-sm-min"]}},{key:"showQuickView",get:function(){return Q.a.innerWidth>=$.a["screen-md-min"]}},{key:"wholeCardClickable",get:function(){return!this.isMobileSize}},{key:"titleWithBadgeOnHover",get:function(){return this.isMobileSize}}]),e}(),babelHelpers.applyDecoratedDescriptor(o.prototype,"isMobileSize",[V.computed],Object.getOwnPropertyDescriptor(o.prototype,"isMobileSize"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"showQuickView",[V.computed],Object.getOwnPropertyDescriptor(o.prototype,"showQuickView"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"wholeCardClickable",[V.computed],Object.getOwnPropertyDescriptor(o.prototype,"wholeCardClickable"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"titleWithBadgeOnHover",[V.computed],Object.getOwnPropertyDescriptor(o.prototype,"titleWithBadgeOnHover"),o.prototype),o),G=r("./src/udemy/js/base-components/merchandising-course-card/common/quick-view-box.react-component.js"),Y=r("./src/udemy/js/base-components/merchandising-course-card/list-view/list-view-course-card.mobx-model.js"),K=(r("./src/udemy/js/base-components/merchandising-course-card/list-view/course-objectives/course-objectives-quick-view.less"),Object(v.d)((a=s=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onSeen",value:function(){this.props.course.trackSeenReviewHighlightsQuickView()}},{key:"render",value:function(){var e=this.props.course;return e.hasObjectiveSummary?_.a.createElement("div",{className:"course-objectives-quick-view--review-highlight-quickview__container--2Wzd5"},_.a.createElement("div",null,_.a.createElement("div",{className:"course-objectives-quick-view--title--1jMBK"},gettext("What you'll learn")),_.a.createElement(G.a,{course:e._course,simplified:!0})),_.a.createElement(j.a,{onEnter:this.onSeen})):null}}]),t}(C.Component),s.propTypes={course:k.a.instanceOf(Y.a).isRequired},i=a,babelHelpers.applyDecoratedDescriptor(i.prototype,"onSeen",[b.a],Object.getOwnPropertyDescriptor(i.prototype,"onSeen"),i.prototype),n=i))||n);r("./src/udemy/js/base-components/merchandising-course-card/list-view/list-view-course-card.less");r.d(t,"a",function(){return se});var X={"./list-view-course-card.less":{"course-card-wrapper":"list-view-course-card--course-card-wrapper--TJ6ET",container:"list-view-course-card--container--2fJ9s","bottom-border":"list-view-course-card--bottom-border--3bYxz",content:"list-view-course-card--content--1TGG4",fx:"list-view-course-card--fx--1ohlz","headline-and-instructor-container":"list-view-course-card--headline-and-instructor-container--1z6wI","image-container":"list-view-course-card--image-container--16j0R","course-image":"list-view-course-card--course-image--1XvxT","exp-polished-card":"list-view-course-card--exp-polished-card--3EG-2","instructor-container":"list-view-course-card--instructor-container--1ZPqI",instructor:"list-view-course-card--instructor--2lbmP","ellipsis-1-line":"list-view-course-card--ellipsis-1-line--3Kt8D","meta-with-badge-container":"list-view-course-card--meta-with-badge-container--2AmUC","price-rating":"list-view-course-card--price-rating--3vt-J","price-container":"list-view-course-card--price-container--3pq7h","font-heading-sm":"list-view-course-card--font-heading-sm--1Q5ZS","font-text-sm":"list-view-course-card--font-text-sm--8LRAQ","rating-container":"list-view-course-card--rating-container--1BLNe",rating:"list-view-course-card--rating--za-yU",title:"list-view-course-card--title--2pfA0","font-heading-xs":"list-view-course-card--font-heading-xs--126Wb","meta-item":"list-view-course-card--meta-item--1Pyfe",icon:"list-view-course-card--icon--2k0d7","headline-and-instructor":"list-view-course-card--headline-and-instructor--2nbyp","meta-with-badge":"list-view-course-card--meta-with-badge--3oqjF","badge-with-context":"list-view-course-card--badge-with-context--3pIpP",badge:"list-view-course-card--badge--3El7q","badge-context-container":"list-view-course-card--badge-context-container--JAIBQ","badge-context":"list-view-course-card--badge-context--2beYY",transition:"list-view-course-card--transition--3zOd4",transform:"list-view-course-card--transform--3DrO-","closed-caption-icon":"list-view-course-card--closed-caption-icon--1HS7S","speech-bubble-icon":"list-view-course-card--speech-bubble-icon--3ERks","with-context-menu":"list-view-course-card--with-context-menu--FR8xX"}},J=function(e){var t=e.course,r=e.configuration,o=e.anchorTagProps;return r.wholeCardClickable?_.a.createElement("div",{"data-purpose":"search-course-card-title",className:"list-view-course-card--title--2pfA0"},_.a.createElement("h4",null,t.title)):_.a.createElement("div",{className:"list-view-course-card--title--2pfA0"},_.a.createElement("a",Object.assign({"data-purpose":"search-course-card-title",href:t.url,onClick:t.trackTitleClick},o),_.a.createElement("h4",null,t.title)),t.badge&&_.a.createElement(E.a,{withTooltip:!1,content:t.badge}))};J.propTypes={course:k.a.instanceOf(Y.a).isRequired,configuration:k.a.instanceOf(W).isRequired,anchorTagProps:k.a.object},J.defaultProps={anchorTagProps:{}};var Z=function(e){var t=e.course,r=e.configuration,o=e.anchorTagProps,n=e.perfTrackingPageName,i=_.a.createElement(P.a,{src:t.image,alt:t.title,srcSet:"".concat(t.image," 1x, ").concat(t.image2x," 2x"),width:t.imageSize.width,height:t.imageSize.height,className:"list-view-course-card--course-image--1XvxT"}),s=t.shouldSendPerfMetric&&n?_.a.createElement(I.a,{markName:n},i):i;return r.wholeCardClickable?s:_.a.createElement("a",Object.assign({href:t.url,onClick:t.trackCourseImageClick},o),s)};Z.propTypes={course:k.a.instanceOf(Y.a).isRequired,configuration:k.a.instanceOf(W).isRequired,anchorTagProps:k.a.object,perfTrackingPageName:k.a.string},Z.defaultProps={anchorTagProps:{},perfTrackingPageName:""};var ee=function(e){var t=e.course,r=e.configuration,o=e.anchorTagProps,n=Object(N.d)(t.rating),i=Object(B.a)(t.numReviews).format("0,0");return r.wholeCardClickable?_.a.createElement("div",{className:"list-view-course-card--rating--za-yU"},_.a.createElement("span",null,_.a.createElement(N.b,{rating:t.rating,size:"tiny"}),n),_.a.createElement("span",{className:"ml5"},"(".concat(ninterpolate("%(numReviews)s rating","%(numReviews)s ratings",t.numReviews,{numReviews:i}),")"))):_.a.createElement("div",{className:"list-view-course-card--rating--za-yU"},_.a.createElement("a",Object.assign({href:"".concat(t.url,"#reviews"),onClick:t.trackReviewsClick},o),_.a.createElement(N.b,{rating:t.rating,size:"tiny"}),n),_.a.createElement("a",Object.assign({href:"".concat(t.url,"#reviews"),onClick:t.trackNumOfRatingsClick},o),_.a.createElement("span",{className:"ml5"},"(".concat(ninterpolate("%(numReviews)s rating","%(numReviews)s ratings",t.numReviews,{numReviews:i}),")"))))};ee.propTypes={course:k.a.instanceOf(Y.a).isRequired,configuration:k.a.instanceOf(W).isRequired,anchorTagProps:k.a.object},ee.defaultProps={anchorTagProps:{}};var te=function(e){var t=e.course,r=e.configuration,o=e.anchorTagProps,n=_.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.instructorName}});return r.wholeCardClickable?_.a.createElement("div",{className:"list-view-course-card--instructor--2lbmP"},n):_.a.createElement("div",{className:"list-view-course-card--instructor--2lbmP"},_.a.createElement("a",Object.assign({href:"".concat(t.url,"#instructor"),onClick:t.trackInstructorClick,"data-purpose":"search-course-card-instructor-ref"},o),n))};te.propTypes={course:k.a.instanceOf(Y.a).isRequired,configuration:k.a.instanceOf(W).isRequired,anchorTagProps:k.a.object},te.defaultProps={anchorTagProps:{}};var re=function(e){var t=e.course.captionLanguages;return t&&t.length?_.a.createElement("span",null,_.a.createElement(T.a,{glyph:"closed-caption"})):null};re.propTypes={course:k.a.instanceOf(Y.a).isRequired};var oe=function(e){var t=e.course,r=e.hideIcons,o=e.hideClosedCaptions,n=new M.a(t._course);return _.a.createElement(C.Fragment,null,n.isCurrentLocaleCaptionVisible&&n.captionForCurrentLocale&&_.a.createElement("span",{className:"list-view-course-card--meta-item--1Pyfe"},_.a.createElement(T.a,{glyph:"closed-caption",className:"list-view-course-card--closed-caption-icon--1HS7S"}),n.captionForCurrentLocale),n.isCourseLanguageVisible&&_.a.createElement("span",{className:"list-view-course-card--meta-item--1Pyfe"},_.a.createElement(T.a,{glyph:"comment",className:"list-view-course-card--speech-bubble-icon--3ERks"}),n.courseLanguage),t.isPracticeTestCourse&&_.a.createElement("span",{className:"list-view-course-card--meta-item--1Pyfe"},!r&&_.a.createElement(T.a,{glyph:"file-text-o",className:"list-view-course-card--icon--2k0d7"}),ninterpolate("%s practice test","%s practice tests",t.practiceTestsCount)),t.isPracticeTestCourse&&_.a.createElement("span",{className:"list-view-course-card--meta-item--1Pyfe"},!r&&_.a.createElement(T.a,{glyph:"question-circle",className:"list-view-course-card--icon--2k0d7"}),ninterpolate("%s question","%s questions",t.practiceTestsLength)),!t.isPracticeTestCourse&&n.isLecturesDataVisible&&_.a.createElement("span",{className:"list-view-course-card--meta-item--1Pyfe"},!r&&_.a.createElement(T.a,{glyph:"play-circle",className:"list-view-course-card--icon--2k0d7"}),ninterpolate("%s lecture","%s lectures",t.numPublishedLectures)),!t.isPracticeTestCourse&&_.a.createElement("span",{className:"list-view-course-card--meta-item--1Pyfe"},!r&&_.a.createElement(T.a,{glyph:"clock",className:"list-view-course-card--icon--2k0d7"}),t.contentInfo),n.isLevelsDataVisible&&_.a.createElement("span",{className:"list-view-course-card--meta-item--1Pyfe"},!r&&_.a.createElement(T.a,{glyph:"search-filter",className:"list-view-course-card--icon--2k0d7"}),t.instructionalLevelSimple),!o&&_.a.createElement("span",{className:"list-view-course-card--meta-item--1Pyfe"},_.a.createElement(re,{course:t})))};oe.propTypes={course:k.a.instanceOf(Y.a).isRequired,hideIcons:k.a.bool,hideClosedCaptions:k.a.bool},oe.defaultProps={hideIcons:!1,hideClosedCaptions:!1};var ne=function(e){var t=e.course,r=interpolate("By %s",[t.instructorName]);return _.a.createElement("div",{className:"list-view-course-card--headline-and-instructor--2nbyp"},_.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.headline}})," | ",_.a.createElement("span",{dangerouslySetInnerHTML:{__html:r}}))};ne.propTypes={course:k.a.instanceOf(Y.a).isRequired};var ie=function(e){var t=e.course,r=e.showMeta;return _.a.createElement("div",{className:"list-view-course-card--meta-with-badge--3oqjF"},t.badge&&_.a.createElement("div",{className:"list-view-course-card--badge-with-context--3pIpP"},_.a.createElement("span",{className:"list-view-course-card--badge--3El7q"},_.a.createElement(x.a,{content:t.badge})),_.a.createElement("span",{className:"list-view-course-card--badge-context-container--JAIBQ"},_.a.createElement("span",{className:"list-view-course-card--badge-context--2beYY"},_.a.createElement(D.a,{withoutHyperlink:!0,contextInfo:t.badge.context_info})))),r&&_.a.createElement(oe,{course:t,hideIcons:!0,hideClosedCaptions:!0}))};ie.propTypes={course:k.a.instanceOf(Y.a).isRequired,showMeta:k.a.bool},ie.defaultProps={showMeta:!0};var se=Object(z.b)({polished_listview_card:!1})(l=Object(v.d)((p=u=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),e.course.setClickTrackingPageName(e.clickTrackingPageName),t.configuration=new W,t.merchCourseModel=new H.d(e.course._course),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"markCourseAsSeen",value:function(){this.props.course.markAsSeen(this.props.funnelTrackingContext)}},{key:"wrapQuickView",value:function(e,t){if(this.configuration.showQuickView&&e.quickViewBoxEnabled){if(e.hasObjectiveSummary){var r=_.a.createElement(R.a,{id:"quick-view-box","data-purpose":"review-highlights-quick-view"},_.a.createElement(K,{course:e,showReview:!1}));t=_.a.createElement(A.a,{placement:"auto",keepOnHover:!0,overlay:r},t)}}return t}},{key:"renderContextMenu",value:function(e){var t={id:e.id,title:e.title,url:e.url,is_published:!0},r="";return Object(g.a)(this.props.funnelTrackingContext)||(r=L.c[this.props.funnelTrackingContext.context]||L.c[this.props.funnelTrackingContext.context2]),this.isContextMenuEnabled&&_.a.createElement(F.a,{course:t,context:r,color:L.a.BLUE,openLeft:!0})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.course,o=e.hasBottomBorder,n=e.experiment,i=this.props.openInNewTab?{rel:"noopener noreferrer",target:"_blank"}:{},s=r.priceDetail&&r.priceDetail.amount||0,a=f()("container",{"bottom-border":o,"exp-polished-card":n.polished_listview_card}),l=_.a.createElement("div",{className:(f()({"badge-hover":this.configuration.titleWithBadgeOnHover})?f()({"badge-hover":this.configuration.titleWithBadgeOnHover})+" ":"")+h()(a,X)},_.a.createElement("div",{className:"list-view-course-card--image-container--16j0R"},_.a.createElement(Z,{course:r,configuration:this.configuration,anchorTagProps:i,perfTrackingPageName:this.props.perfTrackingPageName})),_.a.createElement("div",{className:"list-view-course-card--content--1TGG4"},_.a.createElement(J,{course:r,configuration:this.configuration,anchorTagProps:i}),_.a.createElement("div",{className:"list-view-course-card--meta-with-badge-container--2AmUC"},_.a.createElement(ie,{course:r})),_.a.createElement("div",{className:"list-view-course-card--instructor-container--1ZPqI"},_.a.createElement(te,{course:r,configuration:this.configuration,anchorTagProps:i})),_.a.createElement("div",{className:"list-view-course-card--headline-and-instructor-container--1z6wI"},_.a.createElement(ne,{course:r})),_.a.createElement("div",{className:h()(f()("price-rating",{"with-context-menu":this.isContextMenuEnabled}),X)},_.a.createElement("div",{className:"list-view-course-card--price-container--3pq7h"},_.a.createElement(q.e,{align:q.a.RIGHT,discountColor:q.b.BLACK,discountFontWeight:q.d.BOLD,discountPrice:r.discountPrice?r.discountPrice.amount:s,listPrice:s,verticalLayout:!0})),_.a.createElement("div",{className:"list-view-course-card--rating-container--1BLNe"},_.a.createElement(ee,{course:r,configuration:this.configuration,anchorTagProps:i})))),_.a.createElement(j.a,{scrollableAncestor:window,onEnter:this.markCourseAsSeen}));return l=this.wrapQuickView(r,l),this.configuration.wholeCardClickable?_.a.createElement(O.a,null,_.a.createElement("div",{"data-purpose":"search-course-cards",className:(t?t+" ":"")+"list-view-course-card--course-card-wrapper--TJ6ET"},_.a.createElement("a",Object.assign({href:r.url,onClick:r.trackCourseCardClick},i),l," "),this.renderContextMenu(r))):_.a.createElement(O.a,null,_.a.createElement("div",{"data-purpose":"search-course-cards",className:(t?t+" ":"")+"list-view-course-card--course-card-wrapper--TJ6ET"},l,this.renderContextMenu(r)))}},{key:"isContextMenuEnabled",get:function(){return U.a.brand.has_organization&&U.a.brand.organization.is_context_menu_enabled}}]),r}(C.Component),u.propTypes={course:k.a.instanceOf(Y.a).isRequired,experiment:k.a.object.isRequired,hasBottomBorder:k.a.bool,openInNewTab:k.a.bool,funnelTrackingContext:k.a.object,clickTrackingPageName:k.a.string,perfTrackingPageName:k.a.string},u.defaultProps={hasBottomBorder:!0,openInNewTab:!1,funnelTrackingContext:{},clickTrackingPageName:"",perfTrackingPageName:""},c=p,babelHelpers.applyDecoratedDescriptor(c.prototype,"markCourseAsSeen",[b.a],Object.getOwnPropertyDescriptor(c.prototype,"markCourseAsSeen"),c.prototype),l=c))||l)||l},"./src/udemy/js/base-components/nav-collapse.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return k});var o,n,s,i,a,l=r("./node_modules/autobind-decorator/lib/index.js"),c=r.n(l),u=r("./node_modules/classnames/index.js"),p=r.n(u),d=r("./node_modules/lodash-es/noop.js"),h=r("./node_modules/mobx/lib/mobx.js"),m=r("./node_modules/mobx-react/index.module.js"),b=r("./node_modules/prop-types/index.js"),y=r.n(b),f=r("./node_modules/react/index.js"),g=r.n(f),v=r("./src/udemy/js/base-components/button.react-component.js"),w=r("./src/udemy/js/base-components/icon.react-component.js"),k=Object(m.d)((a=i=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"_isToggleChecked",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"onChange",value:function(e){this._isToggleChecked=!this._isToggleChecked,this.props.onChange(e)}},{key:"render",value:function(){var e=p()("nav-collapse",this.props.className,{"fx-jsb":this.showTitle});return g.a.createElement("div",{className:e},g.a.createElement("input",{type:"checkbox",id:this.props.inputId,checked:this.isToggleChecked,onChange:this.onChange,className:"nav-collapse__toggle"}),g.a.createElement(v.default,{bsStyle:"tertiary",componentClass:"label",className:"nav-collapse__toggle-btn",htmlFor:this.props.inputId},g.a.createElement(w.a,{glyph:"reorder"})),this.showTitle&&g.a.createElement("span",{className:"nav-collapse__title"},this.props.title),this.props.children)}},{key:"isToggleChecked",get:function(){return void 0===this.props.isCollapsed?this._isToggleChecked:!this.props.isCollapsed}},{key:"showTitle",get:function(){return this.props.title&&!this.isToggleChecked}}]),i}(f.Component),i.propTypes={inputId:y.a.string.isRequired,className:y.a.string,isCollapsed:y.a.bool,onChange:y.a.func,title:y.a.string},i.defaultProps={className:void 0,isCollapsed:void 0,onChange:d.a,title:void 0},n=a,s=babelHelpers.applyDecoratedDescriptor(n.prototype,"_isToggleChecked",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"onChange",[c.a,h.action],Object.getOwnPropertyDescriptor(n.prototype,"onChange"),n.prototype),o=n))||o},"./src/udemy/js/base-components/nav-dropdown.global.less":function(e,t,r){},"./src/udemy/js/base-components/nav-dropdown.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return p});var o=r("./node_modules/classnames/index.js"),s=r.n(o),n=r("./node_modules/prop-types/index.js"),i=r.n(n),a=r("./node_modules/react/index.js"),l=r.n(a),c=r("./node_modules/react-bootstrap/lib/NavDropdown.js"),u=r.n(c),p=(r("./src/udemy/js/base-components/nav-dropdown.global.less"),function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.checked,r=e.className,o=e.withAlert,n=babelHelpers.objectWithoutProperties(e,["checked","className","withAlert"]),i=s()({checked:t,"with-alert":o},r);return l.a.createElement(u.a,Object.assign({className:i},n))}}]),t}(a.Component));p.propTypes=babelHelpers.objectSpread({},u.a.propTypes,{checked:i.a.bool,withAlert:i.a.bool}),p.defaultProps=babelHelpers.objectSpread({},u.a.defaultProps,{checked:!1,withAlert:!1})},"./src/udemy/js/base-components/open-full-size-image.less":function(e,t,r){e.exports={"open-full-size-image-wrapper":"open-full-size-image--open-full-size-image-wrapper--uus7o","open-full-size-image":"open-full-size-image--open-full-size-image--3-bi_","open-full-size-image-backdrop":"open-full-size-image--open-full-size-image-backdrop--dB0c3","modal--full-size-image":"open-full-size-image--modal--full-size-image--3RRcV"}},"./src/udemy/js/base-components/open-full-size-image.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return k});var o,n,s,i,a,l=r("./node_modules/autobind-decorator/lib/index.js"),c=r.n(l),u=r("./node_modules/mobx/lib/mobx.js"),p=r("./node_modules/mobx-react/index.module.js"),d=r("./node_modules/prop-types/index.js"),h=r.n(d),m=r("./node_modules/react/index.js"),b=r.n(m),y=r("./src/udemy/js/base-components/button.react-component.js"),f=r("./src/udemy/js/base-components/icon.react-component.js"),g=r("./src/udemy/js/base-components/image.react-component.js"),v=r("./src/udemy/js/base-components/modal.react-component.js"),w=r("./src/udemy/js/base-components/safe-anchor.react-component.js"),k=(r("./src/udemy/js/base-components/open-full-size-image.less"),Object(p.d)((a=i=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isModalOpen",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"openModal",value:function(e){e.preventDefault(),this.isModalOpen=!0}},{key:"closeModal",value:function(){this.isModalOpen=!1}},{key:"render",value:function(){var e=this.props,t=e.alt,r=e.src,o=e.href,n=b.a.createElement(g.a,{src:r,alt:t,lazy:!1,height:"unset",width:"unset"});return b.a.createElement("div",{className:"open-full-size-image--open-full-size-image-wrapper--uus7o"},b.a.createElement(w.default,{"data-purpose":"open-full-size-image",onClick:this.openModal},b.a.createElement("span",{className:"sr-only"},gettext("Larger image")),b.a.createElement("div",{className:"pos-r"},n,b.a.createElement("div",{className:"fx-c pos-a open-full-size-image--open-full-size-image-backdrop--dB0c3"},b.a.createElement(f.a,{glyph:"zoom-in",className:"open-full-size-image--open-full-size-image--3-bi_"})))),b.a.createElement(v.a,{show:this.isModalOpen,onHide:this.closeModal,className:"open-full-size-image--modal--full-size-image--3RRcV"},b.a.createElement(v.a.Body,null,o?b.a.createElement("a",{href:o,rel:"nofollow noopener noreferrer",target:"_blank"},n):n,b.a.createElement(y.default,{bsStyle:"link",className:"close","data-purpose":"close-popup","aria-label":"Close",onClick:this.closeModal},b.a.createElement("span",{"aria-hidden":"true"},"×")))))}}]),i}(m.Component),i.propTypes={alt:h.a.string,src:h.a.string.isRequired,href:h.a.string},i.defaultProps={alt:"",href:null},n=a,s=babelHelpers.applyDecoratedDescriptor(n.prototype,"isModalOpen",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"openModal",[c.a,u.action],Object.getOwnPropertyDescriptor(n.prototype,"openModal"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"closeModal",[c.a,u.action],Object.getOwnPropertyDescriptor(n.prototype,"closeModal"),n.prototype),o=n))||o)},"./src/udemy/js/base-components/pagination-dots/dots.less":function(e,t,r){e.exports={pagination:"dots--pagination--3k-BA",active:"dots--active--3_SYC"}},"./src/udemy/js/base-components/pagination-dots/pagination-dots.react-component.js":function(e,t,r){"use strict";var o,n,i,s,a,l,c,u,p,d,h,m=r("./node_modules/mobx-react/index.module.js"),b=r("./node_modules/react/index.js"),y=r.n(b),f=r("./src/udemy/js/base-components/pagination.react-component.js"),g=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),v=r.n(g),w=r("./node_modules/classnames/index.js"),k=r.n(w),C=r("./node_modules/prop-types/index.js"),_=r.n(C),S=(r("./src/udemy/js/base-components/pagination-dots/dots.less"),{"./dots.less":{pagination:"dots--pagination--3k-BA",active:"dots--active--3_SYC"}}),j=Object(m.c)("paginationDotsStore")(o=Object(m.d)((i=n=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){for(var e=[],t=1;t<=this.props.paginationDotsStore.items;t++)e.push(y.a.createElement("li",{key:t,className:v()(k()({active:t===this.props.paginationDotsStore.activePage}),S)}));return y.a.createElement("ul",{className:"dots--pagination--3k-BA"},e)}}]),t}(y.a.Component),n.propTypes={paginationDotsStore:_.a.object.isRequired},o=i))||o)||o,E=r("./node_modules/autobind-decorator/lib/index.js"),D=r.n(E),x=r("./node_modules/lodash-es/noop.js"),O=r("./src/udemy/js/base-components/button.react-component.js"),T=Object(m.c)("paginationDotsStore")(s=Object(m.d)((c=l=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClick",value:function(e){if(!1!==this.props.onClick(e)){var t="next"===this.props.direction?1:-1;this.props.paginationDotsStore.onSelect(this.props.paginationDotsStore.activePage+t,e)}}},{key:"render",value:function(){var e=this.props,t=e.paginationDotsStore,r=e.bsStyle,o=(e.onClick,e.allowOutOfBoundsLink),n=e.hideIfDisabled,i=(e.children,babelHelpers.objectWithoutProperties(e,["paginationDotsStore","bsStyle","onClick","allowOutOfBoundsLink","hideIfDisabled","children"])),s={};s.bsStyle=void 0===r?"next"===this.props.direction?"secondary":"default":r;var a=!1;return("next"===this.props.direction?t.activePage<t.items:1<t.activePage)||o?s.onClick=this.onClick:(s.disabled=!0,a=n),Object.assign(s,i),y.a.createElement(O.default,Object.assign({},s,{className:k()({invisible:a})}),this.props.children)}}]),t}(y.a.Component),l.propTypes={paginationDotsStore:_.a.object.isRequired,direction:_.a.oneOf(["prev","next"]).isRequired,bsStyle:_.a.string,onClick:_.a.func,allowOutOfBoundsLink:_.a.bool,hideIfDisabled:_.a.bool},l.defaultProps={bsStyle:void 0,onClick:x.a,allowOutOfBoundsLink:!1,hideIfDisabled:!1},a=c,babelHelpers.applyDecoratedDescriptor(a.prototype,"onClick",[D.a],Object.getOwnPropertyDescriptor(a.prototype,"onClick"),a.prototype),s=a))||s)||s,P=r("./node_modules/mobx/lib/mobx.js"),H=(u=function(){function e(){babelHelpers.classCallCheck(this,e),babelHelpers.initializerDefineProperty(this,"items",p,this),babelHelpers.initializerDefineProperty(this,"activePage",d,this),babelHelpers.initializerDefineProperty(this,"onSelect",h,this)}return babelHelpers.createClass(e,[{key:"updateProps",value:function(e,t,r){this.items=e,this.activePage=t,this.onSelect=r}}]),e}(),p=babelHelpers.applyDecoratedDescriptor(u.prototype,"items",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=babelHelpers.applyDecoratedDescriptor(u.prototype,"activePage",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),h=babelHelpers.applyDecoratedDescriptor(u.prototype,"onSelect",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.a}}),babelHelpers.applyDecoratedDescriptor(u.prototype,"updateProps",[P.action],Object.getOwnPropertyDescriptor(u.prototype,"updateProps"),u.prototype),u);r.d(t,"a",function(){return A});var A=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).paginationDotsStore=new H,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){this.paginationDotsStore.updateProps(this.props.items,this.props.activePage,this.props.onSelect)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.paginationDotsStore.updateProps(e.items,e.activePage,e.onSelect)}},{key:"render",value:function(){return y.a.createElement(m.b,{paginationDotsStore:this.paginationDotsStore},y.a.createElement("div",{className:"pagination-dots"},this.props.children))}}]),r}(y.a.Component);A.propTypes=f.a.propTypes,A.defaultProps=f.a.defaultProps,A.Dots=j,A.NavButton=T},"./src/udemy/js/base-components/password-form-group.less":function(e,t,r){e.exports={eye:"password-form-group--eye--3me-q","password-form-group":"password-form-group--password-form-group--w2IqT","strength-indicators":"password-form-group--strength-indicators--3UjD-","strength-indicator__text":"password-form-group--strength-indicator__text--2PZb6","strength-box-1":"password-form-group--strength-box-1--3QIfA","strength-box-2":"password-form-group--strength-box-2--19YDY","strength-box-3":"password-form-group--strength-box-3--3zoC7","strength-box-4":"password-form-group--strength-box-4--1hDXm","strength-box--ok":"password-form-group--strength-box--ok--doW8n"}},"./src/udemy/js/base-components/password-form-group.react-component.js":function(e,t,o){"use strict";o.d(t,"a",function(){return T});var r,n,s,a,l,i,c,u=o("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),p=o.n(u),d=o("./node_modules/autobind-decorator/lib/index.js"),h=o.n(d),m=o("./node_modules/classnames/index.js"),b=o.n(m),y=o("./node_modules/mobx/lib/mobx.js"),f=o("./node_modules/mobx-react/index.module.js"),g=o("./node_modules/prop-types/index.js"),v=o.n(g),w=o("./node_modules/react/index.js"),k=o.n(w),C=o("./src/udemy/js/base-components/form/control-label.react-component.js"),_=o("./src/udemy/js/base-components/form/form-control.react-component.js"),S=o("./src/udemy/js/base-components/form/form-group.react-component.js"),j=o("./src/udemy/js/base-components/form/help-block.react-component.js"),E=o("./src/udemy/js/base-components/icon.react-component.js"),D=o("./src/udemy/js/utils/handle-import-error.js"),x=(o("./src/udemy/js/base-components/password-form-group.less"),{"./password-form-group.less":{eye:"password-form-group--eye--3me-q","password-form-group":"password-form-group--password-form-group--w2IqT","strength-indicators":"password-form-group--strength-indicators--3UjD-","strength-indicator__text":"password-form-group--strength-indicator__text--2PZb6","strength-box-1":"password-form-group--strength-box-1--3QIfA","strength-box-2":"password-form-group--strength-box-2--19YDY","strength-box-3":"password-form-group--strength-box-3--3zoC7","strength-box-4":"password-form-group--strength-box-4--1hDXm","strength-box--ok":"password-form-group--strength-box--ok--doW8n"}}),O={1:{text:gettext("Too weak")},2:{text:gettext("Could be stronger")},3:{text:gettext("Strong password")},4:{text:gettext("Very strong password")}},T=Object(f.d)((c=i=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"value",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"strength",a,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"type",l,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){this.setValue(this.props.value)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setValue(e.value)}},{key:"handleVisibleToggle",value:function(){this.type="password"===this.type?"text":"password"}},{key:"setValue",value:function(e){var r=this;return this.value=e,o.e("vendors~zxcvbn").then(o.t.bind(null,"./node_modules/zxcvbn/lib/main.js",7)).then(Object(y.action)(function(e){var t=e.default;r.strength=t(r.value).score})).catch(D.a)}},{key:"render",value:function(){var t=this,e=this.props,r=(e.bsClass,e.styles,e.controlId),o=e.controlLabel,n=e.helpText,i=e.hideVisibilityToggle,s=e.hideStrengthIndicator,a=e.hideFormControlFeedback,l=e.validationState,c=babelHelpers.objectWithoutProperties(e,["bsClass","styles","controlId","controlLabel","helpText","hideVisibilityToggle","hideStrengthIndicator","hideFormControlFeedback","validationState"]);return k.a.createElement(S.a,{bsStyle:"floating-label",controlId:r,className:"password-form-group--password-form-group--w2IqT",validationState:l},k.a.createElement(_.a,Object.assign({type:this.type},c)),!a&&k.a.createElement(_.a.Feedback,null),k.a.createElement(C.a,null,o),0<this.value.length&&!i&&k.a.createElement(E.a,{glyph:"password"===this.type?"eye":"eye-slash","data-purpose":"visibility-toggle",className:"ml5 password-form-group--eye--3me-q",onClick:this.handleVisibleToggle}),!s&&k.a.createElement("div",{className:"password-form-group--strength-indicators--3UjD-"},[1,2,3,4].map(function(e){return k.a.createElement("div",{key:e,className:p()(b()("strength-box-".concat(e),{"strength-box--ok":e<=t.strength}),x)})}),k.a.createElement("div",{className:"password-form-group--strength-indicator__text--2PZb6"},0<this.strength&&O[this.strength].text)),n&&k.a.createElement(j.a,null,n))}}]),i}(w.Component),i.propTypes=babelHelpers.objectSpread({controlLabel:v.a.node,helpText:v.a.node,hideVisibilityToggle:v.a.bool,hideStrengthIndicator:v.a.bool,hideFormControlFeedback:v.a.bool,onChange:v.a.func.isRequired,value:v.a.string.isRequired},S.a.propTypes),i.defaultProps=babelHelpers.objectSpread({},S.a.defaultProps,{controlLabel:"",helpText:"",hideVisibilityToggle:!1,hideStrengthIndicator:!1,hideFormControlFeedback:!0}),n=c,s=babelHelpers.applyDecoratedDescriptor(n.prototype,"value",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=babelHelpers.applyDecoratedDescriptor(n.prototype,"strength",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=babelHelpers.applyDecoratedDescriptor(n.prototype,"type",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"password"}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"handleVisibleToggle",[h.a,y.action],Object.getOwnPropertyDescriptor(n.prototype,"handleVisibleToggle"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"setValue",[y.action],Object.getOwnPropertyDescriptor(n.prototype,"setValue"),n.prototype),r=n))||r},"./src/udemy/js/base-components/person-card/index.js":function(e,t,r){"use strict";var o,c,n,i,s,a=r("./src/udemy/js/base-components/person-card/person-card.react-component.js"),l=r("./src/udemy/js/base-components/person-card/student-card.react-component.js"),u=r("./node_modules/mobx-react/index.module.js"),p=r("./node_modules/prop-types/index.js"),d=r.n(p),h=r("./node_modules/react/index.js"),m=r.n(h),b=r("./src/udemy/js/utils/ud-numeral.js"),y=r("./node_modules/autobind-decorator/lib/index.js"),f=r.n(y),g=r("./node_modules/mobx/lib/mobx.js"),v=(o=function(){function l(e){var t=e.id,r=e.url,o=e.title,n=e.image_75x75,i=e.course_labels,s=e.num_visible_taught_courses,a=e.total_num_students;babelHelpers.classCallCheck(this,l),babelHelpers.initializerDefineProperty(this,"alreadyMarkedAsSeen",c,this),Object(g.extendObservable)(this,{id:t,url:r,title:o,image_75x75:n,topics:i,courseCount:s,studentCount:a})}return babelHelpers.createClass(l,[{key:"markAsSeen",value:function(e,t,r,o){if(!this.alreadyMarkedAsSeen){var n={id:"instructor|".concat(this.id)};r.markAsSeen(n,{context:o.channelContextMap[e],context2:"featured",subcontext:t.title,subcontext2:t.id}),this.alreadyMarkedAsSeen=!0}}}]),l}(),c=babelHelpers.applyDecoratedDescriptor(o.prototype,"alreadyMarkedAsSeen",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(o.prototype,"markAsSeen",[f.a,g.action],Object.getOwnPropertyDescriptor(o.prototype,"markAsSeen"),o.prototype),o),w=(r("./src/udemy/js/base-components/person-card/instructor-card.less"),function(e){var t=e.topics;return m.a.createElement("div",{className:"instructor-card--instructor-card__topics--3TlAY"},m.a.createElement("span",{"data-purpose":"instructor-card-topics"},t.join(", ")))});w.propTypes={topics:u.a.observableArrayOf(d.a.string).isRequired};var k=function(e){var t=e.courseCount,r=e.studentCount,o=ninterpolate("<span>%s</span> student"," <span>%s</span> students",Object(b.a)(r).format()),n=ninterpolate("%s course","%s courses",Object(b.a)(t).format());return m.a.createElement("div",null,m.a.createElement("div",{"data-purpose":"instructor-student-count"},m.a.createElement("span",{className:"instructor-card--instructor-card__student-count--2SDDb",dangerouslySetInnerHTML:{__html:o}})),m.a.createElement("span",{"data-purpose":"instructor-course-count"},n))};k.propTypes={courseCount:d.a.number.isRequired,studentCount:d.a.number.isRequired};var C=Object(u.d)((s=i=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.instructor;return m.a.createElement(a.a,{user:e},m.a.createElement("div",{className:"instructor-card--instructor-card__info--x4dGw"},e.topics&&m.a.createElement(w,{topics:e.topics}),m.a.createElement("div",{className:"instructor-card--instructor-card__counts--2QbBT"},m.a.createElement(k,{courseCount:e.courseCount,studentCount:e.studentCount}))))}}]),t}(h.Component),i.propTypes={instructor:d.a.instanceOf(v).isRequired},n=s))||n;r.d(t,"c",function(){return a.a}),r.d(t,"d",function(){return l.b}),r.d(t,"a",function(){return C}),r.d(t,"b",function(){return v})},"./src/udemy/js/base-components/person-card/instructor-card.less":function(e,t,r){e.exports={"instructor-card__info":"instructor-card--instructor-card__info--x4dGw","instructor-card__counts":"instructor-card--instructor-card__counts--2QbBT","instructor-card__topics":"instructor-card--instructor-card__topics--3TlAY","instructor-card__student-count":"instructor-card--instructor-card__student-count--2SDDb"}},"./src/udemy/js/base-components/person-card/person-card.less":function(e,t,r){e.exports={"person-card":"person-card--person-card--39UrP","person-image":"person-card--person-image--3yK5B","person-card__details":"person-card--person-card__details--2VkxX","person-card__title":"person-card--person-card__title--3rFfS"}},"./src/udemy/js/base-components/person-card/person-card.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return b});var o,n,i,s=r("./node_modules/mobx-react/index.module.js"),a=r("./node_modules/prop-types/index.js"),l=r.n(a),c=r("./node_modules/react/index.js"),u=r.n(c),p=r("./node_modules/react-truncate/lib/Truncate.js"),d=r("./src/udemy/js/base-components/truncate-with-tooltip.react-component.js"),h=r("./src/udemy/js/base-components/user-image.react-component.js"),m=r("./src/udemy/js/utils/mobile.js"),b=(r("./src/udemy/js/base-components/person-card/person-card.less"),Object(s.d)((i=n=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e,t,r=this.props,o=r.alt,n=r.user;return t=m.c?(e=p.a,2):(e=d.a,1),u.a.createElement("div",{className:"person-card--person-card--39UrP"},u.a.createElement("a",{href:n.url,className:"clearfix"},u.a.createElement(h.b,{user:n,alt:o,size:75,src:n.image_75x75,className:"person-card--person-image--3yK5B"}),u.a.createElement("div",{className:"person-card--person-card__details--2VkxX"},u.a.createElement("span",{className:"person-card--person-card__title--3rFfS","data-purpose":"person-title"},u.a.createElement(e,{lines:t},n.title)),this.props.children)))}}]),t}(c.Component),n.propTypes={alt:l.a.string,user:l.a.shape({title:l.a.string.isRequired,url:l.a.string.isRequired,image_75x75:l.a.string.isRequired,display_name:l.a.string,initials:l.a.string}).isRequired},n.defaultProps={alt:""},o=i))||o)},"./src/udemy/js/base-components/person-card/student-card.less":function(e,t,r){e.exports={tooltip:"student-card--tooltip--fkX6x","tooltip-icon":"student-card--tooltip-icon--22ArW","enrollment-date":"student-card--enrollment-date--24RDo"}},"./src/udemy/js/base-components/person-card/student-card.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return m}),r.d(t,"b",function(){return b});var o,n,i,s=r("./node_modules/mobx-react/index.module.js"),a=r("./node_modules/prop-types/index.js"),l=r.n(a),c=r("./node_modules/react/index.js"),u=r.n(c),p=r("./src/udemy/js/base-components/icon.react-component.js"),d=r("./src/udemy/js/utils/ud-moment.js"),h=r("./src/udemy/js/base-components/person-card/person-card.react-component.js"),m=(r("./src/udemy/js/base-components/person-card/student-card.less"),["enrollment_date","country","course","title","url","image_75x75","initials"]),b=Object(s.d)((i=n=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.student;return u.a.createElement(h.a,{user:e},u.a.createElement("div",{className:"text-midnight-light"},u.a.createElement("div",{className:"mt10 ellipsis","data-purpose":"country"},u.a.createElement(p.a,{glyph:"map-marker",className:"mr5"}),e.country&&e.country.title?gettext(e.country.title):gettext("Unknown")),e.course&&u.a.createElement("div",{className:"ellipsis","data-purpose":"courses"},u.a.createElement(p.a,{glyph:"play-circle",className:"mr5"}),e.course.title),u.a.createElement("div",{className:"student-card--enrollment-date--24RDo","data-purpose":"enrollment"},u.a.createElement(p.a,{glyph:"activity",className:"mr5 text-primary"}),interpolate(gettext("Enrolled %s"),[Object(d.b)(e.enrollment_date).format("l")]))))}}]),t}(c.Component),n.propTypes={student:l.a.shape({enrollment_date:l.a.instanceOf(Date).isRequired,country:l.a.shape({title:l.a.string.isRequired}),course:l.a.shape({title:l.a.string.isRequired}),title:l.a.string.isRequired,url:l.a.string.isRequired,image_75x75:l.a.string.isRequired,display_name:l.a.string,initials:l.a.string}).isRequired},o=i))||o},"./src/udemy/js/base-components/resizer.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return y});var o,n,i,s=r("./node_modules/autobind-decorator/lib/index.js"),a=r.n(s),l=r("./node_modules/lodash-es/noop.js"),c=r("./node_modules/prop-types/index.js"),u=r.n(c),p=r("./node_modules/react/index.js"),d=r.n(p),h=r("./src/udemy/js/utils/mobile.js"),m=Element&&Element.prototype||{},b=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),void 0)},y=(i=n=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).x=0,t.y=0,t.width=0,t.height=0,t.edges={onTop:!1,onLeft:!1,onRight:!1,onBottom:!1},t.isResizing=!1,t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd)}},{key:"isEdgeEnabled",value:function(e,t){var r=this.props.edges[e];return"string"==typeof r?b.call(t,r):r}},{key:"calculateDimensions",value:function(e){var t=this.ref.getBoundingClientRect();this.x=e.clientX-t.left,this.y=e.clientY-t.top,this.width=t.width,this.height=t.height}},{key:"setResizeCursor",value:function(){this.originalCursor=document.body.style.cursor,this.edges.onTop&&this.edges.onLeft?document.body.style.cursor="nwse-resize":this.edges.onTop&&this.edges.onRight?document.body.style.cursor="nesw-resize":this.edges.onTop?document.body.style.cursor="ns-resize":this.edges.onLeft&&this.edges.onBottom?document.body.style.cursor="nesw-resize":this.edges.onLeft?document.body.style.cursor="ew-resize":this.edges.onBottom&&this.edges.onRight?document.body.style.cursor="nwse-resize":this.edges.onBottom?document.body.style.cursor="ns-resize":this.edges.onRight&&(document.body.style.cursor="ew-resize")}},{key:"setOriginalCursor",value:function(){document.body.style.cursor=this.originalCursor||""}},{key:"onDown",value:function(e){this.calculateDimensions(e);var t=this.props.dragMargin;this.edges={onTop:this.isEdgeEnabled("top",e.target)&&this.y<t,onLeft:this.isEdgeEnabled("left",e.target)&&this.x<t,onRight:this.isEdgeEnabled("right",e.target)&&this.x>=this.width-t,onBottom:this.isEdgeEnabled("bottom",e.target)&&this.y>=this.height-t},this.setResizeCursor(),this.isResizing=this.edges.onTop||this.edges.onLeft||this.edges.onRight||this.edges.onBottom,this.isResizing&&this.props.onStart(e,this.resizeData)}},{key:"onMouseDown",value:function(e){e.preventDefault(),this.onDown(e)}},{key:"onTouchStart",value:function(e){e.preventDefault(),this.onDown(e.touches[0])}},{key:"onMove",value:function(e){this.isResizing&&(this.calculateDimensions(e),this.props.onMove(e,this.resizeData))}},{key:"onMouseMove",value:function(e){this.onMove(e)}},{key:"onTouchMove",value:function(e){this.onMove(e.touches[0])}},{key:"onUp",value:function(e){this.isResizing&&this.props.onEnd(e,this.resizeData),this.setOriginalCursor(),this.isResizing=!1}},{key:"onMouseUp",value:function(e){this.onUp(e)}},{key:"onTouchEnd",value:function(e){0===e.touches.length&&this.onUp(e.changedTouches[0])}},{key:"setRef",value:function(e){this.ref=e}},{key:"render",value:function(){var e=this.props,t=(e.edges,e.onStart,e.onMove,e.onEnd,e.dragMargin,babelHelpers.objectWithoutProperties(e,["edges","onStart","onMove","onEnd","dragMargin"]));return d.a.createElement("div",Object.assign({},t,{ref:this.setRef,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart}))}},{key:"resizeData",get:function(){var e=this.width,t=this.height;return this.edges.onTop?t=this.height-this.y:this.edges.onBottom&&(t=this.y),this.edges.onLeft?e=this.width-this.x:this.edges.onRight&&(e=this.x),{width:e,height:t,edges:this.edges,container:this.ref}}}]),i}(p.Component),n.propTypes={edges:u.a.shape({top:u.a.oneOfType([u.a.string,u.a.bool]),left:u.a.oneOfType([u.a.string,u.a.bool]),right:u.a.oneOfType([u.a.string,u.a.bool]),bottom:u.a.oneOfType([u.a.string,u.a.bool])}),onStart:u.a.func,onMove:u.a.func.isRequired,onEnd:u.a.func,dragMargin:u.a.number},n.defaultProps={edges:{top:!0,left:!0,right:!0,bottom:!0},onStart:l.a,onEnd:l.a,dragMargin:h.c?30:5},o=i,babelHelpers.applyDecoratedDescriptor(o.prototype,"onMouseDown",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"onMouseDown"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onTouchStart",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"onTouchStart"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onMouseMove",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"onMouseMove"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onTouchMove",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"onTouchMove"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onMouseUp",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"onMouseUp"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onTouchEnd",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"onTouchEnd"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"setRef",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"setRef"),o.prototype),o)},"./src/udemy/js/base-components/review-star-input.less":function(e,t,r){e.exports={"review-star":"review-star-input--review-star--1tfgA","review-star--filled":"review-star-input--review-star--filled--VK-bI","review-star--left":"review-star-input--review-star--left--3Symo","review-star--right":"review-star-input--review-star--right--1VhZD"}},"./src/udemy/js/base-components/review-stars-input.less":function(e,t,r){e.exports={"review-stars":"review-stars-input--review-stars--367x-","review-stars--align-center":"review-stars-input--review-stars--align-center--2ZzC8","review-stars--small":"review-stars-input--review-stars--small--2-ztm","review-stars--medium":"review-stars-input--review-stars--medium--K1MgR","review-stars--large":"review-stars-input--review-stars--large--uNfCd","review-stars--xlarge":"review-stars-input--review-stars--xlarge--1nk4-","review-stars--enabled":"review-stars-input--review-stars--enabled--2xQWV","rating-slider":"review-stars-input--rating-slider--10RUT"}},"./src/udemy/js/base-components/review-stars-input.react-component.js":function(e,t,r){"use strict";var o,n,i,s,a,l,c,u,p=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),d=r.n(p),h=r("./node_modules/autobind-decorator/lib/index.js"),m=r.n(h),b=r("./node_modules/classnames/index.js"),y=r.n(b),f=r("./node_modules/lodash-es/noop.js"),g=r("./node_modules/lodash-es/range.js"),v=r("./node_modules/mobx/lib/mobx.js"),w=r("./node_modules/mobx-react/index.module.js"),k=r("./node_modules/prop-types/index.js"),C=r.n(k),_=r("./node_modules/react/index.js"),S=r.n(_),j=r("./src/udemy/js/utils/mobile.js"),E=r("./src/udemy/js/base-components/input-range.react-component.js"),D=(r("./src/udemy/js/base-components/review-star-input.less"),{"./review-star-input.less":{"review-star":"review-star-input--review-star--1tfgA",icomoon:"review-star-input--icomoon--rdRbv","review-star--filled":"review-star-input--review-star--filled--VK-bI","review-star--left":"review-star-input--review-star--left--3Symo","review-star--right":"review-star-input--review-star--right--1VhZD"}}),x=(i=n=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onHover",value:function(){this.props.onHover(this.props.rating)}},{key:"onTouchStart",value:function(e){e.stopPropagation(),this.props.onChoose(this.props.rating)}},{key:"onChoose",value:function(e){e.target.checked&&this.props.onChoose(this.props.rating)}},{key:"render",value:function(){var e=this.props.rating%1!=0,t=y()({"review-star--left":e,"review-star--right":!e,"review-star--filled":this.props.filled});return S.a.createElement("label",{htmlFor:this.props.labelFor,onMouseEnter:this.onHover,onTouchStart:this.onTouchStart,"data-purpose":"review-star-input-".concat(this.props.rating,"-label"),className:d()(t,D)},S.a.createElement("input",{type:"radio",className:"sr-only",name:this.props.name,id:this.props.inputId,value:this.props.rating,checked:this.props.chosen,"aria-label":this.props.rating,onClick:this.onChoose,onChange:f.a,disabled:this.props.disabled,"data-purpose":"review-star-".concat(this.props.rating,"-input")}))}}]),t}(_.Component),n.propTypes={disabled:C.a.bool.isRequired,onHover:C.a.func.isRequired,onChoose:C.a.func.isRequired,rating:C.a.number.isRequired,filled:C.a.bool.isRequired,chosen:C.a.bool.isRequired,name:C.a.string.isRequired,labelFor:C.a.string.isRequired,inputId:C.a.string.isRequired},o=i,babelHelpers.applyDecoratedDescriptor(o.prototype,"onHover",[m.a],Object.getOwnPropertyDescriptor(o.prototype,"onHover"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onTouchStart",[m.a],Object.getOwnPropertyDescriptor(o.prototype,"onTouchStart"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onChoose",[m.a],Object.getOwnPropertyDescriptor(o.prototype,"onChoose"),o.prototype),o);r("./src/udemy/js/base-components/review-stars-input.less");r.d(t,"a",function(){return I});var O={"./review-stars-input.less":{"review-stars--star-spacing":"review-stars-input--review-stars--star-spacing--1-G4U","review-stars":"review-stars-input--review-stars--367x-","review-stars--align-center":"review-stars-input--review-stars--align-center--2ZzC8","review-stars--small":"review-stars-input--review-stars--small--2-ztm","review-stars--medium":"review-stars-input--review-stars--medium--K1MgR","review-stars--large":"review-stars-input--review-stars--large--uNfCd","review-stars--xlarge":"review-stars-input--review-stars--xlarge--1nk4-","review-stars--enabled":"review-stars-input--review-stars--enabled--2xQWV","rating-slider":"review-stars-input--rating-slider--10RUT"}},T=0,P={align:C.a.oneOf(["left","center"])},H={align:"center"},A=function(e){var t=e.rating,r=e.align,o={1:gettext("Awful, not what I expected at all"),1.5:gettext("Awful / Poor"),2:gettext("Poor, pretty disappointed"),2.5:gettext("Poor / Average"),3:gettext("Average, could be better"),3.5:gettext("Average / Good"),4:gettext("Good, what I expected"),4.5:gettext("Good / Amazing"),5:gettext("Amazing, above expectations!")};return S.a.createElement("h4",{className:"text-".concat(r)},o[t]||gettext("Select Rating"))};A.propTypes=babelHelpers.objectSpread({rating:C.a.number},P),A.defaultProps=babelHelpers.objectSpread({rating:void 0},H);var I=Object(w.d)((u=c=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"hoverRating",l,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.name="review-stars-react-".concat(T++),t.inputIdBase="review-stars-react-".concat(T++,"-input-"),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"onMouseLeave",value:function(){this.setHoverRating(0),this.props.onHover(0)}},{key:"onHover",value:function(e){.5===e&&(e=1),this.setHoverRating(e),this.props.onHover(e)}},{key:"setHoverRating",value:function(e){this.hoverRating=e}},{key:"onSliderInput",value:function(e){this.onHover(parseFloat(e.target.value))}},{key:"onSliderChange",value:function(e){this.props.onChoose(parseFloat(e.target.value))}},{key:"render",value:function(){var t=this,r=null===this.props.hoverRating||void 0===this.props.hoverRating?this.hoverRating:this.props.hoverRating,e=this.props.showSlider&&!this.props.disabled,o=e?"medium":this.props.size,n=this.props.disabled||this.props.showSlider,i=this.props.align,s=y()("review-stars","review-stars--".concat(o),{"review-stars--enabled":!n,"review-stars--align-center":"center"===i}),a=function(e){return t.inputIdBase+e};return S.a.createElement("div",null,this.props.showGuidanceText&&S.a.createElement(A,{rating:this.guidedRating,align:i}),S.a.createElement("div",{onMouseLeave:this.onMouseLeave,"data-purpose":"review-stars-container",className:d()(s,O)},Object(g.a)(.5,5.5,.5).map(function(e){return S.a.createElement(x,{rating:e,key:e,filled:(r||t.props.rating)>=e,chosen:t.props.rating===e,onHover:n?f.a:t.onHover,onChoose:n?f.a:t.props.onChoose,disabled:n||.5===e,labelFor:a(.5===e?1:e),inputId:a(e),name:t.name})})),e&&S.a.createElement("div",{className:"review-stars-input--rating-slider--10RUT"},S.a.createElement(E.a,{min:1,max:5,step:.5,value:this.props.rating,onChange:this.onSliderChange,onInput:this.onSliderInput})))}},{key:"guidedRating",get:function(){return this.hoverRating?this.hoverRating:this.props.rating}}]),r}(_.Component),c.propTypes=babelHelpers.objectSpread({disabled:C.a.bool,hoverRating:C.a.number,onHover:C.a.func,onChoose:C.a.func,rating:C.a.number,showGuidanceText:C.a.bool},P,{size:C.a.oneOf(["small","medium","large","xlarge"]),showSlider:C.a.bool}),c.defaultProps=babelHelpers.objectSpread({disabled:!1,hoverRating:null,onHover:f.a,onChoose:f.a,rating:null,showGuidanceText:!1},H,{size:"small",showSlider:j.c}),a=u,l=babelHelpers.applyDecoratedDescriptor(a.prototype,"hoverRating",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),babelHelpers.applyDecoratedDescriptor(a.prototype,"guidedRating",[v.computed],Object.getOwnPropertyDescriptor(a.prototype,"guidedRating"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"onMouseLeave",[m.a],Object.getOwnPropertyDescriptor(a.prototype,"onMouseLeave"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"onHover",[m.a],Object.getOwnPropertyDescriptor(a.prototype,"onHover"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"setHoverRating",[v.action],Object.getOwnPropertyDescriptor(a.prototype,"setHoverRating"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"onSliderInput",[m.a],Object.getOwnPropertyDescriptor(a.prototype,"onSliderInput"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"onSliderChange",[m.a],Object.getOwnPropertyDescriptor(a.prototype,"onSliderChange"),a.prototype),s=a))||s},"./src/udemy/js/base-components/rich-text-editor/constants.js":function(e,t,r){"use strict";var o;r.d(t,"n",function(){return n}),r.d(t,"m",function(){return i}),r.d(t,"b",function(){return a}),r.d(t,"a",function(){return l}),r.d(t,"f",function(){return c}),r.d(t,"g",function(){return u}),r.d(t,"l",function(){return d}),r.d(t,"k",function(){return h}),r.d(t,"d",function(){return m}),r.d(t,"c",function(){return b}),r.d(t,"e",function(){return y}),r.d(t,"j",function(){return f}),r.d(t,"i",function(){return g}),r.d(t,"h",function(){return v});var n={ANNOUNCEMENT:"ANNOUNCEMENT",ARTICLE_LECTURE:"ARTICLE_LECTURE",ASSIGNMENT:"ASSIGNMENT",ASSIGNMENT_QUESTION:"ASSIGNMENT_QUESTION",CODING_EXERCISE_INSTRUCTIONS:"CODING_EXERCISE_INSTRUCTIONS",COURSE_DESCRIPTION:"COURSE_DESCRIPTION",LECTURE_DESCRIPTION:"LECTURE_DESCRIPTION",MESSAGE:"MESSAGE",Q_AND_A:"Q_AND_A",Q_AND_A_EDIT:"Q_AND_A_EDIT",QUIZ_ANSWER:"QUIZ_ANSWER",QUIZ_DESCRIPTION:"QUIZ_DESCRIPTION",QUIZ_QUESTION:"QUIZ_QUESTION",SIMPLE:"SIMPLE",TEST_VIDEO:"TEST_VIDEO",USER_DESCRIPTION:"USER_DESCRIPTION"},i=new Set(["UNDO","REDO"]),s=new Set(["UNDO","REDO","UNDO_FORMAT","ADD_HARD_BREAK","ADD_NON_BREAKING_SPACE","TOGGLE_STRONG","TOGGLE_EM"]),a=new Set(["SET_PARAGRAPH","TOGGLE_BLOCKQUOTE","TOGGLE_HEADING","EXIT_FIRST_BLOCK","EXIT_LAST_BLOCK"]),l=new Set(["PROMPT_ANCHOR","ADD_ANCHOR","UNDO_ANCHOR"]),c=new Set(["PROMPT_IMAGE_UPLOAD","PROMPT_IMAGE_EDIT","ADD_IMAGE","EDIT_IMAGE","CLICK_IMAGE","RESIZE_IMAGE","DELETE_FIGURE","DELETE_IMAGE","EXIT_FIGURE","ARROW_UP_NEAR_IMAGE","ARROW_LEFT_NEAR_IMAGE","ARROW_DOWN_NEAR_IMAGE","ARROW_RIGHT_NEAR_IMAGE"]),u=new Set(["WRAP_ORDERED_LIST","TOGGLE_ORDERED_LIST","WRAP_BULLET_LIST","TOGGLE_BULLET_LIST","LIFT_LIST_ITEM","SINK_LIST_ITEM","SPLIT_LIST_ITEM"]),p=new Set(["TOGGLE_CODE","EXIT_FIRST_BLOCK","EXIT_LAST_BLOCK","CONVERT_TAB_TO_SPACES"]),d=new Set(["PROMPT_ANCHOR","PROMPT_IMAGE_UPLOAD","TOGGLE_HTML_MODE"]),h=new Set(["PROMPT_ANCHOR","PROMPT_IMAGE_EDIT"]),m=(o={},babelHelpers.defineProperty(o,n.ANNOUNCEMENT,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(l),babelHelpers.toConsumableArray(c),babelHelpers.toConsumableArray(u)))),babelHelpers.defineProperty(o,n.ARTICLE_LECTURE,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(l),babelHelpers.toConsumableArray(a),babelHelpers.toConsumableArray(p),babelHelpers.toConsumableArray(c),babelHelpers.toConsumableArray(u),["TOGGLE_HTML_MODE"]))),babelHelpers.defineProperty(o,n.ASSIGNMENT,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(l),babelHelpers.toConsumableArray(a),babelHelpers.toConsumableArray(p),babelHelpers.toConsumableArray(c),babelHelpers.toConsumableArray(u),["TOGGLE_HTML_MODE"]))),babelHelpers.defineProperty(o,n.ASSIGNMENT_QUESTION,s),babelHelpers.defineProperty(o,n.CODING_EXERCISE_INSTRUCTIONS,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(l),babelHelpers.toConsumableArray(p),babelHelpers.toConsumableArray(c),babelHelpers.toConsumableArray(u)))),babelHelpers.defineProperty(o,n.COURSE_DESCRIPTION,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(u)))),babelHelpers.defineProperty(o,n.LECTURE_DESCRIPTION,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(u)))),babelHelpers.defineProperty(o,n.MESSAGE,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(p),babelHelpers.toConsumableArray(c)))),babelHelpers.defineProperty(o,n.Q_AND_A,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(l),babelHelpers.toConsumableArray(p),babelHelpers.toConsumableArray(c)))),babelHelpers.defineProperty(o,n.Q_AND_A_EDIT,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(l),babelHelpers.toConsumableArray(p),babelHelpers.toConsumableArray(c),["TOGGLE_HTML_MODE"]))),babelHelpers.defineProperty(o,n.QUIZ_ANSWER,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(p)))),babelHelpers.defineProperty(o,n.QUIZ_DESCRIPTION,s),babelHelpers.defineProperty(o,n.QUIZ_QUESTION,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(p),babelHelpers.toConsumableArray(c)))),babelHelpers.defineProperty(o,n.SIMPLE,s),babelHelpers.defineProperty(o,n.TEST_VIDEO,new Set(babelHelpers.toConsumableArray(s).concat(babelHelpers.toConsumableArray(l),babelHelpers.toConsumableArray(c),babelHelpers.toConsumableArray(u)))),babelHelpers.defineProperty(o,n.USER_DESCRIPTION,s),o),b=2,y=4,f=1048576,g=30,v=g*f},"./src/udemy/js/base-components/rich-text-editor/helpers.js":function(e,t,r){"use strict";r.d(t,"f",function(){return a}),r.d(t,"e",function(){return l}),r.d(t,"a",function(){return c}),r.d(t,"b",function(){return u}),r.d(t,"c",function(){return p}),r.d(t,"d",function(){return d}),r.d(t,"g",function(){return h});var o=r("./src/udemy/js/base-components/rich-text-editor/constants.js"),i=["http","https","ftp","ftps"],n={},s=null,a={_isBrowserFeatureAvailable:function(e){if(void 0===n[e])switch(e){case"UPLOAD_API":n[e]="upload"in XMLHttpRequest.prototype;break;case"DROP_EVENT":n[e]="ondrop"in c().createElement("div")&&"FileReader"in window;break;default:throw new Error("Unknown browser feature: ".concat(e))}return n[e]},getFeaturesForTheme:function(e){return o.d[e]}};function l(){return a._isBrowserFeatureAvailable.apply(a,arguments)}function c(){return s||(s=document.implementation.createHTMLDocument("title")),s}function u(e,t){if("string"==typeof t)return e.has(t);var r=!0,o=!1,n=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var a=i.value;if(!e.has(a))return!1}}catch(e){o=!0,n=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw n}}return!0}function p(e){if(!e)return"";var t=c().createElement("div");return t.innerHTML=e,t.textContent}function d(e,t){for(;e;){var r=(e.tagName||"").toLowerCase();if(e===t||"img"===r)return!1;if("a"===r)return!0;e=e.parentNode}return!1}function h(e,t,r,o){if(o&&!e)r.href=gettext("This field is required.");else if(e&&!e.startsWith("/")){if(e.match(/([\w-]{1,63}\.[a-zA-Z-]{2,63})/g)){var n=e.split("://")[0];n===e?t.href="http://".concat(e):i.includes(n.toLowerCase())||(r.href=gettext("Enter a valid URL."))}else r.href=gettext("Enter a valid URL.")}}},"./src/udemy/js/base-components/rich-text-editor/rich-text-editor.global.less":function(e,t,r){},"./src/udemy/js/base-components/rich-text-editor/rich-text-editor.react-component.js":function(e,t,o){"use strict";var r,n,i,s,a,l,c,u,p,d=o("./node_modules/autobind-decorator/lib/index.js"),h=o.n(d),m=o("./node_modules/lodash-es/noop.js"),b=o("./node_modules/mobx-react/index.module.js"),y=o("./node_modules/prop-types/index.js"),f=o.n(y),g=o("./node_modules/react/index.js"),v=o.n(g),w=o("./node_modules/react-overlays/lib/AutoAffix.js"),k=o.n(w),C=o("./src/udemy/js/base-components/form/form-control.react-component.js"),_=o("./src/udemy/js/base-components/loader.react-component.js"),S=o("./src/udemy/js/utils/mobile.js"),j=o("./src/udemy/js/base-components/button.react-component.js"),E=o("./src/udemy/js/base-components/form/control-label.react-component.js"),D=o("./src/udemy/js/base-components/form/form-group.react-component.js"),x=o("./src/udemy/js/base-components/form/form.react-component.js"),O=o("./src/udemy/js/base-components/form/help-block.react-component.js"),T=o("./src/udemy/js/base-components/modal.react-component.js"),P=o("./node_modules/mobx/lib/mobx.js"),H=o("./src/udemy/js/utils/handle-import-error.js"),A=o("./src/udemy/js/base-components/rich-text-editor/helpers.js"),I=(r=function(){function e(){babelHelpers.classCallCheck(this,e),this.reset()}return babelHelpers.createClass(e,[{key:"reset",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{data:{},isEditing:!1},t=babelHelpers.objectSpread({href:"",text:""},e.data);Object(P.extendObservable)(this,{initial:t,isEditing:e.isEditing,data:babelHelpers.objectSpread({},t),error:{}})}},{key:"isValid",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{commit:!0},t={},r={};Object(A.g)(this.data.href,t,r,!0),t.href&&!this.data.text?t.text=t.href:this.data.text?t.text=this.data.text:r.text=gettext("This field is required.");var o=0===Object.keys(r).length;return e.commit&&(this.error=r,o&&(this.data=babelHelpers.objectSpread({},this.data,t))),o}},{key:"hasFieldChanged",value:function(e){return this.data[e]!==this.initial[e]}},{key:"setIsEditing",value:function(e){this.isEditing=e}},{key:"setData",value:function(e,t){this.data[e]=t}}]),e}(),babelHelpers.applyDecoratedDescriptor(r.prototype,"reset",[P.action],Object.getOwnPropertyDescriptor(r.prototype,"reset"),r.prototype),babelHelpers.applyDecoratedDescriptor(r.prototype,"isValid",[P.action],Object.getOwnPropertyDescriptor(r.prototype,"isValid"),r.prototype),babelHelpers.applyDecoratedDescriptor(r.prototype,"setIsEditing",[P.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsEditing"),r.prototype),babelHelpers.applyDecoratedDescriptor(r.prototype,"setData",[P.action],Object.getOwnPropertyDescriptor(r.prototype,"setData"),r.prototype),r),R=o("./src/udemy/js/base-components/rich-text-editor/constants.js"),q=(n=function(){function e(){babelHelpers.classCallCheck(this,e),this.reset()}return babelHelpers.createClass(e,[{key:"reset",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{data:{}},t=babelHelpers.objectSpread({alt:"",caption:"",height:"",href:"",src:"",width:""},e.data);Object(P.extendObservable)(this,{initial:t,data:babelHelpers.objectSpread({},t),error:{}})}},{key:"isValid",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{commit:!0},t={},r={};Object(A.g)(this.data.href,t,r,!1);var o=0===Object.keys(r).length;return e.commit&&(this.error=r,o&&(this.data=babelHelpers.objectSpread({},this.data,t))),o}},{key:"hasFieldChanged",value:function(e){return this.data[e]!==this.initial[e]}},{key:"setData",value:function(e,t){this.data[e]=t}}]),e}(),babelHelpers.applyDecoratedDescriptor(n.prototype,"reset",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"reset"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"isValid",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"isValid"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"setData",[P.action],Object.getOwnPropertyDescriptor(n.prototype,"setData"),n.prototype),n),N=(i=function(){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.initializerDefineProperty(this,"isOverlayShown",s,this),this.getPos=e}return babelHelpers.createClass(t,[{key:"setIsOverlayShown",value:function(e){this.isOverlayShown=e}}]),t}(),s=babelHelpers.applyDecoratedDescriptor(i.prototype,"isOverlayShown",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(i.prototype,"setIsOverlayShown",[P.action],Object.getOwnPropertyDescriptor(i.prototype,"setIsOverlayShown"),i.prototype),i),z=o("./node_modules/axios/index.js"),M=o.n(z),L=o("./src/udemy/js/utils/ud-api.js"),F=o("./src/udemy/js/utils/ud-api-stat.js"),U=o("./src/udemy/js/utils/ud-raven.js"),B="rich_text_editor.upload.failed",V=(a=function(){function e(){babelHelpers.classCallCheck(this,e),babelHelpers.initializerDefineProperty(this,"files",l,this),babelHelpers.initializerDefineProperty(this,"error",c,this),babelHelpers.initializerDefineProperty(this,"isDragActive",u,this),this._cancelSource=null}return babelHelpers.createClass(e,[{key:"_addError",value:function(e,t){this.error=babelHelpers.objectSpread({},this.error,babelHelpers.defineProperty({},e,t))}},{key:"setIsDragActive",value:function(e){this.isDragActive=e}},{key:"uploadAndInsertImages",value:function(e,t){this._uploadToS3(e).then(function(){t("ADD_IMAGE",{focusBeforeCommand:!0})}).catch(function(e){U.a.captureException(e)})}},{key:"_uploadToS3",value:function(n){var i=this,e=n.map(function(e){return{name:e.name,loaded:0,size:e.size,type:e.type,url:""}});return this.error={},this.files=e,this._cancelSource=z.CancelToken.source(),Promise.all(this.files.map(function(r,o){return i._validateFile(r,o),i.error[o]?Promise.resolve():L.c.get("/s3-rich-text-upload-urls",{cancelToken:i._cancelSource.token,params:{name:r.name,type:r.type}}).then(function(e){var t=decodeURIComponent(e.data);return M.a.put(t,n[o],{cancelToken:i._cancelSource.token,headers:{"Content-Type":r.type,"x-amz-acl":"public-read"},onUploadProgress:Object(P.action)(function(e){r.loaded=e.loaded,r.size=e.total})}).then(Object(P.action)(function(){r.loaded=r.size,r.url=t.split("?")[0]}))}).catch(Object(P.action)(function(e){Object(z.isCancel)(e)||i._addError(o,"UPLOAD_FAILURE")}))}))}},{key:"_validateFile",value:function(e,t){var r=e.type.startsWith("image"),o=e.size;(!r||o>R.h)&&this._addError(t,"INVALID_IMAGE"),r?o>30*R.j&&o<=50*R.j?F.e.increment(B,{error:"size-30-50mbs"}):o>50*R.j&&o<=100*R.j?F.e.increment(B,{error:"size-50-100mbs"}):o>100*R.j&&F.e.increment(B,{error:"size->100mbs"}):F.e.increment(B,{error:"not-image"})}},{key:"resetFiles",value:function(){this.files=[],this._cancelSource&&this._cancelSource.cancel()}},{key:"resetError",value:function(){this.error={}}},{key:"hasError",get:function(){return 0<Object.keys(this.error).length}},{key:"errorMessage",get:function(){var e,t,r=Object.values(this.error);for(e=0;e<r.length;e++){if("UPLOAD_FAILURE"===(t=r[e]))return gettext("An error occurred uploading your file. Please try again later.");if("INVALID_IMAGE"===t)return interpolate(gettext("Images must be in .jpg, .png, or .gif format and smaller than %(fileSizeInMegaBytes)smb"),{fileSizeInMegaBytes:R.i},!0)}return""}},{key:"progressPercentage",get:function(){var t=0,r=0;return this.files.forEach(function(e){t+=e.loaded,r+=e.size}),0===r?null:Math.round(t/r*100)}}]),e}(),l=babelHelpers.applyDecoratedDescriptor(a.prototype,"files",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=babelHelpers.applyDecoratedDescriptor(a.prototype,"error",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=babelHelpers.applyDecoratedDescriptor(a.prototype,"isDragActive",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(a.prototype,"hasError",[P.computed],Object.getOwnPropertyDescriptor(a.prototype,"hasError"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"errorMessage",[P.computed],Object.getOwnPropertyDescriptor(a.prototype,"errorMessage"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"progressPercentage",[P.computed],Object.getOwnPropertyDescriptor(a.prototype,"progressPercentage"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"setIsDragActive",[P.action],Object.getOwnPropertyDescriptor(a.prototype,"setIsDragActive"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"_uploadToS3",[P.action],Object.getOwnPropertyDescriptor(a.prototype,"_uploadToS3"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"resetFiles",[h.a,P.action],Object.getOwnPropertyDescriptor(a.prototype,"resetFiles"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"resetError",[h.a,P.action],Object.getOwnPropertyDescriptor(a.prototype,"resetError"),a.prototype),a),$=null;var Q,W,G,Y,K,X,J,Z,ee,te,re,oe,ne,ie,se,ae=(p=function(){function r(e){var t=e.theme;babelHelpers.classCallCheck(this,r),Object(P.extendObservable)(this,{_activeImageEditorId:null,_imageEditors:P.observable.ref({}),activeFormats:{TOGGLE_STRONG:!1,TOGGLE_EM:!1},anchorForm:P.observable.ref(new I),commands:P.observable.ref({}),editorState:P.observable.ref(null),editorValue:"",features:P.observable.ref(A.f.getFeaturesForTheme(t)),_hasEditorFocusedAtLeastOnce:!1,htmlMode:{docChanged:!1,editorState:P.observable.ref(null),serializer:P.observable.ref(null),show:!1},imageEditForm:P.observable.ref(new q),imageUploader:P.observable.ref(new V),isAnchorTooltipShown:!1,isEditorLibLoaded:!!$,isEditorRendered:!1,isResizingImage:!1,activeModal:null,serializer:P.observable.ref(null),showPlaceholder:!0})}return babelHelpers.createClass(r,[{key:"_setEditorLib",value:function(e){return $=e,this.isEditorLibLoaded=!0,e}},{key:"loadEditorLib",value:function(){return Promise.all([o.e("vendors~ud-prosemirror"),o.e("ud-prosemirror")]).then(o.bind(null,"./src/udemy/js/ud-prosemirror/index.js")).then(this._setEditorLib).catch(H.a)}},{key:"initializeEditorState",value:function(e,t){var r=this.editorLib.buildSchema(this.features);this.commands=this.editorLib.buildCommands(this.features,r,this);var o=this.editorLib.buildPlugins(r,this.commands);this.serializer=new this.editorLib.helpers.RichTextSerializer(r,{preserveWhitespace:"full"});var n=this.serializer.toInternalValue(e),i=this.editorLib.EditorState.create({doc:n,schema:r,plugins:o});this.syncWithEditor(i,null,t)}},{key:"initializeHTMLModeEditorState",value:function(){var e=this.editorLib.buildSchema(R.m),t=this.editorLib.buildCommands(R.m,e,this),r=this.editorLib.buildPlugins(e,t);this.htmlMode.serializer=new this.editorLib.helpers.PlainTextSerializer(e,{preserveWhitespace:"full"}),this.syncWithHTMLModeEditor(this.editorLib.EditorState.create({schema:e,plugins:r}),null)}},{key:"setEditorRenderedTrue",value:function(){this.isEditorRendered=!0}},{key:"showAnchorTooltip",value:function(e){this._syncAnchorFormWithEditor(e),this.isAnchorTooltipShown=!0}},{key:"hideAnchorTooltip",value:function(){this.isAnchorTooltipShown=!1}},{key:"setIsResizingImage",value:function(e){this.isResizingImage=e}},{key:"registerImageEditor",value:function(e,t){this._imageEditors[e]=new N(t)}},{key:"unregisterImageEditor",value:function(e){delete this._imageEditors[e],e===this._activeImageEditorId&&(this._activeImageEditorId=null)}},{key:"getImageEditor",value:function(e){return this._imageEditors[e]}},{key:"setActiveImageEditor",value:function(e){this.activeImageEditor&&this.activeImageEditor.setIsOverlayShown(!1),this._activeImageEditorId=e,this.activeImageEditor&&this.activeImageEditor.setIsOverlayShown(!0)}},{key:"syncWithEditor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=!t;this.editorState=e,r&&(this._hasEditorFocusedAtLeastOnce=!0),(o||t.docChanged)&&(this.editorValue=this.serializer.toText(e.doc),this.hideAnchorTooltip());var n=0<(e.storedMarks||[]).length;this.showPlaceholder=e.doc.content.size<=R.c&&!n;var i=this.editorLib.helpers.isMarkActive,s=e.schema.marks;Object.assign(this.activeFormats,{TOGGLE_STRONG:this._hasEditorFocusedAtLeastOnce&&this.features.has("TOGGLE_STRONG")&&i(e,s.strong),TOGGLE_EM:this._hasEditorFocusedAtLeastOnce&&this.features.has("TOGGLE_EM")&&i(e,s.em)}),this._syncAnchorFormWithEditor(e,{parseFormData:!1})}},{key:"_syncAnchorFormWithEditor",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{parseFormData:!0};if(Object(A.b)(this.features,R.a)){var r=(0,this.editorLib.helpers.parseAnchorForm)(e,t),o=r.text,n=r.href,i=r.hasAnchor;t.parseFormData?this.anchorForm.reset({data:{text:o,href:n},isEditing:i}):this.anchorForm.setIsEditing(i)}}},{key:"openAnchorModal",value:function(e){this.activeModal="ANCHOR",this._syncAnchorFormWithEditor(e),this.hideAnchorTooltip()}},{key:"openImageUploadModal",value:function(){this.activeModal="IMAGE_UPLOAD",this.imageUploader.resetFiles(),this.imageUploader.resetError()}},{key:"openImageEditModal",value:function(e){var t=this.activeImageEditor,r=(0,this.editorLib.helpers.parseImageEditor)(e,t.getPos()),o=r.image,n=r.link,i=r.caption;this.imageEditForm.reset({data:{src:o.attrs.src||"",alt:o.attrs.alt||"",href:n?n.attrs.href:"",caption:i?i.textContent:""}}),t.setIsOverlayShown(!1),this.activeModal="IMAGE_EDIT"}},{key:"closeModal",value:function(){"IMAGE_UPLOAD"===this.activeModal&&this.imageUploader.resetError(),this.activeModal=null}},{key:"toggleHTMLMode",value:function(){this.htmlMode.show=!this.htmlMode.show,this.htmlMode.show&&(this.htmlMode.docChanged=!1)}},{key:"syncWithHTMLModeEditor",value:function(e,t){this.htmlMode.editorState=e,t&&t.docChanged&&(this.htmlMode.docChanged=!0,this.showPlaceholder=e.doc.content.size<=R.c,this.editorValue=this.htmlMode.serializer.toText(e.doc))}},{key:"editorValueTextContent",get:function(){return Object(A.c)(this.editorValue)}},{key:"editorLib",get:function(){return $}},{key:"activeImageEditor",get:function(){return this._imageEditors[this._activeImageEditorId]||null}}]),r}(),babelHelpers.applyDecoratedDescriptor(p.prototype,"editorValueTextContent",[P.computed],Object.getOwnPropertyDescriptor(p.prototype,"editorValueTextContent"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"_setEditorLib",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"_setEditorLib"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"initializeEditorState",[P.action],Object.getOwnPropertyDescriptor(p.prototype,"initializeEditorState"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"initializeHTMLModeEditorState",[P.action],Object.getOwnPropertyDescriptor(p.prototype,"initializeHTMLModeEditorState"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"setEditorRenderedTrue",[P.action],Object.getOwnPropertyDescriptor(p.prototype,"setEditorRenderedTrue"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"showAnchorTooltip",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"showAnchorTooltip"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"hideAnchorTooltip",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"hideAnchorTooltip"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"setIsResizingImage",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"setIsResizingImage"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"unregisterImageEditor",[P.action],Object.getOwnPropertyDescriptor(p.prototype,"unregisterImageEditor"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"setActiveImageEditor",[P.action],Object.getOwnPropertyDescriptor(p.prototype,"setActiveImageEditor"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"syncWithEditor",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"syncWithEditor"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"_syncAnchorFormWithEditor",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"_syncAnchorFormWithEditor"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"openAnchorModal",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"openAnchorModal"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"openImageUploadModal",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"openImageUploadModal"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"openImageEditModal",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"openImageEditModal"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"closeModal",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"closeModal"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"toggleHTMLMode",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"toggleHTMLMode"),p.prototype),babelHelpers.applyDecoratedDescriptor(p.prototype,"syncWithHTMLModeEditor",[h.a,P.action],Object.getOwnPropertyDescriptor(p.prototype,"syncWithHTMLModeEditor"),p.prototype),p),le=Object(b.d)((Y=G=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onSubmit",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.doCommand("ADD_ANCHOR",{focusBeforeCommand:!0})}},{key:"onChangeTextField",value:function(e){this.props.model.anchorForm.setData(e.target.name,e.target.value)}},{key:"render",value:function(){var e=this.props,t=(e.doCommand,e.model),r=babelHelpers.objectWithoutProperties(e,["doCommand","model"]);Object.assign(r,{show:"ANCHOR"===t.activeModal,onHide:t.closeModal});var o=t.anchorForm;return v.a.createElement(T.a,r,v.a.createElement(x.a,{onSubmit:this.onSubmit,"data-purpose":"anchor-form"},v.a.createElement(T.a.Header,{closeButton:!0},v.a.createElement(T.a.Title,null,o.isEditing?gettext("Edit link"):gettext("Insert link"))),v.a.createElement(T.a.Body,null,v.a.createElement(D.a,{controlId:"url",validationState:o.error.href?"error":null},v.a.createElement(E.a,null,gettext("URL")),v.a.createElement(C.a,{type:"text",required:!0,autoFocus:!S.c,name:"href",value:o.data.href,onChange:this.onChangeTextField,"data-purpose":"href-field"}),o.error.href?v.a.createElement(O.a,{"data-purpose":"href-error"},o.error.href):null),v.a.createElement(D.a,{controlId:"text",validationState:o.error.text?"error":null},v.a.createElement(E.a,null,gettext("Text")),v.a.createElement(C.a,{type:"text",name:"text",value:o.data.text,onChange:this.onChangeTextField,"data-purpose":"text-field"}),o.error.text?v.a.createElement(O.a,{"data-purpose":"text-error"},o.error.text):null)),v.a.createElement(T.a.Footer,null,v.a.createElement(j.default,{bsStyle:"tertiary",onClick:r.onHide,"data-purpose":"anchor-form-cancel"},gettext("Cancel")),v.a.createElement(j.default,{bsStyle:"secondary",type:"submit"},gettext("Insert")))))}}]),t}(g.Component),G.propTypes=babelHelpers.objectSpread({},T.a.propTypes,{doCommand:f.a.func.isRequired,model:f.a.instanceOf(ae).isRequired}),G.defaultProps=babelHelpers.objectSpread({},T.a.defaultProps),W=Y,babelHelpers.applyDecoratedDescriptor(W.prototype,"onSubmit",[h.a],Object.getOwnPropertyDescriptor(W.prototype,"onSubmit"),W.prototype),babelHelpers.applyDecoratedDescriptor(W.prototype,"onChangeTextField",[h.a],Object.getOwnPropertyDescriptor(W.prototype,"onChangeTextField"),W.prototype),Q=W))||Q,ce=o("./src/udemy/js/base-components/overlay.react-component.js"),ue=o("./src/udemy/js/base-components/safe-anchor.react-component.js"),pe=o("./src/udemy/js/base-components/tooltip.react-component.js"),de=Object(b.d)((Z=J=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"editAnchor",value:function(){this.props.doCommand("PROMPT_ANCHOR",{focusOnEditor:!1})}},{key:"undoAnchor",value:function(){this.props.doCommand("UNDO_ANCHOR")}},{key:"onHide",value:function(e){e&&e.target===this.props.getTarget()||this.props.model.hideAnchorTooltip()}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.model,o=e.getTarget,n=r.anchorForm.data.href;return v.a.createElement(ce.default,{show:r.isAnchorTooltipShown,onHide:this.onHide,rootClose:!0,target:o,placement:"bottom"},v.a.createElement(pe.a,{id:t,className:"rt-anchor-tooltip"},n?v.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},n):null,n?" | ":null,v.a.createElement(ue.default,{onClick:this.editAnchor,"data-purpose":"anchor-tooltip-edit"},gettext("Edit"))," | ",v.a.createElement(ue.default,{onClick:this.undoAnchor,"data-purpose":"anchor-tooltip-unlink"},gettext("Unlink"))))}}]),t}(g.Component),J.propTypes={id:f.a.string.isRequired,getTarget:f.a.func.isRequired,doCommand:f.a.func.isRequired,model:f.a.instanceOf(ae).isRequired},X=Z,babelHelpers.applyDecoratedDescriptor(X.prototype,"editAnchor",[h.a],Object.getOwnPropertyDescriptor(X.prototype,"editAnchor"),X.prototype),babelHelpers.applyDecoratedDescriptor(X.prototype,"undoAnchor",[h.a],Object.getOwnPropertyDescriptor(X.prototype,"undoAnchor"),X.prototype),babelHelpers.applyDecoratedDescriptor(X.prototype,"onHide",[h.a],Object.getOwnPropertyDescriptor(X.prototype,"onHide"),X.prototype),K=X))||K,he=o("./node_modules/classnames/index.js"),me=o.n(he),be=Object(b.d)((oe=re=function(e){function o(){return babelHelpers.classCallCheck(this,o),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).apply(this,arguments))}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.model,o=t.getEditorProps,n=t.onWillMount,i=t.onDidMount;n();var s=o()||{};this.view=new r.editorLib.EditorView(this.ref,babelHelpers.objectSpread({attributes:function(){return{placeholder:e.props.placeholder,style:"min-height:".concat(e.props.minHeight,";")}},editable:function(){return e.props.contentEditable}},s)),i(this.view)}},{key:"componentDidUpdate",value:function(t){var r=this;o.contentEditablePropNames.some(function(e){return t[e]!==r.props[e]})&&this.view.updateState(this.view.state)}},{key:"componentWillUnmount",value:function(){this.view&&this.view.destroy()}},{key:"setRef",value:function(e){this.ref=e}},{key:"render",value:function(){var e=this.props,t=e.model,r=e.dataPurpose,o=e.editorMode,n="WYSIWYG"===o&&!t.htmlMode.show||"HTML"===o&&t.htmlMode.show;return v.a.createElement("div",{className:me()({hidden:!n,"rt-editor":!0,"rt-editor--empty":t.showPlaceholder,"rt-editor--html-mode":"HTML"===o,"rt-editor--resizing-image":t.isResizingImage,"rt-editor--wysiwyg-mode":"WYSIWYG"===o}),"data-purpose":r,ref:this.setRef})}}]),o}(g.Component),re.contentEditablePropNames=["contentEditable","minHeight","placeholder"],re.propTypes={model:f.a.instanceOf(ae).isRequired,contentEditable:f.a.bool.isRequired,minHeight:f.a.string.isRequired,placeholder:f.a.string.isRequired,getEditorProps:f.a.func,onWillMount:f.a.func,onDidMount:f.a.func,editorMode:f.a.oneOf(["WYSIWYG","HTML"]),dataPurpose:f.a.string},re.defaultProps={getEditorProps:m.a,onWillMount:m.a,onDidMount:m.a,editorMode:"WYSIWYG",dataPurpose:""},te=oe,babelHelpers.applyDecoratedDescriptor(te.prototype,"setRef",[h.a],Object.getOwnPropertyDescriptor(te.prototype,"setRef"),te.prototype),ee=te))||ee,ye=o("./node_modules/lodash-es/escape.js"),fe=function(e){return v.a.createElement(Ne,Object.assign({},e,{show:e.model.htmlMode.show}))};fe.propTypes={model:f.a.instanceOf(ae).isRequired,contentEditable:f.a.bool.isRequired,minHeight:f.a.string.isRequired,placeholder:f.a.string.isRequired,onHide:f.a.func.isRequired,onValueChange:f.a.func.isRequired};var ge,ve,we,ke,Ce,_e,Se,je,Ee,De,xe,Oe,Te,Pe,He,Ae,Ie,Re,qe=Object(b.d)(fe),Ne=(se=ie=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.model.htmlMode.serializer;if(this.props.show&&!e.show){var r=this.formatValue(this.props.model.editorValue),o=t.toInternalValue(r);this.props.model.editorLib.helpers.overrideDoc(this.view,o),this.view.focus()}else!this.props.show&&e.show&&this.props.onHide()}},{key:"getEditorProps",value:function(){var e=this.props.model.htmlMode,t=e.serializer.fromDOMSerializer;return{state:e.editorState,dispatchTransaction:this.dispatchTransaction,clipboardTextParser:t.parseClipboardText,domParser:t,transformPastedHTML:t.transformPastedHTML}}},{key:"onEditorWillMount",value:function(){this.props.model.initializeHTMLModeEditorState()}},{key:"onEditorDidMount",value:function(e){this.view=e}},{key:"dispatchTransaction",value:function(e){if(this.props.contentEditable){var t=this.view.state.apply(e);this.view.updateState(t);var r=this.props.model.editorValue;this.props.model.syncWithHTMLModeEditor(t,e),r!==this.props.model.editorValue&&this.props.onValueChange(this.props.model.editorValue)}}},{key:"formatValue",value:function(e){var t=Object(A.a)().createElement("div");t.innerHTML=e;for(var r=[],o=0;o<t.childNodes.length;o++)t.childNodes[o].outerHTML.split("\n").forEach(function(e){r.push("<p>".concat(Object(ye.a)(e),"</p>"))});return r.join("")}},{key:"render",value:function(){var e=this.props,t=e.model,r=e.contentEditable,o=e.minHeight,n=e.placeholder;return v.a.createElement(be,{model:t,contentEditable:r,minHeight:o,placeholder:n,getEditorProps:this.getEditorProps,onWillMount:this.onEditorWillMount,onDidMount:this.onEditorDidMount,editorMode:"HTML",dataPurpose:"html-mode"})}}]),t}(g.Component),ie.propTypes=babelHelpers.objectSpread({},fe.propTypes,{show:f.a.bool.isRequired}),ne=se,babelHelpers.applyDecoratedDescriptor(ne.prototype,"getEditorProps",[h.a],Object.getOwnPropertyDescriptor(ne.prototype,"getEditorProps"),ne.prototype),babelHelpers.applyDecoratedDescriptor(ne.prototype,"onEditorWillMount",[h.a],Object.getOwnPropertyDescriptor(ne.prototype,"onEditorWillMount"),ne.prototype),babelHelpers.applyDecoratedDescriptor(ne.prototype,"onEditorDidMount",[h.a],Object.getOwnPropertyDescriptor(ne.prototype,"onEditorDidMount"),ne.prototype),babelHelpers.applyDecoratedDescriptor(ne.prototype,"dispatchTransaction",[h.a],Object.getOwnPropertyDescriptor(ne.prototype,"dispatchTransaction"),ne.prototype),ne),ze=o("./src/udemy/js/base-components/col.react-component.js"),Me=o("./src/udemy/js/base-components/image.react-component.js"),Le=o("./src/udemy/js/base-components/row.react-component.js"),Fe=Object(b.d)((ke=we=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onChangeTextField",value:function(e){this.props.model.imageEditForm.setData(e.target.name,e.target.value)}},{key:"onSubmit",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.doCommand("EDIT_IMAGE",{focusBeforeCommand:!0})}},{key:"onDelete",value:function(){this.props.doCommand("DELETE_IMAGE")}},{key:"renderContent",value:function(){var e=this.props,t=e.hasAnchorFeatures,r=e.model.imageEditForm;return v.a.createElement(Le.a,null,v.a.createElement(ze.a,{md:4,sm:12},v.a.createElement(Me.a,{src:r.data.src,alt:r.data.alt,className:"mb15","data-purpose":"src-field",lazy:!1,height:"unset",width:"unset"})),v.a.createElement(ze.a,{md:8,sm:12},v.a.createElement(D.a,{bsSize:"sm",controlId:"title",validationState:r.error.alt?"error":null},v.a.createElement(E.a,null,gettext("Title")),v.a.createElement(C.a,{type:"text",autoFocus:!S.c,name:"alt",value:r.data.alt,onChange:this.onChangeTextField,"data-purpose":"alt-field"}),r.error.alt?v.a.createElement(O.a,null,r.error.alt):null),v.a.createElement(D.a,{bsSize:"sm",controlId:"caption",validationState:r.error.caption?"error":null},v.a.createElement(E.a,null,gettext("Caption")),v.a.createElement(C.a,{type:"text",name:"caption",value:r.data.caption,onChange:this.onChangeTextField,"data-purpose":"caption-field"}),r.error.caption?v.a.createElement(O.a,null,r.error.caption):null),t?v.a.createElement(D.a,{bsSize:"sm",controlId:"link",validationState:r.error.href?"error":null},v.a.createElement(E.a,null,gettext("Link")),v.a.createElement(C.a,{type:"text",name:"href",value:r.data.href,onChange:this.onChangeTextField,"data-purpose":"href-field"}),r.error.href?v.a.createElement(O.a,null,r.error.href):null):null))}},{key:"render",value:function(){var e=this.props,t=(e.doCommand,e.hasAnchorFeatures,e.model),r=babelHelpers.objectWithoutProperties(e,["doCommand","hasAnchorFeatures","model"]);return Object.assign(r,{show:"IMAGE_EDIT"===t.activeModal,onHide:t.closeModal}),v.a.createElement(T.a,r,v.a.createElement(x.a,{onSubmit:this.onSubmit,"data-purpose":"image-edit-form"},v.a.createElement(T.a.Header,{closeButton:!0},v.a.createElement(T.a.Title,null,gettext("Edit"))),v.a.createElement(T.a.Body,null,this.renderContent()),v.a.createElement(T.a.Footer,null,v.a.createElement(j.default,{bsSize:"sm",bsStyle:"danger",className:"mr15",onClick:this.onDelete,"data-purpose":"delete-image-btn"},gettext("Delete")),v.a.createElement(j.default,{bsSize:"sm",bsStyle:"tertiary",onClick:r.onHide,"data-purpose":"image-edit-form-cancel"},gettext("Cancel")),v.a.createElement(j.default,{bsSize:"sm",bsStyle:"secondary",type:"submit"},gettext("Save")))))}}]),t}(g.Component),we.propTypes=babelHelpers.objectSpread({},T.a.propTypes,{doCommand:f.a.func.isRequired,hasAnchorFeatures:f.a.bool.isRequired,model:f.a.instanceOf(ae).isRequired}),we.defaultProps=babelHelpers.objectSpread({},T.a.defaultProps),ve=ke,babelHelpers.applyDecoratedDescriptor(ve.prototype,"onChangeTextField",[h.a],Object.getOwnPropertyDescriptor(ve.prototype,"onChangeTextField"),ve.prototype),babelHelpers.applyDecoratedDescriptor(ve.prototype,"onSubmit",[h.a],Object.getOwnPropertyDescriptor(ve.prototype,"onSubmit"),ve.prototype),babelHelpers.applyDecoratedDescriptor(ve.prototype,"onDelete",[h.a],Object.getOwnPropertyDescriptor(ve.prototype,"onDelete"),ve.prototype),ge=ve))||ge,Ue=o("./node_modules/react-dom/index.js"),Be=o.n(Ue),Ve=o("./node_modules/react-overlays/lib/RootCloseWrapper.js"),$e=o.n(Ve),Qe=o("./src/udemy/js/base-components/resizer.react-component.js"),We=0,Ge=Object(b.d)((je=Se=function(e){function o(e,t){var r;return babelHelpers.classCallCheck(this,o),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e,t)),We+=1,r.id=We,r.props.model.registerImageEditor(r.id,r.props.getPos),r}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"componentWillUnmount",value:function(){this.props.model.unregisterImageEditor(this.id)}},{key:"onRootClose",value:function(){this.imageEditorModel&&this.imageEditorModel.setIsOverlayShown(!1)}},{key:"onMouseDown",value:function(e){e.preventDefault()}},{key:"onImageClick",value:function(e){e.preventDefault(),this.props.model.setActiveImageEditor(this.id),this.props.doCommand("CLICK_IMAGE",{focusOnEditor:!1})}},{key:"onEditButtonClick",value:function(){this.props.model.setActiveImageEditor(this.id),this.props.doCommand("PROMPT_IMAGE_EDIT",{focusOnEditor:!1})}},{key:"onResizeStart",value:function(){this.props.model.setIsResizingImage(!0)}},{key:"onResizeEnd",value:function(){this.props.model.setIsResizingImage(!1),this.props.model.imageEditForm.reset({data:{width:this.imgRef.clientWidth,height:this.imgRef.clientHeight}}),this.props.doCommand("RESIZE_IMAGE",{focusOnEditor:!1})}},{key:"onResize",value:function(e,t){if(0<this.imgRef.naturalWidth&&0<this.imgRef.naturalHeight){var r,o,n=this.imgRef.naturalWidth/this.imgRef.naturalHeight;r=1<n?Math.max(100,Math.round(t.width)):(o=Math.max(100,Math.round(t.height)))*n,this.imgRef.style.width="".concat(r,"px"),o=Math.round(this.imgRef.clientWidth/n),this.imgRef.style.height="".concat(o,"px")}}},{key:"setImgRef",value:function(e){this.imgRef=e?Be.a.findDOMNode(e):null}},{key:"renderImage",value:function(){var e=this.props.node;return v.a.createElement(Me.a,Object.assign({ref:this.setImgRef},e.attrs,{draggable:!1,alt:e.attrs.alt||"",title:e.attrs.alt||"",role:"presentation",onClick:this.onImageClick,onMouseDown:this.onMouseDown,lazy:!1,height:parseFloat(e.attrs.height)||"unset",width:parseFloat(e.attrs.width)||"unset"}))}},{key:"renderEditMode",value:function(){var e=S.c?{onTouchStart:this.onEditButtonClick}:{onClick:this.onEditButtonClick};return v.a.createElement(Qe.a,{className:"rt-image-editor","data-purpose":"edit-image-container",edges:{right:".js-resizer-handle",bottom:".js-resizer-handle"},onStart:this.onResizeStart,onMove:this.onResize,onEnd:this.onResizeEnd},this.renderImage(),v.a.createElement("div",{className:"fx-c rt-image-editor__overlay"},v.a.createElement(j.default,Object.assign({bsStyle:"link",bsSize:"xs","data-purpose":"edit-image-btn"},e),gettext("Edit"))),v.a.createElement("div",{"aria-hidden":"true",className:me()({"js-resizer-handle":!0,"rt-image-editor__resizer-handle":!0,"rt-image-editor__resizer-handle--mobile":S.c})}))}},{key:"render",value:function(){return v.a.createElement($e.a,{onRootClose:this.onRootClose},this.imageEditorModel.isOverlayShown?this.renderEditMode():this.renderImage())}},{key:"imageEditorModel",get:function(){return this.props.model.getImageEditor(this.id)}}]),o}(g.Component),Se.propTypes={node:f.a.object.isRequired,getPos:f.a.func.isRequired,model:f.a.instanceOf(ae).isRequired,doCommand:f.a.func.isRequired},_e=je,babelHelpers.applyDecoratedDescriptor(_e.prototype,"onRootClose",[h.a],Object.getOwnPropertyDescriptor(_e.prototype,"onRootClose"),_e.prototype),babelHelpers.applyDecoratedDescriptor(_e.prototype,"onMouseDown",[h.a],Object.getOwnPropertyDescriptor(_e.prototype,"onMouseDown"),_e.prototype),babelHelpers.applyDecoratedDescriptor(_e.prototype,"onImageClick",[h.a],Object.getOwnPropertyDescriptor(_e.prototype,"onImageClick"),_e.prototype),babelHelpers.applyDecoratedDescriptor(_e.prototype,"onEditButtonClick",[h.a],Object.getOwnPropertyDescriptor(_e.prototype,"onEditButtonClick"),_e.prototype),babelHelpers.applyDecoratedDescriptor(_e.prototype,"onResizeStart",[h.a],Object.getOwnPropertyDescriptor(_e.prototype,"onResizeStart"),_e.prototype),babelHelpers.applyDecoratedDescriptor(_e.prototype,"onResizeEnd",[h.a],Object.getOwnPropertyDescriptor(_e.prototype,"onResizeEnd"),_e.prototype),babelHelpers.applyDecoratedDescriptor(_e.prototype,"onResize",[h.a],Object.getOwnPropertyDescriptor(_e.prototype,"onResize"),_e.prototype),babelHelpers.applyDecoratedDescriptor(_e.prototype,"setImgRef",[h.a],Object.getOwnPropertyDescriptor(_e.prototype,"setImgRef"),_e.prototype),Ce=_e))||Ce,Ye=function(){function s(e,t,r,o,n){babelHelpers.classCallCheck(this,s),this.dom=document.createElement("div"),this.dom.className="dib",this.dom.setAttribute("data-purpose","image-editor-node-view");var i=v.a.createElement(Ge,{node:e,getPos:r,model:o,doCommand:n});Be.a.render(i,this.dom)}return babelHelpers.createClass(s,[{key:"ignoreMutation",value:function(){return!0}},{key:"stopEvent",value:function(e){var t=e.type.toLowerCase();return!(t.startsWith("drag")||t.startsWith("drop"))}},{key:"destroy",value:function(){Be.a.unmountComponentAtNode(this.dom),this.dom=null}}]),s}(),Ke=o("./src/udemy/js/base-components/alert.react-component.js"),Xe=Object(b.d)((xe=De=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.model,r=e.className,o=e.hideWhenActiveModal;return!t.imageUploader.hasError||o&&t.activeModal?null:v.a.createElement(Ke.a,{bsStyle:"danger",className:me()("m0",r),icon:!1,onDismiss:t.imageUploader.resetError,"data-purpose":"image-upload-error-alert"},t.imageUploader.errorMessage)}}]),t}(g.Component),De.propTypes={model:f.a.instanceOf(ae).isRequired,className:f.a.string,hideWhenActiveModal:f.a.bool},De.defaultProps={className:"",hideWhenActiveModal:!1},Ee=xe))||Ee,Je=o("./src/udemy/js/base-components/icon.react-component.js"),Ze=o("./src/udemy/js/base-components/localized-html.react-component.js"),et=o("./src/udemy/js/base-components/progress-bar.react-component.js"),tt=Object(b.d)((Pe=Te=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.model,r=e.className,o=e.hideWhenActiveModal;return null===t.imageUploader.progressPercentage||o&&t.activeModal?null:Object(A.e)("UPLOAD_API")?v.a.createElement(et.a,{bsSize:"xsmall",className:me()("m0",r),"data-purpose":"image-upload-progress-bar",now:t.imageUploader.progressPercentage}):v.a.createElement(et.a,{active:!0,bsSize:"xsmall",now:100,striped:!0,className:me()("m0",r),"data-purpose":"image-upload-progress-bar"})}}]),t}(g.Component),Te.propTypes={model:f.a.instanceOf(ae).isRequired,className:f.a.string,hideWhenActiveModal:f.a.bool},Te.defaultProps={className:"",hideWhenActiveModal:!1},Oe=Pe))||Oe,rt=function(e){var t=e.id,r=e.onChange,o=e.children;return v.a.createElement("label",{htmlFor:t},v.a.createElement("input",{id:t,onChange:r,type:"file",multiple:!0,accept:"image/*",className:"sr-only"}),v.a.createElement("span",{className:"rt-image-uploader__label"},o))};rt.propTypes={id:f.a.string.isRequired,onChange:f.a.func.isRequired};var ot,nt,it,st,at=Object(b.d)((Re=Ie=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onFileSelected",value:function(e){var t=babelHelpers.toConsumableArray(e.target.files);this.props.model.imageUploader.uploadAndInsertImages(t,this.props.doCommand)}},{key:"onDragActive",value:function(e){e.preventDefault(),this.props.model.imageUploader.setIsDragActive(!0)}},{key:"onDragInactive",value:function(e){e.preventDefault(),this.props.model.imageUploader.setIsDragActive(!1)}},{key:"onDrop",value:function(e){if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.files){var t=this.props,r=t.doCommand,o=t.model.imageUploader,n=babelHelpers.toConsumableArray(e.dataTransfer.files);o.setIsDragActive(!1),o.uploadAndInsertImages(n,r)}}},{key:"render",value:function(){var e=this.props,t=(e.doCommand,e.id),r=e.model,o=babelHelpers.objectWithoutProperties(e,["doCommand","id","model"]),n=Object(A.e)("DROP_EVENT"),i=r.imageUploader;Object.assign(o,{show:"IMAGE_UPLOAD"===r.activeModal,onHide:r.closeModal,className:me()(o.className,{"rt-image-uploader--drag-active":n&&i.isDragActive})});var s=n?{onDragEnter:this.onDragActive,onDragOver:this.onDragActive,onDragLeave:this.onDragInactive,onDragEnd:this.onDragInactive,onDrop:this.onDrop}:{},a={id:t,onChange:this.onFileSelected};return v.a.createElement(T.a,o,v.a.createElement(T.a.Header,{closeButton:!0},v.a.createElement(T.a.Title,null,gettext("Upload an image"))),v.a.createElement(x.a,Object.assign({"data-purpose":"image-upload-form"},s),v.a.createElement(T.a.Body,{className:"text-center pos-r"},v.a.createElement(tt,{model:r,className:"rt-image-uploader__progress-bar"}),v.a.createElement("div",{className:"pb20"},v.a.createElement(Je.a,{glyph:"image",className:"rt-image-uploader__icon"})),n?v.a.createElement(Ze.a,{dangerouslySetInnerHTML:{__html:gettext('Drag and drop an image or <a class="uploader">select a file</a>')},interpolate:{uploader:v.a.createElement(rt,a)}}):v.a.createElement(rt,a,gettext("Select a file")),r.imageUploader.hasError?v.a.createElement("div",{className:"text-danger-dark","data-purpose":"image-upload-form-error"},r.imageUploader.errorMessage):null)))}}]),t}(g.Component),Ie.propTypes=babelHelpers.objectSpread({},T.a.propTypes,{doCommand:f.a.func.isRequired,id:f.a.string.isRequired,model:f.a.instanceOf(ae).isRequired}),Ie.defaultProps=babelHelpers.objectSpread({},T.a.defaultProps),Ae=Re,babelHelpers.applyDecoratedDescriptor(Ae.prototype,"onFileSelected",[h.a],Object.getOwnPropertyDescriptor(Ae.prototype,"onFileSelected"),Ae.prototype),babelHelpers.applyDecoratedDescriptor(Ae.prototype,"onDragActive",[h.a],Object.getOwnPropertyDescriptor(Ae.prototype,"onDragActive"),Ae.prototype),babelHelpers.applyDecoratedDescriptor(Ae.prototype,"onDragInactive",[h.a],Object.getOwnPropertyDescriptor(Ae.prototype,"onDragInactive"),Ae.prototype),babelHelpers.applyDecoratedDescriptor(Ae.prototype,"onDrop",[h.a],Object.getOwnPropertyDescriptor(Ae.prototype,"onDrop"),Ae.prototype),He=Ae))||He,lt=o("./src/udemy/js/base-components/button-group.react-component.js"),ct=o("./src/udemy/js/base-components/menu-item.react-component.js"),ut=Object(b.d)((st=it=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(this.props.eventKey,e)}},{key:"render",value:function(){var e=this.props,t=e.eventKey,r=e.model,o=e.icon,n=e.children,i=babelHelpers.objectWithoutProperties(e,["eventKey","model","icon","children"]);return r.features.has(t)?v.a.createElement(j.default,Object.assign({},i,{onClick:this.onClick,"aria-label":o?o.label:null,title:o?o.label:null}),o?v.a.createElement(Je.a,{glyph:o.glyph}):null,n):null}}]),t}(g.Component),it.propTypes=babelHelpers.objectSpread({},j.default.propTypes,{eventKey:f.a.any,model:f.a.instanceOf(ae).isRequired,icon:f.a.shape({glyph:f.a.string.isRequired,label:f.a.string.isRequired})}),it.defaultProps=babelHelpers.objectSpread({},j.default.defaultProps,{eventKey:void 0,icon:null,bsStyle:"link"}),nt=st,babelHelpers.applyDecoratedDescriptor(nt.prototype,"onClick",[h.a],Object.getOwnPropertyDescriptor(nt.prototype,"onClick"),nt.prototype),ot=nt))||ot,pt=o("./src/udemy/js/base-components/dropdown-button.react-component.js"),dt=function(e){var t=e.model,r=e.children,o=babelHelpers.objectWithoutProperties(e,["model","children"]),n=g.Children.toArray(r).filter(function(e){return t.features.has(e.props.eventKey)});if(0===n.length)return null;var i=n.every(function(e){return e.props.disabled});return v.a.createElement(pt.a,Object.assign({},o,{disabled:i}),n)};dt.propTypes=babelHelpers.objectSpread({},pt.a.propTypes,{model:f.a.instanceOf(ae).isRequired}),dt.defaultProps=babelHelpers.objectSpread({},pt.a.defaultProps,{bsStyle:"link"});var ht,mt,bt,yt,ft,gt,vt,wt,kt=dt,Ct=Object(b.d)((yt=bt=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getItemProps",value:function(e){var t=this.props.model,r=!!t.activeFormats[e],o=!1;return t.isEditorRendered&&this.props.contentEditable?t.htmlMode.show?o="TOGGLE_HTML_MODE"!==e:"UNDO_ANCHOR"===e&&(o=!t.anchorForm.isEditing):o=!0,{active:r,disabled:o,eventKey:e,"data-purpose":e}}},{key:"onClickItem",value:function(e){var t=!R.l.has(e);this.props.doCommand(e,{focusOnEditor:t}),R.k.has(e)&&document.activeElement&&document.activeElement.blur()}},{key:"render",value:function(){var e=this.props,t=e.anchorDropdownId,r=e.counter,o=e.model,n=e.show,i=e.stylesDropdownId,s={model:o};return"bottom"===e.menuBarPosition&&(s.dropup=!0),v.a.createElement("div",{className:me()({"rt-menu-bar fx-lt":!0,hidden:!n}),"data-purpose":"menu-bar"},v.a.createElement(lt.default,null,v.a.createElement(kt,Object.assign({id:i,title:gettext("Styles")},s),v.a.createElement(ct.a,Object.assign({},this.getItemProps("SET_PARAGRAPH"),{onSelect:this.onClickItem}),gettext("Normal text")),v.a.createElement(ct.a,Object.assign({},this.getItemProps("TOGGLE_BLOCKQUOTE"),{className:"rt-menu-item-blockquote",onSelect:this.onClickItem}),gettext("Quote")),v.a.createElement(ct.a,Object.assign({},this.getItemProps("TOGGLE_HEADING"),{className:"rt-menu-item-heading",onSelect:this.onClickItem}),interpolate(gettext("Heading %(number)s"),{number:R.e},!0))),v.a.createElement(ut,Object.assign({},this.getItemProps("TOGGLE_STRONG"),{model:o,onClick:this.onClickItem,icon:{glyph:"bold",label:gettext("Bold")}})),v.a.createElement(ut,Object.assign({},this.getItemProps("TOGGLE_EM"),{model:o,onClick:this.onClickItem,icon:{glyph:"italic",label:gettext("Italic")}})),v.a.createElement(ut,Object.assign({},this.getItemProps("TOGGLE_ORDERED_LIST"),{model:o,onClick:this.onClickItem,icon:{glyph:"list-ol",label:gettext("Numbers")}})),v.a.createElement(ut,Object.assign({},this.getItemProps("TOGGLE_BULLET_LIST"),{model:o,onClick:this.onClickItem,icon:{glyph:"list-ul",label:gettext("Bullets")}})),v.a.createElement(kt,Object.assign({id:t,noCaret:!0,title:v.a.createElement(Je.a,{glyph:"link"})},s),v.a.createElement(ct.a,Object.assign({},this.getItemProps("PROMPT_ANCHOR"),{onSelect:this.onClickItem}),o.anchorForm.isEditing?gettext("Edit link"):gettext("Insert link")),v.a.createElement(ct.a,Object.assign({},this.getItemProps("UNDO_ANCHOR"),{onSelect:this.onClickItem}),gettext("Unlink"))),v.a.createElement(ut,Object.assign({},this.getItemProps("PROMPT_IMAGE_UPLOAD"),{model:o,onClick:this.onClickItem,icon:{glyph:"image",label:gettext("Image")}})),v.a.createElement(ut,Object.assign({},this.getItemProps("TOGGLE_CODE"),{model:o,onClick:this.onClickItem,icon:{glyph:"curly-braces",label:gettext("Code")}}))),v.a.createElement("div",{className:"fx"}," "),v.a.createElement(lt.default,null,v.a.createElement(ut,Object.assign({},this.getItemProps("TOGGLE_HTML_MODE"),{model:o,onClick:this.onClickItem}),o.htmlMode.show?gettext("Live Preview"):gettext("Edit HTML"))),r)}}]),t}(g.Component),bt.propTypes={anchorDropdownId:f.a.string.isRequired,contentEditable:f.a.bool.isRequired,doCommand:f.a.func.isRequired,menuBarPosition:f.a.oneOf(["top","bottom"]),model:f.a.instanceOf(ae).isRequired,show:f.a.bool.isRequired,stylesDropdownId:f.a.string.isRequired,counter:f.a.node},bt.defaultProps={counter:null,menuBarPosition:"top"},mt=yt,babelHelpers.applyDecoratedDescriptor(mt.prototype,"onClickItem",[h.a],Object.getOwnPropertyDescriptor(mt.prototype,"onClickItem"),mt.prototype),ht=mt))||ht;o("./src/udemy/js/base-components/rich-text-editor/rich-text-editor.global.less");o.d(t,"a",function(){return Et});var _t=0,St=Object(b.d)(function(e){var t=e.model,r=e.name;return v.a.createElement("input",{name:r,type:"hidden",className:"hidden",value:t.editorValue})}),jt=Object(b.d)(function(e){var t=e.model,r=e.maxLength;return v.a.createElement(C.a,{withCounter:!0,className:"hidden",type:"hidden",value:t.editorValueTextContent,maxLength:r})}),Et=Object(b.d)((wt=vt=function(e){function o(e,t){var r;return babelHelpers.classCallCheck(this,o),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e,t))).model=new ae({theme:r.props.theme}),_t+=1,r.a11yIds={anchorDropdown:"rich-text-editor-anchor-dropdown-".concat(_t),anchorTooltip:"rich-text-editor-anchor-tooltip-".concat(_t),imageUploader:"rich-text-editor-image-uploader-".concat(_t),stylesDropdown:"rich-text-editor-styles-dropdown-".concat(_t)},r.anchorClickTarget=null,r}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"componentDidMount",value:function(){this.model.loadEditorLib()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.model.isEditorRendered&&e.value!==this.props.value&&e.value!==this.model.editorValue){var t=this.model.serializer.toInternalValue(e.value);this.model.editorLib.helpers.overrideDoc(this.view,t)}}},{key:"componentWillUnmount",value:function(){this.view=null}},{key:"getEditorProps",value:function(){var o=this,e=this.model.serializer.fromDOMSerializer;return{state:this.model.editorState,dispatchTransaction:this.dispatchTransaction,clipboardTextParser:e.parseClipboardText,domParser:e,transformPastedHTML:e.transformPastedHTML,handleClick:this.handleClick,handleDOMEvents:{drop:this.handleDrop,blur:function(){return o.props.onBlur()},focus:function(){return o.props.onFocus()}},handleKeyDown:function(e,t){return o.props.onKeyDown(t)},nodeViews:{image:function(e,t,r){return new Ye(e,t,r,o.model,o.doCommand)}}}}},{key:"onEditorWillMount",value:function(){this.model.initializeEditorState(this.props.value,this.props.autoFocus)}},{key:"onEditorDidMount",value:function(e){var t=this;this.view=e,this.model.setEditorRenderedTrue(),this.props.autoFocus&&this.model.editorLib.helpers.setCursorAndFocus(this.view),this.props.onInit({focus:function(){t.view&&t.model.editorLib.helpers.setCursorAndFocus(t.view)}})}},{key:"dispatchTransaction",value:function(e){if(this.props.contentEditable){var t=this.view.state.apply(e);this.view.updateState(t);var r=this.model.editorValue;this.model.syncWithEditor(t,e,this.view.focused),r!==this.model.editorValue&&(this.props.onValueChange(this.model.editorValue),Object(A.b)(this.model.features,R.f)&&this.doCommand("DELETE_FIGURE",{focusOnEditor:!1}))}}},{key:"handleClick",value:function(e,t,r){Object(A.d)(r.target,e.dom)?(this.anchorClickTarget=r.target,this.model.showAnchorTooltip(e.state)):this.anchorClickTarget=null}},{key:"handleDrop",value:function(e,t){t.preventDefault();var r=Object(A.b)(this.model.features,R.f);if(t.dataTransfer&&t.dataTransfer.files&&r){var o=babelHelpers.toConsumableArray(t.dataTransfer.files);this.model.imageUploader.uploadAndInsertImages(o,this.doCommand)}}},{key:"doCommand",value:function(e,t){if(t=babelHelpers.objectSpread({focusOnEditor:!0,focusBeforeCommand:!1},t),this.view&&this.props.contentEditable&&this.model.isEditorRendered){var r=this.model.commands[e],o=this.view;t.focusOnEditor&&t.focusBeforeCommand&&o.focus(),r(o.state,o.dispatch,o),t.focusOnEditor&&!t.focusBeforeCommand&&o.focus()}}},{key:"onHideHTMLMode",value:function(){if(this.model.htmlMode.docChanged){var e=this.model.serializer.toInternalValue(this.model.editorValue);this.model.editorLib.helpers.overrideDoc(this.view,e)}this.model.editorLib.helpers.setCursorAndFocus(this.view)}},{key:"onModalExited",value:function(){this.view.focus()}},{key:"getAnchorClickTarget",value:function(){return this.anchorClickTarget}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"renderCounter",value:function(){return this.props.withCounter?v.a.createElement(jt,{model:this.model,maxLength:this.props.maxLength}):null}},{key:"renderWithAffix",value:function(e){return this.props.toolbarFixed&&"bottom"!==this.props.menuBarPosition?v.a.createElement(k.a,{viewportOffsetTop:0,offsetBottom:10,bottomStyle:{marginTop:"-200px"},affixClassName:"rt-menu-bar-container--affixed",container:this.wrapperRef},e):e}},{key:"render",value:function(){var e=this.props,t=e.contentEditable,r=e.minHeight,o=e.placeholder,n=e.name,i=e.showMenuBar,s=e.editorStyle,a=e.menuBarPosition,l=e.onValueChange,c=Object(A.b)(this.model.features,R.a),u=Object(A.b)(this.model.features,R.f),p=this.model.features.has("TOGGLE_HTML_MODE"),d=this.renderWithAffix(v.a.createElement("div",{className:"rt-menu-bar-container","data-purpose":"menu-bar-container"},v.a.createElement(Ct,{anchorDropdownId:this.a11yIds.anchorDropdown,contentEditable:t,counter:this.renderCounter(),doCommand:this.doCommand,menuBarPosition:a,model:this.model,show:i,stylesDropdownId:this.a11yIds.stylesDropdown}),this.model.isEditorLibLoaded&&u?v.a.createElement(tt,{model:this.model,hideWhenActiveModal:!0}):null,this.model.isEditorLibLoaded&&u?v.a.createElement(Xe,{model:this.model,hideWhenActiveModal:!0,className:"rt-menu-bar-alert"}):null)),h=this.model.isEditorLibLoaded?v.a.createElement(be,{model:this.model,contentEditable:t,minHeight:r,placeholder:o,getEditorProps:this.getEditorProps,onWillMount:this.onEditorWillMount,onDidMount:this.onEditorDidMount,editorMode:"WYSIWYG",dataPurpose:"wysiwyg-mode"}):v.a.createElement("div",{className:"rt-editor rt-editor--wysiwyg-mode","data-purpose":"placeholder-wysiwyg-mode"},v.a.createElement("div",{className:"text-center ProseMirror",style:{minHeight:r}},v.a.createElement(_.a,{size:"medium"})));return v.a.createElement("div",{ref:this.setWrapperRef,className:"reply-form"===s?"reply-styling":""},"bottom"===a?v.a.createElement(v.a.Fragment,null,h,d):v.a.createElement(v.a.Fragment,null,d,h),this.model.isEditorLibLoaded&&p?v.a.createElement(qe,{model:this.model,contentEditable:t,minHeight:r,placeholder:o,onHide:this.onHideHTMLMode,onValueChange:l}):null,n?v.a.createElement(St,{model:this.model,name:n}):null,this.model.isEditorLibLoaded&&c?v.a.createElement(le,{doCommand:this.doCommand,model:this.model,onExited:this.onModalExited,restoreFocus:!1}):null,this.model.isEditorLibLoaded&&c&&!S.c?v.a.createElement(de,{id:this.a11yIds.anchorTooltip,getTarget:this.getAnchorClickTarget,doCommand:this.doCommand,model:this.model}):null,this.model.isEditorLibLoaded&&u?v.a.createElement(at,{doCommand:this.doCommand,id:this.a11yIds.imageUploader,model:this.model,onExited:this.onModalExited,restoreFocus:!1}):null,this.model.isEditorLibLoaded&&u?v.a.createElement(Fe,{doCommand:this.doCommand,hasAnchorFeatures:c,model:this.model,onExited:this.onModalExited,restoreFocus:!1}):null)}}]),o}(g.Component),vt.THEMES=R.n,vt.propTypes={theme:f.a.oneOf(Object.values(R.n)).isRequired,value:f.a.string,autoFocus:f.a.bool,contentEditable:f.a.bool,maxLength:f.a.number,minHeight:f.a.string,name:f.a.string,onBlur:f.a.func,onFocus:f.a.func,onInit:f.a.func,onKeyDown:f.a.func,onValueChange:f.a.func,placeholder:f.a.string,showMenuBar:f.a.bool,toolbarFixed:f.a.bool,withCounter:f.a.bool,editorStyle:f.a.oneOf(["default","reply-form"]),menuBarPosition:f.a.oneOf(["top","bottom"])},vt.defaultProps={value:"",autoFocus:!1,contentEditable:!0,maxLength:null,minHeight:"70px",name:null,onBlur:m.a,onFocus:m.a,onInit:m.a,onKeyDown:m.a,onValueChange:m.a,placeholder:"",showMenuBar:!0,toolbarFixed:!0,withCounter:!1,editorStyle:"default",menuBarPosition:"top"},gt=wt,babelHelpers.applyDecoratedDescriptor(gt.prototype,"getEditorProps",[h.a],Object.getOwnPropertyDescriptor(gt.prototype,"getEditorProps"),gt.prototype),babelHelpers.applyDecoratedDescriptor(gt.prototype,"onEditorWillMount",[h.a],Object.getOwnPropertyDescriptor(gt.prototype,"onEditorWillMount"),gt.prototype),babelHelpers.applyDecoratedDescriptor(gt.prototype,"onEditorDidMount",[h.a],Object.getOwnPropertyDescriptor(gt.prototype,"onEditorDidMount"),gt.prototype),babelHelpers.applyDecoratedDescriptor(gt.prototype,"dispatchTransaction",[h.a],Object.getOwnPropertyDescriptor(gt.prototype,"dispatchTransaction"),gt.prototype),babelHelpers.applyDecoratedDescriptor(gt.prototype,"handleClick",[h.a],Object.getOwnPropertyDescriptor(gt.prototype,"handleClick"),gt.prototype),babelHelpers.applyDecoratedDescriptor(gt.prototype,"handleDrop",[h.a],Object.getOwnPropertyDescriptor(gt.prototype,"handleDrop"),gt.prototype),babelHelpers.applyDecoratedDescriptor(gt.prototype,"doCommand",[h.a],Object.getOwnPropertyDescriptor(gt.prototype,"doCommand"),gt.prototype),babelHelpers.applyDecoratedDescriptor(gt.prototype,"onHideHTMLMode",[h.a],Object.getOwnPropertyDescriptor(gt.prototype,"onHideHTMLMode"),gt.prototype),babelHelpers.applyDecoratedDescriptor(gt.prototype,"onModalExited",[h.a],Object.getOwnPropertyDescriptor(gt.prototype,"onModalExited"),gt.prototype),babelHelpers.applyDecoratedDescriptor(gt.prototype,"getAnchorClickTarget",[h.a],Object.getOwnPropertyDescriptor(gt.prototype,"getAnchorClickTarget"),gt.prototype),babelHelpers.applyDecoratedDescriptor(gt.prototype,"setWrapperRef",[h.a],Object.getOwnPropertyDescriptor(gt.prototype,"setWrapperRef"),gt.prototype),ft=gt))||ft},"./src/udemy/js/base-components/rich-text-viewer.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return v});var o,n,i,s,a=r("./node_modules/autobind-decorator/lib/index.js"),l=r.n(a),c=r("./node_modules/jquery/dist/jquery.js-exposed"),u=r.n(c),p=r("./node_modules/mobx-react/index.module.js"),d=r("./node_modules/prop-types/index.js"),h=r.n(d),m=r("./node_modules/react/index.js"),b=r.n(m),y=r("./src/udemy/js/utils/ud-render-react-components.js"),f=r("./src/udemy/js/base-components/code-block.react-component.js"),g=r("./src/udemy/js/base-components/open-full-size-image.react-component.js"),v=Object(p.d)((s=i=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.fixupHtml()}},{key:"componentDidUpdate",value:function(e){e.unsafeHTML!==this.props.unsafeHTML&&this.fixupHtml()}},{key:"fixupHtml",value:function(){this.wrapCodeBlocks(this.$node),this.props.wrapImages&&this.wrapImages(this.$node),this.props.openBlankTarget&&this.blankTargets(this.$node)}},{key:"blankTargets",value:function(e){e.find("a").attr({target:"_blank",rel:"noopener noreferrer"})}},{key:"wrapCodeBlocks",value:function(e){var n=this,t=e.find("pre.prettyprint");u.a.each(t,function(e,t){var r=u()(t);if(!r.parent().hasClass("ud-component--base-components--code-block")){var o=u()('<div class="ud-component--base-components--code-block"></div>');r.wrap(o),Object(y.a)(r.parent(),".ud-component--base-components--code-block",f.a,babelHelpers.objectSpread({},n.props.prettify,{value:r.text(),className:r.attr("class")||"",showLineNumbers:r.hasClass("linenums")}))}})}},{key:"wrapImages",value:function(e){var t=e.find("img");u.a.each(t,function(e,t){var r=u()(t);if(r.addClass("hidden"),!r.next().hasClass("ud-component--base-components--open-full-size-image")){var o=u()('<span class="ud-component--base-components--open-full-size-image"></span>');r.after(o),Object(y.a)(o,".ud-component--base-components--open-full-size-image",g.a,{alt:r.attr("alt")||"",src:r.attr("src"),href:r.parent().attr("href")})}})}},{key:"setRefs",value:function(e){this.$node=u()(e)}},{key:"render",value:function(){var e=this.props,t=(e.prettify,e.wrapImages,e.unsafeHTML),r=(e.openBlankTarget,babelHelpers.objectWithoutProperties(e,["prettify","wrapImages","unsafeHTML","openBlankTarget"]));return b.a.createElement("div",Object.assign({ref:this.setRefs,dangerouslySetInnerHTML:{__html:t}},r))}}]),t}(m.Component),i.propTypes={unsafeHTML:h.a.string.isRequired,prettify:h.a.shape({preventClick:h.a.bool}),wrapImages:h.a.bool,openBlankTarget:h.a.bool},i.defaultProps={prettify:{},wrapImages:!1,openBlankTarget:!1},n=s,babelHelpers.applyDecoratedDescriptor(n.prototype,"setRefs",[l.a],Object.getOwnPropertyDescriptor(n.prototype,"setRefs"),n.prototype),o=n))||o},"./src/udemy/js/base-components/seen-by-user-tracker.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return b});var o,n,i,s=r("./node_modules/autobind-decorator/lib/index.js"),a=r.n(s),l=r("./node_modules/prop-types/index.js"),c=r.n(l),u=r("./node_modules/react/index.js"),p=r.n(u),d=r("./node_modules/react-waypoint/build/waypoint.js"),h=r.n(d),m=r("./src/udemy/js/utils/ud-user-tracker-logger.js"),b=(i=n=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).wasSeen=!1,t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"onEnter",value:function(){if(!this.wasSeen){var e=this.props,t=e.event,r=e.page,o=e.schema;m.a.logEvents({events:[t],page:r,schema:o}),this.wasSeen=!0}}},{key:"render",value:function(){return p.a.createElement(h.a,{onEnter:this.onEnter})}}]),i}(p.a.Component),n.propTypes={event:c.a.object.isRequired,page:c.a.string.isRequired,schema:c.a.string.isRequired},o=i,babelHelpers.applyDecoratedDescriptor(o.prototype,"onEnter",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"onEnter"),o.prototype),o)},"./src/udemy/js/base-components/tooltip-icon.global.less":function(e,t,r){},"./src/udemy/js/base-components/tooltip-icon.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return p});var o=r("./node_modules/prop-types/index.js"),n=r.n(o),i=r("./node_modules/react/index.js"),s=r.n(i),a=r("./src/udemy/js/base-components/icon.react-component.js"),l=r("./src/udemy/js/base-components/overlay-trigger.react-component.js"),c=r("./src/udemy/js/base-components/tooltip-container.react-component.js"),u=r("./src/udemy/js/base-components/tooltip.react-component.js"),p=(r("./src/udemy/js/base-components/tooltip-icon.global.less"),function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_renderWithTooltipContainer",value:function(e,t,r){return s.a.createElement(c.a,Object.assign({tooltip:t},r),e)}},{key:"_renderWithOverlayContainer",value:function(e,t,r){return s.a.createElement(l.a,Object.assign({overlay:t},r),e)}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.icon,o=e.tooltip,n=e.withOverlayTrigger,i=babelHelpers.objectWithoutProperties(e,["id","icon","tooltip","withOverlayTrigger"]);return"string"==typeof r&&(r=s.a.createElement(a.a,{glyph:"".concat(r,"-circle"),className:"tooltip-icon ".concat(r)})),o||(o=s.a.createElement(u.a,{id:t},this.props.children)),n?this._renderWithOverlayContainer(r,o,i):this._renderWithTooltipContainer(r,o,i)}}]),t}(i.Component));p.propTypes={id:n.a.string,icon:n.a.oneOfType([n.a.oneOf(["exclamation","question","info"]),n.a.node]).isRequired,tooltip:n.a.node,withOverlayTrigger:n.a.bool},p.defaultProps={id:void 0,tooltip:void 0,withOverlayTrigger:void 0}},"./src/udemy/js/base-components/truncate-with-tooltip.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return w});var o,n,i,s,a,l=r("./node_modules/autobind-decorator/lib/index.js"),c=r.n(l),u=r("./node_modules/mobx/lib/mobx.js"),p=r("./node_modules/mobx-react/index.module.js"),d=r("./node_modules/prop-types/index.js"),h=r.n(d),m=r("./node_modules/react/index.js"),b=r.n(m),y=r("./node_modules/react-truncate/lib/Truncate.js"),f=r("./src/udemy/js/base-components/tooltip-container.react-component.js"),g=r("./src/udemy/js/base-components/tooltip.react-component.js"),v=r("./src/udemy/js/utils/a11y.js"),w=Object(p.d)((a=s=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"isTruncated",i,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.tooltipId=Object(v.a)("truncate-with-tooltip"),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"onTruncate",value:function(e){this.isTruncated=e,this.props.truncateProps.onTruncate&&this.props.truncateProps.onTruncate(e)}},{key:"render",value:function(){var e=Object.assign({lines:this.props.lines},this.props.truncateProps),t=b.a.createElement(y.a,Object.assign({},e,{onTruncate:this.onTruncate}),this.props.children);if(!this.isTruncated)return t;var r=b.a.createElement(g.a,Object.assign({id:this.tooltipId},this.props.tooltipProps),this.props.tooltipContent?this.props.tooltipContent:this.props.children);return b.a.createElement(f.a,Object.assign({tooltip:r},this.props.tooltipContainerProps),t)}}]),r}(b.a.Component),s.propTypes={truncateProps:h.a.object,tooltipContainerProps:h.a.object,tooltipProps:h.a.object,tooltipContent:h.a.node,lines:h.a.number},s.defaultProps={truncateProps:{},tooltipContainerProps:{},tooltipProps:{},tooltipContent:null,lines:2},n=a,i=babelHelpers.applyDecoratedDescriptor(n.prototype,"isTruncated",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"onTruncate",[c.a,u.action],Object.getOwnPropertyDescriptor(n.prototype,"onTruncate"),n.prototype),o=n))||o},"./src/udemy/js/base-components/ui-sref.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return v});var o,n,i,s,a,l,c=r("./node_modules/autobind-decorator/lib/index.js"),u=r.n(c),p=r("./node_modules/jquery/dist/jquery.js-exposed"),d=r.n(p),h=r("./node_modules/mobx/lib/mobx.js"),m=r("./node_modules/mobx-react/index.module.js"),b=r("./node_modules/prop-types/index.js"),y=r.n(b),f=r("./node_modules/react/index.js"),g=r.n(f),v=(o=h.observable.ref,Object(m.d)((l=a=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"$node",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){this.$node.on("click",this.onClick)}},{key:"componentWillUnmount",value:function(){this.$node.off("click",this.onClick)}},{key:"onClick",value:function(e){var t=e.which||e.button,r=d()(e.target),o="string"==typeof this.props.to?this.props.to:this.props.to(e);o&&!(1<t||e.ctrlKey||e.metaKey||e.shiftKey||r.attr("target"))&&(this.$state&&this.$state.go(o,this.props.params,this.props.options),e.preventDefault())}},{key:"setRef",value:function(e){this.$node=d()(e)}},{key:"render",value:function(){var e=this.props,t=e.to,r=e.params,o=e.options,n=babelHelpers.objectWithoutProperties(e,["to","params","options"]),i=this.$state&&this.$state.href(t,r,o);return g.a.createElement("a",Object.assign({href:i,ref:this.setRef},n))}},{key:"$state",get:function(){var e=this.$node&&this.$node.injector&&this.$node.injector();return e&&e.get("$state")}}]),i}(f.Component),a.propTypes={to:y.a.oneOfType([y.a.string,y.a.func]).isRequired,params:y.a.object,options:y.a.object},a.defaultProps={params:void 0,options:void 0},i=l,s=babelHelpers.applyDecoratedDescriptor(i.prototype,"$node",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(i.prototype,"$state",[h.computed],Object.getOwnPropertyDescriptor(i.prototype,"$state"),i.prototype),babelHelpers.applyDecoratedDescriptor(i.prototype,"onClick",[u.a],Object.getOwnPropertyDescriptor(i.prototype,"onClick"),i.prototype),babelHelpers.applyDecoratedDescriptor(i.prototype,"setRef",[u.a,h.action],Object.getOwnPropertyDescriptor(i.prototype,"setRef"),i.prototype),n=i))||n)},"./src/udemy/js/base-components/view-more/view-more-container.less":function(e,t,r){e.exports={"view-more":"view-more-container--view-more--25_En","view-more__collapse-btn":"view-more-container--view-more__collapse-btn--1bVN9","view-more__button-container--gradient":"view-more-container--view-more__button-container--gradient--CmaZZ","view-more__button-container--gradient-clp":"view-more-container--view-more__button-container--gradient-clp--1ed1p","view-more__button-container--gradient-course-taking":"view-more-container--view-more__button-container--gradient-course-taking--21zk_","view-more__button-container--gradient-onboarding":"view-more-container--view-more__button-container--gradient-onboarding--2vkby","view-more__button-container--gradient-warning-alert":"view-more-container--view-more__button-container--gradient-warning-alert--2VEup","view-more__title":"view-more-container--view-more__title--3OY_y"}},"./src/udemy/js/base-components/view-more/view-more-container.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return S});var o,n,i,s,a=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),h=r.n(a),l=r("./node_modules/autobind-decorator/lib/index.js"),c=r.n(l),u=r("./node_modules/classnames/index.js"),m=r.n(u),p=r("./node_modules/lodash-es/noop.js"),d=r("./node_modules/mobx-react/index.module.js"),b=r("./node_modules/prop-types/index.js"),y=r.n(b),f=r("./node_modules/react/index.js"),g=r.n(f),v=r("./src/udemy/js/base-components/button.react-component.js"),w=(r("./src/udemy/js/base-components/view-more/view-more-container.less"),{"./view-more-container.less":{"view-more":"view-more-container--view-more--25_En","view-more__collapse-btn":"view-more-container--view-more__collapse-btn--1bVN9","view-more__button-container--gradient":"view-more-container--view-more__button-container--gradient--CmaZZ","view-more__button-container--gradient-clp":"view-more-container--view-more__button-container--gradient-clp--1ed1p","view-more__button-container--gradient-course-taking":"view-more-container--view-more__button-container--gradient-course-taking--21zk_","view-more__button-container--gradient-onboarding":"view-more-container--view-more__button-container--gradient-onboarding--2vkby","view-more__button-container--gradient-warning-alert":"view-more-container--view-more__button-container--gradient-warning-alert--2VEup","view-more__title":"view-more-container--view-more__title--3OY_y"}}),k=function(e){var t=e.title;return g.a.createElement("div",{className:"view-more-container--view-more__title--3OY_y",dangerouslySetInnerHTML:{__html:t}})};k.propTypes={title:y.a.string.isRequired};var C=function(e){var t=e.onClickHandler,r=e.toggleText,o=e.dataPurpose;return g.a.createElement(v.default,{"data-purpose":o,bsStyle:"link",className:"view-more-container--view-more__collapse-btn--1bVN9",onClick:t},r)},_={title:y.a.string,moreButtonLabel:y.a.string,lessButtonLabel:y.a.string,className:y.a.string,style:y.a.object,dataPurpose:y.a.string,gradientStyling:y.a.string,onShowMore:y.a.func,onShowLess:y.a.func},S=Object(d.d)((s=i=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClick",value:function(e){this.props.viewMoreStore.expanded?this.props.onShowLess(e):this.props.onShowMore(e),this.props.viewMoreStore.toggleExpanded(e)}},{key:"render",value:function(){var e=this.props,t=e.title,r=e.moreButtonLabel,o=e.lessButtonLabel,n=e.className,i=e.style,s=e.dataPurpose,a=e.children,l=e.shouldShowMoreButton,c=e.viewMoreStore,u=!c.expanded&&l,p=c.expanded?o:r,d=m()(babelHelpers.defineProperty({"view-more__button-container--gradient":u},"view-more__button-container--gradient-".concat(this.props.gradientStyling),this.props.gradientStyling));return g.a.createElement("div",{className:(n?n+" ":"")+"view-more-container--view-more--25_En",style:i},t&&g.a.createElement(k,{title:t}),a,l&&g.a.createElement("div",{className:h()(d,w)},g.a.createElement(C,{dataPurpose:s,onClickHandler:this.onClick,toggleText:p})))}}]),t}(f.Component),i.commonPropTypes=_,i.propTypes=babelHelpers.objectSpread({},_,{shouldShowMoreButton:y.a.bool.isRequired,viewMoreStore:y.a.shape({expanded:y.a.bool.isRequired,toggleExpanded:y.a.func.isRequired}).isRequired}),i.defaultProps={lessButtonLabel:"- ".concat(gettext("See less")),moreButtonLabel:"+ ".concat(gettext("See more")),className:"",style:{},gradientStyling:"",onShowMore:p.a,onShowLess:p.a,title:""},n=s,babelHelpers.applyDecoratedDescriptor(n.prototype,"onClick",[c.a],Object.getOwnPropertyDescriptor(n.prototype,"onClick"),n.prototype),o=n))||o},"./src/udemy/js/base-components/view-more/view-more-max-height-container.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return w});var o,n,i,s,a,l=r("./node_modules/autobind-decorator/lib/index.js"),c=r.n(l),u=r("./node_modules/mobx/lib/mobx.js"),p=r("./node_modules/mobx-react/index.module.js"),d=r("./node_modules/prop-types/index.js"),h=r.n(d),m=r("./node_modules/react/index.js"),b=r.n(m),y=r("./node_modules/react-measure/lib/react-measure.js"),f=r.n(y),g=r("./src/udemy/js/base-components/view-more/view-more-container.react-component.js"),v=r("./src/udemy/js/base-components/view-more/view-more.mobx-store.js"),w=Object(p.d)((a=s=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"contentDimensions",i,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.viewMoreStore=new v.a,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"setContentDimensions",value:function(e){this.contentDimensions=e}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.collapsedHeight,o=babelHelpers.objectWithoutProperties(e,["children","collapsedHeight"]),n=Boolean(this.contentDimensions&&this.contentDimensions.height>r),i=!this.viewMoreStore.expanded&&n&&0!==r?{height:"".concat(r,"px"),overflow:"hidden"}:{};return b.a.createElement(g.a,Object.assign({shouldShowMoreButton:n,viewMoreStore:this.viewMoreStore},o),b.a.createElement("div",{style:i},b.a.createElement(f.a,{onMeasure:this.setContentDimensions},b.a.createElement("div",null,t))))}}]),r}(m.Component),s.propTypes=babelHelpers.objectSpread({},g.a.commonPropTypes,{collapsedHeight:h.a.number.isRequired}),s.defaultProps=babelHelpers.objectSpread({},g.a.defaultProps),n=a,i=babelHelpers.applyDecoratedDescriptor(n.prototype,"contentDimensions",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"setContentDimensions",[c.a,u.action],Object.getOwnPropertyDescriptor(n.prototype,"setContentDimensions"),n.prototype),o=n))||o},"./src/udemy/js/base-components/view-more/view-more.mobx-store.js":function(e,t,r){"use strict";r.d(t,"a",function(){return s});var o,n,i=r("./node_modules/mobx/lib/mobx.js"),s=(o=function(){function e(){babelHelpers.classCallCheck(this,e),babelHelpers.initializerDefineProperty(this,"expanded",n,this)}return babelHelpers.createClass(e,[{key:"toggleExpanded",value:function(){this.expanded=!this.expanded}}]),e}(),n=babelHelpers.applyDecoratedDescriptor(o.prototype,"expanded",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(o.prototype,"toggleExpanded",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"toggleExpanded"),o.prototype),o)},"./src/udemy/js/browse/lib/constants.js":function(e,t,r){"use strict";r.d(t,"t",function(){return o}),r.d(t,"f",function(){return n}),r.d(t,"g",function(){return i}),r.d(t,"h",function(){return s}),r.d(t,"i",function(){return a}),r.d(t,"j",function(){return l}),r.d(t,"k",function(){return c}),r.d(t,"l",function(){return u}),r.d(t,"m",function(){return p}),r.d(t,"n",function(){return d}),r.d(t,"o",function(){return h}),r.d(t,"q",function(){return m}),r.d(t,"r",function(){return b}),r.d(t,"p",function(){return y}),r.d(t,"b",function(){return f}),r.d(t,"a",function(){return g}),r.d(t,"c",function(){return v}),r.d(t,"u",function(){return w}),r.d(t,"d",function(){return k}),r.d(t,"e",function(){return C});var o={allCoursesContext:"all-courses",featuredContext:"featured",featuredPageContext:"feature",myCoursesContext:"my-courses",learningContext:"learning",collectionContext:"collection",wishlistContext:"wishlist",becauseYouEnrolled:"enroll-recommendation",becauseYouSearched:"search-recommendation",becauseYouViewed:"view-recommendation",bestsellers:"best-seller",studentsAreViewing:"students-are-viewing",newAndNoteworthy:"new-and-noteworthy",yourWishlist:"wishlist",frequentlyBought:"frequentitemsrecommendation",tagBasedUnit:"tag-du",topicPage:"topic",topic:"all-courses",channelContextMap:{category:"cat_ch",collection:"coll_ch",dynamic_tag_collection:"cl",featured:"ft_ch",home:"home_ch",keyword:"kw_ch",logged_in_homepage:"ft_ch",logged_out_homepage:"home_ch",subcategory:"scat_ch",topic:"cl"}},n="category",i="curriculum_topic_page",s="deal",a="featured_topics_page",l="logged_in_homepage",c="logged_out_homepage",u="logout_page",p="org_category",d="org_logged_in_homepage",h="org_subcategory",m="subcategory",b="topic",y="org_topic",f="price",g=n,v=m;function w(e){var t={curriculum_topic:"CurriculumTopicPage",home:"Home",featured:"FeaturedPage",logout:"Logout",logged_in_homepage:"LoggedInHomePage",logged_out_homepage:"LoggedOutHomePage",category:"CategoryPage",subcategory:"SubcategoryPage",topic:"TopicPage"};return t[e]?"".concat(t[e],".course-list-unit-first-img-loaded"):null}t.s=[n,i,s,a,l,c,u,p,d,h,m,b,y];var k="web",C="seo"},"./src/udemy/js/caption/caption.mobx-model.js":function(e,t,r){"use strict";r.d(t,"b",function(){return h}),r.d(t,"a",function(){return m});var o,n,i,s,a,l=r("./node_modules/axios/index.js"),c=r.n(l),u=r("./node_modules/mobx/lib/mobx.js"),p=r("./src/udemy/js/caption/cue.mobx-model.js"),d=r("./src/udemy/js/caption/vtt-parser.js"),h=(o=u.observable.ref,n=function(){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.initializerDefineProperty(this,"_cues",i,this),babelHelpers.initializerDefineProperty(this,"isLoaded",s,this),babelHelpers.initializerDefineProperty(this,"error",a,this),this.id=e.id,this.locale=e.locale.locale,this.language=this.locale.slice(0,2),this.source=e.source,this.title=e.title,this.url=e.url,this.isTranslation=e.is_translation,this._correctedCueIds=(e.corrected_cue_ids||[]).map(function(e){return parseInt(e,10)})}return babelHelpers.createClass(t,[{key:"constructCue",value:function(e){return new p.b(e)}},{key:"loadFromSource",value:function(){var t=this,r=0;return c.a.get(this.url).then(function(e){Object(d.b)(e.data,Object(u.action)(function(e){e.id=r,e.isCorrect=t._correctedCueIds.includes(r),t._cues.push(t.constructCue(e)),r++}),Object(u.action)(function(){t.isLoaded=!0}),Object(u.action)(function(e){t.error=e}))}).catch(Object(u.action)(function(e){t.error=e}))}},{key:"cues",get:function(){return this.isLoaded?this._cues:[]}},{key:"asString",get:function(){return["WEBVTT",this.cues.map(function(e){var t=Object(p.a)(e.startTime,3),r=Object(p.a)(e.endTime,3);return[e.id,"".concat(t," --\x3e ").concat(r),e.text].join("\n")}).join("\n\n")].join("\n\n")}},{key:"correctedCueIds",get:function(){return this.cues.reduce(function(e,t){return t.isCorrect&&e.push(t.id),e},[])}}]),t}(),i=babelHelpers.applyDecoratedDescriptor(n.prototype,"_cues",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=babelHelpers.applyDecoratedDescriptor(n.prototype,"isLoaded",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=babelHelpers.applyDecoratedDescriptor(n.prototype,"error",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"cues",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"cues"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"asString",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"asString"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"correctedCueIds",[u.computed],Object.getOwnPropertyDescriptor(n.prototype,"correctedCueIds"),n.prototype),n);function m(e,t){var r=new Blob([e.asString],{type:"text/vtt"});return r.name=t,r}},"./src/udemy/js/caption/cue.mobx-model.js":function(e,t,r){"use strict";r.d(t,"b",function(){return c}),r.d(t,"a",function(){return u});var o,n,i,s=r("./node_modules/lodash-es/unescape.js"),a=r("./node_modules/mobx/lib/mobx.js"),l=r("./src/udemy/js/utils/ud-utils.js"),c=(o=function(){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.initializerDefineProperty(this,"text",n,this),babelHelpers.initializerDefineProperty(this,"isCorrect",i,this),this.id=parseInt(e.id,10),this.startTime=e.startTime,this.endTime=e.endTime,this.setObservablesFromAPIData(e)}return babelHelpers.createClass(t,[{key:"setObservablesFromAPIData",value:function(e){this.text=e.text,this.isCorrect=e.isCorrect}},{key:"setText",value:function(e){this.text=e}},{key:"markCorrect",value:function(e){this.isCorrect=e}},{key:"displayText",get:function(){return Object(s.a)(l.b.trimTags(this.text))}}]),t}(),n=babelHelpers.applyDecoratedDescriptor(o.prototype,"text",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=babelHelpers.applyDecoratedDescriptor(o.prototype,"isCorrect",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(o.prototype,"setObservablesFromAPIData",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"setObservablesFromAPIData"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"setText",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"setText"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"markCorrect",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"markCorrect"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"displayText",[a.computed],Object.getOwnPropertyDescriptor(o.prototype,"displayText"),o.prototype),o);function u(e,t){var r=(e%1).toFixed(t).substring(2);e=Math.trunc(e);var o=Math.floor(e/3600),n=Math.floor(e/60)-60*o,i=e-(3600*o+60*n);function s(e){var t="".concat(e);return"00".substring(0,2-t.length)+t}var a=[s(n),s(i)];return 0<o&&a.unshift(s(o)),"".concat(a.join(":")).concat(t?".".concat(r):"")}},"./src/udemy/js/caption/vtt-parser.js":function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return s});var i=r("./node_modules/videojs-vtt.js/lib/browser-index.js"),o={_parseVTT:function(e,t,r,o){var n=new i.WebVTT.Parser(null,i,i.WebVTT.StringDecoder());n.oncue=t,n.onflush=r,n.onparsingerror=o,n.parse(e),n.flush()}};function n(){return o._parseVTT.apply(o,arguments)}function s(e){return!e.trim().length||!i.WebVTT.convertCueToDOMTree(window,e).textContent.trim().length}},"./src/udemy/js/channel-dashboard-v2/channel/channel-utils.ng-factory.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),c=r.n(o),n=r("./src/udemy/js/ng/constants/channel.ng-constant.js"),i=r("./src/udemy/js/ng/ud-translate.ng-service.js");e=c.a.module("channel-dashboard-v2/channel/channel-utils.ng-factory",[i.a.name,n.a.name]).factory("ChannelUtils",s);function s(e,t,r,o,n,i){var s={modifyAndAppendCourses:function(e,t){if(!t)return;var r=e.length+1;c.a.forEach(t,function(e){e.position=r,r+=1}),Array.prototype.push.apply(e,t)},initializeChannel:function(e){a[l=e]||(a[e]={})},setChannelsContent:function(e){a[l]=e},getChannelsContent:function(){return a[l]},updateChannelContentWithCourses:function(t,e){if(a[l]&&a[l].discoveryUnits){var r=a[l].discoveryUnits.findIndex(function(e){return e.id==t}),o=a[l].discoveryUnits[r].courses||[];0<e.length&&-1!=r?a[l].discoveryUnits[r].courses=o.concat(e):0==e.length&&-1!=r&&0==o.length&&a[l].discoveryUnits.splice(r,1)}},getChannelType:function(){{if("keywordTitle"in e.params)return t;if("subcategoryTitle"in e.params)return n;if("collectionTitle"in e.params)return r;if("categoryTitle"in e.params)return o}return i}},a={},l=0;return s}s.$inject=["$state","KEYWORD_CHANNEL","COLLECTION_CHANNEL","CATEGORY_CHANNEL","SUBCATEGORY_CHANNEL","FEATURED_CHANNEL"],t.a=e},"./src/udemy/js/channel-dashboard-v2/channel/channel.ng-factory.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),v=r.n(o),n=(r("./node_modules/angular-ui-router/release/angular-ui-router.js"),r("./src/udemy/js/ng/constants/channel.ng-constant.js")),w=r("./src/udemy/js/utils/ud-api.js"),i=r("./src/udemy/js/channel-dashboard-v2/channel/channel-utils.ng-factory.js");e=v.a.module("channel-dashboard-v2/channel/channel.ng-factory",["ui.router",i.a.name,n.a.name]).factory("Channel",s);function s(r,e,i,o,n,s,a){function t(t){return function(e){return o(o("/api-2.0{{url}}")({url:t}))(e)}}var l=t("/channels/{{id}}/discovery-units"),c=t("/discovery-units/{{id}}/courses"),u=t("/discovery-units/{{id}}"),p=t("/channels/{{id}}/hierarchy-channels"),d=t("/discovery-units/{{id}}/channels"),h=t("/channels/{{id}}/courses"),m=t("/tags/{{id}}/tag-courses"),b=t("/channels/{{id}}/"),y=n.APIPromises,f={getDiscoveryUnits:function(e){if(y&&y.discoveryUnits)return y.discoveryUnits.then(function(e){return{data:JSON.parse(e)}});return i({method:"GET",url:l({id:e.id}),params:{},cache:!0})},getCoursesOfDiscoveryUnit:function(e,t,r){r=r||{},e&&v.a.extend(r,{channel_id:e.id});return i.get(c({id:t}),{params:r})},getHierarchyChannels:function(e){if(y&&y.hierarchyChannels)return y.hierarchyChannels.then(function(e){return{data:JSON.parse(e)}});return i.get(p({id:e.id}))},getChannelsOfDiscoveryUnitWithParams:function(e,t,r){r=r||{},t&&v.a.extend(r,{channel_id:t.id});return i.get(d({id:e}),{params:r})},getCoursesOfChannel:function(e,t){return i.get(h({id:e.id}),{params:t})},getTagCoursesOfChannel:function(e,t){return i.get(m({id:e.courseLabelId}),{params:t})},getCurrentDiscoveryUnit:function(){{if(null!==e.unit)return n.UD.discoveryUnit=e.unit,e.unit;if(n.UD.discoveryUnit)return n.UD.discoveryUnit}},getCurrentChannel:function(e){if(n.UD&&n.UD.channel)return s(function(e){e(n.UD.channel)});if(g)return g;var t="title,has_featured,channel_type,ranking_method,is_sync_channel,is_full_width,skin,meta_data,collection_channel_type";return g=w.c.get("/channels/info",{params:{"fields[category_channel]":t,"fields[collection_channel]":"".concat(t,",description,banner_image_url,banner_background_color"),"fields[keyword_channel]":t,"fields[subcategory_channel]":"".concat(t,",category_of_parent_channel"),"fields[featured_channel]":"".concat(t),"fields[course_category]":"title,url","fields[homepage_channel]":t,subcategory_title:r.params.subcategoryTitle,category_title:r.params.categoryTitle,keyword_title:r.params.keywordTitle,collection_title:r.params.collectionTitle,channel_type:e}}).then(function(e){var t,r=e.data;return n.UD.channel={id:r.id,title:r.title,skin:r.skin,hasFeatured:r.has_featured,channelType:r.channel_type,description:r.description,channelRankingMethod:r.ranking_method,isSyncChannel:r.is_sync_channel,isFullWidth:r.is_full_width,discoveryUnitHash:"",collectionChannelType:r.collection_channel_type,banner:{imageUrl:r.banner_image_url,background:{"background-color":r.banner_background_color},url:""}},r.category_of_parent_channel&&(n.UD.channel.parentChannel={title:r.category_of_parent_channel.title,url:r.category_of_parent_channel.url}),g=null,t=r.meta_data,n.document.title=t.title_tag,n.document.getElementsByName("title")[0].content=t.title_tag,n.document.getElementsByName("twitter:title")[0].content=t.title_tag,n.document.querySelector('meta[property="og:title"]').content=t.title_tag,n.document.querySelector('meta[itemprop="name"]').content=t.title_tag,n.document.getElementsByName("description")[0].content=t.description,n.document.getElementsByName("twitter:description")[0].content=t.description,n.document.querySelector('meta[property="og:description"]').content=t.description,n.document.querySelector('meta[itemprop="description"]').content=t.description,n.document.getElementsByName("twitter:url")[0].content=n.location.href,n.document.querySelector('meta[property="og:url"]').content=n.location.href,n.document.querySelector('meta[itemprop="url"]').content=n.location.href,n.UD.channel})},getContentOfDiscoveryUnit:function(e){return i.get(u({id:e}))},getContentOfDiscoveryUnitWithParams:function(e,t,r){r=r||{},t&&v.a.extend(r,{channel_id:t.id});return i.get(u({id:e}),{params:r})},getChannelDiscoveryUnitsWithContent:function(e,t,r,o){var n={page_size:t||a.pageSize};r&&v.a.extend(n,{locale:r});o&&v.a.extend(n,{currency:o});if(y&&y.discoveryUnitsWithContent)return y.discoveryUnitsWithContent.then(function(e){return{data:JSON.parse(e)}});return i.get(b({id:e.id}),{params:n})},resetCurrentChannel:function(){n.UD.channel=null,n.APIPromises&&(n.APIPromises.discoveryUnits=null,n.APIPromises.discoveryUnitsWithContent=null,n.APIPromises.hierarchyChannels=null);g=null}},g=null;return f}s.$inject=["$state","$stateParams","$http","$interpolate","$window","$q","CoursePagination"],t.a=e},"./src/udemy/js/course-landing-components/components/trusted-html/trusted-html.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return p});var o,n,i,s=r("./node_modules/mobx-react/index.module.js"),a=r("./node_modules/prop-types/index.js"),l=r.n(a),c=r("./node_modules/react/index.js"),u=r.n(c),p=Object(s.d)((i=n=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return u.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.content}})}}]),t}(u.a.Component),n.propTypes={content:l.a.string},n.defaultProps={content:void 0},o=i))||o},"./src/udemy/js/course-reviews/attributes/confirmation-page.less":function(e,t,r){e.exports={"main-header":"confirmation-page--main-header--p6G_5","public-review-notice":"confirmation-page--public-review-notice--oQ2D7","page-container":"confirmation-page--page-container--1WD0N","review-container":"confirmation-page--review-container--1WD9J"}},"./src/udemy/js/course-reviews/attributes/confirmation-page.react-component.js":function(e,t,r){"use strict";var o,n,i,s=r("./node_modules/mobx-react/index.module.js"),a=r("./node_modules/prop-types/index.js"),l=r.n(a),c=r("./node_modules/react/index.js"),u=r.n(c),p=r("./src/udemy/js/share/constants.js"),d=r("./src/udemy/js/share/marketplace-social-share-button.react-component.js"),h=r("./src/udemy/js/share/social-share.mobx-store.js"),m=r("./src/udemy/js/course-reviews/display/individual-review.react-component.js");r("./src/udemy/js/course-reviews/attributes/confirmation-page.less");r.d(t,"a",function(){return b});var b=Object(s.d)((i=n=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).socialShareStore=new h.a({id:e.course.id,type:"course",is_private:e.course.is_private,title:e.course.title},e.course.url,p.f.HIGH_RATING),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(){var e=this.props;return u.a.createElement("div",{className:"confirmation-page--page-container--1WD0N"},u.a.createElement("h2",{className:"confirmation-page--main-header--p6G_5","data-purpose":"main-header"},gettext("Thanks for helping our community!")),u.a.createElement("p",{className:"confirmation-page--public-review-notice--oQ2D7","data-purpose":"public-review-notice"},gettext("Your review will be public within 24 hours.")),u.a.createElement("div",{className:"confirmation-page--review-container--1WD9J"},u.a.createElement(m.a,{"data-purpose":"review-preview",review:{content:e.reviewText,rating:e.rating,user:e.user}})),4<=e.rating&&u.a.createElement(d.a,{store:this.socialShareStore,showReferralTerms:!0}))}}]),r}(c.Component),n.propTypes={course:l.a.object.isRequired,reviewText:l.a.string.isRequired,rating:l.a.number.isRequired,user:l.a.object.isRequired},o=i))||o},"./src/udemy/js/course-reviews/common/alt-leave-rating.mobx-store.js":function(e,t,r){"use strict";r.d(t,"a",function(){return l});var o,p,d,n=r("./node_modules/autobind-decorator/lib/index.js"),i=r.n(n),h=r("./node_modules/mobx/lib/mobx.js"),s=r("./src/udemy/js/utils/ud-me.js"),a=r("./src/udemy/js/utils/ud-utils.js"),m=r("./src/udemy/js/course-reviews/common/review-backend.js"),l=(o=function(){function u(e,t,r,o,n){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,s=6<arguments.length&&void 0!==arguments[6]&&arguments[6],a=7<arguments.length&&void 0!==arguments[7]&&arguments[7],l=8<arguments.length&&void 0!==arguments[8]&&arguments[8],c=9<arguments.length&&void 0!==arguments[9]?arguments[9]:Object(m.a)();babelHelpers.classCallCheck(this,u),babelHelpers.initializerDefineProperty(this,"showEditPopup",p,this),babelHelpers.initializerDefineProperty(this,"isFocused",d,this),Object(h.extendObservable)(this,{course:e,review:t,sourcePage:r,isInstructor:a,emptyReviewText:o,existingReviewText:n,hoverStateText:i,autoOpen:l}),this.backend=c.forCourse(e.id),s&&!a&&this._loadReview()}return babelHelpers.createClass(u,[{key:"_loadReview",value:function(){var t=this;return this.backend.get({user:s.a.id}).then(function(e){return t.setReview(e),t.autoOpen&&t.review&&t.onShowEditPopup(),t.review})}},{key:"reviewPageUrl",value:function(e){var t=e,r="dh";return"my_courses"===this.sourcePage&&(t+=this.course.published_title,r="mc"),(t+="/reviews/?location=".concat(r)).replace(/\/+/g,"/")}},{key:"setIsFocused",value:function(e){this.isFocused=e}},{key:"setReview",value:function(e){this.review=e}},{key:"setCourse",value:function(e){this.course=e}},{key:"onShowEditPopup",value:function(){this.showEditPopup=!0}},{key:"hideEditPopup",value:function(){this.showEditPopup=!1}},{key:"onHideEditPopup",value:function(){this.showEditPopup=!1}},{key:"onDeleteReview",value:function(){var e=this;return this.backend.delete(this.review.id).then(function(){return e.setReview(null),e.hideEditPopup(),e.review}).catch(function(){e.hideEditPopup(),a.b.Feedback.fromText(gettext("An error occurred while deleting your review. Please try again."),a.b.MessageType.error)})}},{key:"helperText",get:function(){return this.review?this.isFocused&&this.hoverStateText||this.existingReviewText:this.emptyReviewText}}]),u}(),p=babelHelpers.applyDecoratedDescriptor(o.prototype,"showEditPopup",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=babelHelpers.applyDecoratedDescriptor(o.prototype,"isFocused",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(o.prototype,"helperText",[h.computed],Object.getOwnPropertyDescriptor(o.prototype,"helperText"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"reviewPageUrl",[i.a],Object.getOwnPropertyDescriptor(o.prototype,"reviewPageUrl"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"setIsFocused",[i.a,h.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsFocused"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"setReview",[i.a,h.action],Object.getOwnPropertyDescriptor(o.prototype,"setReview"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"setCourse",[i.a,h.action],Object.getOwnPropertyDescriptor(o.prototype,"setCourse"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onShowEditPopup",[i.a,h.action],Object.getOwnPropertyDescriptor(o.prototype,"onShowEditPopup"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"hideEditPopup",[i.a,h.action],Object.getOwnPropertyDescriptor(o.prototype,"hideEditPopup"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onHideEditPopup",[i.a,h.action],Object.getOwnPropertyDescriptor(o.prototype,"onHideEditPopup"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onDeleteReview",[i.a],Object.getOwnPropertyDescriptor(o.prototype,"onDeleteReview"),o.prototype),o)},"./src/udemy/js/course-reviews/common/alt-leave-rating.react-component.js":function(e,t,r){"use strict";var o,n,s,i,a,l,c,u,p,d=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),h=r.n(d),m=r("./node_modules/autobind-decorator/lib/index.js"),b=r.n(m),y=r("./node_modules/classnames/index.js"),f=r.n(y),g=r("./node_modules/lodash-es/noop.js"),v=r("./node_modules/mobx-react/index.module.js"),w=r("./node_modules/prop-types/index.js"),k=r.n(w),C=r("./node_modules/react/index.js"),_=r.n(C),S=r("./src/udemy/js/base-components/star-rating.react-component.js"),j=r("./src/udemy/js/utils/a11y.js"),E=r("./node_modules/mobx/lib/mobx.js"),D=r("./src/udemy/js/base-components/button-toolbar.react-component.js"),x=r("./src/udemy/js/base-components/button.react-component.js"),O=r("./src/udemy/js/base-components/modal.react-component.js"),T=(r("./src/udemy/js/course-reviews/common/review-popup.less"),r("./src/udemy/js/course-reviews/display/individual-review.react-component.js")),P=Object(v.d)((a=i=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isDeleteAttempted",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.show!=this.props.show&&e.show&&this.onCancelDeleteClicked()}},{key:"onDeleteClicked",value:function(){this.isDeleteAttempted=!0,this.props.onLogAction("view-popup-delete-confirmation")}},{key:"onCancelDeleteClicked",value:function(){this.isDeleteAttempted=!1,this.props.onLogAction("view-popup-review-summary")}},{key:"renderDeleteConfirmation",value:function(){return _.a.createElement("div",null,_.a.createElement("p",{className:"review-popup--confirmation-text--1p38u"},gettext("Are you sure you want to delete your review?")),_.a.createElement(D.a,{className:"review-popup--button-toolbar--1x99T"},_.a.createElement(x.default,{"data-purpose":"cancel-delete-button",onClick:this.onCancelDeleteClicked},gettext("Cancel")),_.a.createElement(x.default,{"data-purpose":"delete-button-confirm",bsStyle:"danger",onClick:this.props.onDeleteConfirmed},gettext("Yes, Delete My Review"))))}},{key:"renderDialog",value:function(){return _.a.createElement("div",null,_.a.createElement(T.a,{className:"review-popup--review-container--2HhTL",review:this.props.review,previewMode:!0}),_.a.createElement(D.a,{className:"review-popup--button-toolbar--1x99T"},_.a.createElement(x.default,{"data-purpose":"delete-button",bsStyle:"danger",onClick:this.onDeleteClicked},gettext("Delete")),_.a.createElement(x.default,{"data-purpose":"edit-button",bsStyle:"primary",onClick:this.props.onEditClicked},gettext("Edit Review"))))}},{key:"render",value:function(){if(!this.props.show)return null;var e=this.isDeleteAttempted?this.renderDeleteConfirmation():this.renderDialog(),t=this.isDeleteAttempted?gettext("Delete Your Review?"):gettext("Your Review");return _.a.createElement(O.a,{show:this.props.show,onHide:this.props.onHide},_.a.createElement(O.a.Header,{closeButton:!0},_.a.createElement(O.a.Title,null,t)),_.a.createElement(O.a.Body,null,e))}}]),i}(C.Component),i.propTypes={show:k.a.bool,onDeleteConfirmed:k.a.func,onEditClicked:k.a.func,onHide:k.a.func,onLogAction:k.a.func,review:k.a.object.isRequired},i.defaultProps={show:!0,onDeleteConfirmed:g.a,onEditClicked:g.a,onHide:g.a,onLogAction:g.a},n=a,s=babelHelpers.applyDecoratedDescriptor(n.prototype,"isDeleteAttempted",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"onDeleteClicked",[b.a,E.action],Object.getOwnPropertyDescriptor(n.prototype,"onDeleteClicked"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"onCancelDeleteClicked",[b.a,E.action],Object.getOwnPropertyDescriptor(n.prototype,"onCancelDeleteClicked"),n.prototype),o=n))||o;r("./src/udemy/js/course-reviews/common/leave-rating.less");r.d(t,"a",function(){return R});var H={"./leave-rating.less":{"review-container":"leave-rating--review-container--RqDHa","review-container--vertical":"leave-rating--review-container--vertical--120k4","review-container--horizontal":"leave-rating--review-container--horizontal--3WGfJ","helper-text":"leave-rating--helper-text--21RPx","num-reviews-text":"leave-rating--num-reviews-text--6a_Jk"}},A=function(e){var t=e.store,r="/home/teaching/reviews/?course=".concat(t.course.id);return _.a.createElement("div",null,t.course.rating?_.a.createElement(S.b,{rating:t.course.rating||0,size:"small","data-purpose":"star-rating-ins"}):null,0<t.course.numReviews?_.a.createElement("a",{href:r,className:"leave-rating--num-reviews-text--6a_Jk","data-purpose":"reviews-link"},ninterpolate(gettext("%s review"),gettext("%s reviews"),t.course.numReviews)):null)};A.propTypes={store:k.a.object.isRequired};var I=Object(v.d)(function(e){var t=e.store,r=e.layout,o=e.onRatingClick,n=e.onMouseEnter,i=e.onMouseLeave,s={"review-container--vertical":"vertical"===r,"review-container--horizontal":"horizontal"===r};return _.a.createElement("div",{onMouseEnter:n,onMouseLeave:i,onClick:o,onKeyDown:Object(j.b)(o),role:"button",tabIndex:"0","data-purpose":"review-button",className:h()(f()(s),H)},_.a.createElement(S.b,{rating:t.review?t.review.rating:0,size:"small","data-purpose":"star-rating"}),_.a.createElement("span",{className:"leave-rating--helper-text--21RPx","data-purpose":"helper-text"},t.helperText))});I.propTypes={store:k.a.object.isRequired,layout:k.a.oneOf(["horizontal","vertical"]).isRequired,onRatingClick:k.a.func.isRequired,onMouseEnter:k.a.func.isRequired,onMouseLeave:k.a.func.isRequired};var R=Object(v.d)((p=u=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"goToReview",value:function(){var e=this.props.store;e.onHideEditPopup(),window.location.href=e.reviewPageUrl(this.baseUrl)}},{key:"onMouseEnter",value:function(){this.props.store.setIsFocused(!0)}},{key:"onMouseLeave",value:function(){this.props.store.setIsFocused(!1)}},{key:"onRatingClick",value:function(e){var t=this.props.store;t.review?t.onShowEditPopup():this.goToReview(),e.preventDefault()}},{key:"onDeleteReview",value:function(){this.props.store.onDeleteReview(),this.props.onDeleteReview()}},{key:"render",value:function(){var e=this.props,t=e.store,r=e.layout;return _.a.createElement("div",null,t.review?_.a.createElement(P,{review:t.review,show:t.showEditPopup,onEditClicked:this.goToReview,onDeleteConfirmed:this.onDeleteReview,onHide:t.onHideEditPopup,"data-purpose":"review-popup"}):null,t.isInstructor?_.a.createElement(A,{store:t,"data-purpose":"instructor-component"}):_.a.createElement(I,{store:t,layout:r,onRatingClick:this.onRatingClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,"data-purpose":"student-component"}))}},{key:"baseUrl",get:function(){return this.props.baseUrl||location.pathname}}]),t}(C.Component),u.propTypes={store:k.a.object.isRequired,layout:k.a.oneOf(["horizontal","vertical"]),onDeleteReview:k.a.func,baseUrl:k.a.string},u.defaultProps={layout:"vertical",onDeleteReview:g.a,baseUrl:""},c=p,babelHelpers.applyDecoratedDescriptor(c.prototype,"goToReview",[b.a],Object.getOwnPropertyDescriptor(c.prototype,"goToReview"),c.prototype),babelHelpers.applyDecoratedDescriptor(c.prototype,"onMouseEnter",[b.a],Object.getOwnPropertyDescriptor(c.prototype,"onMouseEnter"),c.prototype),babelHelpers.applyDecoratedDescriptor(c.prototype,"onMouseLeave",[b.a],Object.getOwnPropertyDescriptor(c.prototype,"onMouseLeave"),c.prototype),babelHelpers.applyDecoratedDescriptor(c.prototype,"onRatingClick",[b.a],Object.getOwnPropertyDescriptor(c.prototype,"onRatingClick"),c.prototype),babelHelpers.applyDecoratedDescriptor(c.prototype,"onDeleteReview",[b.a],Object.getOwnPropertyDescriptor(c.prototype,"onDeleteReview"),c.prototype),l=c))||l},"./src/udemy/js/course-reviews/common/leave-rating.less":function(e,t,r){e.exports={"review-container":"leave-rating--review-container--RqDHa","review-container--vertical":"leave-rating--review-container--vertical--120k4","review-container--horizontal":"leave-rating--review-container--horizontal--3WGfJ","helper-text":"leave-rating--helper-text--21RPx","num-reviews-text":"leave-rating--num-reviews-text--6a_Jk"}},"./src/udemy/js/course-reviews/common/review-backend.js":function(e,t,r){"use strict";r.d(t,"a",function(){return o});var i=r("./src/udemy/js/utils/ud-api.js");function o(){var o={"fields[course_review]":"@min,location,response"},n=function(e,t){return t?"courses/".concat(e,"/reviews/").concat(t):"courses/".concat(e,"/reviews")};return{forCourse:function(r){return{create:function(e){return i.c.post(n(r),e,{params:o})},update:function(e,t){return i.c.patch(n(r,e),t,{params:o})},get:function(e){return i.c.get(n(r),{params:babelHelpers.objectSpread({},e,o)}).then(function(e){return 0<e.data.results.length?e.data.results[0]:null})},delete:function(e){return i.c.delete(n(r,e))}}}}}},"./src/udemy/js/course-reviews/common/review-popup.less":function(e,t,r){e.exports={"button-toolbar":"review-popup--button-toolbar--1x99T","confirmation-text":"review-popup--confirmation-text--1p38u","review-container":"review-popup--review-container--2HhTL"}},"./src/udemy/js/course-reviews/course-complete-prompt/course-complete-prompt.less":function(e,t,r){e.exports={"exit-to-dashboard":"course-complete-prompt--exit-to-dashboard--245oh","button-primary":"course-complete-prompt--button-primary--zyldK"}},"./src/udemy/js/course-reviews/course-complete-prompt/course-complete-prompt.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return C});var o,n,i,s,a=r("./node_modules/autobind-decorator/lib/index.js"),l=r.n(a),c=r("./node_modules/classnames/index.js"),u=r.n(c),p=r("./node_modules/mobx/lib/mobx.js"),d=r("./node_modules/mobx-react/index.module.js"),h=r("./node_modules/prop-types/index.js"),m=r.n(h),b=r("./node_modules/react/index.js"),y=r.n(b),f=r("./src/udemy/js/base-components/button-toolbar.react-component.js"),g=r("./src/udemy/js/base-components/button.react-component.js"),v=r("./src/udemy/js/base-components/universal/variables.js"),w=r("./src/udemy/js/utils/window-measurement.mobx-store.js"),k=(r("./src/udemy/js/course-reviews/course-complete-prompt/course-complete-prompt.less"),{course_taking__final:gettext("Would you like to update your review?"),"course_taking__initial--end":gettext("Would you like to leave a review?")}),C=Object(d.d)((s=i=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).getSecondaryMessage=function(){return k[t.props.courseReviewLocation]},t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"onClickCancel",value:function(){this.props.onCancel(!1)}},{key:"render",value:function(){var e=this.props.onConfirm,t=u()({"fx-c":!this.isMobileViewPortSize});return y.a.createElement("div",null,this.props.showDashboardLink&&y.a.createElement("div",{className:"course-complete-prompt--exit-to-dashboard--245oh"},y.a.createElement(g.default,{bsStyle:"quintinary",onClick:this.onClickCancel},gettext("Exit to Dashboard"))),y.a.createElement("div",{className:"pb-space-lg"},y.a.createElement("h2",null,"🙌"," ",gettext("Congrats on finishing the course!")),y.a.createElement("h2",{"data-purpose":"secondary-message"},this.getSecondaryMessage())),y.a.createElement(f.a,{className:t},y.a.createElement(g.default,{className:"course-complete-prompt--button-primary--zyldK",bsStyle:"secondary",onClick:e,block:this.isMobileViewPortSize},gettext("Sure")),y.a.createElement(g.default,{bsStyle:"quaternary",onClick:this.onClickCancel,block:this.isMobileViewPortSize,"data-purpose":"skip-prompt"},gettext("Skip"))))}},{key:"isMobileViewPortSize",get:function(){return w.a.innerWidth<=v.a["screen-xs-max"]}}]),i}(b.Component),i.propTypes={onConfirm:m.a.func.isRequired,onCancel:m.a.func.isRequired,courseReviewLocation:m.a.string.isRequired,showDashboardLink:m.a.bool},i.defaultProps={showDashboardLink:!0},n=s,babelHelpers.applyDecoratedDescriptor(n.prototype,"isMobileViewPortSize",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"isMobileViewPortSize"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"onClickCancel",[l.a],Object.getOwnPropertyDescriptor(n.prototype,"onClickCancel"),n.prototype),o=n))||o},"./src/udemy/js/course-reviews/course-exit-review-popup/toast.less":function(e,t,r){e.exports={container:"toast--container--vWfP1","container--on":"toast--container--on--1r7Xj",header:"toast--header--3rNeS",content:"toast--content--S70nK"}},"./src/udemy/js/course-reviews/display/helpful-buttons.less":function(e,t,r){e.exports={text:"helpful-buttons--text--A1vvA",thanks:"helpful-buttons--thanks--3EFdu","thanks--hidden":"helpful-buttons--thanks--hidden--zIbI9","button-container":"helpful-buttons--button-container--3GGvV","report-container":"helpful-buttons--report-container--SowIt","report-abuse__link":"helpful-buttons--report-abuse__link--2CDGh",button:"helpful-buttons--button--AGfLY",container:"helpful-buttons--container--22EKo"}},"./src/udemy/js/course-reviews/display/helpful-buttons.react-component.js":function(e,t,r){"use strict";var o,n,i,s,a,l,c,u=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),p=r.n(u),d=r("./node_modules/classnames/index.js"),h=r.n(d),m=r("./node_modules/mobx-react/index.module.js"),b=r("./node_modules/prop-types/index.js"),y=r.n(b),f=r("./node_modules/react/index.js"),g=r.n(f),v=r("./src/udemy/js/report-abuse/report-abuse-launcher.react-component.js"),w=r("./src/udemy/js/utils/ud-config.js"),k=r("./node_modules/autobind-decorator/lib/index.js"),C=r.n(k),_=r("./src/udemy/js/base-components/form/checkbox.react-component.js"),S=(r("./src/udemy/js/course-reviews/display/helpful-buttons.less"),Object(m.d)((s=i=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onToggle",value:function(){this.props.onToggle(this.props.value)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.value,e.onToggle,e.styles,babelHelpers.objectWithoutProperties(e,["children","value","onToggle","styles"]));return g.a.createElement("div",{className:"helpful-buttons--button-container--3GGvV"},g.a.createElement(_.a,Object.assign({button:!0,"data-purpose":"helpful-button-checkbox",onChange:this.onToggle},r,{className:(r.className?r.className+" ":"")+"helpful-buttons--button--AGfLY"}),t))}}]),t}(f.Component),i.propTypes=babelHelpers.objectSpread({value:y.a.string.isRequired,onToggle:y.a.func.isRequired,styles:y.a.object},_.a.propTypes),i.defaultProps={styles:void 0},n=s,babelHelpers.applyDecoratedDescriptor(n.prototype,"onToggle",[C.a],Object.getOwnPropertyDescriptor(n.prototype,"onToggle"),n.prototype),o=n))||o);r.d(t,"a",function(){return D});var j={"./helpful-buttons.less":{text:"helpful-buttons--text--A1vvA",thanks:"helpful-buttons--thanks--3EFdu","thanks--hidden":"helpful-buttons--thanks--hidden--zIbI9","button-container":"helpful-buttons--button-container--3GGvV","report-container":"helpful-buttons--report-container--SowIt","report-abuse__link":"helpful-buttons--report-abuse__link--2CDGh",button:"helpful-buttons--button--AGfLY","checkbox-button-sm":"helpful-buttons--checkbox-button-sm--4C7bG",container:"helpful-buttons--container--22EKo","checkbox-button-xs":"helpful-buttons--checkbox-button-xs--vhj9u"}},E=[{value:"yes",label:gettext("Yes"),glyph:"icon-check",style:"success"},{value:"no",label:gettext("No"),glyph:"icon-xmark",style:"danger"}],D=Object(m.d)((c=l=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){if(!w.a.features.course_review.leave_feedback)return null;var e=this.props.store,t=e.value,r=e.onToggle,o=e.reviewId;return g.a.createElement("div",{className:"form-inline helpful-buttons--container--22EKo"},g.a.createElement("span",{className:"form-static helpful-buttons--text--A1vvA","data-purpose":"helpfulness-prompt"},gettext("Was this review helpful?")),g.a.createElement("span",{className:"form-group"},E.map(function(e){return g.a.createElement(S,{key:e.value,checked:t===e.value,value:e.value,bsStyle:e.style,glyph:e.glyph,onToggle:r,"data-purpose":"helpfulness-button-".concat(e.value)},e.label)}),g.a.createElement("span",{className:"helpful-buttons--report-container--SowIt"},g.a.createElement(v.a,{showLabel:!0,useAnchor:!0,showTooltip:!1,text:gettext("Report"),className:"helpful-buttons--report-abuse__link--2CDGh",objectType:"coursereview",objectId:o}))),g.a.createElement("div",{"data-purpose":"helpfulness-thanks",className:p()(h()("thanks",{"thanks--hidden":null===t}),j)},gettext("Thank you! You have successfully submitted feedback for this review.")))}}]),t}(f.Component),l.propTypes={store:y.a.shape({value:y.a.string,onToggle:y.a.func.isRequired,reviewId:y.a.number.isRequired}).isRequired},a=c))||a},"./src/udemy/js/course-reviews/display/individual-review.less":function(e,t,r){e.exports={"author-avatar":"individual-review--author-avatar--15MOW",container:"individual-review--container--3kHO-","comment-content":"individual-review--comment-content--2pCWg","comment-content-empty":"individual-review--comment-content-empty--19ztm","detail-container":"individual-review--detail-container--30whp","detail-user-name":"individual-review--detail-user-name--2JyaY","detail-created":"individual-review--detail-created--1liJC","detail-created-inline":"individual-review--detail-created-inline--2ouer","left-column":"individual-review--left-column--uKkcj","detail-report-abuse":"individual-review--detail-report-abuse--zHSk2","container--no-avatar":"individual-review--container--no-avatar--2usMH","right-column":"individual-review--right-column--1jp7O","container--preview-mode":"individual-review--container--preview-mode--1k2mr"}},"./src/udemy/js/course-reviews/display/individual-review.react-component.js":function(e,t,r){"use strict";var o=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),s=r.n(o),n=r("./node_modules/autobind-decorator/lib/index.js"),i=r.n(n),a=r("./node_modules/classnames/index.js"),l=r.n(a),c=r("./node_modules/lodash-es/noop.js"),u=r("./node_modules/mobx-react/index.module.js"),p=r("./node_modules/prop-types/index.js"),d=r.n(p),h=r("./node_modules/react/index.js"),m=r.n(h),b=r("./node_modules/react-waypoint/build/waypoint.js"),y=r.n(b),f=r("./src/udemy/js/base-components/star-rating.react-component.js"),g=r("./src/udemy/js/base-components/user-image.react-component.js"),v=r("./src/udemy/js/base-components/view-more/view-more-max-height-container.react-component.js"),w=r("./src/udemy/js/utils/ud-moment.js"),k=r("./src/udemy/js/course-reviews/display/helpful-buttons.react-component.js"),C=(r("./src/udemy/js/course-reviews/display/instructor-response.less"),function(e){var t=e.response,r=e.renderContent;return t?m.a.createElement("div",{className:"instructor-response--container--yPk8G"},m.a.createElement("div",{className:"instructor-response--arrow--1Qcf6"}),m.a.createElement("div",{className:"instructor-response--detail-container--JSoVZ"},m.a.createElement("span",{className:"ellipsis","data-purpose":"review-response-instructor-name"},interpolate(gettext("%(instructor_name)s (Instructor)"),{instructor_name:t.user.display_name},!0)),", ",m.a.createElement("span",{className:"instructor-response--detail-created--8K3gn"},Object(w.c)(t.created))),m.a.createElement("div",{className:"instructor-response--comment--tvKuv"},m.a.createElement(v.a,{collapsedHeight:200,gradientStyling:"clp"},m.a.createElement("div",{"data-purpose":"review-response-content"},r(t.content))))):null});C.propTypes={response:d.a.object,renderContent:d.a.func.isRequired},C.defaultProps={response:null};var _,S,j,E,D=C;r("./src/udemy/js/course-reviews/display/individual-review.less");r.d(t,"a",function(){return O});var x={"./individual-review.less":{"author-avatar":"individual-review--author-avatar--15MOW",m_fx:"individual-review--m_fx--2R2qQ",container:"individual-review--container--3kHO-",clearfix:"individual-review--clearfix--8imXo","comment-content":"individual-review--comment-content--2pCWg","comment-content-empty":"individual-review--comment-content-empty--19ztm","detail-container":"individual-review--detail-container--30whp","m_fx-flex":"individual-review--m_fx-flex--Cwhht","m_fx-align-items":"individual-review--m_fx-align-items--uyTOG","detail-user-name":"individual-review--detail-user-name--2JyaY","detail-created":"individual-review--detail-created--1liJC","detail-created-inline":"individual-review--detail-created-inline--2ouer","left-column":"individual-review--left-column--uKkcj","m_fx-direction":"individual-review--m_fx-direction--BPCAS","detail-report-abuse":"individual-review--detail-report-abuse--zHSk2","m_fx-order":"individual-review--m_fx-order--3OcFQ","container--no-avatar":"individual-review--container--no-avatar--2usMH","right-column":"individual-review--right-column--1jp7O","container--preview-mode":"individual-review--container--preview-mode--1k2mr"}},O=Object(u.d)((E=j=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onSeen",value:function(){this.props.onSeen(this.props.review.id,this.props.viewPosition)}},{key:"renderReviewContent",value:function(){var e=this.props,t=e.renderContent,r=e.review;return""===r.content?m.a.createElement("div",{className:"individual-review--comment-content-empty--19ztm","data-purpose":"review-comment-content"},gettext("There are no written comments for your review.")):m.a.createElement("div",null,m.a.createElement(y.a,{onEnter:this.onSeen}),m.a.createElement("div",{className:"individual-review--comment-content--2pCWg"},m.a.createElement(v.a,{collapsedHeight:200},m.a.createElement("div",{"data-purpose":"review-comment-content"},t(r.content)))))}},{key:"render",value:function(){var e=this.props,t=e.helpfulnessStore,r=e.previewMode,o=e.review,n=e.showUserAvatar,i=e.renderContent;return m.a.createElement("div",{className:s()(l()("container",{"container--no-avatar":!n,"container--preview-mode":r}),x)},m.a.createElement("div",{className:"individual-review--right-column--1jp7O"},m.a.createElement(f.b,{rating:o.rating,size:"small"}),r?m.a.createElement("span",{className:"individual-review--detail-created-inline--2ouer","data-purpose":"review-detail-review-created"},Object(w.c)(o.created)):null,this.renderReviewContent()),r?null:m.a.createElement("div",{className:"individual-review--left-column--uKkcj"},n?m.a.createElement(g.b,{user:o.user,"data-purpose":"review-author-avatar",className:"individual-review--author-avatar--15MOW"}):null,m.a.createElement("div",{className:"individual-review--detail-container--30whp"},m.a.createElement("div",{className:"ellipsis individual-review--detail-user-name--2JyaY","data-purpose":"review-detail-user-name"},o.user.display_name),m.a.createElement("div",{className:"individual-review--detail-created--1liJC"},Object(w.c)(o.created)))),m.a.createElement("div",{className:"individual-review--right-column--1jp7O"},m.a.createElement(D,{response:o.response,renderContent:i}),t?m.a.createElement(k.a,{store:t}):null))}}]),t}(h.Component),j.propTypes={helpfulnessStore:d.a.object,review:d.a.object.isRequired,renderContent:d.a.func,showUserAvatar:d.a.bool,previewMode:d.a.bool,viewPosition:d.a.number,onSeen:d.a.func},j.defaultProps={helpfulnessStore:null,renderContent:function(e){return e.split(/\n+/).map(function(e,t){return m.a.createElement("p",{key:t},e)})},previewMode:!1,showUserAvatar:!0,viewPosition:null,onSeen:c.a},S=E,babelHelpers.applyDecoratedDescriptor(S.prototype,"onSeen",[i.a],Object.getOwnPropertyDescriptor(S.prototype,"onSeen"),S.prototype),_=S))||_},"./src/udemy/js/course-reviews/display/instructor-response.less":function(e,t,r){e.exports={arrow:"instructor-response--arrow--1Qcf6",container:"instructor-response--container--yPk8G",comment:"instructor-response--comment--tvKuv","detail-container":"instructor-response--detail-container--JSoVZ","detail-created":"instructor-response--detail-created--8K3gn"}},"./src/udemy/js/course-reviews/review-editor/review-editor.less":function(e,t,r){e.exports={container:"review-editor--container--1-1O7","top-buttons-container":"review-editor--top-buttons-container--2V0a5","top-buttons-container--reverse":"review-editor--top-buttons-container--reverse--1VkVu","page-content":"review-editor--page-content--3EQiG","component-container":"review-editor--component-container--_f-hV","child-page":"review-editor--child-page--3Vgs_","bottom-container":"review-editor--bottom-container--1Wa22","leave-star-container":"review-editor--leave-star-container--3WXs4","ask-later-button":"review-editor--ask-later-button--3l0Ef","dont-ask-again-button":"review-editor--dont-ask-again-button--1nKZ9","action-button":"review-editor--action-button--2AvAK","write-comment-page":"review-editor--write-comment-page--1qa7S","review-content":"review-editor--review-content--2lVDX","survey-container":"review-editor--survey-container--3n9W3"}},"./src/udemy/js/course-reviews/review-editor/review-editor.mobx-store.js":function(e,t,r){"use strict";r.d(t,"a",function(){return v}),r.d(t,"b",function(){return a});var o,h,m,n=r("./node_modules/autobind-decorator/lib/index.js"),b=r.n(n),i=r("./node_modules/javascript-state-machine/state-machine.js"),y=r.n(i),f=r("./node_modules/mobx/lib/mobx.js"),s=r("./src/udemy/js/utils/ud-user-tracker-logger.js"),g=r("./src/udemy/js/course-reviews/common/review-backend.js"),v={init:"init",starRating:"starRating",comment:"comment",survey:"survey",confirmation:"confirmation"},a=(o=function(){function d(e,t,r,o,n,i,s,a){var l=this,c=8<arguments.length&&void 0!==arguments[8]?arguments[8]:g.a;babelHelpers.classCallCheck(this,d),babelHelpers.initializerDefineProperty(this,"review",h,this),babelHelpers.initializerDefineProperty(this,"currentState",m,this),r=r||"",Object(f.extendObservable)(this,{reviewId:e,rating:t,reviewContent:r,location:o,course:n}),this.onSaveReview=i,this.sourcePage=s,this.extraLoggingData=a;var u=[{name:"forward",from:v.starRating,to:v.comment},{name:"save",from:v.starRating,to:v.starRating},{name:"save",from:v.comment,to:v.comment},{name:"forward",from:v.comment,to:n.is_practice_test_course?v.confirmation:v.survey},{name:"back",from:v.survey,to:v.comment},{name:"forward",from:v.survey,to:v.confirmation},{name:"back",from:v.confirmation,to:n.is_practice_test_course?v.comment:v.survey}];this.rating||u.push({name:"back",from:v.comment,to:v.starRating});var p={initial:this.rating?v.comment:v.starRating,events:u,callbacks:{onenterstate:b()(Object(f.action)(function(e,t,r){var o={transition:e,old_page:t,new_page:l.currentState=r};l.logAction("view-editor-page",o)})),onsave:b()(Object(f.action)(function(){var e=l.reviewId?"update":"create";l.logAction(e);var t={rating:l.rating,content:l.reviewContent,location:l.location};return(l.reviewId?l.reviewBackend.update(l.reviewId,t):l.reviewBackend.create(t)).then(Object(f.action)(function(e){l.reviewId=e.data.id,l.onSaveReview(e.data)}))}))}};this.reviewLeavingStateMachine=y.a.create(p),this.reviewBackend=c().forCourse(n.id)}return babelHelpers.createClass(d,[{key:"gotoPreviousState",value:function(){this.reviewLeavingStateMachine.back()}},{key:"goForward",value:function(){return this.reviewLeavingStateMachine.forward()}},{key:"canGoBack",value:function(){return this.reviewLeavingStateMachine.can("back")}},{key:"rate",value:function(e){this.rating=e,this.reviewLeavingStateMachine.save()}},{key:"saveAndForward",value:function(){this.reviewLeavingStateMachine.save(),this.reviewLeavingStateMachine.forward()}},{key:"updateComment",value:function(e){this.reviewContent=e.target.value}},{key:"logAction",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this.course.id,o=this.reviewId,n=this.course.is_paid?"Paid":"Free";t=babelHelpers.objectSpread({},t,this.extraLoggingData,{category:"Review",location:this.location}),s.a.logEvents({events:[{action:e,category:"Review",courseId:r,objectId:o,objectType:"review",courseType:n,extra:JSON.stringify(t)}],page:this.sourcePage})}}]),d}(),h=babelHelpers.applyDecoratedDescriptor(o.prototype,"review",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=babelHelpers.applyDecoratedDescriptor(o.prototype,"currentState",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(o.prototype,"gotoPreviousState",[b.a],Object.getOwnPropertyDescriptor(o.prototype,"gotoPreviousState"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"goForward",[b.a],Object.getOwnPropertyDescriptor(o.prototype,"goForward"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"canGoBack",[b.a],Object.getOwnPropertyDescriptor(o.prototype,"canGoBack"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"rate",[b.a,f.action],Object.getOwnPropertyDescriptor(o.prototype,"rate"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"saveAndForward",[b.a,f.action],Object.getOwnPropertyDescriptor(o.prototype,"saveAndForward"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"updateComment",[b.a,f.action],Object.getOwnPropertyDescriptor(o.prototype,"updateComment"),o.prototype),o)},"./src/udemy/js/course-reviews/review-editor/review-editor.react-component.js":function(e,t,r){"use strict";var o,n,i,s,a,l,c,u,p,d,h,m,b,y,f,g,v,w,k=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),C=r.n(k),_=r("./node_modules/autobind-decorator/lib/index.js"),S=r.n(_),j=r("./node_modules/mobx-react/index.module.js"),E=r("./node_modules/prop-types/index.js"),D=r.n(E),x=r("./node_modules/react/index.js"),O=r.n(x),T=r("./src/udemy/js/base-components/button.react-component.js"),P=r("./src/udemy/js/base-components/review-stars-input.react-component.js"),H=r("./src/udemy/js/utils/mobile.js"),A=(r("./src/udemy/js/course-reviews/review-editor/review-editor.less"),i=n=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).isMobileBrowser=H.c,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"onRatingChange",value:function(e){this.props.store.rate(e),this.isMobileBrowser||this.props.store.goForward()}},{key:"onClickAskMeLater",value:function(){this.props.onCancelReview(this.dontAsk)}},{key:"onClickAskMeEndOfTheCourse",value:function(){this.props.onCancelReview(!0)}},{key:"render",value:function(){var e=this.props.store;return O.a.createElement("div",{className:"review-editor--leave-star-container--3WXs4"},O.a.createElement(P.a,{size:"large",rating:e.rating,"data-purpose":"review-stars",onChoose:this.onRatingChange,showGuidanceText:!0}),this.isMobileBrowser&&O.a.createElement(T.default,{onClick:e.goForward,bsStyle:"secondary","data-purpose":"next-button",className:"review-editor--action-button--2AvAK"},gettext("Next")," "),O.a.createElement(T.default,{className:"review-editor--ask-later-button--3l0Ef",bsStyle:"quaternary","data-purpose":"ask-me-later-button",onClick:this.onClickAskMeLater},gettext("Ask me later")),O.a.createElement(T.default,{className:"review-editor--dont-ask-again-button--1nKZ9",bsStyle:"quintinary","data-purpose":"dont-ask-button",onClick:this.onClickAskMeEndOfTheCourse},gettext("Ask me at the end of the course")))}}]),r}(x.Component),n.propTypes={store:D.a.object.isRequired,onCancelReview:D.a.func.isRequired},o=i,babelHelpers.applyDecoratedDescriptor(o.prototype,"onRatingChange",[S.a],Object.getOwnPropertyDescriptor(o.prototype,"onRatingChange"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onClickAskMeLater",[S.a],Object.getOwnPropertyDescriptor(o.prototype,"onClickAskMeLater"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onClickAskMeEndOfTheCourse",[S.a],Object.getOwnPropertyDescriptor(o.prototype,"onClickAskMeEndOfTheCourse"),o.prototype),o),I=r("./src/udemy/js/course-reviews/review-editor/review-editor.mobx-store.js"),R=r("./src/udemy/js/utils/ud-me.js"),q=r("./src/udemy/js/course-reviews/attributes/confirmation-page.react-component.js"),N=Object(j.d)((c=l=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClickExit",value:function(){this.props.onCancelReview()}},{key:"render",value:function(){var e=this.props.store;return O.a.createElement("div",null,O.a.createElement(q.a,{course:e.course,reviewText:e.reviewContent,rating:e.rating,user:R.a}),O.a.createElement(T.default,{bsStyle:"secondary",className:"review-editor--action-button--2AvAK","data-purpose":"save-button",onClick:this.onClickExit},gettext("Save and Exit")," "))}}]),t}(x.Component),l.propTypes={store:D.a.object.isRequired,onCancelReview:D.a.func.isRequired},a=c,babelHelpers.applyDecoratedDescriptor(a.prototype,"onClickExit",[S.a],Object.getOwnPropertyDescriptor(a.prototype,"onClickExit"),a.prototype),s=a))||s,z=r("./src/udemy/js/survey/survey.react-component.js"),M=(d=p=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"setSurveyRef",value:function(e){this.surveyComponent=e}},{key:"onSaveClick",value:function(){this.surveyComponent.save(),this.props.store.goForward()}},{key:"render",value:function(){var e=this.props.store;return O.a.createElement("div",{className:"review-editor--survey-container--3n9W3"},O.a.createElement(z.a,{surveyCode:"review-survey",courseId:e.course.id,populate:!0,ref:this.setSurveyRef}),O.a.createElement("div",null,O.a.createElement(T.default,{bsStyle:"secondary",className:"review-editor--action-button--2AvAK","data-purpose":"save-button",onClick:this.onSaveClick},gettext("Save and Continue")),O.a.createElement(T.default,{bsStyle:"quaternary",className:"review-editor--action-button--2AvAK","data-purpose":"skip-button",onClick:e.goForward},gettext("Skip"))))}}]),t}(x.Component),p.propTypes={store:D.a.object.isRequired},u=d,babelHelpers.applyDecoratedDescriptor(u.prototype,"setSurveyRef",[S.a],Object.getOwnPropertyDescriptor(u.prototype,"setSurveyRef"),u.prototype),babelHelpers.applyDecoratedDescriptor(u.prototype,"onSaveClick",[S.a],Object.getOwnPropertyDescriptor(u.prototype,"onSaveClick"),u.prototype),u),L=r("./src/udemy/js/base-components/form/form-control.react-component.js"),F=Object(j.d)((b=m=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.store;return O.a.createElement("div",{className:"review-editor--write-comment-page--1qa7S"},O.a.createElement(P.a,{rating:e.rating,size:"medium","data-purpose":"review-stars",onChoose:e.rate,showGuidanceText:!0}),O.a.createElement(L.a,{className:"review-editor--review-content--2lVDX",componentClass:"textarea","data-purpose":"review-content",value:e.reviewContent,onChange:e.updateComment,placeholder:gettext("Tell us about your own personal experience taking this course. Was it a good match for you?")}),O.a.createElement(T.default,{onClick:e.saveAndForward,bsStyle:"secondary","data-purpose":"save-button",className:"review-editor--action-button--2AvAK"},gettext("Save and Continue")," "))}}]),t}(x.Component),m.propTypes={store:D.a.object.isRequired},h=b))||h;r.d(t,"a",function(){return Q});var U={"./review-editor.less":{container:"review-editor--container--1-1O7","top-buttons-container":"review-editor--top-buttons-container--2V0a5","top-buttons-container--reverse":"review-editor--top-buttons-container--reverse--1VkVu","page-content":"review-editor--page-content--3EQiG","component-container":"review-editor--component-container--_f-hV","child-page":"review-editor--child-page--3Vgs_","bottom-container":"review-editor--bottom-container--1Wa22","leave-star-container":"review-editor--leave-star-container--3WXs4","ask-later-button":"review-editor--ask-later-button--3l0Ef","dont-ask-again-button":"review-editor--dont-ask-again-button--1nKZ9","action-button":"review-editor--action-button--2AvAK","write-comment-page":"review-editor--write-comment-page--1qa7S","review-content":"review-editor--review-content--2lVDX","survey-container":"review-editor--survey-container--3n9W3"}},B=(y={},babelHelpers.defineProperty(y,I.a.starRating,A),babelHelpers.defineProperty(y,I.a.comment,F),babelHelpers.defineProperty(y,I.a.survey,M),babelHelpers.defineProperty(y,I.a.confirmation,N),y),V={course_taking__middle:gettext(" 🎉 Great job on making it halfway!"),course_taking__initial:gettext("Why did you leave this rating?"),course_taking__callout:gettext("Why did you leave this rating?"),course_taking__interstitial:gettext("Why did you leave this rating?")},$=function(e){var t,r,o=e.location,n=e.reviewState;switch(n){case I.a.starRating:t=gettext("How would you rate your experience with the course so far?");break;case I.a.comment:t=V[o];break;case I.a.survey:t=gettext("Please tell us more (optional).")}(n===I.a.starRating&&"course_taking__initial--end"===o&&(r=gettext("Would you like to leave a review?")),n===I.a.comment)&&(r={course_taking__middle:gettext("Would you like to update your review?"),course_taking__final:gettext("Would you like to update your review?")}[o]);return O.a.createElement("div",null,t&&O.a.createElement("h2",{"data-purpose":"primary-message"},t),r&&O.a.createElement("h2",{"data-purpose":"secondary-message"},r))};$.propTypes={location:D.a.string.isRequired,reviewState:D.a.string.isRequired};var Q=Object(j.d)((w=v=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClickGoToCourse",value:function(){this.props.onCancelReview()}},{key:"render",value:function(){var e=B[this.props.store.currentState],t=this.props,r=t.store,o=t.onCancelReview,n=t.closeButtonEnabled,i=t.closeButtonText;return O.a.createElement("div",{className:"review-editor--container--1-1O7"},O.a.createElement("div",{className:C()(n?"top-buttons-container--reverse":"top-buttons-container",U)},n&&O.a.createElement(T.default,{bsStyle:"quintinary","data-purpose":"close-button",onClick:this.onClickGoToCourse},i),this.props.store.canGoBack()&&O.a.createElement(T.default,{bsStyle:"tertiary","data-purpose":"back-button",onClick:this.props.store.gotoPreviousState},gettext("Back"))),O.a.createElement("div",{className:"review-editor--page-content--3EQiG"},O.a.createElement($,{location:r.location,reviewState:r.currentState}),O.a.createElement("div",{className:"review-editor--component-container--_f-hV"},O.a.createElement(e,{store:r,onCancelReview:o}))))}}]),t}(x.Component),v.propTypes={store:D.a.object.isRequired,onCancelReview:D.a.func.isRequired,closeButtonEnabled:D.a.bool,closeButtonText:D.a.string},v.defaultProps={closeButtonEnabled:!0,closeButtonText:gettext("Close")},g=w,babelHelpers.applyDecoratedDescriptor(g.prototype,"onClickGoToCourse",[S.a],Object.getOwnPropertyDescriptor(g.prototype,"onClickGoToCourse"),g.prototype),f=g))||f},"./src/udemy/js/course-taking-v4/animated-state-change/animated-state-change.ng-service.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=(r("./node_modules/angular-ui-router/release/angular-ui-router.js"),r("./src/udemy/js/course-taking-v4/loading-screen/loading-screen.ng-service.js")),s=n.a.module("course-taking-v4/animated-state-change/animated-state-change.ng-service",["ui.router",i.a.name]).service("AnimatedStateChangeService",a);function a(e,n,i,s){var a=this;a.TIMING={stateChange:1e3,showTooltip:2e3,hideTooltip:4e3},a.go=function(e,t,r){function o(){s.hide()}i.is(e,t)||(s.show(),i.go(e,t,r).then(function(){n(o,a.TIMING.stateChange)}).catch(o))},this.tooltip=function(e,t){return n(e,a.TIMING.showTooltip).then(function(){return n(t,a.TIMING.hideTooltip)})}}a.$inject=["$rootScope","$timeout","$state","loadingScreen"],t.a=s},"./src/udemy/js/course-taking-v4/app.js":function(e,t,r){"use strict";r.r(t);var o=r("./node_modules/angular/angular.js"),d=r.n(o),n=(r("./node_modules/angular-animate/index.js"),r("./node_modules/angular-inview/angular-inview.js"),r("./node_modules/angular-ui-router/release/angular-ui-router.js"),r("./node_modules/jquery/dist/jquery.js-exposed")),s=r.n(n),i=r("./node_modules/ngreact/ngReact.js"),a=r.n(i),l=r("./src/udemy/js/ng/config/http-interceptors.js"),c=r("./src/udemy/js/ng/directives/common/react-user-image.ng-directive.js"),u=r("./src/udemy/js/ng/directives/units/module.js"),p=r("./src/udemy/js/ng/services/course-resources.ng-factory.js"),h=r("./src/udemy/js/utils/fullscreen.js"),m=d.a.module("ng/services/fullscreen.ng-service",[]);m.service("Fullscreen",h.a);var b=m,f=r("./src/udemy/js/utils/ud-performance.js"),y=d.a.module("ng/services/performance.ng-service",[]).service("PerformanceService",function(){var n=!0;this.disableMarkCalls=function(){n=!1},this.sendPerformanceMarkOnDomMutation=function(t,e,r){if(n){var o=null;(o=new MutationObserver(function(e){e.find(r)&&(f.a.mark(t),f.a.sync(),o.disconnect())})).observe(e,{childList:!0,subtree:!1})}}});var g=r("./node_modules/angular-resource/index.js"),v=r.n(g);var w,k,C,_,S,j=d.a.module("ng/services/v2/lecture-resources.ng-factory",[v.a]).factory("SubscribedLecture",["$resource",function(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/lectures/:id")}]).factory("TaughtLecture",["$resource",function(e){return e("/api-2.0/users/me/taught-courses/:courseId/lectures/:id")}]),E=r("./src/udemy/js/ng/ud-core.js"),D=r("./src/udemy/js/utils/mobile.js"),x=r("./src/udemy/js/utils/ud-api-stat.js"),O=r("./src/udemy/js/utils/ud-body-app.js"),T=r("./src/udemy/js/utils/ud-config.js"),P=r("./src/udemy/js/utils/ud-courseeventtracker.js"),H=r("./src/udemy/js/utils/ud-render-angular-apps.js"),A=Object.freeze({NEXT:"next_lecture",PREVIOUS:"previous_lecture",CONTINUE:"current_continue"}),I=Object.freeze({MARK_COMPLETE:"mark-complete",MARK_RESET:"mark-reset",RESET_ALL:"reset-all"}),R=Object.freeze({value:12,metric:"minutes"}),q=Object.freeze({courseTakingInitial:{key:"course_taking__initial",urlParam:"in"},courseTakingInitialEnd:{key:"course_taking__initial--end",urlParam:"ie"},courseTakingMiddle:{key:"course_taking__middle",urlParam:"mi"},courseTakingFinal:{key:"course_taking__final",urlParam:"fi"}}),N=Object.freeze({FREE:"Free",PAID:"Paid"}),z=Object.freeze({INSTRUCTOR:"Instructor",STUDENT:"Student"}),M=Object.freeze({name:"base.dashboard.overview",path:"/overview"}),L=["base.taking.lecture","base.taking.locked"],F=["title","url","headline","description","prerequisites","objectives","target_audiences","is_practice_test_course","has_certificate","image_480x270","image_750x422","archive_time","content_length_video","gift_url","is_paid","is_private","instructional_level","locale","has_closed_caption","content_length_practice_test_questions","content_info","num_subscribers","num_reviews","features","custom_category_ids","is_published","rating","visible_instructors","is_owned_by_instructor_team","is_owner_terms_banned"],U=["url","display_name","title","job_title","image_200_H","initials","description","url_twitter","url_facebook","url_linkedin","url_youtube","url_personal_website"],B=["completed_lecture_ids","completed_quiz_ids","lecture_positions","last_seen_page","completed_assignment_ids","next_curriculum_object"],V={"fields[lecture]":"@min,object_index,asset,supplementary_assets,sort_order,is_published,is_free","fields[quiz]":"@min,object_index,title,sort_order,is_published","fields[practice]":"@min,object_index,title,sort_order,is_published","fields[chapter]":"@min,description,object_index,title,sort_order,is_published","fields[asset]":"@min,title,filename,asset_type,external_url,length,status"},$=r("./src/udemy/js/course-taking-v4/course-experience.ng-template.html"),Q=r.n($),W=(r("./node_modules/mobx-angularjs/mobx-angularjs.js"),r("./src/udemy/js/ng/services/mobile.ng-service.js")),G=r("./src/udemy/js/course-taking-v4/animated-state-change/animated-state-change.ng-service.js"),Y=d.a.module("course-taking-v4/animated-state-change/module",["ui.router",G.a.name]),K=r("./node_modules/autobind-decorator/lib/index.js"),X=r.n(K),J=r("./node_modules/mobx/lib/mobx.js"),Z=r("./src/udemy/js/utils/ud-api.js"),ee=r("./src/udemy/js/utils/ud-utils.js"),te=r("./node_modules/uuid/v4.js"),re=r.n(te),oe=(w=function(){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.initializerDefineProperty(this,"body",k,this),this.isSocialBookmark="social_bookmark"===e.type,this.id=e.id,this.key=re()(),this.position=Math.floor(e.position),this.numNotes=e.num_notes,this.originalBody=e.body||"",this.created=e.created,this.lectureId=e.lectureId||e.lecture&&e.lecture.id,this.setObservablesFromAPIData(e)}return babelHelpers.createClass(t,[{key:"setObservablesFromAPIData",value:function(e){this.body=e.body||""}},{key:"changeBody",value:function(e){this.body=e}},{key:"reset",value:function(){this.body=this.originalBody}},{key:"remainingChars",get:function(){return Math.max(140-this.body.length,0)}},{key:"hasSavePending",get:function(){return this.body!==this.originalBody||-1===this.id}}]),t}(),k=babelHelpers.applyDecoratedDescriptor(w.prototype,"body",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),babelHelpers.applyDecoratedDescriptor(w.prototype,"setObservablesFromAPIData",[J.action],Object.getOwnPropertyDescriptor(w.prototype,"setObservablesFromAPIData"),w.prototype),babelHelpers.applyDecoratedDescriptor(w.prototype,"changeBody",[J.action],Object.getOwnPropertyDescriptor(w.prototype,"changeBody"),w.prototype),babelHelpers.applyDecoratedDescriptor(w.prototype,"reset",[J.action],Object.getOwnPropertyDescriptor(w.prototype,"reset"),w.prototype),babelHelpers.applyDecoratedDescriptor(w.prototype,"remainingChars",[J.computed],Object.getOwnPropertyDescriptor(w.prototype,"remainingChars"),w.prototype),babelHelpers.applyDecoratedDescriptor(w.prototype,"hasSavePending",[J.computed],Object.getOwnPropertyDescriptor(w.prototype,"hasSavePending"),w.prototype),w);function ne(a,l){return new Promise(function(r,o){var n,i=[],s=!1,e=Promise.resolve();!function t(){e=e.then(function(e){if(!s){if(e){if(i.push.apply(i,babelHelpers.toConsumableArray(e.data.results)),!(n=e.data.next))return void r(i)}else n=a;return t(),Z.c.get(n,{params:e?void 0:l})}}).catch(function(e){s=!0,o(e)})}()})}var ie,se,ae,le,ce,ue,pe,de,he,me,be,ye,fe,ge,ve,we,ke,Ce,_e,Se,je,Ee=(C=function(){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.initializerDefineProperty(this,"bookmarks",_,this),babelHelpers.initializerDefineProperty(this,"hasLoaded",S,this),this.courseExperienceStore=e}return babelHelpers.createClass(t,[{key:"loadBookmarksIfNeeded",value:function(){var t=this;if(this.hasLoaded)return Promise.resolve();return ne("".concat(this.courseUrl,"/notes/"),{page_size:100,"fields[lecture]":"id","fields[note]":"@default,lecture,created"}).then(Object(J.action)(function(e){t.bookmarks=e.map(function(e){return new oe(e)}),t.hasLoaded=!0}))}},{key:"create",value:function(t){var e=t.body,r=t.position,o=t.lectureId;return Z.c.post("".concat(this.bookmarksUrl(o),"/"),{body:e,position:r}).then(function(e){t.id=e.data.id})}},{key:"update",value:function(e){var t=e.body,r=e.id,o=e.lectureId;return Z.c.patch("".concat(this.bookmarksUrl(o),"/").concat(r),{body:t})}},{key:"delete",value:function(e){var t=this,r=e.id,o=e.lectureId;return(-1===r?Promise.resolve():Z.c.delete("".concat(this.bookmarksUrl(o),"/").concat(r))).then(Object(J.action)(function(){var e=t.bookmarks.findIndex(function(e){return e.id===r});t.bookmarks.splice(e,1)}))}},{key:"bookmarksUrl",value:function(e){return"".concat(this.courseUrl,"/lectures/").concat(e,"/notes")}},{key:"bookmarksExist",get:function(){return Boolean(this.bookmarks.length)}},{key:"bookmarksByLecture",get:function(){for(var e=this.bookmarks.reduce(function(e,t){var r=t.lectureId;return e[r]||(e[r]=[]),e[r].push(t),e},{}),t=Object.values(e),r=0;r<t.length;r++){t[r].sort(function(e,t){return e.position-t.position})}return e}},{key:"bookmarksByLectureBySection",get:function(){var i=this;return this.courseExperienceStore.curriculumSections.reduce(function(o,e,n){return e.items.forEach(function(e,t){var r=i.bookmarksByLecture[e.id];r&&(o[n]||(o[n]={}),o[n][t]=r)}),o},{})}},{key:"courseUrl",get:function(){return"/users/me/subscribed-courses/".concat(this.courseExperienceStore.courseId)}}]),t}(),_=babelHelpers.applyDecoratedDescriptor(C.prototype,"bookmarks",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=babelHelpers.applyDecoratedDescriptor(C.prototype,"hasLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(C.prototype,"bookmarksExist",[J.computed],Object.getOwnPropertyDescriptor(C.prototype,"bookmarksExist"),C.prototype),babelHelpers.applyDecoratedDescriptor(C.prototype,"bookmarksByLecture",[J.computed],Object.getOwnPropertyDescriptor(C.prototype,"bookmarksByLecture"),C.prototype),babelHelpers.applyDecoratedDescriptor(C.prototype,"bookmarksByLectureBySection",[J.computed],Object.getOwnPropertyDescriptor(C.prototype,"bookmarksByLectureBySection"),C.prototype),C),De=Object.freeze({SECTION:"chapter",LECTURE:"lecture",QUIZ:"quiz",ASSIGNMENT:"practice"}),xe=Object.freeze({CURRENT:{name:"current",label:gettext("Current Section"),disabledLabel:gettext("There is only one section.")},ALL:{name:"all",label:gettext("All Sections"),disabledLabel:gettext("There is only one section.")},RESOURCES:{name:"resources",label:gettext("All Resources"),disabledLabel:gettext("This course has no resources")}}),Oe=Object.freeze({ENABLED:"enabled",DISABLED:"disabled",HIDDEN:"hidden"}),Te=Object.freeze({LOCAL:"local",ELASTIC:"elastic"}),Pe=gettext("You can't download this content"),He=function e(t){babelHelpers.classCallCheck(this,e),this.id=t.id,this.title=t.title,this.name=t.name,this.initials=t.initials,this.url=t.url,this.jobTitle=t.job_title,this.description=t.description,this.image=t.image_200_H,this.image_50x50=t.image_50x50,this.socialProfiles=[{name:"Twitter",iconType:"twitter",url:t.url_twitter},{name:"Facebook",iconType:"facebook",url:t.url_facebook},{name:"LinkedIn",iconType:"linkedin",url:t.url_linkedin},{name:"YouTube",iconType:"youtube",url:t.url_youtube},{name:gettext("Personal website"),iconType:"globe",url:t.url_personal_website}].filter(function(e){return e.url})},Ae=(ie=function(){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.initializerDefineProperty(this,"archivedTime",se,this),babelHelpers.initializerDefineProperty(this,"favoritedTime",ae,this),babelHelpers.initializerDefineProperty(this,"notificationSettings",le,this),babelHelpers.initializerDefineProperty(this,"certificate",ce,this),this.id=e.id,this.title=e.title,this.url=e.url,this.giftUrl=e.gift_url,this.headline=e.headline,this.description=e.description,this.prerequisites=e.prerequisites,this.objectives=e.objectives,this.targetAudiences=e.target_audiences,this.numPracticeTestQuestions=e.content_length_practice_test_questions,this.isPrivate=e.is_private,this.videoContentLength=e.content_length_video,this.contentLengthText=e.content_info,this.numSubscribers=e.num_subscribers,this.numReviews=e.num_reviews,this.isPaid=e.is_paid,this.wasPurchased=e.was_purchased_by_student,this.wasPaid=e.was_paid_by_student,this.isInRefundPeriod=e.is_in_refund_period,this.isPracticeTestCourse=e.is_practice_test_course,this.hasCertificate=e.has_certificate,this.image480x270=e.image_480x270,this.image750x422=e.image_750x422,this.features=e.features,this.isPublished=e.is_published,this.customCategoryIds=e.custom_category_ids,this.rating=e.rating,this.isOwnedByInstructorTeam=e.is_owned_by_instructor_team,this.isOwnerTermsBanned=e.is_owner_terms_banned,this.locale=e.locale,this.hasClosedCaptions=e.has_closed_caption,this.instructionalLevel=e.instructional_level,this.setObservablesFromAPIData(e)}return babelHelpers.createClass(t,[{key:"setObservablesFromAPIData",value:function(e){this.archivedTime=e.archive_time,this.favoritedTime=e.favorite_time,this.notificationSettings=e.notification_settings,this.visibleInstructors=(e.visible_instructors||[]).map(function(e){return new He(e)})}},{key:"attachCertificate",value:function(e){e&&(this.certificate={isReady:e.is_ready,url:e.long_url})}},{key:"markAsFavorite",value:function(){var t=this;return Z.c.post("/users/me/favorited-courses",{course_id:this.id},{params:{"fields[course]":"favorite_time"}}).then(Object(J.action)(function(e){t.favoritedTime=e.data.favorite_time}))}},{key:"unmarkAsFavorite",value:function(){var e=this;return Z.c.delete("/users/me/favorited-courses/".concat(this.id)).then(Object(J.action)(function(){e.favoritedTime=null}))}},{key:"toggleFavorite",value:function(){return this.favoritedTime?this.unmarkAsFavorite():this.markAsFavorite()}},{key:"archive",value:function(){var t=this;return Z.c.post("/users/me/archived-courses",{course_id:this.id},{params:{"fields[course]":"archive_time"}}).then(Object(J.action)(function(e){t.archivedTime=e.data.archive_time}))}},{key:"unarchive",value:function(){var e=this;return Z.c.delete("/users/me/archived-courses/".concat(this.id)).then(Object(J.action)(function(){e.archivedTime=null}))}},{key:"toggleArchived",value:function(){return this.archivedTime?this.unarchive():this.archive()}},{key:"unenroll",value:function(){return Z.c.delete("users/me/subscribed-courses/".concat(this.id))}}]),t}(),se=babelHelpers.applyDecoratedDescriptor(ie.prototype,"archivedTime",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=babelHelpers.applyDecoratedDescriptor(ie.prototype,"favoritedTime",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=babelHelpers.applyDecoratedDescriptor(ie.prototype,"notificationSettings",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=babelHelpers.applyDecoratedDescriptor(ie.prototype,"certificate",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(ie.prototype,"setObservablesFromAPIData",[J.action],Object.getOwnPropertyDescriptor(ie.prototype,"setObservablesFromAPIData"),ie.prototype),babelHelpers.applyDecoratedDescriptor(ie.prototype,"attachCertificate",[J.action],Object.getOwnPropertyDescriptor(ie.prototype,"attachCertificate"),ie.prototype),babelHelpers.applyDecoratedDescriptor(ie.prototype,"toggleFavorite",[X.a],Object.getOwnPropertyDescriptor(ie.prototype,"toggleFavorite"),ie.prototype),babelHelpers.applyDecoratedDescriptor(ie.prototype,"toggleArchived",[X.a],Object.getOwnPropertyDescriptor(ie.prototype,"toggleArchived"),ie.prototype),ie),Ie=Object.freeze({CODING_EXERCISE:"coding-exercise",PRACTICE_TEST:"practice-test",SIMPLE_QUIZ:"simple-quiz"}),Re=(ue=function(){function r(e,t){babelHelpers.classCallCheck(this,r),this.id=void 0,this.type=void 0,this.fileName=void 0,this.title=void 0,this.length=void 0,this.status=void 0,this.created=void 0,babelHelpers.initializerDefineProperty(this,"isLoading",pe,this),this.lecture=void 0,this.id=e.id,this.type=e.asset_type,this.title=e.title,this.fileName=e.filename,this.length=e.length,this.status=e.status,this.created=e.created,this.externalUrl=e.external_url,this.lecture=t}return babelHelpers.createClass(r,[{key:"isExternal",get:function(){return!!this.externalUrl}},{key:"isMedia",get:function(){return["Audio","Video","VideoMashup"].includes(this.type)}},{key:"icon",get:function(){return this.isExternal?"link":"file"}},{key:"trackingCode",get:function(){var e={ExternalLink:"website",SourceCode:"code"}[this.type]||"file-download";return"resource ".concat(e)}}]),r}(),pe=babelHelpers.applyDecoratedDescriptor(ue.prototype,"isLoading",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue),qe=(de=function(){function r(e){var t=this;if(babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"isCompleted",he,this),babelHelpers.initializerDefineProperty(this,"isLoading",me,this),this.constructor===r)throw new Error("Cannot instantiate CurriculumItem base class directly - use one of the available subclasses.");this.id=e.id,this.courseId=e.course?e.course.id:null,this.type=e._class,this.isLocked=!1,this.isPublished=!!e.is_published,this.objectIndex=e.object_index,this.sortOrder=e.sort_order,this.title=e.title,this.current=!1,this.supplementaryAssets=e.supplementary_assets||[],this.resources=this.supplementaryAssets.map(function(e){return new Re(e,t)})}return babelHelpers.createClass(r,[{key:"trackAction",value:function(e){P.a.track(x.d.COURSE_TAKING,De.LECTURE,e,null,null,null,{objectType:this.type,objectId:this.id})}},{key:"setSection",value:function(e){this.section=e}},{key:"setIncomplete",value:function(){this.isCompleted=!1}},{key:"setComplete",value:function(){this.isCompleted=!0}},{key:"toggleComplete",value:function(){return this.isCompleted?this.markAsIncomplete():this.markAsComplete()}},{key:"markAsComplete",value:function(){throw new Error("Unable to mark ".concat(this.constructor.name," as completed."))}},{key:"markAsIncomplete",value:function(){throw new Error("Unable to mark ".concat(this.constructor.name," as incomplete."))}},{key:"_getEnumString",value:function(){return""}},{key:"getTranslatedEnum",value:function(e){var t={sectionNumber:e+1,itemNumber:this.objectIndex};return interpolate(this._getEnumString(),t,!0)}},{key:"getTranslatedTitle",value:function(){return"".concat(this.displayName," ").concat(this.objectIndex,": ").concat(this.title)}},{key:"progressToggleType",get:function(){return this.isPublished?Oe.ENABLED:Oe.HIDDEN}},{key:"uiRouterState",get:function(){return{name:"base.taking.".concat(this.type),params:{id:this.id}}}}]),r}(),he=babelHelpers.applyDecoratedDescriptor(de.prototype,"isCompleted",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=babelHelpers.applyDecoratedDescriptor(de.prototype,"isLoading",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(de.prototype,"setSection",[J.action],Object.getOwnPropertyDescriptor(de.prototype,"setSection"),de.prototype),babelHelpers.applyDecoratedDescriptor(de.prototype,"setIncomplete",[X.a,J.action],Object.getOwnPropertyDescriptor(de.prototype,"setIncomplete"),de.prototype),babelHelpers.applyDecoratedDescriptor(de.prototype,"setComplete",[X.a,J.action],Object.getOwnPropertyDescriptor(de.prototype,"setComplete"),de.prototype),babelHelpers.applyDecoratedDescriptor(de.prototype,"toggleComplete",[X.a,J.action],Object.getOwnPropertyDescriptor(de.prototype,"toggleComplete"),de.prototype),babelHelpers.applyDecoratedDescriptor(de.prototype,"markAsComplete",[X.a],Object.getOwnPropertyDescriptor(de.prototype,"markAsComplete"),de.prototype),babelHelpers.applyDecoratedDescriptor(de.prototype,"markAsIncomplete",[X.a],Object.getOwnPropertyDescriptor(de.prototype,"markAsIncomplete"),de.prototype),de),Ne=(be=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"items",ye,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isExpanded",fe,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.id=e.id,t.type=e._class,t.title=e.title,t.description=e.description,t.created=e.created,t.sortOrder=e.sort_order,t.objectIndex=e.object_index,t.isPublished=e.is_published,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"appendCurriculumItem",value:function(e){this.items.push(e),e.setSection(this)}},{key:"toggle",value:function(){this.isExpanded=!this.isExpanded}},{key:"open",value:function(){this.isExpanded=!0}},{key:"close",value:function(){this.isExpanded=!1}},{key:"contains",value:function(e){var t=!0,r=!1,o=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var s=n.value;if(e.includes(s.id))return!0}}catch(e){r=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw o}}return!1}},{key:"displayName",get:function(){return gettext("Section")}},{key:"numPublishedItems",get:function(){return this.items.filter(function(e){return e.isPublished}).length}},{key:"numCompletedItems",get:function(){return this.items.filter(function(e){return e.isCompleted&&e.isPublished}).length}},{key:"completedVideoLength",get:function(){return this.items.reduce(function(e,t){return t.isCompleted&&t.isPublished&&"lecture"===t.type&&t.isVideo&&(e+=t.length),e},0)}},{key:"legend",get:function(){var e=this.isPublished?gettext("Section: %(index)s"):gettext("Unpublished Section: %(index)s");return interpolate(e,{index:this.objectIndex},!0)}},{key:"isCompleted",get:function(){return this.items.every(function(e){return e.isCompleted&&e.isPublished})}}]),r}(qe),ye=babelHelpers.applyDecoratedDescriptor(be.prototype,"items",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=babelHelpers.applyDecoratedDescriptor(be.prototype,"isExpanded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(be.prototype,"appendCurriculumItem",[J.action],Object.getOwnPropertyDescriptor(be.prototype,"appendCurriculumItem"),be.prototype),babelHelpers.applyDecoratedDescriptor(be.prototype,"numPublishedItems",[J.computed],Object.getOwnPropertyDescriptor(be.prototype,"numPublishedItems"),be.prototype),babelHelpers.applyDecoratedDescriptor(be.prototype,"numCompletedItems",[J.computed],Object.getOwnPropertyDescriptor(be.prototype,"numCompletedItems"),be.prototype),babelHelpers.applyDecoratedDescriptor(be.prototype,"completedVideoLength",[J.computed],Object.getOwnPropertyDescriptor(be.prototype,"completedVideoLength"),be.prototype),babelHelpers.applyDecoratedDescriptor(be.prototype,"toggle",[J.action],Object.getOwnPropertyDescriptor(be.prototype,"toggle"),be.prototype),babelHelpers.applyDecoratedDescriptor(be.prototype,"open",[J.action],Object.getOwnPropertyDescriptor(be.prototype,"open"),be.prototype),babelHelpers.applyDecoratedDescriptor(be.prototype,"close",[J.action],Object.getOwnPropertyDescriptor(be.prototype,"close"),be.prototype),babelHelpers.applyDecoratedDescriptor(be.prototype,"isCompleted",[J.computed],Object.getOwnPropertyDescriptor(be.prototype,"isCompleted"),be.prototype),be),ze=r("./src/udemy/js/asset/constants.js"),Me=(ge=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"lastWatchedSecond",ve,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.asset=new Re(e.asset||{}),t.assetType=e.asset&&e.asset.asset_type,t.isPreview=e.is_free,t.isVideo?t.length=e.asset.length||0:t.length=e.length,t.url=e.url,t.setObservablesFromAPIData(e),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"setObservablesFromAPIData",value:function(e){void 0!==e.last_watched_second&&this.setLastWatchedSecond(e.last_watched_second)}},{key:"setLastWatchedSecond",value:function(e){this.lastWatchedSecond=e}},{key:"markAsComplete",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.isCompleted)return Promise.resolve();this.isLoading=!0,t||this.trackAction(I.MARK_COMPLETE);var r="/users/me/subscribed-courses/".concat(this.courseId,"/completed-lectures/"),o={lecture_id:this.id,downloaded:t};return Z.c.post(r,o).then(Object(J.action)(function(){e.isCompleted=!0})).finally(Object(J.action)(function(){e.isLoading=!1}))}},{key:"markAsIncomplete",value:function(){var e=this;if(!this.isCompleted)return Promise.resolve();this.isLoading=!0,this.trackAction(I.MARK_RESET);var t="/users/me/subscribed-courses/".concat(this.courseId,"/completed-lectures/").concat(this.id);return Z.c.delete(t).then(Object(J.action)(function(){e.isCompleted=!1})).finally(Object(J.action)(function(){e.isLoading=!1}))}},{key:"markLectureAsViewed",value:function(){return Z.c.post("/users/me/subscribed-courses/".concat(this.courseId,"/lectures/").concat(this.id,"/view-logs/"))}},{key:"_getEnumString",value:function(){return gettext("Section %(sectionNumber)s, Lecture %(itemNumber)s")}},{key:"getTranslatedTitle",value:function(){return"".concat(this.objectIndex,". ").concat(this.title)}},{key:"displayName",get:function(){return gettext("Lecture")}},{key:"titleIndex",get:function(){return this.isPublished?"".concat(this.objectIndex,"."):gettext("Unpublished Lecture:")}},{key:"icon",get:function(){return this.asset.isMedia?"play":{Article:"article",Presentation:"presentation"}[this.asset.type]||"ellipsis-h"}},{key:"uiRouterState",get:function(){return{name:"base.taking.lecture",params:{id:this.id,start:this.lastWatchedSecond}}}},{key:"isVideo",get:function(){return[ze.b.VIDEO,ze.b.VIDEO_MASHUP,ze.b.AUDIO].includes(this.assetType)}}]),r}(qe),ve=babelHelpers.applyDecoratedDescriptor(ge.prototype,"lastWatchedSecond",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),babelHelpers.applyDecoratedDescriptor(ge.prototype,"setObservablesFromAPIData",[J.action],Object.getOwnPropertyDescriptor(ge.prototype,"setObservablesFromAPIData"),ge.prototype),babelHelpers.applyDecoratedDescriptor(ge.prototype,"setLastWatchedSecond",[J.action],Object.getOwnPropertyDescriptor(ge.prototype,"setLastWatchedSecond"),ge.prototype),babelHelpers.applyDecoratedDescriptor(ge.prototype,"markAsComplete",[X.a,J.action],Object.getOwnPropertyDescriptor(ge.prototype,"markAsComplete"),ge.prototype),babelHelpers.applyDecoratedDescriptor(ge.prototype,"markAsIncomplete",[X.a,J.action],Object.getOwnPropertyDescriptor(ge.prototype,"markAsIncomplete"),ge.prototype),babelHelpers.applyDecoratedDescriptor(ge.prototype,"uiRouterState",[J.computed],Object.getOwnPropertyDescriptor(ge.prototype,"uiRouterState"),ge.prototype),ge),Le=Object.freeze({INTRO_PAGE:"INTRO_PAGE",START_PAGE:"START_PAGE",SUBMISSION_PAGE:"SUBMISSION_PAGE",SOLUTION_PAGE:"SOLUTION_PAGE",FEEDBACK_PAGE:"FEEDBACK_PAGE",SUMMARY_PAGE:"SUMMARY_PAGE",SUMMARY_DETAIL_PAGE:"SUMMARY_DETAIL_PAGE"}),Fe="owner_feedback_question_user_answers",Ue="self",Be="peer",Ve=Object.freeze((we={},babelHelpers.defineProperty(we,Le.START_PAGE,{shouldShowProgressBar:!1,nextUrl:"/introduction/",prevUrl:null}),babelHelpers.defineProperty(we,Le.INTRO_PAGE,{shouldShowProgressBar:!0,nextUrl:"/submission/",prevUrl:null}),babelHelpers.defineProperty(we,Le.SUBMISSION_PAGE,{shouldShowProgressBar:!0,nextUrl:"/instructor-solution/",prevUrl:"/introduction/"}),babelHelpers.defineProperty(we,Le.SOLUTION_PAGE,{shouldShowProgressBar:!0,nextUrl:"/give-feedback/",prevUrl:"/submission/"}),babelHelpers.defineProperty(we,Le.FEEDBACK_PAGE,{shouldShowProgressBar:!0,nextUrl:"/summary/",prevUrl:"/instructor-solution/"}),babelHelpers.defineProperty(we,Le.SUMMARY_PAGE,{shouldShowProgressBar:!1,nextUrl:null,prevUrl:null,shouldShowAlertEndPractice:!0}),babelHelpers.defineProperty(we,Le.SUMMARY_DETAIL_PAGE,{shouldShowProgressBar:!1,nextUrl:null,prevUrl:null}),we)),$e=Object.freeze({"start-page":"",introduction:"introduction",submission:"submission",instructor_solution:"instructor-solution",give_feedback:"give-feedback",summary:"summary"}),Qe=Object.freeze({VIDEO:"video",TEXT:"text",DOWNLOAD:"download"}),We=Object.freeze({"fields[user_assigned_submission]":"@default,user_attempted_practice","fields[user_attempted_practice]":"question_user_answers,user,submission_time,owner_feedback_question_user_answers","fields[practice_question_user_answer]":"body,practice_question,comment_thread","fields[practice_feedback_question]":"@min,body","fields[comment_thread]":"latest_comment"}),Ge=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).lastSeenPage=e.last_seen_page,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"_getEnumString",value:function(){return gettext("Section %(sectionNumber)s, Assignment %(itemNumber)s")}},{key:"displayName",get:function(){return gettext("Assignment")}},{key:"titleIndex",get:function(){return interpolate(gettext("Assignment %(index)s:"),{index:this.objectIndex},!0)}},{key:"icon",get:function(){return"activity"}},{key:"progressToggleType",get:function(){return Oe.DISABLED}},{key:"uiRouterState",get:function(){var e=this.lastSeenPage&&$e[this.lastSeenPage]||"";return{name:e?"base.taking.practice.section":"base.taking.practice",params:{id:this.id,reactRouterPath:e}}}}]),r}(qe),Ye=r("./src/udemy/js/utils/mobx.js"),Ke=(ke=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).quizType=e.type,t.questions=e.questions,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"setDataFromAPI",value:function(e){Ye.a.prototype.setDataFromAPI.call(this,e)}},{key:"markAsComplete",value:function(){var e=this;if(this.isCompleted)return Promise.resolve();this.isLoading=!0,this.trackAction(I.MARK_COMPLETE);var t="/users/me/subscribed-courses/".concat(this.courseId,"/quizzes/").concat(this.id,"/user-attempted-quizzes/");return Z.c.post(t,{marked_completed:!0}).then(Object(J.action)(function(){e.isCompleted=!0})).finally(Object(J.action)(function(){e.isLoading=!1}))}},{key:"markAsIncomplete",value:function(){var e=this;if(!this.isCompleted)return Promise.resolve();this.isLoading=!0,this.trackAction(I.MARK_RESET);var t="/users/me/subscribed-courses/".concat(this.courseId,"/quizzes/").concat(this.id,"/user-attempted-quizzes/");return Z.c.post(t).then(Object(J.action)(function(){e.isCompleted=!1})).finally(Object(J.action)(function(){e.isLoading=!1}))}},{key:"_getEnumString",value:function(){return this.quizType===Ie.CODING_EXERCISE?gettext("Section %(sectionNumber)s, Coding Exercise %(itemNumber)s"):this.quizType===Ie.PRACTICE_TEST?gettext("Section %(sectionNumber)s, Practice Test %(itemNumber)s"):gettext("Section %(sectionNumber)s, Quiz %(itemNumber)s")}},{key:"apiDataMap",get:function(){return{id:{source:"id",defaultValue:-1},type:"_class",objectIndex:"object_index",title:"title",quizType:"type",description:"description",numAssessments:"num_assessments",version:"version",durationHours:{source:"duration",map:function(e){return Math.floor(e/3600)}},durationMinutes:{source:"duration",map:function(e){return Math.floor(e/60)%60}},isDraft:"is_draft",passPercent:"pass_percent",changelog:"changelog"}}},{key:"displayName",get:function(){return{"coding-exercise":gettext("Coding Exercise"),"practice-test":gettext("Practice Test")}[this.quizType]||gettext("Quiz")}},{key:"titleIndex",get:function(){return this.isPublished?this.quizType===Ie.CODING_EXERCISE?interpolate(gettext("Coding Exercise %(index)s:"),{index:this.objectIndex},!0):this.quizType===Ie.PRACTICE_TEST?interpolate(gettext("Practice Test %(index)s:"),{index:this.objectIndex},!0):interpolate(gettext("Quiz %(index)s:"),{index:this.objectIndex},!0):this.unpublishedTitle}},{key:"unpublishedTitle",get:function(){return this.quizType===Ie.CODING_EXERCISE?gettext("Unpublished Coding Exercise:"):this.quizType===Ie.PRACTICE_TEST?gettext("Unpublished Practice Test:"):gettext("Unpublished Quiz:")}},{key:"progressToggleType",get:function(){return this.isPublished&&"practice-test"!==this.quizType?Oe.ENABLED:Oe.HIDDEN}},{key:"icon",get:function(){return{"simple-quiz":"activity","coding-exercise":"curly-braces-bold","practice-test":"file-text-o"}[this.quizType]}}]),r}(qe),babelHelpers.applyDecoratedDescriptor(ke.prototype,"setDataFromAPI",[J.action],Object.getOwnPropertyDescriptor(ke.prototype,"setDataFromAPI"),ke.prototype),babelHelpers.applyDecoratedDescriptor(ke.prototype,"markAsComplete",[X.a,J.action],Object.getOwnPropertyDescriptor(ke.prototype,"markAsComplete"),ke.prototype),babelHelpers.applyDecoratedDescriptor(ke.prototype,"markAsIncomplete",[X.a,J.action],Object.getOwnPropertyDescriptor(ke.prototype,"markAsIncomplete"),ke.prototype),ke),Xe=r("./node_modules/jsuri/Uri.js"),Je=r.n(Xe),Ze=r("./src/udemy/js/utils/ud-me.js"),et=function e(t){babelHelpers.classCallCheck(this,e),this.id=t.id,this.title=t.announcement_group.title,this.content=t.announcement_group.content,this.instructor=new He(t.announcement_group.user),this.created=t.announcement_group.created,this.commentThread=t.comment_thread},tt=(Ce=function(){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.initializerDefineProperty(this,"announcements",_e,this),babelHelpers.initializerDefineProperty(this,"hasLoaded",Se,this),babelHelpers.initializerDefineProperty(this,"selectedAnnouncementId",je,this),this.courseId=e}return babelHelpers.createClass(t,[{key:"setSelectedAnnouncementId",value:function(e){this.selectedAnnouncementId=e}},{key:"loadPreviewAnnouncement",value:function(e){var t=new Je.a(e).uriParts.source,r={announcement_group:{title:decodeURIComponent(t.match(new RegExp("preview_announcement_title=(.*)&preview_announcement_content="))[1]),content:decodeURIComponent(t.match(new RegExp("preview_announcement_content=(.*)&preview_announcement="))[1]),created:new Date,user:Ze.a}};this.announcements=[new et(r)],this.hasLoaded=!0}},{key:"loadAnnouncementsIfNeeded",value:function(){var t=this;if(this.hasLoaded)return Promise.resolve();var e={courseId:this.courseId,is_promotional:!1,"fields[course_announcement]":"@default,comment_thread","fields[announcement_group]":"@default,user","fields[comment_thread]":"@min,num_comments","fields[user]":"@min,image_50x50,initials,url"};return Z.c.get("/courses/".concat(this.courseId,"/announcements/"),{params:e}).then(Object(J.action)(function(e){t.announcements=e.data.results.map(function(e){return new et(e)}),t.hasLoaded=!0}))}}]),t}(),_e=babelHelpers.applyDecoratedDescriptor(Ce.prototype,"announcements",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Se=babelHelpers.applyDecoratedDescriptor(Ce.prototype,"hasLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),je=babelHelpers.applyDecoratedDescriptor(Ce.prototype,"selectedAnnouncementId",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),babelHelpers.applyDecoratedDescriptor(Ce.prototype,"setSelectedAnnouncementId",[J.action],Object.getOwnPropertyDescriptor(Ce.prototype,"setSelectedAnnouncementId"),Ce.prototype),babelHelpers.applyDecoratedDescriptor(Ce.prototype,"loadPreviewAnnouncement",[J.action],Object.getOwnPropertyDescriptor(Ce.prototype,"loadPreviewAnnouncement"),Ce.prototype),babelHelpers.applyDecoratedDescriptor(Ce.prototype,"loadAnnouncementsIfNeeded",[X.a],Object.getOwnPropertyDescriptor(Ce.prototype,"loadAnnouncementsIfNeeded"),Ce.prototype),Ce);var rt,ot,nt,it,st,at,lt,ct,ut,pt={animateCertificateTrophy:function(){var t=s()(".udi-trophy").addClass("greenify"),r=t.clone().appendTo("body").addClass("animate greenify");t.velocity({opacity:0},100),r.css("left",(s()("body").width()-r.width())/2),r.velocity("transition.bounceIn").velocity({rotateZ:"60deg"},100).velocity({rotateZ:"-60deg"},{loop:4,duration:150}).velocity("reverse").velocity({rotateZ:"0deg"},100).velocity({rotateZ:"0deg"},300,function(){var e=t[0].getBoundingClientRect();r.velocity({left:e.left+window.scrollX,top:e.top+window.scrollY,"font-size":t.css("font-size")},400).velocity({opacity:0},100,function(){r.detach()}),t.velocity({opacity:1},{delay:400,duration:100})})}},dt=(rt=function(){function s(e,t,r,o,n,i){var u=this;babelHelpers.classCallCheck(this,s),babelHelpers.initializerDefineProperty(this,"course",ot,this),this._loadCurriculumPromise=null,babelHelpers.initializerDefineProperty(this,"isCurriculumLoaded",nt,this),babelHelpers.initializerDefineProperty(this,"curriculumSections",it,this),babelHelpers.initializerDefineProperty(this,"_curriculumItems",st,this),babelHelpers.initializerDefineProperty(this,"currentCurriculumSectionIndex",at,this),babelHelpers.initializerDefineProperty(this,"currentCurriculumItemIndex",lt,this),babelHelpers.initializerDefineProperty(this,"courseReview",ct,this),babelHelpers.initializerDefineProperty(this,"exitedCourse",ut,this),this.$rootScope=e,this.$state=t,this.loadingScreenService=r,this.courseId=o,this.canUserEditCourse=n,this.userIsInstructor=i,this.isLimitedConsumptionTrial=T.a.brand.has_organization&&T.a.brand.organization.is_limited_consumption_trial,this.isEnrolledStudent=!this.userIsInstructor&&!this.isLimitedConsumptionTrial,this.trophyAnimationExecuted=!1,this.bookmarksStore=new Ee(this),this.announcementsStore=new tt(this.courseId),this.$rootScope.$on("$stateChangeStart",function(e,t,r,o,n,i){var s=o.name.split(".")[2],a=n.id,l=t.name.split(".")[2],c=r.id;"practice"===l&&t.name===o.name&&r.id===n.id&&e.preventDefault();["base.taking.quiz=>base.taking.quiz.practice-test","base.taking.quiz.practice-test=>base.taking.quiz","base.taking.quiz.practice-test=>base.taking.quiz.practice-test"].includes("".concat(o.name,"=>").concat(t.name))&&n.id===r.id&&!i.isInitialRedirect&&e.preventDefault(),!["lecture","quiz","practice"].includes(l)||s===l&&a===c||u.resetCurrentCurriculumIndex()}),this.$rootScope.$on("$stateChangeSuccess",Object(J.action)(function(e,t,r,o){t.name.startsWith("base.dashboard")&&(u.exitedCourse=o.name.startsWith("base.taking"))})),Object(J.when)(function(){return u.isCourseCompleted},function(){return u.checkCertificateReady()})}return babelHelpers.createClass(s,[{key:"onContentReady",value:function(){this.loadingScreenService.hide(),this.$rootScope.$$phase||this.$rootScope.$apply()}},{key:"loadData",value:function(){var e,i=this,t=Z.c.get("/courses/".concat(this.courseId),{params:{"fields[course]":F.join(","),"fields[locale]":"simple_english_title","fields[user]":U.join(",")}});return e=this.isEnrolledStudent?Z.c.get("/users/me/enrollments/".concat(this.courseId),{params:{"fields[course_has_user]":["archive_time","favorite_time","was_purchased_by_student","was_paid_by_student","is_in_refund_period","notification_settings"].join(",")}}):Promise.resolve({data:{}}),Promise.all([t,e,this.loadCurriculum()]).then(Object(J.action)(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1],n=Object.assign(r.data,o.data,{id:i.courseId});i.course=new Ae(n)})).then(this.checkCertificateExists).then(this.announcementsStore.loadAnnouncementsIfNeeded)}},{key:"_setInitialProgressStatus",value:function(e){var t=[];switch(e.type){case"lecture":t=this.progressData.completed_lecture_ids;break;case"quiz":t=this.progressData.completed_quiz_ids;break;case"practice":t=this.progressData.completed_assignment_ids;break;default:return}-1!==t.indexOf(e.id)&&e.setComplete()}},{key:"loadCurriculum",value:function(){var n=this;if(this._loadCurriculumPromise)return this._loadCurriculumPromise;var e=this.canUserEditCourse?"instructor":"subscriber",t="/courses/".concat(this.courseId,"/").concat(e,"-curriculum-items/"),r=Z.c.get(t,{params:babelHelpers.objectSpread({page_size:1400},V)}),o=Z.c.get("/users/me/subscribed-courses/".concat(this.courseId,"/progress"),{params:{"fields[course]":B.join(",")}});return this._loadCurriculumPromise=Promise.all([r,o]).then(Object(J.action)(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1].data;n.curriculumSections=[],n._curriculumItems=[],n.progressData=o,n._containingSection=null,r.data.results.forEach(n.attachToCurriculumStructure),n.setCurrentCurriculumItem(o.next_curriculum_object._class,o.next_curriculum_object.id),n.isCurriculumLoaded=!0,f.a.mark("CourseDashboard.curriculum-loaded"),f.a.sync()})),this._loadCurriculumPromise}},{key:"attachToCurriculumStructure",value:function(e){if(e.course={id:this.courseId},"chapter"===e._class)this._containingSection=new Ne(e),this.curriculumSections.push(this._containingSection);else{var t;switch(this._containingSection||(this._containingSection=new Ne({id:-1,_class:"chapter",object_index:0,sort_order:1/0,is_published:!0}),this.curriculumSections.push(this._containingSection)),e._class){case"lecture":e.id in this.progressData.lecture_positions&&(e.last_watched_second=this.progressData.lecture_positions[e.id].position),t=new Me(e);break;case"quiz":t=new Ke(e);break;case"practice":e.last_seen_page=this.progressData.last_seen_page[e.id],t=new Ge(e)}this._setInitialProgressStatus(t),this._containingSection.appendCurriculumItem(t),this._curriculumItems.push(t)}}},{key:"checkCertificateExists",value:function(){var t=this;if(this.course.hasCertificate)return Z.c.get("/users/me/certificates/",{params:{course:this.courseId}}).then(function(e){e.data&&e.data.results&&t.course.attachCertificate(e.data.results[0])})}},{key:"scheduleCertificateCheck",value:function(){setTimeout(this.checkCertificateReady,15e3)}},{key:"checkCertificateReady",value:function(){this.course.certificate?this.course.certificate.isReady||(this.checkCertificateExists(),this.tryAnimateTrophy(),this.scheduleCertificateCheck()):(this.course.attachCertificate({is_ready:!1}),this.tryAnimateTrophy(),this.scheduleCertificateCheck())}},{key:"tryAnimateTrophy",value:function(){this.trophyAnimationExecuted||(pt.animateCertificateTrophy(),this.trophyAnimationExecuted=!0)}},{key:"ensureCurriculumLoaded",value:function(){return this._loadCurriculumPromise?this._loadCurriculumPromise:this.loadCurriculum()}},{key:"refreshCurriculum",value:function(){return this._loadCurriculumPromise=null,this.loadCurriculum()}},{key:"_findCurriculumItem",value:function(e,t){for(var r=0;r<this.curriculumSections.length;r++)for(var o=this.curriculumSections[r],n=0;n<o.items.length;n++){var i=o.items[n];if(i.type===e&&i.id===t)return[r,n]}}},{key:"setCurrentCurriculumItem",value:function(e,t){var r=this._findCurriculumItem(e,t);if(!r)throw new Error("Could not find curriculum item with type '".concat(e,"' and ID '").concat(t,"'."));this.currentCurriculumSectionIndex=r[0],this.currentCurriculumItemIndex=r[1]}},{key:"resetCurrentCurriculumIndex",value:function(){this.currentCurriculumSectionIndex=-1,this.currentCurriculumItemIndex=-1}},{key:"resetCourseProgress",value:function(){var e=this;return this.track(De.LECTURE,I.RESET_ALL),Z.c.post("/users/me/subscribed-courses/".concat(this.course.id,"/progress"),{mark_as_not_started:1}).then(function(){return e.resetCurrentCurriculumIndex(),e.refreshCurriculum()}).then(function(){return e._curriculumItems.forEach(function(e){return e.setIncomplete()})})}},{key:"setCourseReview",value:function(e){this.courseReview=e}},{key:"resetCourseReview",value:function(){this.setCourseReview({})}},{key:"track",value:function(e,t,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:x.d.COURSE_TAKING,n={ctVersion:"1",courseId:this.course.id,userType:this.userIsInstructor?z.INSTRUCTOR:z.STUDENT,category:e,action:t};this.currentCurriculumItem&&(n.objectType=this.currentCurriculumItem.type,n.objectId=this.currentCurriculumItem.id);var i=Object.assign(n,r);x.e.trackPageEvent("trackclick",o,i)}},{key:"trackReportAbuse",value:function(e){this.track(ee.b.capitalize(e),"report visit")}},{key:"getAdjacentCurriculumItem",value:function(e){if(![1,0,-1].includes(e))throw new Error("Invalid curriculum item offset provided.");if(this.currentCurriculumSectionIndex<0||this.currentCurriculumItemIndex<0)return null;var t=this.currentCurriculumItemIndex+e;if(this.currentSection.items.length&&0<=t&&t<this.currentSection.items.length)return this.currentSection.items[t];var r=this.currentCurriculumSectionIndex+e;if(r<0||r>=this.curriculumSections.length)return null;var o=this.curriculumSections[r];return o.items.length?o.items[1===e?0:o.items.length-1]:null}},{key:"previousCurriculumItem",get:function(){return this.getAdjacentCurriculumItem(-1)}},{key:"currentCurriculumItem",get:function(){return this.getAdjacentCurriculumItem(0)}},{key:"nextCurriculumItem",get:function(){return this.getAdjacentCurriculumItem(1)}},{key:"currentSection",get:function(){return this.currentCurriculumSectionIndex<0?null:this.curriculumSections[this.currentCurriculumSectionIndex]}},{key:"publishedCurriculumItems",get:function(){return this._curriculumItems.filter(function(e){return e.isPublished})}},{key:"numPublishedCurriculumItems",get:function(){return this.publishedCurriculumItems.length}},{key:"numPublishedLectures",get:function(){return this.publishedCurriculumItems.filter(function(e){return e instanceof Me}).length}},{key:"numPublishedPracticeItems",get:function(){return this.publishedCurriculumItems.filter(function(e){return e instanceof Ge}).length}},{key:"numPublishedPracticeTests",get:function(){return this.publishedCurriculumItems.filter(function(e){return e instanceof Ke&&e.quizType===Ie.PRACTICE_TEST}).length}},{key:"numPublishedCodingExercises",get:function(){return this.publishedCurriculumItems.filter(function(e){return e instanceof Ke&&e.quizType===Ie.CODING_EXERCISE}).length}},{key:"numCompletedItems",get:function(){return this.publishedCurriculumItems.filter(function(e){return e.isCompleted&&!(e instanceof Ge)}).length}},{key:"completionRatio",get:function(){var e=this.numPublishedCurriculumItems-this.numPublishedPracticeItems;return this.numCompletedItems/e}},{key:"completedVideoLength",get:function(){return this.curriculumSections.reduce(function(e,t){return e+=t.completedVideoLength||0},0)}},{key:"isMidpointPassed",get:function(){return this.course?this.completedVideoLength>=this.course.videoContentLength/2:null}},{key:"isCourseCompleted",get:function(){return 1<=this.completionRatio}}]),s}(),ot=babelHelpers.applyDecoratedDescriptor(rt.prototype,"course",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=babelHelpers.applyDecoratedDescriptor(rt.prototype,"isCurriculumLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),it=babelHelpers.applyDecoratedDescriptor(rt.prototype,"curriculumSections",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=babelHelpers.applyDecoratedDescriptor(rt.prototype,"_curriculumItems",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=babelHelpers.applyDecoratedDescriptor(rt.prototype,"currentCurriculumSectionIndex",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),lt=babelHelpers.applyDecoratedDescriptor(rt.prototype,"currentCurriculumItemIndex",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),ct=babelHelpers.applyDecoratedDescriptor(rt.prototype,"courseReview",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ut=babelHelpers.applyDecoratedDescriptor(rt.prototype,"exitedCourse",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(rt.prototype,"loadCurriculum",[X.a],Object.getOwnPropertyDescriptor(rt.prototype,"loadCurriculum"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"attachToCurriculumStructure",[X.a,J.action],Object.getOwnPropertyDescriptor(rt.prototype,"attachToCurriculumStructure"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"checkCertificateExists",[X.a],Object.getOwnPropertyDescriptor(rt.prototype,"checkCertificateExists"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"checkCertificateReady",[X.a],Object.getOwnPropertyDescriptor(rt.prototype,"checkCertificateReady"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"tryAnimateTrophy",[J.action],Object.getOwnPropertyDescriptor(rt.prototype,"tryAnimateTrophy"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"setCurrentCurriculumItem",[J.action],Object.getOwnPropertyDescriptor(rt.prototype,"setCurrentCurriculumItem"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"resetCurrentCurriculumIndex",[J.action],Object.getOwnPropertyDescriptor(rt.prototype,"resetCurrentCurriculumIndex"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"resetCourseProgress",[X.a,J.action],Object.getOwnPropertyDescriptor(rt.prototype,"resetCourseProgress"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"setCourseReview",[X.a,J.action],Object.getOwnPropertyDescriptor(rt.prototype,"setCourseReview"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"resetCourseReview",[X.a,J.action],Object.getOwnPropertyDescriptor(rt.prototype,"resetCourseReview"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"previousCurriculumItem",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"previousCurriculumItem"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"currentCurriculumItem",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"currentCurriculumItem"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"nextCurriculumItem",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"nextCurriculumItem"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"currentSection",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"currentSection"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"publishedCurriculumItems",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"publishedCurriculumItems"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"numPublishedCurriculumItems",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"numPublishedCurriculumItems"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"numPublishedLectures",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"numPublishedLectures"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"numPublishedPracticeItems",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"numPublishedPracticeItems"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"numPublishedPracticeTests",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"numPublishedPracticeTests"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"numPublishedCodingExercises",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"numPublishedCodingExercises"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"numCompletedItems",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"numCompletedItems"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"completionRatio",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"completionRatio"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"completedVideoLength",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"completedVideoLength"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"isMidpointPassed",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"isMidpointPassed"),rt.prototype),babelHelpers.applyDecoratedDescriptor(rt.prototype,"isCourseCompleted",[J.computed],Object.getOwnPropertyDescriptor(rt.prototype,"isCourseCompleted"),rt.prototype),rt),ht=r("./src/udemy/js/course-taking-v4/loading-screen/loading-screen.ng-service.js"),mt=d.a.module("course-taking-v4/course-experience.ng-service",["ui.router",ht.a.name]).service("CourseExperienceService",bt);function bt(e,t,r){var o="instructor_edit_view"===e.viewMode,n=["instructor_read_view","instructor_edit_view","preview_as_subscriber_view"].includes(e.viewMode);return new dt(e,t,r,e.course.id,o,n)}bt.$inject=["$rootScope","$state","loadingScreen"];var yt,ft,gt,vt,wt,kt,Ct=r("./src/udemy/js/course-taking-v4/view-mode.ng-service.js"),_t=Object.freeze({CURRICULUM:"curriculum",QUESTION:"question",TRANSCRIPT:"transcript",TRANSCRIPT_EDITOR:"transcript_editor",NONE:""}),St=Object.freeze({ADD_BOOKMARK:"bookmarkadded",PLAY:"play",PAUSE:"pause",ENTER_FULLSCREEN:"enterfullscreen",EXIT_FULLSCREEN:"exitfullscreen"}),jt=r("./node_modules/classnames/index.js"),Et=r.n(jt),Dt=r("./src/udemy/js/course-reviews/common/review-backend.js"),xt=r("./src/udemy/js/utils/ud-experiment.js"),Ot=[],Tt=(yt=function(){function o(e,t,r){var s=this;babelHelpers.classCallCheck(this,o),this.dormantPanel=_t.NONE,babelHelpers.initializerDefineProperty(this,"activePanel",ft,this),babelHelpers.initializerDefineProperty(this,"isReviewPromptEnabled",gt,this),babelHelpers.initializerDefineProperty(this,"initialReviewPromptIntervalCount",vt,this),babelHelpers.initializerDefineProperty(this,"userShouldSeeMidpointReviewPrompt",wt,this),this.activeReviewPromptStage=null,babelHelpers.initializerDefineProperty(this,"isWelcomeTooltipVisible",kt,this),this.keyHandlers={},this.keyHandlerIndex=0,this.courseExperienceStore=e,this.$rootScope=t,this.AnimatedStateChangeService=r,this.fullscreenStore=new h.b,this.$rootScope.areReviewsDisabled&&this.disableReviewPrompt(),this.$rootScope.$on("$stateChangeStart",function(e,t,r){if(s.isPanelOpen)if(D.c)s.closePanel();else{var o,n=t.name.split(".")[2],i=s.courseExperienceStore._findCurriculumItem(n,parseInt(r.id,10));i&&(o=s.courseExperienceStore.curriculumSections[i[0]].items[i[1]]),Ot[s.activePanel].willPersist(o)||s.closePanel(!0)}}),Object(J.reaction)(function(){return[s.courseExperienceStore.currentCurriculumSectionIndex,s.courseExperienceStore.currentCurriculumItemIndex]},function(){s.dormantPanel!==_t.NONE&&Ot[s.dormantPanel].willPersist(s.courseExperienceStore.currentCurriculumItem)&&s.openPanel(s.dormantPanel)}),Object(J.when)(function(){return s.courseExperienceStore.isCurriculumLoaded},Object(J.action)(function(){s.initialReviewPromptIntervalCount=Math.floor((s.courseExperienceStore.completedVideoLength-s.firstReviewPromptDelay)/3600)+1,s.courseExperienceStore.isMidpointPassed&&(s.userShouldSeeMidpointReviewPrompt=!1)}))}return babelHelpers.createClass(o,[{key:"loadCourseReview",value:function(){var t=this;Object(Dt.a)().forCourse(this.courseExperienceStore.courseId).get({user:Ze.a.id}).then(function(e){t.courseExperienceStore.setCourseReview(e||{})})}},{key:"hideWelcomeTooltip",value:function(){this.isWelcomeTooltipVisible=!1}},{key:"openPanel",value:function(e){if(Ot[e])this.activePanel=e,this.dormantPanel=_t.NONE,P.a.track(x.d.COURSE_TAKING,e,"open-panel");else if(e!==_t.NONE)throw new Error('Unregistered panel type "'.concat(e,'"'))}},{key:"closePanel",value:function(e){e&&(this.dormantPanel=this.activePanel),this.activePanel=_t.NONE,P.a.track(x.d.COURSE_TAKING,this.dormantPanel,"close-panel")}},{key:"togglePanel",value:function(e){this.activePanel===e?this.closePanel():this.openPanel(e)}},{key:"updateLectureProgress",value:function(e,t){Z.c.post("/users/me/subscribed-courses/".concat(this.courseExperienceStore.courseId,"/lectures/").concat(e,"/progress-logs"),t)}},{key:"attachKeyhandler",value:function(e){return this.keyHandlerIndex++,this.keyHandlers[this.keyHandlerIndex]=e,this.detachKeyhandler.bind(this,this.keyHandlerIndex)}},{key:"detachKeyhandler",value:function(e){delete this.keyHandlers[e]}},{key:"handleKeyEvent",value:function(e,t,r){for(var o in this.keyHandlers)if(this.keyHandlers[o](e,t,r))return!0}},{key:"disableReviewPrompt",value:function(){this.isReviewPromptEnabled=!1}},{key:"goToReviewPrompt",value:function(e,t){var r=t||this.reviewPromptStage;P.a.track(x.d.COURSE_TAKING,"Review","prompt",null,null,{location:r.key},{objectType:"review",objectId:this.courseExperienceStore.courseReview.id}),r.key===q.courseTakingInitial.key&&this.initialReviewPromptIntervalCount++,this.hasCriteriaForMidpointReview&&(this.userShouldSeeMidpointReviewPrompt=!1),this.activeReviewPromptStage=r,this.AnimatedStateChangeService.go("base.taking.review",{curriculumItem:e},{location:!1})}},{key:"redirectToLockedScreen",value:function(e,t){return this.AnimatedStateChangeService.go("base.taking.locked",{itemType:e,itemId:t},{location:!1})}},{key:"continueCurriculum",value:function(e){this.$rootScope.$emit("continuecurriculum",e)}},{key:"isRightPanelActive",get:function(){return this.isPanelOpen&&"right"===Ot[this.activePanel].side}},{key:"isPanelOpen",get:function(){return this.activePanel!==_t.NONE}},{key:"curriculumPanelClass",get:function(){return Et()({"course-taking-nav":!0,"nav-open":this.activePanel===_t.CURRICULUM})}},{key:"firstReviewPromptDelay",get:function(){var e=Object(xt.a)("ctp","reviewPromptInterval",R);if("minutes"===e.metric)return 60*e.value;if("percentage"===e.metric)return Math.floor(this.courseExperienceStore.course.videoContentLength*e.value/100);throw new Error("Unknown metric for first review prompt delay: '".concat(e.metric,"'"))}},{key:"initialReviewPromptTime",get:function(){return this.firstReviewPromptDelay+3600*this.initialReviewPromptIntervalCount}},{key:"hasCriteriaForMidpointReview",get:function(){var e=this.courseExperienceStore,t=e.course,r=e.isMidpointPassed;return 7200<=t.videoContentLength&&r&&this.userShouldSeeMidpointReviewPrompt}},{key:"reviewPromptStage",get:function(){var e=new Je.a(window.location.search).getQueryParamValue("review_prompt_id");if(q[e])return q[e];if(this.courseExperienceStore.userIsInstructor||!this.isReviewPromptEnabled)return null;var t=this.courseExperienceStore,r=t.completedVideoLength,o=t.course,n=t.courseReview,i=t.nextCurriculumItem,s=!!n.rating,a=Object(xt.a)("cr","course_exit_review_popup_enabled",!1)&&o.numReviews>=Object(xt.a)("cr","course_exit_review_popup_min_reviews",500);return i?this.hasCriteriaForMidpointReview&&s?q.courseTakingMiddle:r>=this.initialReviewPromptTime&&!s&&!a?q.courseTakingInitial:null:s&&3600<=o.videoContentLength?q.courseTakingFinal:q.courseTakingInitialEnd}}]),o}(),ft=babelHelpers.applyDecoratedDescriptor(yt.prototype,"activePanel",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _t.NONE}}),gt=babelHelpers.applyDecoratedDescriptor(yt.prototype,"isReviewPromptEnabled",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vt=babelHelpers.applyDecoratedDescriptor(yt.prototype,"initialReviewPromptIntervalCount",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wt=babelHelpers.applyDecoratedDescriptor(yt.prototype,"userShouldSeeMidpointReviewPrompt",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kt=babelHelpers.applyDecoratedDescriptor(yt.prototype,"isWelcomeTooltipVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),babelHelpers.applyDecoratedDescriptor(yt.prototype,"hideWelcomeTooltip",[J.action],Object.getOwnPropertyDescriptor(yt.prototype,"hideWelcomeTooltip"),yt.prototype),babelHelpers.applyDecoratedDescriptor(yt.prototype,"openPanel",[J.action],Object.getOwnPropertyDescriptor(yt.prototype,"openPanel"),yt.prototype),babelHelpers.applyDecoratedDescriptor(yt.prototype,"closePanel",[X.a,J.action],Object.getOwnPropertyDescriptor(yt.prototype,"closePanel"),yt.prototype),babelHelpers.applyDecoratedDescriptor(yt.prototype,"disableReviewPrompt",[J.action],Object.getOwnPropertyDescriptor(yt.prototype,"disableReviewPrompt"),yt.prototype),babelHelpers.applyDecoratedDescriptor(yt.prototype,"goToReviewPrompt",[J.action],Object.getOwnPropertyDescriptor(yt.prototype,"goToReviewPrompt"),yt.prototype),babelHelpers.applyDecoratedDescriptor(yt.prototype,"isRightPanelActive",[J.computed],Object.getOwnPropertyDescriptor(yt.prototype,"isRightPanelActive"),yt.prototype),babelHelpers.applyDecoratedDescriptor(yt.prototype,"isPanelOpen",[J.computed],Object.getOwnPropertyDescriptor(yt.prototype,"isPanelOpen"),yt.prototype),babelHelpers.applyDecoratedDescriptor(yt.prototype,"curriculumPanelClass",[J.computed],Object.getOwnPropertyDescriptor(yt.prototype,"curriculumPanelClass"),yt.prototype),babelHelpers.applyDecoratedDescriptor(yt.prototype,"initialReviewPromptTime",[J.computed],Object.getOwnPropertyDescriptor(yt.prototype,"initialReviewPromptTime"),yt.prototype),babelHelpers.applyDecoratedDescriptor(yt.prototype,"hasCriteriaForMidpointReview",[J.computed],Object.getOwnPropertyDescriptor(yt.prototype,"hasCriteriaForMidpointReview"),yt.prototype),babelHelpers.applyDecoratedDescriptor(yt.prototype,"reviewPromptStage",[J.computed],Object.getOwnPropertyDescriptor(yt.prototype,"reviewPromptStage"),yt.prototype),yt),Pt=d.a.module("course-taking-v4/course-taking/course-taking.ng-service",[mt.name,Y.name]).service("CourseTakingService",Ht);function Ht(e,t,r){return new Tt(t,e,r)}Ht.$inject=["$rootScope","CourseExperienceService","AnimatedStateChangeService"];var At=r("./node_modules/mobx-react/index.module.js"),It=r("./node_modules/prop-types/index.js"),Rt=r.n(It),qt=r("./node_modules/react/index.js"),Nt=r.n(qt),zt=r("./src/udemy/js/course-taking-v4/course-taking/panel.less"),Mt=r.n(zt);function Lt(o,n,e){return e=e||function(){return!1},Ot[n]={willPersist:e,side:o},function(r){var e,t;return Object(At.d)((t=e=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.courseTakingStore.activePanel===n,t=Et()(Mt.a["".concat(o,"-panel")],babelHelpers.defineProperty({},Mt.a["panel--open"],e),this.props.className);return Nt.a.createElement("div",{className:t},Nt.a.createElement(r,this.props))}}]),t}(Nt.a.Component),e.propTypes=babelHelpers.objectSpread({},r.propTypes,{courseTakingStore:Rt.a.object.isRequired,className:Rt.a.string}),e.defaultProps=babelHelpers.objectSpread({},r.defaultProps,{className:""}),t))}}function Ft(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Lt.apply(void 0,["right"].concat(t))}var Ut,Bt,Vt,$t,Qt=r("./node_modules/react-router-dom/es/Switch.js"),Wt=r("./node_modules/react-router-dom/es/Route.js"),Gt=r("./node_modules/react-router-dom/es/Redirect.js"),Yt=r("./src/udemy/js/base-components/memoized-browser-router.react-component.js"),Kt=r("./src/udemy/js/base-components/icon.react-component.js"),Xt=r("./src/udemy/js/base-components/loader.react-component.js"),Jt=r("./src/udemy/js/base-components/panel.react-component.js"),Zt=r("./node_modules/lodash-es/noop.js"),er=r("./node_modules/react-router-dom/es/withRouter.js"),tr=(r("./src/udemy/js/course-taking-v4/course-taking/practice/practice.less"),r("./src/udemy/js/base-components/button.react-component.js")),rr=Object(At.c)("basePath")(Ut=Object(er.a)(Ut=Object(At.d)(($t=Vt=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onHandleClick",value:function(){var e=this.props,t=e.history,r=e.basePath,o=e.url;t.push("".concat(r).concat(o))}},{key:"render",value:function(){var e=this.props,t=e.bsStyle,r=e.children;return Nt.a.createElement(tr.default,{onClick:this.onHandleClick,bsStyle:t},r)}}]),t}(qt.Component),Vt.propTypes={basePath:Rt.a.string.isRequired,history:Rt.a.object.isRequired,children:Rt.a.node.isRequired,url:Rt.a.string.isRequired,bsStyle:Rt.a.string},Vt.defaultProps={bsStyle:"primary"},Bt=$t,babelHelpers.applyDecoratedDescriptor(Bt.prototype,"onHandleClick",[X.a],Object.getOwnPropertyDescriptor(Bt.prototype,"onHandleClick"),Bt.prototype),Ut=Bt))||Ut)||Ut)||Ut,or=function(e){var t=e.hasCompletedPractice,r=e.showShortenedText;if(!t)return null;var o=r?gettext("Summary"):gettext("Go to summary");return Nt.a.createElement(rr,{url:"/summary/"},o)};or.propTypes={hasCompletedPractice:Rt.a.bool.isRequired,showShortenedText:Rt.a.bool},or.defaultProps={showShortenedText:!1};var nr,ir,sr,ar,lr=function(e){var t=e.nextUrl,r=e.prevUrl,o=e.showShortenedText;return Nt.a.createElement("div",null,r&&Nt.a.createElement(rr,{url:r,bsStyle:"quaternary"},Nt.a.createElement(Kt.a,{glyph:"previous"}),!o&&gettext("Prev")),t&&Nt.a.createElement(rr,{url:t},!o&&gettext("Next"),Nt.a.createElement(Kt.a,{glyph:"next"})))};lr.propTypes={nextUrl:Rt.a.string,prevUrl:Rt.a.string,showShortenedText:Rt.a.bool},lr.defaultProps={nextUrl:null,prevUrl:null,showShortenedText:!1};var cr,ur,pr,dr,hr,mr,br,yr=Object(At.c)("practiceStore")(nr=Object(er.a)(nr=Object(At.d)((ar=sr=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.practiceStore,o=t.pageType;r.initializePracticeData().then(function(){e.props.onPracticeInitialized(),r.setCurrentPage(o),x.e.trackPageEvent("visit",x.d.COURSE_TAKING,r.currentPage),r.setRightActions(e.renderRightButtons),r.setCenterActions(e.renderCenterButtons)})}},{key:"componentWillUnmount",value:function(){this.props.practiceStore.clearActions({rightActions:this.rightActions,centerActions:this.centerActions})}},{key:"renderRightButtons",value:function(){var e=this.props,t=e.practiceStore;return e.rightButtons||Nt.a.createElement(lr,{nextUrl:t.nextUrl,prevUrl:t.prevUrl,showShortenedText:t.courseTakingStore.isPanelOpen})}},{key:"renderCenterButtons",value:function(){var e=this.props,t=e.practiceStore;return e.centerButtons||Nt.a.createElement(or,{hasCompletedPractice:t.hasCompletedPractice,showShortenedText:t.courseTakingStore.isPanelOpen})}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.title,o=e.subtitle;return Nt.a.createElement("div",null,(r||o)&&Nt.a.createElement("span",null,Nt.a.createElement("h1",null,r),Nt.a.createElement("div",{className:"practice--practice-basics--1EPLv","data-purpose":"subtitle"},o)),t?Nt.a.createElement("span",null,t):Nt.a.createElement("div",{className:"text-center mt30"},Nt.a.createElement(Xt.a,{size:"medium"})))}}]),t}(qt.Component),sr.propTypes={practiceStore:Rt.a.object.isRequired,history:Rt.a.object.isRequired,children:Rt.a.node,onPracticeInitialized:Rt.a.func,title:Rt.a.string,subtitle:Rt.a.oneOfType([Rt.a.string,Rt.a.element]),pageType:Rt.a.string,rightButtons:Rt.a.object,centerButtons:Rt.a.object},sr.defaultProps={children:null,onPracticeInitialized:Zt.a,title:null,subtitle:null,pageType:null,rightButtons:null,centerButtons:null},ir=ar,babelHelpers.applyDecoratedDescriptor(ir.prototype,"renderRightButtons",[X.a],Object.getOwnPropertyDescriptor(ir.prototype,"renderRightButtons"),ir.prototype),babelHelpers.applyDecoratedDescriptor(ir.prototype,"renderCenterButtons",[X.a],Object.getOwnPropertyDescriptor(ir.prototype,"renderCenterButtons"),ir.prototype),nr=ir))||nr)||nr)||nr,fr=r("./src/udemy/js/base-components/button-toolbar.react-component.js"),gr=r("./src/udemy/js/base-components/comments/comment-thread.react-component.js"),vr=r("./src/udemy/js/base-components/form/form-control.react-component.js"),wr=r("./src/udemy/js/base-components/form/form-group-with-help-block.react-component.js"),kr=r("./src/udemy/js/base-components/form/form.react-component.js"),Cr=r("./src/udemy/js/base-components/rich-text-editor/rich-text-editor.react-component.js"),_r=r("./src/udemy/js/base-components/rich-text-viewer.react-component.js"),Sr=r("./src/udemy/js/base-components/user-image.react-component.js"),jr=(r("./src/udemy/js/course-taking-v4/course-taking/practice/feedback.less"),function(e){var t=e.feedback,r=e.localFeedbackAnswer,o=e.onChange,n=e.onSubmit,i=e.onCancel,s=e.showPlaceholder,a=e.onClickPlaceholder;return s?Nt.a.createElement(vr.a,{type:"text",placeholder:t.placeholderText,onClick:a}):Nt.a.createElement("span",null,Nt.a.createElement(Cr.a,{theme:Cr.a.THEMES.ASSIGNMENT,onValueChange:o,value:r}),Nt.a.createElement(fr.a,{className:"pt10"},Nt.a.createElement(tr.default,{bsStyle:"primary",onClick:n,"data-purpose":"submit-button"},gettext("Submit")),Nt.a.createElement(tr.default,{bsStyle:"tertiary",onClick:i,"data-purpose":"cancel-button"},gettext("Cancel"))))});jr.propTypes={feedback:Rt.a.object.isRequired,onChange:Rt.a.func.isRequired,onSubmit:Rt.a.func.isRequired,onCancel:Rt.a.func.isRequired,showPlaceholder:Rt.a.bool.isRequired,onClickPlaceholder:Rt.a.func.isRequired,localFeedbackAnswer:Rt.a.string},jr.defaultProps={localFeedbackAnswer:null};var Er=function(e){var t=e.feedback,r=e.onEdit,o=e.onDelete;return Nt.a.createElement("div",null,Nt.a.createElement("a",{href:t.answer.user.url,"data-purpose":"commenter-name"},t.answer.user.title),t.userCanEdit&&Nt.a.createElement("span",null,Nt.a.createElement(tr.default,{bsStyle:"quintinary",className:"pull-right","data-purpose":"delete-button",onClick:o},Nt.a.createElement(Kt.a,{glyph:"trash","aria-hidden":"true","aria-label":gettext("Delete answer")})),Nt.a.createElement(tr.default,{bsStyle:"quintinary",className:"pull-right","data-purpose":"edit-button",onClick:r},Nt.a.createElement(Kt.a,{glyph:"pencil","aria-hidden":"true","aria-label":gettext("Edit answer")}))),Nt.a.createElement(_r.a,{unsafeHTML:t.answer.body}))};Er.propTypes={feedback:Rt.a.object.isRequired,onEdit:Rt.a.func.isRequired,onDelete:Rt.a.func.isRequired},Er.defaultProps={localFeedbackAnswer:null};var Dr,xr,Or,Tr,Pr,Hr,Ar,Ir,Rr,qr,Nr,zr,Mr,Lr,Fr,Ur,Br,Vr,$r,Qr,Wr,Gr,Yr,Kr,Xr,Jr,Zr,eo,to,ro,oo,no,io,so,ao,lo,co,uo=Object(At.d)((br=mr=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"localFeedbackAnswer",pr,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"shouldShowEditor",dr,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isEditing",hr,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.setInitialEditorStatus(),t.updateLocalAnswer(e.feedback.answer.body),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"setInitialEditorStatus",value:function(){this.shouldShowEditor=!this.props.feedback.answer.body}},{key:"toggleEditor",value:function(){this.shouldShowEditor=!this.shouldShowEditor}},{key:"toggleEditMode",value:function(){this.props.feedback.isSubmitted&&this.toggleEditor(),this.isEditing=!this.isEditing}},{key:"updateLocalAnswer",value:function(e){this.localFeedbackAnswer=e}},{key:"onSubmitAnswer",value:function(){var e=this.toggleEditMode;this.props.feedback.updateAnswerValue(this.localFeedbackAnswer),this.props.feedback.saveAnswer(e)}},{key:"onDeleteAnswer",value:function(){this.props.feedback.deleteAnswer(),this.updateLocalAnswer(null),this.toggleEditor()}},{key:"render",value:function(){var e=this.props,t=e.feedback,r=e.areCommentsVisible;return Nt.a.createElement("div",{"data-purpose":"practice-feedback"},Nt.a.createElement("div",{className:"feedback--feedback-thread-head--2bVA2"},Nt.a.createElement("div",{className:"feedback--feedback-thread-head__basic-info--2l0TX","data-purpose":"feedback-question"},Nt.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.question.body}}))),Nt.a.createElement("div",{className:"feedback--feedback-thread-head--2bVA2","data-purpose":"feedback-answer"},Nt.a.createElement("div",{className:"feedback--feedback-thread-head__avatar--JZGqG"},Nt.a.createElement(Sr.b,{user:t.answer.user})),Nt.a.createElement(kr.a,{className:"feedback--feedback-form--1rIUM"},Nt.a.createElement(wr.a,{errors:t.answer.errors,controlId:"feedbackQuestionUserAnswer"},this.shouldShowEditor?Nt.a.createElement(jr,{feedback:t,localFeedbackAnswer:this.localFeedbackAnswer,onChange:this.updateLocalAnswer,onSubmit:this.onSubmitAnswer,onDelete:this.onDeleteAnswer,onCancel:this.toggleEditMode,showPlaceholder:!this.isEditing,onClickPlaceholder:this.toggleEditMode}):Nt.a.createElement(Er,{feedback:t,onEdit:this.toggleEditMode,onDelete:this.onDeleteAnswer})),r&&t.isSubmitted&&Nt.a.createElement(gr.a,{autoLoad:!0,canReply:t.canReplyToComment,resourceUrl:t.commentUrl,commentThread:t.answer.commentThread,richTextTheme:Cr.a.THEMES.ASSIGNMENT}))))}}]),r}(qt.Component),mr.propTypes={feedback:Rt.a.object.isRequired,areCommentsVisible:Rt.a.bool},mr.defaultProps={areCommentsVisible:!0},ur=br,pr=babelHelpers.applyDecoratedDescriptor(ur.prototype,"localFeedbackAnswer",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dr=babelHelpers.applyDecoratedDescriptor(ur.prototype,"shouldShowEditor",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hr=babelHelpers.applyDecoratedDescriptor(ur.prototype,"isEditing",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(ur.prototype,"setInitialEditorStatus",[J.action],Object.getOwnPropertyDescriptor(ur.prototype,"setInitialEditorStatus"),ur.prototype),babelHelpers.applyDecoratedDescriptor(ur.prototype,"toggleEditor",[X.a,J.action],Object.getOwnPropertyDescriptor(ur.prototype,"toggleEditor"),ur.prototype),babelHelpers.applyDecoratedDescriptor(ur.prototype,"toggleEditMode",[X.a,J.action],Object.getOwnPropertyDescriptor(ur.prototype,"toggleEditMode"),ur.prototype),babelHelpers.applyDecoratedDescriptor(ur.prototype,"updateLocalAnswer",[X.a,J.action],Object.getOwnPropertyDescriptor(ur.prototype,"updateLocalAnswer"),ur.prototype),babelHelpers.applyDecoratedDescriptor(ur.prototype,"onSubmitAnswer",[X.a],Object.getOwnPropertyDescriptor(ur.prototype,"onSubmitAnswer"),ur.prototype),babelHelpers.applyDecoratedDescriptor(ur.prototype,"onDeleteAnswer",[X.a],Object.getOwnPropertyDescriptor(ur.prototype,"onDeleteAnswer"),ur.prototype),cr=ur))||cr,po=(Dr=function(){function o(e,t,r){babelHelpers.classCallCheck(this,o),babelHelpers.initializerDefineProperty(this,"answer",xr,this),babelHelpers.initializerDefineProperty(this,"errors",Or,this),this.practiceId=r.practiceId,this.userAttemptedPracticeId=r.userAttemptedPracticeId,this.question=e,this.setAnswerData(t)}return babelHelpers.createClass(o,[{key:"setAnswerData",value:function(e){var t=e.id,r=e.body,o=e.comment_thread,n=e.user||Ze.a;Object(J.extendObservable)(this.answer,{id:t,body:r,commentThread:o,user:n})}},{key:"updateAnswerValue",value:function(e){this.errors=void 0,this.answer.body=e}},{key:"saveAnswer",value:function(e){var t,r=this;if(this.answer.id)t=Z.c.patch("/practices/".concat(this.practiceId,"/feedback-user-answers/").concat(this.answer.id),{body:this.answer.body});else{var o=[{body:""===this.answer.body?null:this.answer.body,feedback_question:this.question.id,user_attempted_practice:this.userAttemptedPracticeId}];t=Z.c.post("/practices/".concat(this.practiceId,"/feedback-user-answers/"),o,{params:{feedback_question:this.question.id,user:Ze.a.id}}).then(Object(J.action)(function(e){r.answer.id=e.data.results[0].id}))}return t.then(function(){e()}).catch(Object(J.action)(function(e){r.errors=e.response.data.results.map(function(e){return e.body})}))}},{key:"deleteAnswer",value:function(){var e=this;return Z.c.delete("/practices/".concat(this.practiceId,"/feedback-user-answers/").concat(this.answer.id)).then(Object(J.action)(function(){e.setAnswerData({})}))}},{key:"updateCommentThread",value:function(e){this.answer.commentThread=e}},{key:"placeholderText",get:function(){return this.question.type===Ue?gettext("I learned..."):gettext("Add feedback...")}},{key:"userCanEdit",get:function(){return this.answer&&this.answer.user.id===Ze.a.id}},{key:"isSubmitted",get:function(){return this.answer&&!!this.answer.id}},{key:"commentUrl",get:function(){return this.answer?"/practices/".concat(this.practiceId,"/user-attempted-practices/").concat(this.userAttemptedPracticeId,"/feedback-user-answers/").concat(this.answer.id,"/comments"):null}}]),o}(),xr=babelHelpers.applyDecoratedDescriptor(Dr.prototype,"answer",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Or=babelHelpers.applyDecoratedDescriptor(Dr.prototype,"errors",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),babelHelpers.applyDecoratedDescriptor(Dr.prototype,"setAnswerData",[J.action],Object.getOwnPropertyDescriptor(Dr.prototype,"setAnswerData"),Dr.prototype),babelHelpers.applyDecoratedDescriptor(Dr.prototype,"placeholderText",[J.computed],Object.getOwnPropertyDescriptor(Dr.prototype,"placeholderText"),Dr.prototype),babelHelpers.applyDecoratedDescriptor(Dr.prototype,"userCanEdit",[J.computed],Object.getOwnPropertyDescriptor(Dr.prototype,"userCanEdit"),Dr.prototype),babelHelpers.applyDecoratedDescriptor(Dr.prototype,"isSubmitted",[J.computed],Object.getOwnPropertyDescriptor(Dr.prototype,"isSubmitted"),Dr.prototype),babelHelpers.applyDecoratedDescriptor(Dr.prototype,"commentUrl",[J.computed],Object.getOwnPropertyDescriptor(Dr.prototype,"commentUrl"),Dr.prototype),babelHelpers.applyDecoratedDescriptor(Dr.prototype,"updateAnswerValue",[X.a,J.action],Object.getOwnPropertyDescriptor(Dr.prototype,"updateAnswerValue"),Dr.prototype),babelHelpers.applyDecoratedDescriptor(Dr.prototype,"saveAnswer",[X.a,J.action],Object.getOwnPropertyDescriptor(Dr.prototype,"saveAnswer"),Dr.prototype),babelHelpers.applyDecoratedDescriptor(Dr.prototype,"deleteAnswer",[X.a,J.action],Object.getOwnPropertyDescriptor(Dr.prototype,"deleteAnswer"),Dr.prototype),babelHelpers.applyDecoratedDescriptor(Dr.prototype,"updateCommentThread",[X.a,J.action],Object.getOwnPropertyDescriptor(Dr.prototype,"updateCommentThread"),Dr.prototype),Dr),ho=(Tr=function(){function r(e,t){babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"submissionTime",Pr,this),babelHelpers.initializerDefineProperty(this,"isPrivate",Hr,this),babelHelpers.initializerDefineProperty(this,"isComplete",Ar,this),babelHelpers.initializerDefineProperty(this,"questions",Ir,this),babelHelpers.initializerDefineProperty(this,"feedbacks",Rr,this),babelHelpers.initializerDefineProperty(this,"selfFeedbacksAreLoaded",qr,this),babelHelpers.initializerDefineProperty(this,"peerFeedbacksAreLoaded",Nr,this),babelHelpers.initializerDefineProperty(this,"questionsAreLoaded",zr,this),this.id=e.id,this.practiceId=t.practiceId,this.user=e.user,this.setQuestions(t.questions,e.question_user_answers),this.setObservablesFromAPIData(e)}return babelHelpers.createClass(r,[{key:"setObservablesFromAPIData",value:function(e){this.submissionTime=e.submission_time,this.isPrivate=e.is_private,this.isComplete=e.is_complete,e[Fe]&&this.setPeerFeedbacksFromFeedbackQuestionUserAnswers(e[Fe])}},{key:"setQuestions",value:function(e,t){var i=this;t?t.forEach(function(e){var t=e.practice_question,r=e.id,o=e.body,n={id:t.id,body:t.body,userAnswer:{id:r,body:o}};i.questions.push(n)}):this.questions=e.map(function(e){return e.userAnswer&&e.userAnswer.body?e:Object.assign({},e,{userAnswer:{body:""}})})}},{key:"getPracticeQuestionUserAnswers",value:function(){var r=this;return Z.c.get("practices/".concat(this.practiceId,"/user-attempted-practices/").concat(this.id,"/user-answers"),{params:{"fields[practice_question_user_answer]":"practice_question,body"}}).then(Object(J.action)(function(e){e.data.results.forEach(function(t){var e=r.questions.findIndex(function(e){return e.id===t.practice_question.id});-1!==e&&(r.questions[e].userAnswer=t)})})).catch(function(){ee.b.Feedback.fromText(Z.e,ee.b.MessageType.error)}).finally(Object(J.action)(function(){r.questionsAreLoaded=!0}))}},{key:"_getFeedbackQuestionsOfType",value:function(e){return Z.c.get("practices/feedback-questions/",{params:{type:e}})}},{key:"_getFeedbackQuestionAnswersOfType",value:function(e){var t={attempt_id_in:this.id,"fields[practice_feedback_question_user_answer]":"user,body,feedback_question,comment_thread,created","fields[comment_thread]":"latest_comment","fields[user]":"title,display_name,image_50x50,initials,name","fields[practice_feedback_question]":"id,type"};return e!==Ue&&(t=Object.assign(t,{user_not_in:Ze.a.id})),Z.c.get("/practices/".concat(this.practiceId,"/feedback-user-answers/"),{params:t})}},{key:"setFeedbacks",value:function(e,n,i){var s=this;return e.forEach(function(t){var e=n.findIndex(function(e){return e.feedback_question.id===t.id}),r=-1===e?{}:n[e],o={practiceId:s.practiceId,userAttemptedPracticeId:s.id};s.feedbacks.push(new po(t,r,o)),i===Ue?s.selfFeedbacksAreLoaded=!0:s.peerFeedbacksAreLoaded=!0})}},{key:"getFeedbackOfType",value:function(s){var a=this,e=this._getFeedbackQuestionsOfType(s),t=this._getFeedbackQuestionAnswersOfType(s);return Promise.all([e,t]).then(Object(J.action)(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1],n=r.data.results,i=o.data.results;s===Be&&a.isUserOwner&&!i.length||a.setFeedbacks(n,i,s)}))}},{key:"setPeerFeedbacksFromFeedbackQuestionUserAnswers",value:function(t){var r=this;if(!t.length)return this._getFeedbackQuestionsOfType(Be).then(Object(J.action)(function(e){r.setFeedbacks(e.data.results,t)}));t.forEach(function(e){var t={practiceId:r.practiceId,userAttemptedPracticeId:r.id};r.feedbacks.push(new po(e.feedback_question,e,t)),r.peerFeedbacksAreLoaded=!0})}},{key:"updateFeedbackCommentThread",value:function(t){var e=this.feedbacks.filter(function(e){return e.answer.id===t.id});if(e.length)return e[0].updateCommentThread(t.comment_thread)}},{key:"setAsComplete",value:function(){this.isComplete=!0}},{key:"peerFeedbacks",get:function(){return this.feedbacks.length?this.feedbacks.filter(function(e){return e.question.type===Be}):this.feedbacks}},{key:"selfFeedbacks",get:function(){return this.feedbacks.length?this.feedbacks.filter(function(e){return e.question.type===Ue}):this.feedbacks}},{key:"hasAnswer",get:function(){return this.questions.some(function(e){return e.userAnswer.body})}},{key:"isSubmitted",get:function(){return!!this.submissionTime}},{key:"isEmpty",get:function(){return!this.questions.length||this.questions.every(function(e){return!e.userAnswer||!e.userAnswer.body})}},{key:"isUserOwner",get:function(){return this.user.id===Ze.a.id}}]),r}(),Pr=babelHelpers.applyDecoratedDescriptor(Tr.prototype,"submissionTime",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr=babelHelpers.applyDecoratedDescriptor(Tr.prototype,"isPrivate",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ar=babelHelpers.applyDecoratedDescriptor(Tr.prototype,"isComplete",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ir=babelHelpers.applyDecoratedDescriptor(Tr.prototype,"questions",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rr=babelHelpers.applyDecoratedDescriptor(Tr.prototype,"feedbacks",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qr=babelHelpers.applyDecoratedDescriptor(Tr.prototype,"selfFeedbacksAreLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nr=babelHelpers.applyDecoratedDescriptor(Tr.prototype,"peerFeedbacksAreLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zr=babelHelpers.applyDecoratedDescriptor(Tr.prototype,"questionsAreLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"setObservablesFromAPIData",[J.action],Object.getOwnPropertyDescriptor(Tr.prototype,"setObservablesFromAPIData"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"setQuestions",[J.action],Object.getOwnPropertyDescriptor(Tr.prototype,"setQuestions"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"peerFeedbacks",[J.computed],Object.getOwnPropertyDescriptor(Tr.prototype,"peerFeedbacks"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"selfFeedbacks",[J.computed],Object.getOwnPropertyDescriptor(Tr.prototype,"selfFeedbacks"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"hasAnswer",[J.computed],Object.getOwnPropertyDescriptor(Tr.prototype,"hasAnswer"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"isSubmitted",[J.computed],Object.getOwnPropertyDescriptor(Tr.prototype,"isSubmitted"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"isEmpty",[J.computed],Object.getOwnPropertyDescriptor(Tr.prototype,"isEmpty"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"isUserOwner",[J.computed],Object.getOwnPropertyDescriptor(Tr.prototype,"isUserOwner"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"getPracticeQuestionUserAnswers",[J.action],Object.getOwnPropertyDescriptor(Tr.prototype,"getPracticeQuestionUserAnswers"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"_getFeedbackQuestionsOfType",[J.action],Object.getOwnPropertyDescriptor(Tr.prototype,"_getFeedbackQuestionsOfType"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"_getFeedbackQuestionAnswersOfType",[J.action],Object.getOwnPropertyDescriptor(Tr.prototype,"_getFeedbackQuestionAnswersOfType"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"setFeedbacks",[J.action],Object.getOwnPropertyDescriptor(Tr.prototype,"setFeedbacks"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"getFeedbackOfType",[J.action],Object.getOwnPropertyDescriptor(Tr.prototype,"getFeedbackOfType"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"setPeerFeedbacksFromFeedbackQuestionUserAnswers",[J.action],Object.getOwnPropertyDescriptor(Tr.prototype,"setPeerFeedbacksFromFeedbackQuestionUserAnswers"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"updateFeedbackCommentThread",[J.action],Object.getOwnPropertyDescriptor(Tr.prototype,"updateFeedbackCommentThread"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"setAsComplete",[J.action],Object.getOwnPropertyDescriptor(Tr.prototype,"setAsComplete"),Tr.prototype),Tr),mo=(Mr=function(){function r(e,t){babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"practice",Lr,this),babelHelpers.initializerDefineProperty(this,"downloadableAssets",Fr,this),babelHelpers.initializerDefineProperty(this,"solutionDownloadableAssets",Ur,this),babelHelpers.initializerDefineProperty(this,"videoComponent",Br,this),babelHelpers.initializerDefineProperty(this,"solutionVideoComponent",Vr,this),babelHelpers.initializerDefineProperty(this,"textComponent",$r,this),babelHelpers.initializerDefineProperty(this,"questions",Qr,this),babelHelpers.initializerDefineProperty(this,"userSubmission",Wr,this),babelHelpers.initializerDefineProperty(this,"instructorSubmission",Gr,this),babelHelpers.initializerDefineProperty(this,"questionsAreLoaded",Yr,this),babelHelpers.initializerDefineProperty(this,"publishAttempt",Kr,this),babelHelpers.initializerDefineProperty(this,"sendingSave",Xr,this),babelHelpers.initializerDefineProperty(this,"statusAlert",Jr,this),babelHelpers.initializerDefineProperty(this,"assignedSubmissions",Zr,this),babelHelpers.initializerDefineProperty(this,"submissionsLoaded",eo,this),babelHelpers.initializerDefineProperty(this,"currentPage",to,this),babelHelpers.initializerDefineProperty(this,"rightActions",ro,this),babelHelpers.initializerDefineProperty(this,"centerActions",oo,this),babelHelpers.initializerDefineProperty(this,"summaryListLoaded",no,this),babelHelpers.initializerDefineProperty(this,"submissionDetail",io,this),this.courseTakingStore=e,this.courseExperienceStore=e.courseExperienceStore,this.practiceId=t}return babelHelpers.createClass(r,[{key:"setPractice",value:function(){this.courseExperienceStore.setCurrentCurriculumItem("practice",this.practiceId),this.courseExperienceStore.onContentReady()}},{key:"_getPracticeBasics",value:function(){var t=this;return Z.c.get("/practices/".concat(this.practiceId),{params:{"fields[practice]":"title,is_free,is_published,sort_order,estimated_duration,object_index,description,num_submissions"}}).then(Object(J.action)(function(e){t.practice=e.data}))}},{key:"_getPracticeComponents",value:function(){var r=this;return Z.c.get("/practices/".concat(this.practiceId,"/components"),{params:{type:"instruction","fields[practice_component]":["body","asset","display_type"].join(","),"fields[asset]":["asset_type","title","external_url"].join(",")}}).then(Object(J.action)(function(e){var t=e.data.results;r.videoComponent=t.find(function(e){return e.display_type===Qe.VIDEO}),r.textComponent=t.find(function(e){return e.display_type===Qe.TEXT}),r.downloadableAssets=t.filter(function(e){return e.display_type===Qe.DOWNLOAD}).map(function(e){return e.asset})}))}},{key:"_getPracticeQuestions",value:function(){var t=this;return Z.c.get("/practices/".concat(this.practiceId,"/questions"),{params:{"fields[practice_question]":"body,answer"}}).then(Object(J.action)(function(e){t.questions=e.data.results}))}},{key:"getPracticeData",value:function(){var e=this._getPracticeBasics(),t=this._getPracticeComponents(),r=this._getPracticeQuestions();return Promise.all([e,t,r]).catch(function(){ee.b.Feedback.fromText(Z.e,ee.b.MessageType.error)})}},{key:"sendProgressLog",value:function(t){var e=Object.keys($e).find(function(e){return $e[e]===t});if(e){var r=this.courseTakingStore.courseExperienceStore.courseId;return Z.c.post("/users/me/subscribed-courses/".concat(r,"/practices/").concat(this.practiceId,"/progress-logs"),{page:e})}}},{key:"completePracticeSubmission",value:function(){var e=this;return Z.c.patch("/practices/".concat(this.practiceId,"/user-attempted-practices/").concat(this.userSubmission.id),{is_complete:!0}).then(function(){e.userSubmission.setAsComplete()})}},{key:"getOrCreateUserSubmission",value:function(){var t=this;return Z.c.post("/practices/".concat(this.practiceId,"/user-attempted-practices/")).then(Object(J.action)(function(e){t.userSubmission=new ho(e.data,{practiceId:t.practiceId,questions:t.questions})}))}},{key:"initializePracticeData",value:function(){return this.userSubmission?Promise.resolve():this.getOrCreateUserSubmission()}},{key:"getSubmissionPageAnswers",value:function(){return this.userSubmission.getPracticeQuestionUserAnswers()}},{key:"getInstructorSubmission",value:function(){var n=this;return Promise.all([Z.c.get("/courses/".concat(this.courseTakingStore.courseExperienceStore.courseId),{params:{"fields[course]":"visible_instructors","fields[user]":"url,title,display_name,image_50x50,initials"}}),Z.c.get("/practices/".concat(this.practiceId,"/components"),{params:{type:"solution","fields[practice_component]":["body","asset","display_type"].join(","),"fields[asset]":["asset_type","title","external_url"].join(",")}})]).then(Object(J.action)(function(e){var t={user:Object.assign({},e[0].data.visible_instructors[0],{isInstructor:!0})},r=n.questions.map(function(e){return Object.assign({},e,{userAnswer:{body:e.answer}})});n.instructorSubmission=new ho(t,{questions:r});var o=e[1].data.results;n.solutionVideoComponent=o.find(function(e){return e.display_type===Qe.VIDEO}),n.solutionDownloadableAssets=o.filter(function(e){return e.display_type===Qe.DOWNLOAD}).map(function(e){return e.asset})}))}},{key:"setAssignedSubmissions",value:function(e){var n=this;this.assignedSubmissions=[],e.forEach(function(e){var t=n.questions,r=n.practiceId,o=new ho(e.user_attempted_practice,{questions:t,practiceId:r});n.assignedSubmissions.push(o)})}},{key:"getAssignedSubmissions",value:function(){var t=this,e=babelHelpers.objectSpread({page_size:3},We);return Z.c.get("/practices/".concat(this.practiceId,"/user-assigned-submissions/"),{params:e}).then(function(e){t.setAssignedSubmissions(e.data.results),e.data.results.length<3&&Z.c.post("/practices/".concat(t.practiceId,"/user-assigned-submissions/"),{num_to_assign:3-e.data.results.length},{params:We}).then(function(e){t.setAssignedSubmissions(e.data.results)})}).catch(function(){ee.b.Feedback.fromText(Z.e,ee.b.MessageType.error)}).finally(Object(J.action)(function(){t.submissionsLoaded=!0}))}},{key:"_ensurePracticeQuestionAnswersLoaded",value:function(){return this.userSubmission.questionsAreLoaded?Promise.resolve():this.userSubmission.getPracticeQuestionUserAnswers()}},{key:"_ensurePeerFeedbacksLoaded",value:function(){return this.userSubmission.peerFeedbacksAreLoaded?Promise.resolve():this.userSubmission.getFeedbackOfType(Be)}},{key:"_ensureAssignedSubmissionLoaded",value:function(){return this.assignedSubmissions.length?Promise.resolve():this.getAssignedSubmissions()}},{key:"setSubmissionDetail",value:function(t){var e=this;return t===this.userSubmission.id?this._ensurePracticeQuestionAnswersLoaded().then(function(){e._ensurePeerFeedbacksLoaded().then(Object(J.action)(function(){e.submissionDetail=e.userSubmission}))}):this._ensureAssignedSubmissionLoaded().then(Object(J.action)(function(){e.submissionDetail=e.assignedSubmissions.filter(function(e){return e.id===t})[0]}))}},{key:"resetSubmissionDetail",value:function(){this.submissionDetail=null}},{key:"getSummaryPageData",value:function(){var e=this;return this._ensureAssignedSubmissionLoaded().then(function(){return e._ensurePeerFeedbacksLoaded().then(Object(J.action)(function(){e.summaryListLoaded=!0}))})}},{key:"getLatestComments",value:function(){var r=this,e=[this.userSubmission.id],t={attempt_id_in:(e=e.concat(this.assignedSubmissions.map(function(e){return e.id}))).join(","),has_comment_thread:!0,"fields[practice_feedback_question_user_answer]":"feedback_question,comment_thread,user_attempted_practice","fields[comment_thread]":"latest_comment","fields[practice_feedback_question]":"id","fields[user_attempted_practice]":"id"};return Z.c.get("/practices/".concat(this.practiceId,"/feedback-user-answers/"),{params:t}).then(function(e){e.data.results.forEach(function(t){if(t.user_attempted_practice.id===r.userSubmission.id)return r.userSubmission.updateFeedbackCommentThread(t);r.assignedSubmissions.filter(function(e){return e.id===t.user_attempted_practice.id})[0].updateFeedbackCommentThread(t)})})}},{key:"saveDraft",value:function(){var t=this;this.userSubmission.errors=[],this.statusAlert={},this.sendingSave=!0;var e=this.userSubmission.questions.filter(function(e){return e.userAnswer.body});if(this.userSubmission.isEmpty)return this.userSubmission.errors=[gettext("You cannot save a draft of an empty assignment.")],this.sendingSave=!1,Promise.resolve(null);var r=e.filter(function(e){return!e.userAnswer.id}).map(function(e){return{practice_question:e.id,body:e.userAnswer.body}}),o=Z.c.post("practices/".concat(this.practiceId,"/user-attempted-practices/").concat(this.userSubmission.id,"/user-answers"),r),n=e.filter(function(e){return e.userAnswer.id}).map(function(e){return{id:e.userAnswer.id,practice_question:e.id,body:e.userAnswer.body}}),i=Z.c.patch("practices/".concat(this.practiceId,"/user-attempted-practices/").concat(this.userSubmission.id,"/user-answers"),n);return Promise.all([o,i]).then(Object(J.action)(function(){return Z.c.patch("practices/".concat(t.practiceId,"/user-attempted-practices/").concat(t.userSubmission.id),{is_private:t.userSubmission.isPrivate,marked_submitted:t.publishAttempt})})).then(Object(J.action)(function(e){t.userSubmission.submissionTime=e.data.submission_time,t.statusAlert={style:"success",message:t.publishAttempt?gettext("Your answer has been successfully submitted."):gettext("Your draft has been successfully saved.")}})).catch(Object(J.action)(function(){t.statusAlert={message:gettext("There was a problem saving. Please try again."),style:"danger"}})).finally(Object(J.action)(function(){t.questionsAreLoaded=!0,t.sendingSave=!1,t.publishAttempt=!1}))}},{key:"setCurrentPage",value:function(e){this.currentPage=e}},{key:"setRightActions",value:function(e){this.rightActions=e}},{key:"setCenterActions",value:function(e){this.centerActions=e}},{key:"clearActions",value:function(e){e.centerActions===this.centerActions&&(this.centerActions=null),e.rightActions===this.rightActions&&(this.rightActions=null)}},{key:"shouldShowProgressBar",get:function(){return!this.shouldShowAlertEndPractice&&(this.currentPage&&Ve[this.currentPage].shouldShowProgressBar)}},{key:"shouldShowAlertEndPractice",get:function(){return this.currentPage&&Ve[this.currentPage].shouldShowAlertEndPractice}},{key:"isWizardComplete",get:function(){return!!this.userSubmission&&this.userSubmission.isComplete}},{key:"hasCompletedPractice",get:function(){return!!this.userSubmission&&this.userSubmission.isComplete}},{key:"nextUrl",get:function(){return Ve[this.currentPage].nextUrl}},{key:"prevUrl",get:function(){return Ve[this.currentPage].prevUrl}}]),r}(),Lr=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"practice",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"downloadableAssets",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ur=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"solutionDownloadableAssets",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Br=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"videoComponent",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vr=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"solutionVideoComponent",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$r=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"textComponent",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qr=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"questions",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wr=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"userSubmission",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gr=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"instructorSubmission",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yr=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"questionsAreLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kr=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"publishAttempt",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xr=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"sendingSave",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jr=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"statusAlert",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Zr=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"assignedSubmissions",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),eo=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"submissionsLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),to=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"currentPage",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ro=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"rightActions",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oo=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"centerActions",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),no=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"summaryListLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),io=babelHelpers.applyDecoratedDescriptor(Mr.prototype,"submissionDetail",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"shouldShowProgressBar",[J.computed],Object.getOwnPropertyDescriptor(Mr.prototype,"shouldShowProgressBar"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"shouldShowAlertEndPractice",[J.computed],Object.getOwnPropertyDescriptor(Mr.prototype,"shouldShowAlertEndPractice"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"isWizardComplete",[J.computed],Object.getOwnPropertyDescriptor(Mr.prototype,"isWizardComplete"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"getPracticeData",[X.a,J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"getPracticeData"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"completePracticeSubmission",[X.a],Object.getOwnPropertyDescriptor(Mr.prototype,"completePracticeSubmission"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"getOrCreateUserSubmission",[X.a],Object.getOwnPropertyDescriptor(Mr.prototype,"getOrCreateUserSubmission"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"initializePracticeData",[J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"initializePracticeData"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"getSubmissionPageAnswers",[X.a,J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"getSubmissionPageAnswers"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"getInstructorSubmission",[J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"getInstructorSubmission"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"setAssignedSubmissions",[J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"setAssignedSubmissions"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"getAssignedSubmissions",[X.a,J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"getAssignedSubmissions"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"setSubmissionDetail",[X.a],Object.getOwnPropertyDescriptor(Mr.prototype,"setSubmissionDetail"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"resetSubmissionDetail",[J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"resetSubmissionDetail"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"getSummaryPageData",[J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"getSummaryPageData"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"getLatestComments",[J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"getLatestComments"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"saveDraft",[J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"saveDraft"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"setCurrentPage",[J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"setCurrentPage"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"setRightActions",[J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"setRightActions"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"setCenterActions",[J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"setCenterActions"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"hasCompletedPractice",[J.computed],Object.getOwnPropertyDescriptor(Mr.prototype,"hasCompletedPractice"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"nextUrl",[J.computed],Object.getOwnPropertyDescriptor(Mr.prototype,"nextUrl"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"clearActions",[J.action],Object.getOwnPropertyDescriptor(Mr.prototype,"clearActions"),Mr.prototype),babelHelpers.applyDecoratedDescriptor(Mr.prototype,"prevUrl",[J.computed],Object.getOwnPropertyDescriptor(Mr.prototype,"prevUrl"),Mr.prototype),Mr),bo=Object(At.c)("practiceStore")(so=Object(At.c)("basePath")(so=Object(er.a)((co=lo=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"handleClick",value:function(){var n=this;this.props.practiceStore.completePracticeSubmission().then(Object(J.action)(function(){var e=n.props,t=e.history,r=e.basePath,o=e.practiceStore;t.push("".concat(r).concat(o.nextUrl))}))}},{key:"render",value:function(){var e=this.props.practiceStore.courseTakingStore.isPanelOpen;return Nt.a.createElement(tr.default,{onClick:this.handleClick,bsStyle:"primary"},Nt.a.createElement("span",{className:e?"sr-only":""},gettext("Go to Feedback")),Nt.a.createElement(Kt.a,{glyph:"next"}))}}]),t}(qt.Component),lo.propTypes={practiceStore:Rt.a.instanceOf(mo).isRequired,basePath:Rt.a.string.isRequired,history:Rt.a.object.isRequired},ao=co,babelHelpers.applyDecoratedDescriptor(ao.prototype,"handleClick",[X.a],Object.getOwnPropertyDescriptor(ao.prototype,"handleClick"),ao.prototype),so=ao))||so)||so)||so,yo=r("./src/udemy/js/utils/ud-moment.js"),fo=(r("./src/udemy/js/course-taking-v4/course-taking/practice/question.less"),function(e){var t=e.question,r=e.children;return Nt.a.createElement("div",{className:"pos-r question--question__list__item--kbA-n"},Nt.a.createElement("div",{className:"bold question--question__title--3OfwZ"},Nt.a.createElement(_r.a,{className:"question--question__title--text--2bQDD",openBlankTarget:!0,unsafeHTML:t.body})),r)});fo.propTypes={question:Rt.a.object.isRequired,children:Rt.a.node},fo.defaultProps={children:null};var go,vo,wo,ko=fo,Co=(r("./src/udemy/js/course-taking-v4/course-taking/practice/submission.less"),function(e){var t=e.submission;return Nt.a.createElement("div",{className:"practice--question__list--172D6","data-purpose":"practice-submission"},Nt.a.createElement("div",{className:"submission--submission-thread-head--3L4Fi"},Nt.a.createElement(Sr.b,{user:t.user}),Nt.a.createElement("div",{className:"submission--submission-thread-head__basic-info--24Dm3"},Nt.a.createElement("a",{href:t.user.url},t.user.title),Nt.a.createElement("div",{className:"submission--submission-thread-head__extra-info--3rrRe"},!!t.submissionTime&&Nt.a.createElement("span",{"data-purpose":"submission-time"},gettext("Posted ".concat(Object(yo.c)(t.submissionTime))))))),t.questions.map(function(e){return Nt.a.createElement(ko,{key:e.id,question:e},Nt.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.userAnswer.body}}))}),Nt.a.createElement("hr",null))});Co.propTypes={submission:Rt.a.object.isRequired};var _o=function(){return Nt.a.createElement("div",{className:"text-center"},Nt.a.createElement("div",{className:"mt-space-xxl"},Nt.a.createElement(Kt.a,{glyph:"check-circle",size:"medium"})),Nt.a.createElement("h4",{className:"text-midnight-light bold mt-space-md"},gettext("Congratulations, you're the first student to complete this assignment")),Nt.a.createElement("div",{className:"mt-space-md"},gettext("There are no other student submissions to review at this time, but you can check back later if you'd like to help other students with what you've learned on this assignment.")))},So=function(e){var t=e.practiceStore,r=e.isPanelOpen,o=t.prevUrl;return Nt.a.createElement("div",null,Nt.a.createElement("span",null,Nt.a.createElement(rr,{url:o,bsStyle:"quaternary"},Nt.a.createElement(Kt.a,{glyph:"previous"}),!r&&gettext("Prev"))),Nt.a.createElement("span",null,Nt.a.createElement(bo,null)))};So.propTypes={practiceStore:Rt.a.instanceOf(mo).isRequired,isPanelOpen:Rt.a.bool},So.defaultProps={isPanelOpen:!1};var jo=Object(At.c)("practiceStore")(go=Object(At.d)((wo=vo=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.practiceStore;return Nt.a.createElement(yr,{onPracticeInitialized:e.getAssignedSubmissions,title:gettext("Give Feedback to 3 other students"),subtitle:gettext("Reflecting on other students' work is likely to increase your own understanding"),rightButtons:Nt.a.createElement(So,{practiceStore:e,isPanelOpen:e.courseTakingStore.isPanelOpen}),pageType:Le.FEEDBACK_PAGE},e.submissionsLoaded&&Nt.a.createElement("span",null,e.assignedSubmissions.length?Nt.a.createElement("span",null,e.assignedSubmissions.map(function(e){return Nt.a.createElement(Jt.a,{key:e.id,"data-purpose":"submission-panel"},Nt.a.createElement(Co,{submission:e}),e.peerFeedbacksAreLoaded?Nt.a.createElement("span",null,e.peerFeedbacks.map(function(e){return Nt.a.createElement(uo,{feedback:e,key:e.answer.id||"new-feedback","data-purpose":"practice-feedback"})})):Nt.a.createElement(Xt.a,null))})):Nt.a.createElement(_o,null)))}}]),t}(qt.Component),vo.propTypes={practiceStore:Rt.a.instanceOf(mo).isRequired},go=wo))||go)||go,Eo=r("./src/udemy/js/asset/video/video-asset.react-component.js"),Do=r("./src/udemy/js/utils/ud-numeral.js"),xo=(r("./src/udemy/js/course-taking-v4/course-taking/practice/messages.less"),function(e){var t=e.length;if(!t)return null;var r=ngettext("Available resource","Available resources",t);return Nt.a.createElement("div",{className:"text-secondary messages--practice-info--3x6gh"},Nt.a.createElement(Kt.a,{glyph:"download",size:"small"}),Nt.a.createElement("a",{href:"#download",className:"ml5"},r))});xo.propTypes={length:Rt.a.number.isRequired};var Oo=function(e){var t=e.duration;if(!t)return null;var r=ninterpolate("%(count)s minute to complete","%(count)s minutes to complete",t,{count:Object(Do.a)(t).format("0,0")});return Nt.a.createElement("div",{className:"text-secondary messages--practice-info--3x6gh","data-purpose":"completion-time"},Nt.a.createElement(Kt.a,{glyph:"join-hours",size:"small"}),Nt.a.createElement("span",{className:"ml5"},r))};Oo.propTypes={duration:Rt.a.number.isRequired};var To=function(e){var t=e.amount;if(!t)return null;var r=ninterpolate("%(count)s Student Solution","%(count)s Student Solutions",t,{count:Object(Do.a)(t).format("0,0")});return Nt.a.createElement("div",{className:"text-secondary messages--practice-info--3x6gh"},Nt.a.createElement(Kt.a,{glyph:"user",size:"small"}),Nt.a.createElement("span",{className:"ml5"},r))};To.propTypes={amount:Rt.a.number.isRequired};r("./src/udemy/js/course-taking-v4/course-taking/practice/resource-download.less");var Po,Ho,Ao,Io,Ro,qo,No=r("./src/udemy/js/utils/a11y.js"),zo=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.linkElement&&(this.linkElement.click(),this.props.onDownloadStarted())}},{key:"render",value:function(){var t=this;return Nt.a.createElement("a",{className:"dn",target:"_self",href:this.props.downloadUrl,ref:function(e){t.linkElement=e}})}}]),t}(qt.Component);function Mo(e){return Nt.a.createElement("a",{href:e.resource.external_url,target:"_blank",rel:"noopener noreferrer",onClick:e.onClick},Nt.a.createElement("i",{className:"udi udi-link"}),e.children)}function Lo(e){return Nt.a.createElement("a",{role:"button",tabIndex:"0",onClick:e.onClick,onKeyPress:Object(No.b)(e.onClick)},Nt.a.createElement("i",{className:"udi udi-download"}),e.children)}zo.propTypes={downloadUrl:Rt.a.string.isRequired,onDownloadStarted:Rt.a.func.isRequired},Mo.propTypes={resource:Rt.a.object.isRequired,onClick:Rt.a.func.isRequired},Lo.propTypes={onClick:Rt.a.func.isRequired};var Fo,Uo,Bo,Vo,$o,Qo,Wo,Go,Yo,Ko,Xo,Jo=Object(At.d)((qo=Ro=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isLoading",Ao,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"downloadUrl",Io,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"trackDownload",value:function(){var e,t=(e={},babelHelpers.defineProperty(e,ze.b.EXTERNAL_LINK,"resource website"),babelHelpers.defineProperty(e,ze.b.SOURCE_CODE,"resource code"),e)[this.props.resource.asset_type]||"resource file-download";P.a.track(x.d.COURSE_TAKING,x.a.CURRICULUM,t)}},{key:"getDownload",value:function(){var t=this;this.trackDownload(),this.isLoading=!0,this.props.getDownloadUrl(this.props.resource).then(Object(J.action)(function(e){t.downloadUrl=e,t.isLoading=!1}))}},{key:"onDownloadStarted",value:function(){this.downloadUrl=""}},{key:"render",value:function(){var e=this.props.resource,t=e.external_url?Mo:Lo,r=e.external_url?this.trackDownload:this.getDownload;return Nt.a.createElement("li",null,Nt.a.createElement(t,{resource:e,onClick:r},Nt.a.createElement("span",{"data-purpose":"title"},e.title),this.loadingSpinner),this.fileDownloader)}},{key:"loadingSpinner",get:function(){return this.isLoading?Nt.a.createElement("span",null,Nt.a.createElement("span",{className:"udi udi-circle-loader udi-small"})):null}},{key:"fileDownloader",get:function(){return this.downloadUrl?Nt.a.createElement(zo,{downloadUrl:this.downloadUrl,onDownloadStarted:this.onDownloadStarted}):null}}]),i}(Nt.a.Component),Ro.propTypes={resource:Rt.a.shape({asset_type:Rt.a.string.isRequired,title:Rt.a.string.isRequired,external_url:Rt.a.string}).isRequired,getDownloadUrl:Rt.a.func},Ro.defaultProps={getDownloadUrl:Zt.a},Ho=qo,Ao=babelHelpers.applyDecoratedDescriptor(Ho.prototype,"isLoading",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Io=babelHelpers.applyDecoratedDescriptor(Ho.prototype,"downloadUrl",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),babelHelpers.applyDecoratedDescriptor(Ho.prototype,"trackDownload",[X.a],Object.getOwnPropertyDescriptor(Ho.prototype,"trackDownload"),Ho.prototype),babelHelpers.applyDecoratedDescriptor(Ho.prototype,"getDownload",[X.a,J.action],Object.getOwnPropertyDescriptor(Ho.prototype,"getDownload"),Ho.prototype),babelHelpers.applyDecoratedDescriptor(Ho.prototype,"onDownloadStarted",[X.a,J.action],Object.getOwnPropertyDescriptor(Ho.prototype,"onDownloadStarted"),Ho.prototype),Po=Ho))||Po,Zo=Object(At.d)(($o=Vo=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"numResourcesToDisplay",Bo,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"showMoreResources",value:function(){this.numResourcesToDisplay+=10}},{key:"render",value:function(){return Nt.a.createElement("ul",null,this.resources,this.showMoreButton)}},{key:"numResourcesRemaining",get:function(){return this.props.resources.length-this.numResourcesToDisplay}},{key:"resources",get:function(){var t=this;return this.props.resources.slice(0,this.numResourcesToDisplay).map(function(e){return Nt.a.createElement(Jo,{key:e.id,resource:e,getDownloadUrl:t.props.getDownloadUrl})})}},{key:"showMoreButton",get:function(){if(this.props.resources.length<=this.numResourcesToDisplay)return null;var e=this.numResourcesRemaining;return Nt.a.createElement("a",{role:"button",tabIndex:"0","data-purpose":"show-more",onClick:this.showMoreResources,onKeyPress:Object(No.b)(this.showMoreResources)},interpolate(gettext("Show more (%(numResourcesRemaining)s)"),{numResourcesRemaining:e},!0))}}]),i}(Nt.a.Component),Vo.propTypes={resources:Rt.a.arrayOf(Jo.propTypes.resource).isRequired,getDownloadUrl:Jo.propTypes.getDownloadUrl},Vo.defaultProps={getDownloadUrl:Jo.defaultProps.getDownloadUrl},Uo=$o,Bo=babelHelpers.applyDecoratedDescriptor(Uo.prototype,"numResourcesToDisplay",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),babelHelpers.applyDecoratedDescriptor(Uo.prototype,"showMoreResources",[X.a,J.action],Object.getOwnPropertyDescriptor(Uo.prototype,"showMoreResources"),Uo.prototype),babelHelpers.applyDecoratedDescriptor(Uo.prototype,"numResourcesRemaining",[J.computed],Object.getOwnPropertyDescriptor(Uo.prototype,"numResourcesRemaining"),Uo.prototype),Fo=Uo))||Fo,en=(Go=Wo=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getDownloadUrl",value:function(t){return Z.c.get("/practices/".concat(this.props.practiceId,"/supplementary-assets/").concat(t.id),{params:{"fields[asset]":"download_urls"}}).then(function(e){return e.data.download_urls&&e.data.download_urls[t.asset_type][0].file})}},{key:"render",value:function(){return Nt.a.createElement("div",{id:"download",className:"resource-download--download--ciVER"},Nt.a.createElement("h4",null,gettext("Download resource files")),Nt.a.createElement(Zo,{resources:this.props.resources,getDownloadUrl:this.getDownloadUrl}))}}]),t}(Nt.a.Component),Wo.propTypes={practiceId:Rt.a.number.isRequired,resources:Zo.propTypes.resources},Wo.defaultProps={resources:[]},Qo=Go,babelHelpers.applyDecoratedDescriptor(Qo.prototype,"getDownloadUrl",[X.a],Object.getOwnPropertyDescriptor(Qo.prototype,"getDownloadUrl"),Qo.prototype),Qo),tn=(r("./src/udemy/js/course-taking-v4/course-taking/practice/introduction-page.less"),function(e){var t=e.practiceStore;return Nt.a.createElement("div",null,Nt.a.createElement(Oo,{duration:t.practice.estimated_duration}),Nt.a.createElement(xo,{length:t.downloadableAssets.length}),Nt.a.createElement(To,{amount:t.practice.num_submissions}))});tn.propTypes={practiceStore:Rt.a.instanceOf(mo).isRequired};var rn,on,nn,sn,an,ln,cn,un,pn,dn,hn,mn,bn,yn,fn,gn,vn,wn,kn,Cn=Object(At.c)("practiceStore")(Yo=Object(At.d)((Xo=Ko=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.practiceStore;return Nt.a.createElement(yr,{title:gettext("Assignment Instructions"),subtitle:e.practice?Nt.a.createElement(tn,{practiceStore:e}):null,pageType:Le.INTRO_PAGE},!!e.practice&&Nt.a.createElement(Jt.a,null,e.videoComponent||e.textComponent?null:Nt.a.createElement("div",{className:"text-center"},Nt.a.createElement(Xt.a,{size:"medium"})),e.videoComponent?Nt.a.createElement("div",{className:"practice--practice-component-video--11NcO"},Nt.a.createElement(Eo.default,{id:e.videoComponent.asset.id})):null,e.textComponent?Nt.a.createElement(_r.a,{"data-purpose":"practice-component-text",unsafeHTML:e.textComponent.body}):null,Nt.a.createElement("div",{className:"mt60 practice--question__list--172D6","data-purpose":"question-list"},Nt.a.createElement("h4",{className:"bold introduction-page--question__header--24TtT"},gettext("Questions for this Assignment")),Nt.a.createElement("div",{className:"introduction-page--questions-wrapper--2a8Fk"},e.questions.map(function(e){return Nt.a.createElement(ko,{question:e,key:e.id})}))),!!e.downloadableAssets.length&&Nt.a.createElement(en,{practiceId:e.practice.id,resources:e.downloadableAssets.slice()})))}}]),t}(qt.Component),Ko.propTypes={practiceStore:Rt.a.instanceOf(mo).isRequired},Yo=Xo))||Yo)||Yo,_n=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),Sn=r.n(_n),jn=r("./src/udemy/js/base-components/alert.react-component.js"),En=(nn=on=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"askQuestion",value:function(){var e=this;this.props.courseTakingStore.$rootScope.$apply(function(){e.props.courseTakingStore.openPanel(_t.QUESTION)})}},{key:"render",value:function(){var e=this.props,t=(e.courseTakingStore,babelHelpers.objectWithoutProperties(e,["courseTakingStore"]));return Nt.a.createElement(tr.default,Object.assign({bsSize:"small",className:"btn-control",onClick:this.askQuestion},t),Nt.a.createElement(Kt.a,{glyph:"question-circle"}),Nt.a.createElement("span",{className:"btn__label"},gettext("Browse Q&A")))}}]),t}(Nt.a.Component),on.propTypes={courseTakingStore:Rt.a.object.isRequired},rn=nn,babelHelpers.applyDecoratedDescriptor(rn.prototype,"askQuestion",[X.a],Object.getOwnPropertyDescriptor(rn.prototype,"askQuestion"),rn.prototype),rn),Dn=r("./src/udemy/js/base-components/button-group.react-component.js"),xn=r("./src/udemy/js/base-components/dropdown-button-with-hover.react-component.js"),On=r("./src/udemy/js/base-components/menu-item.react-component.js"),Tn=r("./src/udemy/js/report-abuse/report-abuse-launcher.react-component.js"),Pn=(r("./src/udemy/js/course-taking-v4/curriculum/curriculum-item-controls.less"),sn=function(){function r(e,t){babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"isFullscreen",an,this),babelHelpers.initializerDefineProperty(this,"isReportAbuseModalOpen",ln,this),this.$rootScope=e,this.externalShowHotkeys=t}return babelHelpers.createClass(r,[{key:"showHotkeys",value:function(){this.externalShowHotkeys?this.externalShowHotkeys():this.$rootScope.$emit("hotkeyshowhotkeys")}},{key:"openReportAbuseModal",value:function(){this.isReportAbuseModalOpen=!0}},{key:"closeReportAbuseModal",value:function(){this.isReportAbuseModalOpen=!1}},{key:"toggleFullscreen",value:function(){this.isFullscreen&&!1!==h.c.exitFullscreen()?this.isFullscreen=!1:this.isFullscreen||!1===h.c.requestFullscreen(document.body)||(this.isFullscreen=!0)}}]),r}(),an=babelHelpers.applyDecoratedDescriptor(sn.prototype,"isFullscreen",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ln=babelHelpers.applyDecoratedDescriptor(sn.prototype,"isReportAbuseModalOpen",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(sn.prototype,"showHotkeys",[X.a],Object.getOwnPropertyDescriptor(sn.prototype,"showHotkeys"),sn.prototype),babelHelpers.applyDecoratedDescriptor(sn.prototype,"openReportAbuseModal",[X.a,J.action],Object.getOwnPropertyDescriptor(sn.prototype,"openReportAbuseModal"),sn.prototype),babelHelpers.applyDecoratedDescriptor(sn.prototype,"closeReportAbuseModal",[X.a,J.action],Object.getOwnPropertyDescriptor(sn.prototype,"closeReportAbuseModal"),sn.prototype),babelHelpers.applyDecoratedDescriptor(sn.prototype,"toggleFullscreen",[X.a,J.action],Object.getOwnPropertyDescriptor(sn.prototype,"toggleFullscreen"),sn.prototype),sn),Hn=Object(At.d)((pn=un=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).isMobileBrowser=D.c,t.isLimitedConsumptionTrial=T.a.brand.has_organization&&T.a.brand.organization.is_limited_consumption_trial,t.store=new Pn(e.$rootScope,e.showHotkeys),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"renderMenuItems",value:function(){var e=[this.downloadMenuItem,this.shortcutsMenuItem,this.reportAbuseMenuItem].filter(function(e){return e});return e.length?Nt.a.createElement(xn.a,{id:"curriculum-item-settings-menu",dropup:!0,pullRight:!0,noCaret:!0,title:Nt.a.createElement(Kt.a,{glyph:"settings"}),"aria-label":gettext("settings"),bsStyle:"text",bsSize:"small",className:"btn-icon curriculum-item-controls--settings-menu--1qcx0"},e):null}},{key:"renderFullscreenMenuItems",value:function(){return this.isMobileBrowser?null:Nt.a.createElement(xn.a,{id:"curriculum-item-fullscreen-menu",dropup:!0,pullRight:!0,noCaret:!0,title:Nt.a.createElement(Kt.a,{glyph:this.store.isFullscreen?"collapse":"expand"}),"aria-label":gettext("fullscreen"),onClick:this.store.toggleFullscreen,"data-purpose":"toggle-fullscreen",bsStyle:"text",bsSize:"small",className:"btn-icon curriculum-item-controls--settings-menu--1qcx0"},Nt.a.createElement(On.a,{className:"curriculum-item-controls--fullscreen-tooltip---J_XG"},gettext("Fullscreen")))}},{key:"render",value:function(){return Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(Dn.default,null,this.renderMenuItems(),this.renderFullscreenMenuItems()),this.isReportAbuseEnabled?Nt.a.createElement(Tn.a,{objectType:this.props.reportType,objectId:this.props.reportId,show:this.store.isReportAbuseModalOpen,onHide:this.store.closeReportAbuseModal,className:"hidden"}):null)}},{key:"isReportAbuseEnabled",get:function(){return this.props.reportType&&this.props.reportId&&T.a.features.report_abuse&&!Object(D.a)()}},{key:"downloadMenuItem",get:function(){return!this.props.downloadUrl||this.isLimitedConsumptionTrial?null:Nt.a.createElement(On.a,{href:this.props.downloadUrl,key:"download"},gettext("Download Lecture"))}},{key:"shortcutsMenuItem",get:function(){return this.isMobileBrowser||!this.props.hotkeysEnabled?null:Nt.a.createElement(On.a,{onSelect:this.store.showHotkeys,"data-purpose":"show-hotkeys",key:"hotkeys"},gettext("Keyboard Shortcuts"))}},{key:"reportAbuseMenuItem",get:function(){return this.isReportAbuseEnabled?Nt.a.createElement(On.a,{onSelect:this.store.openReportAbuseModal,key:"report-abuse"},Nt.a.createElement(Kt.a,{glyph:"flag"}),Nt.a.createElement("span",{className:"ml5"},gettext("Report abuse"))):null}}]),r}(Nt.a.Component),un.propTypes={downloadUrl:Rt.a.string,hotkeysEnabled:Rt.a.bool,$rootScope:Rt.a.object,showHotkeys:Rt.a.func,reportType:Rt.a.string,reportId:Rt.a.number},un.defaultProps={downloadUrl:void 0,hotkeysEnabled:!1,$rootScope:void 0,showHotkeys:void 0,reportType:void 0,reportId:void 0},cn=pn))||cn,An=(r("./src/udemy/js/course-taking-v4/course-taking/footer/footer.less"),Object(At.d)((mn=hn=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.reportType,r=e.reportId,o=e.leftButtons,n=e.centerButtons,i=e.rightButtons,s=e.downloadUrl,a=e.$rootScope,l=e.hotkeysEnabled,c=e.showHotkeys,u=e.className;return Nt.a.createElement("footer",{className:(u?u+" ":"")+"footer--footer--30Bfe"},Nt.a.createElement("div",{className:"footer--footer__left--2dmHz"},o),Nt.a.createElement("div",{className:"footer--footer__center--38aEL"},n),Nt.a.createElement("div",{className:"footer--footer__right--1t_zZ"},i,Nt.a.createElement(Hn,{reportType:t,reportId:r,downloadUrl:s,$rootScope:a,hotkeysEnabled:l,showHotkeys:c})))}}]),t}(Nt.a.Component),hn.propTypes={reportId:Rt.a.number.isRequired,reportType:Rt.a.string.isRequired,$rootScope:Rt.a.object,centerButtons:Rt.a.node,leftButtons:Rt.a.node,rightButtons:Rt.a.node,downloadUrl:Rt.a.string,hotkeysEnabled:Rt.a.bool,showHotkeys:Rt.a.func,className:Rt.a.string},hn.defaultProps={$rootScope:null,centerButtons:null,leftButtons:null,rightButtons:null,downloadUrl:void 0,hotkeysEnabled:!1,showHotkeys:void 0,className:""},dn=mn))||dn),In=Object(At.d)((gn=fn=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"toggle",value:function(){this.props.courseTakingStore.togglePanel(_t.CURRICULUM)}},{key:"toggleResources",value:function(){P.a.track(x.d.COURSE_TAKING,"Curriculum","resource tooltip"),this.toggle()}},{key:"render",value:function(){if(!this.curriculumItem)return null;var e=Et()("udi",{"udi-close":this.isOpen,"udi-curriculum":!this.isOpen});return Nt.a.createElement("div",{className:Et()("sidenav-toggle-button-group",{"nav-open":this.isOpen})},Nt.a.createElement("div",{className:"fx-lc course-info-container"},Nt.a.createElement("button",{className:"btn btn-control toggle-btn","data-purpose":"toggle-curriculum-nav",onClick:this.toggle},Nt.a.createElement("span",null,Nt.a.createElement("i",{className:e})),Nt.a.createElement("span",{className:"sr-only","data-purpose":"label"},this.isOpen?gettext("Close curriculum navigation"):gettext("Show curriculum navigation"))),this.title),!this.props.courseExperienceStore.isLimitedConsumptionTrial&&this.resourcesAvailableTooltip)}},{key:"curriculumItem",get:function(){return this.props.courseExperienceStore.currentCurriculumItem}},{key:"isOpen",get:function(){return this.props.courseTakingStore.activePanel===_t.CURRICULUM}},{key:"title",get:function(){return this.props.showTitle?Nt.a.createElement("div",{className:"course-info",onClick:this.toggle,onKeyPress:Object(No.b)(this.toggle),role:"button",tabIndex:"0"},Nt.a.createElement("span",{className:"course-info__title","data-purpose":"title"},this.curriculumItem.title),Nt.a.createElement("span",{className:"course-info__section hidden-xxs hidden-xs"},this.curriculumItem.getTranslatedEnum(this.props.courseExperienceStore.currentCurriculumSectionIndex))):null}},{key:"resourcesAvailableTooltip",get:function(){return this.curriculumItem.supplementaryAssets.length?Nt.a.createElement("div",{className:"btn resources-available-tooltip hidden-xxs hidden-xs",onClick:this.toggleResources,onKeyPress:Object(No.b)(this.toggleResources),role:"button",tabIndex:"0","data-purpose":"resources-available-tooltip"},Nt.a.createElement("i",{className:"udi udi-folder-open"}),Nt.a.createElement("span",{className:"resources-available-tooltip__text"},gettext("Resources available"))):null}}]),t}(Nt.a.Component),fn.propTypes={courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,showTitle:Rt.a.bool},fn.defaultProps={showTitle:!0},yn=gn,babelHelpers.applyDecoratedDescriptor(yn.prototype,"toggle",[X.a],Object.getOwnPropertyDescriptor(yn.prototype,"toggle"),yn.prototype),babelHelpers.applyDecoratedDescriptor(yn.prototype,"toggleResources",[X.a],Object.getOwnPropertyDescriptor(yn.prototype,"toggleResources"),yn.prototype),babelHelpers.applyDecoratedDescriptor(yn.prototype,"isOpen",[J.computed],Object.getOwnPropertyDescriptor(yn.prototype,"isOpen"),yn.prototype),bn=yn))||bn,Rn=(r("./src/udemy/js/course-taking-v4/course-taking/dashboard-button.less"),{"./dashboard-button.less":{button__light:"dashboard-button--button__light--3-Xv0","button-variant":"dashboard-button--button-variant--3lXFR",button__dark:"dashboard-button--button__dark--1QOdo"}}),qn=(kn=wn=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"goToDashboard",value:function(){this.props.$state.go("base.dashboard.content")}},{key:"render",value:function(){var e=this.props,t=(e.$state,e.theme,babelHelpers.objectWithoutProperties(e,["$state","theme"]));return Nt.a.createElement(tr.default,Object.assign({"data-purpose":"go-to-dashboard",onClick:this.goToDashboard,bsSize:"large"},t,{className:Sn()("button__".concat(this.props.theme),Rn)}),gettext("Go to Dashboard"))}}]),t}(Nt.a.Component),wn.propTypes={$state:Rt.a.object.isRequired,theme:Rt.a.oneOf(["light","dark"])},wn.defaultProps={theme:"light"},vn=kn,babelHelpers.applyDecoratedDescriptor(vn.prototype,"goToDashboard",[X.a],Object.getOwnPropertyDescriptor(vn.prototype,"goToDashboard"),vn.prototype),vn),Nn=(r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/navigation-bar.less"),function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return Nt.a.createElement("div",{className:"player-header navigation-bar--header--3aXVo",ref:this.props.navBarRef},Nt.a.createElement("div",null,this.props.extraHeaders,Nt.a.createElement("div",{className:"player-header__button-group"},Nt.a.createElement("div",{className:"navigation-bar--nav-buttons--3HuhR",ref:this.props.navButtonsRef},this.navigationButtons),Nt.a.createElement(fr.a,{className:"navigation-bar--action-buttons--2b62i",ref:this.props.actionButtonsRef},this.actionButtons))))}},{key:"navigationButtons",get:function(){return Nt.a.createElement(In,{courseExperienceStore:this.props.courseExperienceStore,courseTakingStore:this.props.courseTakingStore,showTitle:this.props.showTitle})}},{key:"actionButtons",get:function(){return this.props.actionButtons?this.props.actionButtons:Nt.a.createElement(qn,{$state:this.props.$state})}}]),t}(Nt.a.Component));Nn.propTypes={courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,navBarRef:Rt.a.func,extraHeaders:Rt.a.node,navButtonsRef:Rt.a.func,actionButtons:Rt.a.node,$state:Rt.a.object,actionButtonsRef:Rt.a.func,className:Rt.a.string,showTitle:Rt.a.bool},Nn.defaultProps={navBarRef:Zt.a,extraHeaders:null,navButtonsRef:Zt.a,actionButtons:null,$state:null,actionButtonsRef:Zt.a,className:"",showTitle:!0};r("./src/udemy/js/course-taking-v4/course-taking/practice/layout.less");var zn,Mn,Ln,Fn,Un,Bn,Vn,$n,Qn,Wn,Gn,Yn,Kn,Xn,Jn,Zn=r("./src/udemy/js/base-components/nav-item.react-component.js"),ei=r("./src/udemy/js/base-components/nav.react-component.js"),ti=(r("./src/udemy/js/course-taking-v4/course-taking/practice/progress-bar.less"),{"./progress-bar.less":{"progress-bar":"progress-bar--progress-bar--33640","nav-tabs--wizard":"progress-bar--nav-tabs--wizard--1k-Yi",transform:"progress-bar--transform--cB2oX","nav-tabs--wizard--completed":"progress-bar--nav-tabs--wizard--completed--3Ze_4"}}),ri=function(e){var t=e.isWizardComplete,r=e.children,o=babelHelpers.objectWithoutProperties(e,["isWizardComplete","children"]),n=Et()("nav-tabs--wizard",{"nav-tabs--wizard--completed":t});return Nt.a.createElement(ei.default,Object.assign({bsStyle:"tabs"},o,{className:"df hidden-xxs hidden-xs "+Sn()(n,ti)}),r)},oi=(zn=Object(At.c)("practiceStore","basePath"),Object(er.a)(Mn=zn(Mn=Object(At.d)((Un=Fn=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"handleSelect",value:function(e){var t=this.props,r=t.history,o=t.basePath;r.push("".concat(o).concat(e))}},{key:"render",value:function(){var e=this.props,t=e.practiceStore,r=e.location,o=e.basePath,n=t.shouldShowProgressBar,i=t.isWizardComplete;if(!n)return null;var s=r.pathname.replace(o,"").replace(/\/$/,"");return Nt.a.createElement("div",{className:"progress-bar--progress-bar--33640"},Nt.a.createElement(ri,{isWizardComplete:i,activeKey:s,onSelect:this.handleSelect},Nt.a.createElement(Zn.default,{eventKey:"/introduction",className:"fx"},gettext("Instructions")),Nt.a.createElement(Zn.default,{eventKey:"/submission",className:"fx"},gettext("Submission")),Nt.a.createElement(Zn.default,{eventKey:"/instructor-solution",className:"fx"},gettext("Instructor Example")),Nt.a.createElement(Zn.default,{eventKey:"/give-feedback",className:"fx"},gettext("Give Feedback"))))}}]),t}(qt.Component),Fn.propTypes={practiceStore:Rt.a.object.isRequired,basePath:Rt.a.string.isRequired,history:Rt.a.object.isRequired,location:Rt.a.object.isRequired},Ln=Un,babelHelpers.applyDecoratedDescriptor(Ln.prototype,"handleSelect",[X.a,J.action],Object.getOwnPropertyDescriptor(Ln.prototype,"handleSelect"),Ln.prototype),Mn=Ln))||Mn)||Mn)||Mn),ni={"./layout.less":{"feedback-view":"layout--feedback-view--3x1hp","feedback-view__header":"layout--feedback-view__header--2nyEi","feedback-view__title":"layout--feedback-view__title--1chVr","progress-bar-hidden":"layout--progress-bar-hidden--miHk7","message-container--practice":"layout--message-container--practice--uzeuR"}},ii=Object(At.c)("practiceStore")(Object(At.d)(function(e){var t=e.practiceStore,r=t.practice;return t.shouldShowAlertEndPractice?Nt.a.createElement("div",{className:"hidden-xxs hidden-xs layout--feedback-view--3x1hp"},Nt.a.createElement("div",{className:"layout--feedback-view__header--2nyEi"},Nt.a.createElement("div",{className:"layout--feedback-view__title--1chVr"},Nt.a.createElement("div",{className:"a2"},gettext("Great job, you finished this assignment!")),Nt.a.createElement("div",{className:"a3 mt10"},r.title)))):null})),si=function(){return Nt.a.createElement(jn.a,{bsStyle:"info",className:"visible-xxs-block visible-xs-block mt60"},gettext("Assignments are Supported on Desktop in Full Browser Window.\n                       To complete this assignment, open this lecture in a desktop computer\n                       with your browser in maximum window size."))},ai=Object(At.c)("practiceStore")(Bn=Object(At.d)(($n=Vn=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.practiceStore,o=e.$state,n=r.practiceId,i=r.courseTakingStore,s=r.centerActions,a=r.rightActions,l=r.shouldShowProgressBar,c=Et()("player-container","fullscreen",{"scroll-wrapper":l}),u=Et()({"progress-bar-hidden":!l});return Nt.a.createElement("div",{className:"fullscreen"},Nt.a.createElement(Nn,{courseExperienceStore:i.courseExperienceStore,courseTakingStore:i,$state:o,showTitle:!1}),Nt.a.createElement("div",null,Nt.a.createElement(ii,null),Nt.a.createElement(oi,null)),Nt.a.createElement("div",{className:c},Nt.a.createElement("div",{className:"layout--message-container--practice--uzeuR"},Nt.a.createElement(si,null),Nt.a.createElement("div",{className:"hidden-xxs hidden-xs "+Sn()(u,ni)},t))),Nt.a.createElement(An,{reportId:n,reportType:"practice",className:"hidden-xxs hidden-xs",leftButtons:Nt.a.createElement(En,{courseTakingStore:i}),centerButtons:s?s():null,rightButtons:a?a():null}))}}]),t}(qt.Component),Vn.propTypes={practiceStore:Rt.a.object.isRequired,children:Rt.a.node.isRequired,$state:Rt.a.object},Vn.defaultProps={$state:null},Bn=$n))||Bn)||Bn,li=r("./src/udemy/js/base-components/link.react-component.js"),ci=Object(At.c)("basePath")((Gn=Wn=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.to,r=e.basePath,o=babelHelpers.objectWithoutProperties(e,["to","basePath"]),n="".concat(r).concat(t);return Nt.a.createElement(li.a,Object.assign({to:n},o))}}]),t}(qt.Component),Wn.propTypes=babelHelpers.objectSpread({basePath:Rt.a.string.isRequired},li.a.propTypes),Wn.defaultProps=babelHelpers.objectSpread({},li.a.defaultProps),Qn=Gn))||Qn,ui=function(e){var t,r,o;return o=e.isMissingAnswer?(t=gettext("You haven't answered the assignment yet."),r=gettext("Submit your work to get constructive feedback from your instructors and peers."),gettext("Add your answer")):(t=gettext("You haven't submitted your answer yet."),r=gettext("Go to the assignment step to submit your answer."),gettext("Go to assignment")),Nt.a.createElement(jn.a,{bsStyle:"info"},Nt.a.createElement("h3",null,t),Nt.a.createElement("p",null,r),Nt.a.createElement(ci,{to:"/submission"},Nt.a.createElement(tr.default,{bsStyle:"default"},o)))};ui.propTypes={isMissingAnswer:Rt.a.bool.isRequired};var pi=function(e){var t=e.submission,r=e.title,o=e.children;return Nt.a.createElement(Jt.a,null,Nt.a.createElement("h4",{className:"practice--panel-body-text--2WsDc"},r),Nt.a.createElement("div",null,t?Nt.a.createElement(Co,{submission:t}):Nt.a.createElement(Xt.a,{size:"medium"})),o)};pi.propTypes={submission:Rt.a.object,title:Rt.a.string,children:Rt.a.any},pi.defaultProps={submission:null,title:null,children:null};var di,hi,mi,bi,yi,fi,gi,vi=Object(At.c)("practiceStore")(Yn=Object(At.d)((Jn=Xn=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onPracticeInitialized",value:function(){var e=this.props.practiceStore;return e.getInstructorSubmission().then(function(){e.userSubmission.getPracticeQuestionUserAnswers(),e.userSubmission.isSubmitted&&!e.userSubmission.selfFeedbacksAreLoaded&&e.userSubmission.getFeedbackOfType(Ue)})}},{key:"render",value:function(){var e=this.props.practiceStore;return Nt.a.createElement(yr,{onPracticeInitialized:this.onPracticeInitialized,title:gettext("How did you do?"),subtitle:gettext("Compare the instructor's example to your own"),pageType:Le.SOLUTION_PAGE},e.userSubmission&&Nt.a.createElement("div",null,Nt.a.createElement(pi,{submission:e.instructorSubmission,title:gettext("Instructor example"),"data-purpose":"instructor-submission"},!!e.solutionVideoComponent&&Nt.a.createElement("div",{className:"mt20 practice--practice-component-video--11NcO"},Nt.a.createElement(Eo.default,{id:e.solutionVideoComponent.asset.id})),!!e.solutionDownloadableAssets.length&&Nt.a.createElement(en,{practiceId:e.practice.id,resources:e.solutionDownloadableAssets.slice()})),Nt.a.createElement(pi,{submission:e.userSubmission,title:gettext("Your submission"),"data-purpose":"user-submission"},e.userSubmission.hasAnswer&&e.userSubmission.isSubmitted?Nt.a.createElement("span",null,e.userSubmission.selfFeedbacksAreLoaded?Nt.a.createElement("span",null,e.userSubmission.selfFeedbacks.map(function(e){return Nt.a.createElement(uo,{feedback:e,key:e.answer.id||"new-feedback"})})):Nt.a.createElement("div",{className:"text-center mt30"},Nt.a.createElement(Xt.a,{size:"medium"}))):Nt.a.createElement(ui,{isMissingAnswer:!e.userSubmission.hasAnswer}))))}}]),t}(qt.Component),Xn.propTypes={practiceStore:Rt.a.object.isRequired},Kn=Jn,babelHelpers.applyDecoratedDescriptor(Kn.prototype,"onPracticeInitialized",[X.a],Object.getOwnPropertyDescriptor(Kn.prototype,"onPracticeInitialized"),Kn.prototype),Yn=Kn))||Yn)||Yn,wi=r("./src/udemy/js/base-components/tooltip-container.react-component.js"),ki=r("./src/udemy/js/video-player/video-player-tooltip.react-component.js"),Ci=(r("./src/udemy/js/course-taking-v4/curriculum/continue-button.less"),{"./continue-button.less":{icon:"continue-button--icon--3xa_4",loader:"continue-button--loader--3_dpm",responsive:"continue-button--responsive--3c3TI",btn__label:"continue-button--btn__label--3H0BR"}}),_i=Object(At.d)((bi=mi=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"continueCourse",value:function(){this.props.completeLecture(),this.props.$rootScope.$emit("continuecurriculum",this.props.courseExperienceStore.currentCurriculumItem),P.a.track(x.d.COURSE_TAKING,x.a.NAVIGATION,A.CONTINUE)}},{key:"render",value:function(){var e,t=this.props.buttonText;e=this.props.courseExperienceStore.nextCurriculumItem?this.props.courseExperienceStore.nextCurriculumItem.getTranslatedTitle():gettext("Course Dashboard");var r=Nt.a.createElement(ki.a,{id:"continue-to-next-curriculum-item"},e),o={};"default"!==this.props.bsSize&&(o.bsSize=this.props.bsSize);var n=Nt.a.createElement(tr.default,Object.assign({bsStyle:this.props.bsStyle,disabled:!this.props.courseExperienceStore.currentCurriculumItem,onClick:this.continueCourse,"data-purpose":"continue-button"},o,{className:(Et()(this.props.className,"continue-button")?Et()(this.props.className,"continue-button")+" ":"")+Sn()(Et()({responsive:this.props.isResponsive}),Ci)}),!this.props.courseExperienceStore.currentCurriculumItem&&Nt.a.createElement(Xt.a,{size:"small",className:"continue-button--loader--3_dpm"}),Nt.a.createElement("span",{className:"btn__label continue-button--btn__label--3H0BR"},t),Nt.a.createElement(Kt.a,{glyph:"next",className:"continue-button--icon--3xa_4"}));return this.props.courseExperienceStore.currentCurriculumItem?Nt.a.createElement(wi.a,{placement:"top",tooltip:r},n):n}}]),t}(qt.Component),mi.propTypes={$rootScope:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,completeLecture:Rt.a.func,className:Rt.a.string,bsStyle:Rt.a.string,bsSize:Rt.a.string,buttonText:Rt.a.string,isResponsive:Rt.a.bool},mi.defaultProps={completeLecture:Zt.a,className:"",bsStyle:"primary",bsSize:"small",buttonText:gettext("Continue"),isResponsive:!0},hi=bi,babelHelpers.applyDecoratedDescriptor(hi.prototype,"continueCourse",[X.a],Object.getOwnPropertyDescriptor(hi.prototype,"continueCourse"),hi.prototype),di=hi))||di,Si=function(e){var t=e.practice;return Nt.a.createElement("div",null,Nt.a.createElement(Oo,{duration:t.estimated_duration}),Nt.a.createElement(To,{amount:t.num_submissions}))};Si.propTypes={practice:Rt.a.object.isRequired};var ji=function(e){var t=e.practiceStore,r=e.isPanelOpen,o=t.nextUrl,n=t.hasCompletedPractice,i=t.courseExperienceStore,s=t.courseTakingStore;return n?Nt.a.createElement(_i,{courseExperienceStore:i,$rootScope:s.$rootScope,buttonText:r?gettext("Next"):gettext("Next lecture"),bsStyle:"quaternary"}):Nt.a.createElement("div",null,Nt.a.createElement(_i,{courseExperienceStore:i,$rootScope:s.$rootScope,buttonText:r?gettext("Skip"):gettext("Skip assignment"),bsStyle:"quaternary"}),Nt.a.createElement(rr,{"data-purpose":"start-assignment",id:"start",url:o},r?gettext("Start"):gettext("Start assignment"),Nt.a.createElement(Kt.a,{glyph:"next"})))};ji.propTypes={practiceStore:Rt.a.instanceOf(mo).isRequired,isPanelOpen:Rt.a.bool},ji.defaultProps={isPanelOpen:!1};var Ei,Di,xi,Oi,Ti,Pi,Hi,Ai,Ii,Ri=Object(At.c)("practiceStore")(yi=Object(At.d)((gi=fi=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.practiceStore;return Nt.a.createElement(yr,{title:e.practice?interpolate(gettext("Assignment: %s"),[e.practice.title]):null,subtitle:e.practice?Nt.a.createElement(Si,{practice:e.practice}):null,pageType:Le.START_PAGE,rightButtons:Nt.a.createElement(ji,{practiceStore:e,isPanelOpen:e.courseTakingStore.isPanelOpen})},e.practice&&e.practice.description&&Nt.a.createElement(_r.a,{className:"practice-component-text","data-purpose":"practice-description",unsafeHTML:e.practice.description}))}}]),t}(qt.Component),fi.propTypes={practiceStore:Rt.a.object.isRequired},yi=gi))||yi)||yi,qi=r("./src/udemy/js/base-components/confirm-modal.react-component.js"),Ni=r("./src/udemy/js/base-components/form/checkbox.react-component.js"),zi=r("./src/udemy/js/base-components/label.react-component.js"),Mi=Object(At.d)((Oi=xi=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onBodyChange",value:function(e){this.props.question.userAnswer.body=e}},{key:"renderViewer",value:function(){return Nt.a.createElement(_r.a,{openBlankTarget:!0,unsafeHTML:this.props.question.userAnswer.body})}},{key:"renderEditor",value:function(){return Nt.a.createElement(Cr.a,{theme:Cr.a.THEMES.ASSIGNMENT,placeholder:gettext("Add your submission"),value:this.props.question.userAnswer.body,minHeight:"150px",onValueChange:this.onBodyChange})}},{key:"render",value:function(){var e=this.props,t=e.question,r=e.isSubmitted;return Nt.a.createElement(ko,{question:t,"data-purpose":"submission-question-input"},r&&t.userAnswer?this.renderViewer():this.renderEditor())}}]),t}(qt.Component),xi.propTypes={question:Rt.a.object.isRequired,isSubmitted:Rt.a.bool.isRequired},Di=Oi,babelHelpers.applyDecoratedDescriptor(Di.prototype,"onBodyChange",[X.a,J.action],Object.getOwnPropertyDescriptor(Di.prototype,"onBodyChange"),Di.prototype),Ei=Di))||Ei,Li=function(e){var t=e.userSubmission;return Nt.a.createElement("span",null,gettext("Save or Submit your Work"),t&&t.submissionTime&&Nt.a.createElement(zi.a,{bsStyle:"success",className:"ml10"},gettext("Assignment Submitted")))};Li.propTypes={userSubmission:Rt.a.instanceOf(ho)},Li.defaultProps={userSubmission:null};var Fi=Object(At.d)(function(e){var t=e.submission;return Nt.a.createElement("div",null,t.questions.map(function(e){return Nt.a.createElement(Mi,{key:e.id,question:e,isSubmitted:!!t.submissionTime})}))});Fi.propTypes={submission:Rt.a.object.isRequired};var Ui,Bi,Vi,$i,Qi,Wi,Gi,Yi,Ki,Xi,Ji,Zi=Object(At.c)("practiceStore")(Ti=Object(At.d)((Ii=Ai=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"shouldShowModal",Hi,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"saveHandler",value:function(){this.props.practiceStore.saveDraft()}},{key:"checkboxHandler",value:function(e){this.props.practiceStore.userSubmission.isPrivate=!e.target.checked}},{key:"closeModal",value:function(){this.shouldShowModal=!1}},{key:"openModal",value:function(){this.shouldShowModal=!0}},{key:"publish",value:function(){this.props.practiceStore.publishAttempt=!0,this.props.practiceStore.saveDraft(),this.closeModal()}},{key:"render",value:function(){var e=this.props.practiceStore;return Nt.a.createElement(yr,{onPracticeInitialized:e.getSubmissionPageAnswers,title:gettext("Assignment Submission"),subtitle:Nt.a.createElement(Li,{userSubmission:e.userSubmission}),pageType:Le.SUBMISSION_PAGE},!!e.userSubmission&&Nt.a.createElement("div",null,Nt.a.createElement(Jt.a,null,Nt.a.createElement("div",{className:"practice--question__list--172D6"},e.userSubmission.questionsAreLoaded?Nt.a.createElement(kr.a,{name:"assignmentSubmitForm"},Nt.a.createElement(wr.a,{errors:e.userSubmission.errors},Nt.a.createElement(Fi,{submission:e.userSubmission})),Nt.a.createElement(ko,{question:{body:gettext("Choose your sharing preference")}},Nt.a.createElement("div",{className:"mt10 mb10"},Nt.a.createElement(Ni.a,{inline:!0,disabled:!!e.userSubmission.submissionTime,checked:!e.userSubmission.isPrivate,onChange:this.checkboxHandler},gettext("Yes, I want to get feedback from my fellow students.")))),e.userSubmission.submissionTime||!e.userSubmission.questionsAreLoaded?null:Nt.a.createElement(wr.a,{errors:[e.statusAlert.message],validationState:e.statusAlert.style},Nt.a.createElement(fr.a,{className:"mb5 pt5 pb5"},Nt.a.createElement(tr.default,{onClick:this.saveHandler,disabled:e.sendingSave,"data-purpose":"save-draft-button"},gettext("Save Draft")),Nt.a.createElement(tr.default,{className:"ml10",onClick:this.openModal,disabled:e.sendingSave,"data-purpose":"submit-button"},gettext("Submit")))),Nt.a.createElement(qi.a,{body:gettext("You will no longer be able to edit after you submit."),onCancel:this.closeModal,confirmText:gettext("Submit"),onConfirm:this.publish,show:this.shouldShowModal})):Nt.a.createElement(Xt.a,{block:!0,size:"medium"})))))}}]),i}(qt.Component),Ai.propTypes={practiceStore:Rt.a.object.isRequired},Pi=Ii,babelHelpers.applyDecoratedDescriptor(Pi.prototype,"saveHandler",[X.a],Object.getOwnPropertyDescriptor(Pi.prototype,"saveHandler"),Pi.prototype),babelHelpers.applyDecoratedDescriptor(Pi.prototype,"checkboxHandler",[X.a,J.action],Object.getOwnPropertyDescriptor(Pi.prototype,"checkboxHandler"),Pi.prototype),Hi=babelHelpers.applyDecoratedDescriptor(Pi.prototype,"shouldShowModal",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Pi.prototype,"closeModal",[X.a,J.action],Object.getOwnPropertyDescriptor(Pi.prototype,"closeModal"),Pi.prototype),babelHelpers.applyDecoratedDescriptor(Pi.prototype,"openModal",[X.a,J.action],Object.getOwnPropertyDescriptor(Pi.prototype,"openModal"),Pi.prototype),babelHelpers.applyDecoratedDescriptor(Pi.prototype,"publish",[X.a,J.action],Object.getOwnPropertyDescriptor(Pi.prototype,"publish"),Pi.prototype),Ti=Pi))||Ti)||Ti,es=r("./src/udemy/js/base-components/collapse.react-component.js"),ts=(r("./src/udemy/js/course-taking-v4/course-taking/practice/summary-detail-page.less"),Object(At.c)("practiceStore")(Ui=Object(At.d)((Qi=$i=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"submissionVisible",Vi,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentWillUnmount",value:function(){this.props.practiceStore.resetSubmissionDetail()}},{key:"onPracticeInitialized",value:function(){var e=this.props.location.pathname.match(/summary\/(.*)\/commenter/)[1];return this.props.practiceStore.setSubmissionDetail(parseInt(e,10))}},{key:"toggleSubmissionVisibility",value:function(){this.submissionVisible=!this.submissionVisible}},{key:"renderSubmissionToggleContents",value:function(){var e,t,r=this.props.practiceStore.submissionDetail.user.name;return t=this.submissionVisible?(e=interpolate(gettext("Hide %s's work"),[r]),"angle-up"):(e=interpolate(gettext("View %s's work"),[r]),"angle-down"),Nt.a.createElement("span",{className:"font-text-sm","data-purpose":"toggle-text"},e,Nt.a.createElement(Kt.a,{glyph:t,className:"pl5"}))}},{key:"render",value:function(){var e=this.props.practiceStore;return Nt.a.createElement(yr,{onPracticeInitialized:this.onPracticeInitialized,pageType:Le.SUMMARY_DETAIL_PAGE},e.submissionDetail&&Nt.a.createElement("div",{className:"mt60"},Nt.a.createElement("div",{className:"mb20 mt30 pt10 summary-detail-page--back-link--3z2X5"},Nt.a.createElement(ci,{to:"/summary"},Nt.a.createElement(Kt.a,{glyph:"thin-arrow-left",className:"text-secondary mr5"}),gettext("Back to all feedback"))),Nt.a.createElement(Jt.a,null,Nt.a.createElement("h3",{className:"bold fx-lc"},Nt.a.createElement("span",{className:"fx"},e.practice.title),Nt.a.createElement(tr.default,{bsStyle:"link",onClick:this.toggleSubmissionVisibility},this.renderSubmissionToggleContents())),Nt.a.createElement("hr",null),Nt.a.createElement(es.default,{in:this.submissionVisible,className:"summary-detail-page--summary-detail-submission--peK-u"},Nt.a.createElement("div",null,Nt.a.createElement(Co,{submission:e.submissionDetail}))),e.submissionDetail.peerFeedbacks.map(function(e){return Nt.a.createElement(uo,{feedback:e,key:e.answer.id||"new-feedback"})}))))}}]),i}(qt.Component),$i.propTypes={practiceStore:Rt.a.object.isRequired,location:Rt.a.object},$i.defaultProps={location:window.location},Bi=Qi,Vi=babelHelpers.applyDecoratedDescriptor(Bi.prototype,"submissionVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Bi.prototype,"onPracticeInitialized",[X.a],Object.getOwnPropertyDescriptor(Bi.prototype,"onPracticeInitialized"),Bi.prototype),babelHelpers.applyDecoratedDescriptor(Bi.prototype,"toggleSubmissionVisibility",[X.a,J.action],Object.getOwnPropertyDescriptor(Bi.prototype,"toggleSubmissionVisibility"),Bi.prototype),Ui=Bi))||Ui)||Ui),rs=(r("./src/udemy/js/course-taking-v4/course-taking/practice/summary-page.less"),function(){return Nt.a.createElement("div",{className:"text-center","data-purpose":"no-feedback-message"},Nt.a.createElement("div",{className:"mt60"},Nt.a.createElement(Kt.a,{glyph:"comments",size:"medium"})),Nt.a.createElement("h4",{className:"text-midnight-light bold mt30"},gettext("You Don't Have any Feedback Yet")),Nt.a.createElement("div",{className:"mt20"},gettext("Don't worry, we'll notify you when you receive feedback on your work.")))}),os=function(e){var t=e.feedbackSummary,r="/summary/".concat(t.userAttemptedPracticeId,"/commenter/").concat(t.latestComment.user.id);return Nt.a.createElement(ci,{to:r},Nt.a.createElement(Jt.a,{className:"summary-page--summary-panel--10Y5G","data-purpose":"summary-panel"},Nt.a.createElement("div",{className:"w100p font-text-sm"},Nt.a.createElement("div",{className:"fx-jsb"},Nt.a.createElement(Sr.b,{className:"h100p",user:t.answer.user}),Nt.a.createElement("div",{className:"fx pl10"},Nt.a.createElement("div",{className:"bold text-midnight-light"},gettext("".concat(t.otherCommenter.title," and Me")),Nt.a.createElement(zi.a,{className:"ml10",bsStyle:"success"},t.submissionOwner.id===Ze.a.id?gettext("Self"):gettext("Peer"))),Nt.a.createElement("div",{className:"mt10 fx-lt text-nowrap","data-purpose":"latest-comment-text"},"".concat(t.latestComment.user.name,":"),Nt.a.createElement("span",{className:"pl5 ellipsis"},Nt.a.createElement(_r.a,{prettify:{preventClick:!0},wrapImages:!0,unsafeHTML:t.latestComment.body})))),Nt.a.createElement("div",null,Object(yo.c)(t.latestComment.created))))))};os.propTypes={feedbackSummary:Rt.a.object.isRequired};var ns,is,ss,as,ls,cs,us=Object(At.c)("practiceStore","basePath")(Wi=Object(er.a)(Wi=Object(At.d)((Ji=Xi=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"feedbackSummaryList",Yi,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isSummaryListSet",Ki,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"onPracticeInitialized",value:function(){var e=this;this.props.practiceStore.summaryListLoaded?this.props.practiceStore.getLatestComments().then(function(){e.setSummaryList()}):this.props.practiceStore.getSummaryPageData().then(function(){e.setSummaryList()})}},{key:"_setLatestComment",value:function(e){if(e.answer.commentThread){var t=e.answer.commentThread.latest_comment;return{body:t.content,user:t.user,created:t.created}}return e.answer}},{key:"setSummaryList",value:function(){var o=this,e=this.props.practiceStore,r=e.userSubmission,t=e.assignedSubmissions,n=[];t.filter(function(e){return e.feedbacks.length}).forEach(function(r){r.feedbacks.forEach(function(e){if(e.answer.commentThread){var t=Object.assign({},e,{latestComment:o._setLatestComment(e),otherCommenter:r.user,submissionOwner:r.user});n.push(t)}})}),r.feedbacks.forEach(function(e){if(e.question.type===Be){var t=Object.assign({},e,{latestComment:o._setLatestComment(e),otherCommenter:e.answer.user,submissionOwner:r.user});n.push(t)}}),this.feedbackSummaryList=n.sort(function(e,t){return e.latestComment.created<t.latestComment.created?1:-1}),this.isSummaryListSet=!0}},{key:"render",value:function(){var e=this.props.practiceStore,t=e.courseExperienceStore,r=e.courseTakingStore,o=e.submissionsLoaded,n=r.$rootScope,i=r.isPanelOpen;return Nt.a.createElement(yr,{onPracticeInitialized:this.onPracticeInitialized,centerButtons:Nt.a.createElement(rr,{url:"/give-feedback/",bsStyle:"quaternary"},i?gettext("Back"):gettext("Back to assignment")),rightButtons:Nt.a.createElement(_i,{courseExperienceStore:t,$rootScope:n,buttonText:i?"":gettext("Next lecture"),bsStyle:"primary"}),pageType:Le.SUMMARY_PAGE},o&&this.isSummaryListSet&&Nt.a.createElement("span",null,this.feedbackSummaryList.length?Nt.a.createElement("div",{"data-purpose":"feedback-summary-list"},Nt.a.createElement("h4",{className:"mt60 mb30"},gettext("Comments on this assignment")),this.feedbackSummaryList.map(function(e){return Nt.a.createElement(os,{key:e.submissionOwner.id,feedbackSummary:e})})):Nt.a.createElement(rs,null)))}}]),i}(qt.Component),Xi.propTypes={practiceStore:Rt.a.object.isRequired},Gi=Ji,Yi=babelHelpers.applyDecoratedDescriptor(Gi.prototype,"feedbackSummaryList",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ki=babelHelpers.applyDecoratedDescriptor(Gi.prototype,"isSummaryListSet",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Gi.prototype,"onPracticeInitialized",[X.a],Object.getOwnPropertyDescriptor(Gi.prototype,"onPracticeInitialized"),Gi.prototype),babelHelpers.applyDecoratedDescriptor(Gi.prototype,"setSummaryList",[J.action],Object.getOwnPropertyDescriptor(Gi.prototype,"setSummaryList"),Gi.prototype),Wi=Gi))||Wi)||Wi)||Wi,ps=(ns=J.observable.ref,Object(At.d)((cs=ls=function(e){function o(e){var t;babelHelpers.classCallCheck(this,o),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e)),babelHelpers.initializerDefineProperty(t,"reactRouterLocation",as,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t)));var r=parseInt(e.$state.params.id,10);return t.practiceStore=new mo(e.courseTakingStore,r),t}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"componentDidMount",value:function(){this.practiceStore.getPracticeData(),this.practiceStore.setPractice()}},{key:"componentWillUnmount",value:function(){this.unlisten&&this.unlisten()}},{key:"handleReactLocationChange",value:function(e){this.reactRouterLocation=e,this.sendProgressLog()}},{key:"sendProgressLog",value:function(){var e=this.location.pathname.replace("".concat(this.basePath,"/"),"").replace(/\/$/,"");this.practiceStore.sendProgressLog(e)}},{key:"setupLocationChangeListener",value:function(e){e&&(this.unlisten||(this.unlisten=e.history.listen(this.handleReactLocationChange),this.sendProgressLog()))}},{key:"render",value:function(){if(!this.practiceStore.practice)return null;if(0!==this.location.pathname.indexOf(this.basePath))return null;var e=this.props.$state;return Nt.a.createElement(Yt.a,{ref:this.setupLocationChangeListener},Nt.a.createElement(At.b,{practiceStore:this.practiceStore,basePath:this.basePath},Nt.a.createElement(ai,{$state:e},Nt.a.createElement(Qt.a,{location:this.location},Nt.a.createElement(Wt.a,{exact:!0,path:"".concat(this.basePath,"/"),component:Ri}),Nt.a.createElement(Wt.a,{exact:!0,path:"".concat(this.basePath,"/introduction/"),component:Cn}),Nt.a.createElement(Wt.a,{exact:!0,path:"".concat(this.basePath,"/submission/"),component:Zi}),Nt.a.createElement(Wt.a,{exact:!0,path:"".concat(this.basePath,"/instructor-solution/"),component:vi}),Nt.a.createElement(Wt.a,{exact:!0,path:"".concat(this.basePath,"/give-feedback/"),component:jo}),Nt.a.createElement(Wt.a,{exact:!0,path:"".concat(this.basePath,"/summary/"),component:us}),Nt.a.createElement(Wt.a,{exact:!0,path:"".concat(this.basePath,"/summary/:submissionId/commenter/:userId"),component:ts}),Nt.a.createElement(Gt.a,{to:"".concat(this.basePath,"/")})))))}},{key:"basePath",get:function(){var e=this.props.$state,t=document.getElementsByTagName("base")[0].href.replace(/\/$/,""),r=babelHelpers.objectSpread({},e.params,{reactRouterPath:""}),o=e.current.reactBaseStateName||e.current.name;return e.href(o,r,{absolute:!0}).replace(t,"")}},{key:"location",get:function(){if(this.reactRouterLocation)return this.reactRouterLocation;var e=this.props.$state.params.reactRouterPath||"";return{pathname:"".concat(this.basePath,"/").concat(e)}}}]),o}(Nt.a.Component),ls.propTypes={$state:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired},ss=cs,as=babelHelpers.applyDecoratedDescriptor(ss.prototype,"reactRouterLocation",[ns],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(ss.prototype,"handleReactLocationChange",[X.a,J.action],Object.getOwnPropertyDescriptor(ss.prototype,"handleReactLocationChange"),ss.prototype),babelHelpers.applyDecoratedDescriptor(ss.prototype,"setupLocationChangeListener",[X.a,J.action],Object.getOwnPropertyDescriptor(ss.prototype,"setupLocationChangeListener"),ss.prototype),babelHelpers.applyDecoratedDescriptor(ss.prototype,"basePath",[J.computed],Object.getOwnPropertyDescriptor(ss.prototype,"basePath"),ss.prototype),babelHelpers.applyDecoratedDescriptor(ss.prototype,"location",[J.computed],Object.getOwnPropertyDescriptor(ss.prototype,"location"),ss.prototype),is=ss))||is),ds=d.a.module("course-taking-v4/course-taking/practice/practice.ng-directive",["ui.router",a.a.name,Pt.name]).directive("practice",hs);function hs(e,t,r,o){return e(ps,void 0,{},{courseTakingStore:r,$state:o})}hs.$inject=["reactDirective","$rootScope","CourseTakingService","$state"];var ms=d.a.module("course-taking-v4/course-taking/course-taking.ng-controller",["ui.router",Y.name,mt.name,Ct.a.name,W.a.name,Pt.name,ds.name]).controller("CourseTakingController",bs);function bs(e,t,o,r,n,i,s,a,l){t.isMobileApp=s.isMobileApp(),t.isMobileBrowser=s.isMobileBrowser(),(e.store=l).fullscreenStore.setRef(r[0]),l.loadCourseReview();var c=t.$on("continuecurriculum",function(e,t){!t.skipReviewPrompt&&l.reviewPromptStage?l.goToReviewPrompt({id:t.id,type:t.type}):function(e){var t=e.stayOnItem?i.currentCurriculumItem:i.nextCurriculumItem;if(t){var r=t.uiRouterState;o.go(r.name,r.params)}else n.go("base.dashboard.questions")}(t)});e.$on("$destroy",c)}bs.$inject=["$scope","$rootScope","$state","$element","AnimatedStateChangeService","CourseExperienceService","Mobile","ViewMode","CourseTakingService"],function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Lt.apply(void 0,["left"].concat(t))}(_t.CURRICULUM,function(e){return!!e});var ys=ms,fs=r("./src/udemy/js/course-taking-v4/course-taking/course-taking.ng-template.html"),gs=r.n(fs),vs=(r("./node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls-0.13.1.js"),r("./src/udemy/js/ng/directives/common/utils.ng-directive.js")),ws=r("./src/udemy/js/organization-trial/constants.js"),ks=r("./src/udemy/js/utils/ud-googleanalytics.js"),Cs=d.a.module("course-taking-v4/curriculum/curriculum-navigation-button.ng-directive",[a.a.name,mt.name,Pt.name]).directive("curriculumNavigationButton",_s);function _s(e,t,r){return e(In,void 0,{},{courseExperienceStore:t,courseTakingStore:r})}_s.$inject=["reactDirective","CourseExperienceService","CourseTakingService"];var Ss=r("./src/udemy/js/video-player/constants.js"),js=r("./src/udemy/js/base-components/hotkey-overlay/hotkey-overlay.react-component.js"),Es=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).hotkeyMap=[{name:gettext("Keyboard shortcuts"),key:"shift+slash",isShowShortcuts:!0},{name:gettext("Course Content"),key:"c"},{name:gettext("Play/Pause"),key:"space"},{name:gettext("Speed slower"),key:"shift+left"},{name:gettext("Speed faster"),key:"shift+right"},{name:gettext("Fullscreen"),key:"f"},{name:gettext("Exit fullscreen"),key:"escape"},{name:gettext("Browse Q&A"),key:"q"},{name:gettext("Add Bookmark"),key:"b"},{name:interpolate(gettext("Go back %(interval)ss"),{interval:Ss.e},!0),key:"left"},{name:interpolate(gettext("Go forward %(interval)ss"),{interval:Ss.e},!0),key:"right"},{name:gettext("Volume up"),key:"up"},{name:gettext("Volume down"),key:"down"}],t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"render",value:function(){var e=this.props,t=e.show,r=e.onHide;return Nt.a.createElement(js.a,{keyMap:this.hotkeyMap,show:t,onHide:r})}}]),i}(qt.Component);Es.propTypes={show:Rt.a.bool.isRequired,onHide:Rt.a.func.isRequired};var Ds=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).hotkeyMap=[{name:gettext("Keyboard shortcuts"),key:"shift+slash",isShowShortcuts:!0},{name:gettext("Select answer 1-9"),key:"1-9"},{name:gettext("Submit question"),key:"enter"},{name:gettext("Course content"),key:"c"},{name:gettext("Select answer 10-15"),key:"shift+0-5"},{name:gettext("Skip question"),key:"shift+enter"}],t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"render",value:function(){var e=this.props,t=e.show,r=e.onHide;return Nt.a.createElement(js.a,{keyMap:this.hotkeyMap,show:t,onHide:r})}}]),i}(qt.Component);Ds.propTypes={show:Rt.a.bool.isRequired,onHide:Rt.a.func.isRequired};var xs=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).hotkeyMap=[{name:gettext("Keyboard shortcuts"),key:"shift+slash",isShowShortcuts:!0},{name:gettext("Select answer 1-9"),key:"1-9"},{name:gettext("Check answer / Next question"),key:"right"},{name:gettext("Course content"),key:"c"},{name:gettext("Select answer 10-15"),key:"shift+0-5"},{name:gettext("Skip question"),key:"shift+right"}],t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"render",value:function(){var e=this.props,t=e.show,r=e.onHide;return Nt.a.createElement(js.a,{keyMap:this.hotkeyMap,show:t,onHide:r})}}]),i}(qt.Component);xs.propTypes={show:Rt.a.bool.isRequired,onHide:Rt.a.func.isRequired};r("./src/udemy/js/course-taking-v4/course-taking/hotkeys.less");var Os,Ts,Ps,Hs,As,Is,Rs,qs,Ns={"./hotkeys.less":{keyframes:"hotkeys--keyframes--3bHnt","hotkey-feedback-activated":"hotkeys--hotkey-feedback-activated--15wUI","hotkey-feedback":"hotkeys--hotkey-feedback--10-dF",animation:"hotkeys--animation--14veR","fx-c":"hotkeys--fx-c--3CBNY","udi-vjs-play":"hotkeys--udi-vjs-play--FtY_x"}},zs={66:"hotkeyaddbookmark",81:"hotkeytogglebrowsequestions",SHIFT191:"hotkeyshowhotkeys"},Ms=(Os={},babelHelpers.defineProperty(Os,St.ADD_BOOKMARK,"udi udi-bookmark"),babelHelpers.defineProperty(Os,St.PLAY,"udi udi-vjs-play"),babelHelpers.defineProperty(Os,St.PAUSE,"udi udi-vjs-pause"),babelHelpers.defineProperty(Os,Ss.c.SEEK_BACK,"udi udi-vjs-rewind"),babelHelpers.defineProperty(Os,Ss.c.SPEED_DOWN,"udi udi-vjs-minus"),babelHelpers.defineProperty(Os,Ss.c.SEEK_FORWARD,"udi udi-vjs-forward"),babelHelpers.defineProperty(Os,Ss.c.SPEED_UP,"udi udi-vjs-plus"),babelHelpers.defineProperty(Os,Ss.c.VOLUME_DOWN,"udi udi-vjs-volume"),babelHelpers.defineProperty(Os,Ss.c.VOLUME_UP,"udi udi-vjs-volume"),babelHelpers.defineProperty(Os,St.ENTER_FULLSCREEN,"udi udi-expand"),babelHelpers.defineProperty(Os,St.EXIT_FULLSCREEN,"udi udi-collapse"),Os),Ls=Object(At.d)((qs=Rs=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).detachShowhotkeyfeedback=void 0,t.timeout=void 0,babelHelpers.initializerDefineProperty(t,"hotkeysModalOpened",Hs,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"iconClass",As,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"hotkeyFeedbackActivated",Is,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){var r=this;window.addEventListener("keyup",this.keyHandler),this.detachShowhotkeyfeedback=this.props.$rootScope.$on("showhotkeyfeedback",function(e,t){r.showHotkeyFeedback(t)}),this.detachHotkeyShowHotkeys=this.props.$rootScope.$on("hotkeyshowhotkeys",this.toggleHotkeys)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.keyHandler),this.detachShowhotkeyfeedback&&this.detachShowhotkeyfeedback(),this.detachHotkeyShowHotkeys&&this.detachHotkeyShowHotkeys()}},{key:"getModifier",value:function(e){return e.shiftKey?"SHIFT":""}},{key:"keyEventDisallowed",value:function(e){var t=e.relatedTarget||e.toElement||document.activeElement;if(!t)return!1;var r=-1!==["input","textarea"].indexOf(t.tagName.toLowerCase()),o=-1!==["radio","button","checkbox","submit"].indexOf(t.type);if(r&&o){return-1!==[32,37,38,39,40,13].indexOf(e.keyCode)}var n="true"===t.getAttribute("contenteditable");return r||n}},{key:"hideHotkeys",value:function(){this.hotkeysModalOpened&&(this.hotkeysModalOpened=!1,this.props.$rootScope.$broadcast("resumecontent"))}},{key:"toggleHotkeys",value:function(){if(this.hotkeysModalOpened)return this.hideHotkeys();this.hotkeysModalOpened=!0,this.props.$rootScope.$broadcast("pausecontent"),this.hotkeysModalOpened&&P.a.track(x.d.VIDEO_PLAYER,ee.b.capitalize(this.props.hotkeysType),"resource hotkeys-show hotkey")}},{key:"keyHandler",value:function(e){var t=e.keyCode?e.keyCode:e.which?e.which:e.charCode,r=this.getModifier(e),o=zs[r+t];this.keyEventDisallowed(e)||this.hotkeysModalOpened&&"hotkeyshowhotkeys"!==o||(27===t?this.props.courseTakingStore.closePanel():67===t?this.props.courseTakingStore.togglePanel(_t.CURRICULUM):o?(this.props.$rootScope.$broadcast(o),this.props.$rootScope.$apply(),this.showHotkeyFeedback(r+t)):(this.props.courseTakingStore.handleKeyEvent(e,t,r),this.props.$rootScope.$broadcast("hotkey".concat(this.props.hotkeysType,"event"),t,r)))}},{key:"showHotkeyFeedback",value:function(e){var t=this;Ms[e]&&(this.iconClass=Ms[e],this.hotkeyFeedbackActivated=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){Object(J.runInAction)(function(){t.hotkeyFeedbackActivated=!1})},300))}},{key:"render",value:function(){var e=this.props.hotkeysType,t="";if("lecture"===e)t=Es;else if("quiz"===e)t=xs;else{if("test"!==e)throw new Error("Invalid Hotkeys Type");t=Ds}return Nt.a.createElement("div",{className:"hotkeys-feedback-wrapper "+Sn()(Et()({"hotkey-feedback-activated":this.hotkeyFeedbackActivated}),Ns)},Nt.a.createElement("div",{className:"hotkeys--hotkey-feedback--10-dF"},Nt.a.createElement("div",{className:this.iconClass})),Nt.a.createElement(t,{show:this.hotkeysModalOpened,onHide:this.hideHotkeys}))}}]),i}(qt.Component),Rs.propTypes={hotkeysType:Rt.a.string.isRequired,$rootScope:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired},Ps=qs,Hs=babelHelpers.applyDecoratedDescriptor(Ps.prototype,"hotkeysModalOpened",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),As=babelHelpers.applyDecoratedDescriptor(Ps.prototype,"iconClass",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Is=babelHelpers.applyDecoratedDescriptor(Ps.prototype,"hotkeyFeedbackActivated",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Ps.prototype,"hideHotkeys",[X.a,J.action],Object.getOwnPropertyDescriptor(Ps.prototype,"hideHotkeys"),Ps.prototype),babelHelpers.applyDecoratedDescriptor(Ps.prototype,"toggleHotkeys",[X.a,J.action],Object.getOwnPropertyDescriptor(Ps.prototype,"toggleHotkeys"),Ps.prototype),babelHelpers.applyDecoratedDescriptor(Ps.prototype,"keyHandler",[X.a],Object.getOwnPropertyDescriptor(Ps.prototype,"keyHandler"),Ps.prototype),babelHelpers.applyDecoratedDescriptor(Ps.prototype,"showHotkeyFeedback",[X.a,J.action],Object.getOwnPropertyDescriptor(Ps.prototype,"showHotkeyFeedback"),Ps.prototype),Ts=Ps))||Ts,Fs=d.a.module("course-taking-v4/course-taking/hotkeys.ng-directive",[a.a.name,Pt.name]).directive("hotkeys",Us);function Us(e,t,r){return e(Ls,void 0,{},{$rootScope:t,courseTakingStore:r})}Us.$inject=["reactDirective","$rootScope","CourseTakingService"];var Bs,Vs,$s,Qs,Ws,Gs,Ys,Ks,Xs,Js,Zs,ea,ta,ra,oa,na,ia,sa,aa,la,ca,ua,pa,da,ha,ma,ba,ya,fa,ga,va,wa,ka,Ca,_a,Sa,ja,Ea,Da,xa,Oa,Ta,Pa,Ha="asset_type_unavailable_for_limited_consumption_trial",Aa=(r("./src/udemy/js/course-taking-v4/course-taking/questions-panel/questions-panel.less"),r("./src/udemy/js/base-components/rich-text-editor/constants.js")),Ia=(r("./src/udemy/js/course-taking-v4/course-taking/questions-panel/questions-panel-base.less"),Object.freeze({"fields[user]":["@min","image_50x50","initials","url"].join(",")})),Ra=Object.freeze(babelHelpers.objectSpread({page_size:15,"fields[course_discussion]":["@default","user","related_object","is_following","is_instructor","num_replies","created"].join(",")},Ia,{"fields[lecture]":["@min","title","object_index"].join(","),"fields[quiz]":["@min","title","object_index"].join(","),"fields[practice]":["@min","title","object_index"].join(",")})),qa=Object.freeze(babelHelpers.objectSpread({"fields[course_discussion_reply]":"@all"},Ia)),Na=Object.freeze({POPULARITY:"popularity",RECENCY:"recency",MY_QUESTIONS:"my_questions"}),za=Object.freeze((Bs={},babelHelpers.defineProperty(Bs,Na.POPULARITY,"-popularity,-created"),babelHelpers.defineProperty(Bs,Na.RECENCY,"-created,-last_activity"),babelHelpers.defineProperty(Bs,Na.MY_QUESTIONS,"-is_me,-created"),Bs)),Ma=r("./src/udemy/js/utils/ud-link.js"),La=(r("./src/udemy/js/course-taking-v4/question-answer/new-question.less"),r("./src/udemy/js/course-taking-v4/question-answer/question-editor.less"),Object(At.c)("questionAnswerStore")(Vs=Object(At.d)((Ys=Gs=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isSubmitting",Qs,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"warnings",Ws,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){this.titleInputRef.focus()}},{key:"setTitleInputRef",value:function(e){this.titleInputRef=e}},{key:"onTitleChange",value:function(e){this.props.question.setTitle(e.target.value)}},{key:"submit",value:function(){var o=this;this.isSubmitting=!0,this.props.questionAnswerStore.saveQuestion(this.props.question,!!this.warnings.length).then(Object(J.action)(function(){o.isSubmitting=!1,o.warnings=[],o.props.onSave()})).catch(Object(J.action)(function(e){var t=e.response;if(t.data&&t.data.body&&t.data.body.length){var r=t.data.body[0];"warning"===r.type&&r.messages&&r.messages.length&&(o.warnings=r.messages,o.isSubmitting=!1)}}))}},{key:"render",value:function(){var e;return this.warnings.length&&(e=Nt.a.createElement(jn.a,{bsStyle:"warning"},Nt.a.createElement("div",{"data-purpose":"warnings",dangerouslySetInnerHTML:{__html:this.warnings.map(function(e){return"<p>".concat(e,"</p>")})}}))),Nt.a.createElement("div",null,e,Nt.a.createElement(vr.a,Object.assign({type:"text",value:this.props.question.title,onChange:this.onTitleChange,inputRef:this.setTitleInputRef,bsSize:"small",className:"question-editor--title-editor--2n8ko","data-purpose":"question-title"},this.props.extraTitleEditorProps)),Nt.a.createElement(Cr.a,Object.assign({value:this.props.question.body,onValueChange:this.props.question.setBody},this.props.extraBodyEditorProps)),Nt.a.createElement(fr.a,{className:"question-editor--buttons--1NiZo"},Nt.a.createElement(tr.default,{onClick:this.submit,disabled:this.isSubmitting||!this.props.question.title,bsStyle:"primary",bsSize:"small","data-purpose":"post-question"},this.warnings.length?gettext("Proceed"):this.props.submitBtnLabel),this.cancelBtn))}},{key:"cancelBtn",get:function(){return this.props.onCancel?Nt.a.createElement(tr.default,{onClick:this.props.onCancel,disabled:this.isSubmitting,bsStyle:"tertiary",bsSize:"small","data-purpose":"cancel"},gettext("Cancel")):null}}]),i}(Nt.a.Component),Gs.propTypes={questionAnswerStore:Rt.a.object.isRequired,question:Rt.a.object.isRequired,extraTitleEditorProps:Rt.a.object.isRequired,extraBodyEditorProps:Rt.a.object.isRequired,submitBtnLabel:Rt.a.string.isRequired,onSave:Rt.a.func.isRequired,onCancel:Rt.a.func},Gs.defaultProps={onCancel:void 0},$s=Ys,babelHelpers.applyDecoratedDescriptor($s.prototype,"setTitleInputRef",[X.a],Object.getOwnPropertyDescriptor($s.prototype,"setTitleInputRef"),$s.prototype),Qs=babelHelpers.applyDecoratedDescriptor($s.prototype,"isSubmitting",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ws=babelHelpers.applyDecoratedDescriptor($s.prototype,"warnings",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),babelHelpers.applyDecoratedDescriptor($s.prototype,"onTitleChange",[X.a],Object.getOwnPropertyDescriptor($s.prototype,"onTitleChange"),$s.prototype),babelHelpers.applyDecoratedDescriptor($s.prototype,"submit",[X.a,J.action],Object.getOwnPropertyDescriptor($s.prototype,"submit"),$s.prototype),Vs=$s))||Vs)||Vs),Fa=function e(t){babelHelpers.classCallCheck(this,e),this.id=t.id,this.name=t.name,this.displayName=t.display_name,this.initials=t.initials,this.image=t.image_50x50,this.isBanned=t.is_banned,this.url=t.url},Ua=(Ks=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"body",Xs,this),babelHelpers.initializerDefineProperty(this,"numUpvotes",Js,this),babelHelpers.initializerDefineProperty(this,"isUpvoted",Zs,this),babelHelpers.initializerDefineProperty(this,"isTopAnswer",ea,this),this.id=e.id||-1,this.userIsInstructor=e.is_instructor,this.userIsVisibleInstructor=e.is_visible_instructor,this.created=e.created;var t=e.user||{};t.is_banned=e.is_banned_user,this.user=new Fa(t),this.setObservablesFromAPIData(e)}return babelHelpers.createClass(r,[{key:"setObservablesFromAPIData",value:function(e){this.body=e.body||"",this.numUpvotes=e.num_upvotes||0,this.isUpvoted=e.is_upvoted||!1,this.isTopAnswer=e.is_top_answer||!1}},{key:"setBody",value:function(e){this.body=e}},{key:"upVote",value:function(){this.isUpvoted=!0,this.numUpvotes++}},{key:"downVote",value:function(){this.isUpvoted=!1,this.numUpvotes--}},{key:"markTop",value:function(){this.isTopAnswer=!0}},{key:"unmarkTop",value:function(){this.isTopAnswer=!1}},{key:"isNew",get:function(){return-1===this.id}},{key:"isMine",get:function(){return this.user.id===Ze.a.id}}]),r}(),Xs=babelHelpers.applyDecoratedDescriptor(Ks.prototype,"body",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Js=babelHelpers.applyDecoratedDescriptor(Ks.prototype,"numUpvotes",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs=babelHelpers.applyDecoratedDescriptor(Ks.prototype,"isUpvoted",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ea=babelHelpers.applyDecoratedDescriptor(Ks.prototype,"isTopAnswer",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),babelHelpers.applyDecoratedDescriptor(Ks.prototype,"setObservablesFromAPIData",[J.action],Object.getOwnPropertyDescriptor(Ks.prototype,"setObservablesFromAPIData"),Ks.prototype),babelHelpers.applyDecoratedDescriptor(Ks.prototype,"setBody",[X.a,J.action],Object.getOwnPropertyDescriptor(Ks.prototype,"setBody"),Ks.prototype),babelHelpers.applyDecoratedDescriptor(Ks.prototype,"upVote",[J.action],Object.getOwnPropertyDescriptor(Ks.prototype,"upVote"),Ks.prototype),babelHelpers.applyDecoratedDescriptor(Ks.prototype,"downVote",[J.action],Object.getOwnPropertyDescriptor(Ks.prototype,"downVote"),Ks.prototype),babelHelpers.applyDecoratedDescriptor(Ks.prototype,"markTop",[J.action],Object.getOwnPropertyDescriptor(Ks.prototype,"markTop"),Ks.prototype),babelHelpers.applyDecoratedDescriptor(Ks.prototype,"unmarkTop",[J.action],Object.getOwnPropertyDescriptor(Ks.prototype,"unmarkTop"),Ks.prototype),Ks),Ba=(ta=function(){function o(e,t){babelHelpers.classCallCheck(this,o),babelHelpers.initializerDefineProperty(this,"title",ra,this),babelHelpers.initializerDefineProperty(this,"body",oa,this),babelHelpers.initializerDefineProperty(this,"numAnswers",na,this),babelHelpers.initializerDefineProperty(this,"isFollowing",ia,this),babelHelpers.initializerDefineProperty(this,"isEditing",sa,this),babelHelpers.initializerDefineProperty(this,"errorCode",aa,this),babelHelpers.initializerDefineProperty(this,"answersById",la,this),this.answerPageNum=1,babelHelpers.initializerDefineProperty(this,"isLoading",ca,this),babelHelpers.initializerDefineProperty(this,"hasFullyLoadedAnswers",ua,this),babelHelpers.initializerDefineProperty(this,"showNewQuestionConfirmation",pa,this),this.courseId=t,this.id=e.id||-1,this.created=e.created,this.numFollows=e.num_follows;var r=e.user||{};if(r.is_banned=e.is_banned_user,this.user=new Fa(r),this.curriculumItem=null,e.related_object)switch(e.related_object._class){case"lecture":this.curriculumItem=new Me(e.related_object);break;case"quiz":this.curriculumItem=new Ke(e.related_object);break;case"practice":this.curriculumItem=new Ge(e.related_object);break;default:throw new Error("Unknown curriculum item type '".concat(e.related_object._class,"'"))}this.setObservablesFromAPIData(e)}return babelHelpers.createClass(o,[{key:"setObservablesFromAPIData",value:function(e){this.title=e.title||"",this.body=e.body||"",this.numAnswers=e.num_replies,this.isFollowing=e.is_following}},{key:"setTitle",value:function(e){this.title=e}},{key:"setBody",value:function(e){this.body=e}},{key:"loadAnswers",value:function(){var t=this;return this.hasFullyLoadedAnswers?Promise.resolve():(this.isLoading=!0,Z.c.get("/courses/".concat(this.courseId,"/discussions/").concat(this.id,"/replies/"),{params:babelHelpers.objectSpread({},qa,{page:this.answerPageNum})}).then(Object(J.action)(function(e){e.data.results.forEach(function(e){t.answersById.has(e.id)||t.answersById.set(e.id,new Ua(e))}),t.isLoading=!1,t.hasFullyLoadedAnswers=!e.data.next})))}},{key:"loadMore",value:function(){return this.answerPageNum++,this.loadAnswers()}},{key:"saveAnswer",value:function(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return e.isNew?Z.c.post("/courses/".concat(this.courseId,"/discussions/").concat(this.id,"/replies/"),{body:e.body,ignore_warnings:r},{params:qa}).then(Object(J.action)(function(e){t.answersById.set(e.data.id,new Ua(e.data)),t.numAnswers+=1})):Z.c.patch("/courses/".concat(this.courseId,"/discussions/").concat(this.id,"/replies/").concat(e.id),{body:e.body,ignore_warnings:r})}},{key:"deleteAnswer",value:function(e){var t=this;return Z.c.delete("/courses/".concat(this.courseId,"/discussions/").concat(this.id,"/replies/").concat(e.id)).then(Object(J.action)(function(){t.answersById.delete(e.id),t.numAnswers-=1}))}},{key:"setNewQuestionConfirmation",value:function(){this.isNewlyAdded=!0,this.showNewQuestionConfirmation=!0}},{key:"hideNewQuestionConfirmation",value:function(){this.showNewQuestionConfirmation=!1}},{key:"isNew",get:function(){return-1===this.id}},{key:"isMine",get:function(){return this.user.id===Ze.a.id}},{key:"answers",get:function(){return this.answersById.values()}}]),o}(),ra=babelHelpers.applyDecoratedDescriptor(ta.prototype,"title",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oa=babelHelpers.applyDecoratedDescriptor(ta.prototype,"body",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),na=babelHelpers.applyDecoratedDescriptor(ta.prototype,"numAnswers",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ia=babelHelpers.applyDecoratedDescriptor(ta.prototype,"isFollowing",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sa=babelHelpers.applyDecoratedDescriptor(ta.prototype,"isEditing",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),aa=babelHelpers.applyDecoratedDescriptor(ta.prototype,"errorCode",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),la=babelHelpers.applyDecoratedDescriptor(ta.prototype,"answersById",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),ca=babelHelpers.applyDecoratedDescriptor(ta.prototype,"isLoading",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ua=babelHelpers.applyDecoratedDescriptor(ta.prototype,"hasFullyLoadedAnswers",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pa=babelHelpers.applyDecoratedDescriptor(ta.prototype,"showNewQuestionConfirmation",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(ta.prototype,"setObservablesFromAPIData",[J.action],Object.getOwnPropertyDescriptor(ta.prototype,"setObservablesFromAPIData"),ta.prototype),babelHelpers.applyDecoratedDescriptor(ta.prototype,"setTitle",[J.action],Object.getOwnPropertyDescriptor(ta.prototype,"setTitle"),ta.prototype),babelHelpers.applyDecoratedDescriptor(ta.prototype,"setBody",[X.a,J.action],Object.getOwnPropertyDescriptor(ta.prototype,"setBody"),ta.prototype),babelHelpers.applyDecoratedDescriptor(ta.prototype,"loadAnswers",[J.action],Object.getOwnPropertyDescriptor(ta.prototype,"loadAnswers"),ta.prototype),babelHelpers.applyDecoratedDescriptor(ta.prototype,"loadMore",[X.a,J.action],Object.getOwnPropertyDescriptor(ta.prototype,"loadMore"),ta.prototype),babelHelpers.applyDecoratedDescriptor(ta.prototype,"setNewQuestionConfirmation",[J.action],Object.getOwnPropertyDescriptor(ta.prototype,"setNewQuestionConfirmation"),ta.prototype),babelHelpers.applyDecoratedDescriptor(ta.prototype,"hideNewQuestionConfirmation",[X.a,J.action],Object.getOwnPropertyDescriptor(ta.prototype,"hideNewQuestionConfirmation"),ta.prototype),babelHelpers.applyDecoratedDescriptor(ta.prototype,"answers",[J.computed],Object.getOwnPropertyDescriptor(ta.prototype,"answers"),ta.prototype),ta),Va=Object(At.c)("courseExperienceStore","questionAnswerStore")((ma=ha=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).newQuestion=new Ba({},e.courseExperienceStore.courseId),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(){return Nt.a.createElement("div",null,this.supportLink,this.absentInstructorAlert,Nt.a.createElement(La,{question:this.newQuestion,extraTitleEditorProps:{placeholder:gettext("Question title")},extraBodyEditorProps:{placeholder:gettext("Describe what you're trying to achieve and where you're getting stuck"),theme:this.props.editorTheme},submitBtnLabel:gettext("Post Question"),onSave:this.props.onClose,onCancel:this.props.onClose}))}},{key:"supportLink",get:function(){var e=interpolate(gettext('Have a technical issue? Our <a href="%(supportUrl)s" target="_blank">Support Team</a> can help.'),{supportUrl:Ma.a.toSupportContact()},!0);return Nt.a.createElement("p",{className:"new-question--support-link--2P7B7",dangerouslySetInnerHTML:{__html:e}})}},{key:"absentInstructorAlert",get:function(){return this.props.courseExperienceStore.userIsInstructor||!this.props.questionAnswerStore.areNewAnswersDisabled?null:Nt.a.createElement(jn.a,{bsStyle:"danger"},gettext("This instructor is no longer actively answering questions, but we encourage\n                           you to continue to ask and answer questions from other students."))}}]),r}(Nt.a.Component),ha.propTypes={courseExperienceStore:Rt.a.object.isRequired,questionAnswerStore:Rt.a.object.isRequired,editorTheme:Rt.a.string.isRequired,onClose:Rt.a.func.isRequired},da=ma))||da,$a=r("./node_modules/lodash-es/debounce.js"),Qa=(ba=function(){function i(e,t){var r=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",n=3<arguments.length?arguments[3]:void 0;babelHelpers.classCallCheck(this,i),babelHelpers.initializerDefineProperty(this,"questionsById",ya,this),babelHelpers.initializerDefineProperty(this,"isLoading",fa,this),babelHelpers.initializerDefineProperty(this,"isFullyLoaded",ga,this),babelHelpers.initializerDefineProperty(this,"pageNumber",va,this),babelHelpers.initializerDefineProperty(this,"activeQuestionId",wa,this),babelHelpers.initializerDefineProperty(this,"searchQuery",ka,this),babelHelpers.initializerDefineProperty(this,"sorting",Ca,this),babelHelpers.initializerDefineProperty(this,"filterFollowed",_a,this),babelHelpers.initializerDefineProperty(this,"filterNoAnswers",Sa,this),this.courseExperienceStore=e,this.userCanMarkTopAnswer=t,this.trackingPrefix=o,this.curriculumItem=n,this.areQuestionsDisabled=!T.a.brand.is_discussions_enabled||!this.courseExperienceStore.course.features.discussions_view,this.areNewQuestionsDisabled=!this.courseExperienceStore.course.features.discussions_create,this.areNewAnswersDisabled=!this.courseExperienceStore.course.features.discussions_replies_create,Object(J.reaction)(function(){return r.activeQuestion},function(){r.activeQuestion&&(r.trackAction("open-detail",r.activeQuestion),r.activeQuestion.loadAnswers())}),Object(J.reaction)(function(){return r.searchQuery},Object($a.a)(this.reset,300)),Object(J.reaction)(function(){return[r.sorting,r.filterFollowed,r.filterNoAnswers]},this.reset)}return babelHelpers.createClass(i,[{key:"loadQuestions",value:function(){var t=this;this.isLoading=!0;var e=this.searchQuery?"searchable-discussions":"discussions",r=babelHelpers.objectSpread({},Ra,{page:this.pageNumber,ordering:za[this.sorting]});return this.searchQuery&&(r.search=this.searchQuery),this.curriculumItem&&(r.related_object_type=this.curriculumItem.type,r.related_object_id=this.curriculumItem.id),this.filterFollowed&&(r.followed=Ze.a.id),this.filterNoAnswers&&(r.num_replies=0),Z.c.get("/courses/".concat(this.courseExperienceStore.courseId,"/").concat(e,"/"),{params:r}).then(Object(J.action)(function(e){e.data.results.forEach(function(e){t.questionsById.has(e.id)||t.questionsById.set(e.id,new Ba(e,t.courseExperienceStore.courseId))}),t.isFullyLoaded=!e.data.next,t.isLoading=!1}))}},{key:"reset",value:function(){return this.questionsById.clear(),this.pageNumber=1,this.loadQuestions()}},{key:"loadQuestion",value:function(e){var t=this;return this.questionsById.has(e)?Promise.resolve():(this.isLoading=!0,Z.c.get("/courses/".concat(this.courseExperienceStore.courseId,"/discussions/").concat(e),{params:Ra}).then(Object(J.action)(function(e){t.questionsById.has(e.data.id)||t.questionsById.set(e.data.id,new Ba(e.data,t.courseExperienceStore.courseId)),t.isLoading=!1})))}},{key:"loadMore",value:function(){return this.pageNumber++,this.loadQuestions()}},{key:"setSearchQuery",value:function(e){this.searchQuery=e}},{key:"setSorting",value:function(e){this.sorting=e,this.trackAction("sort-by-".concat(e))}},{key:"setFollowedFilter",value:function(e){this.filterFollowed=e,this.trackAction("filter-".concat(e?"":"undo-","followed"))}},{key:"setNoAnswersFilter",value:function(e){this.filterNoAnswers=e,this.trackAction("filter-".concat(e?"":"undo-","num_replies"))}},{key:"trackAction",value:function(e,t){var r;t&&(r={objectType:"question",objectId:t.id}),this.courseExperienceStore.track("question","".concat(this.trackingPrefix).concat(e),r)}},{key:"selectQuestion",value:function(e){this.activeQuestionId=e}},{key:"saveQuestion",value:function(e){var r=this,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(e.isNew){var o={title:e.title,body:e.body,ignore_warnings:t};return this.curriculumItem&&(o.related_object_type=this.curriculumItem.type,o.related_object_id=this.curriculumItem.id),Z.c.post("/courses/".concat(this.courseExperienceStore.courseId,"/discussions/"),o,{params:Ra}).then(Object(J.action)(function(e){var t=new Ba(e.data,r.courseExperienceStore.courseId);t.setNewQuestionConfirmation(),r.questionsById.set(e.data.id,t),r.trackAction("detail-view.add-question",t)}))}return this.trackAction("detail-view.edit-question",e),Z.c.patch("/courses/".concat(this.courseExperienceStore.courseId,"/discussions/").concat(e.id),{title:e.title,body:e.body,ignore_warnings:t})}},{key:"deleteQuestion",value:function(e){var t=this;return this.trackAction("detail-view.delete-question",e),Z.c.delete("/courses/".concat(this.courseExperienceStore.courseId,"/discussions/").concat(e.id)).then(Object(J.action)(function(){t.questionsById.delete(e.id)}))}},{key:"followQuestion",value:function(e,t){var r=t?"follow":"unfollow";return this.trackAction("detail-view.".concat(r),e),(e.isFollowing=t)?Z.c.post("courses/".concat(this.courseExperienceStore.courseId,"/discussions/").concat(e.id,"/followers/")):Z.c.delete("courses/".concat(this.courseExperienceStore.courseId,"/discussions/").concat(e.id,"/followers/").concat(Ze.a.id))}},{key:"upvoteAnswer",value:function(e,t,r){var o=r?"mark-helpful":"un-mark-helpful";return this.trackAction("detail-view.".concat(o),e),r?Z.c.post("courses/".concat(this.courseExperienceStore.courseId,"/discussions/").concat(e.id,"/replies/").concat(t.id,"/upvoters/"),{userId:Ze.a.id}).then(function(){t.upVote()}):Z.c.delete("courses/".concat(this.courseExperienceStore.courseId,"/discussions/").concat(e.id,"/replies/").concat(t.id,"/upvoters/").concat(Ze.a.id)).then(function(){t.downVote()})}},{key:"markTopAnswer",value:function(e,t,r){return Z.c.patch("courses/".concat(this.courseExperienceStore.courseId,"/discussions/").concat(e.id,"/replies/").concat(t.id),{is_top_answer:r}).then(function(){r?t.markTop():t.unmarkTop()})}},{key:"questions",get:function(){var t=this,r=[],e=this.questionsById.values().filter(function(e){return e.isNewlyAdded?(r.push(e),!1):(!t.filterFollowed||e.isFollowing)&&(!t.filterNoAnswers||!e.numAnswers)});return r.concat(babelHelpers.toConsumableArray(e))}},{key:"activeQuestion",get:function(){return this.questionsById.get(this.activeQuestionId)}}]),i}(),ya=babelHelpers.applyDecoratedDescriptor(ba.prototype,"questionsById",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),fa=babelHelpers.applyDecoratedDescriptor(ba.prototype,"isLoading",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ga=babelHelpers.applyDecoratedDescriptor(ba.prototype,"isFullyLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),va=babelHelpers.applyDecoratedDescriptor(ba.prototype,"pageNumber",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),wa=babelHelpers.applyDecoratedDescriptor(ba.prototype,"activeQuestionId",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ka=babelHelpers.applyDecoratedDescriptor(ba.prototype,"searchQuery",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ca=babelHelpers.applyDecoratedDescriptor(ba.prototype,"sorting",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Na.RECENCY}}),_a=babelHelpers.applyDecoratedDescriptor(ba.prototype,"filterFollowed",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sa=babelHelpers.applyDecoratedDescriptor(ba.prototype,"filterNoAnswers",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(ba.prototype,"loadQuestions",[X.a,J.action],Object.getOwnPropertyDescriptor(ba.prototype,"loadQuestions"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"reset",[X.a,J.action],Object.getOwnPropertyDescriptor(ba.prototype,"reset"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"loadQuestion",[J.action],Object.getOwnPropertyDescriptor(ba.prototype,"loadQuestion"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"loadMore",[X.a,J.action],Object.getOwnPropertyDescriptor(ba.prototype,"loadMore"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"setSearchQuery",[J.action],Object.getOwnPropertyDescriptor(ba.prototype,"setSearchQuery"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"setSorting",[J.action],Object.getOwnPropertyDescriptor(ba.prototype,"setSorting"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"setFollowedFilter",[J.action],Object.getOwnPropertyDescriptor(ba.prototype,"setFollowedFilter"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"setNoAnswersFilter",[J.action],Object.getOwnPropertyDescriptor(ba.prototype,"setNoAnswersFilter"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"selectQuestion",[J.action],Object.getOwnPropertyDescriptor(ba.prototype,"selectQuestion"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"saveQuestion",[J.action],Object.getOwnPropertyDescriptor(ba.prototype,"saveQuestion"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"deleteQuestion",[J.action],Object.getOwnPropertyDescriptor(ba.prototype,"deleteQuestion"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"followQuestion",[J.action],Object.getOwnPropertyDescriptor(ba.prototype,"followQuestion"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"upvoteAnswer",[J.action],Object.getOwnPropertyDescriptor(ba.prototype,"upvoteAnswer"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"markTopAnswer",[J.action],Object.getOwnPropertyDescriptor(ba.prototype,"markTopAnswer"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"questions",[J.computed],Object.getOwnPropertyDescriptor(ba.prototype,"questions"),ba.prototype),babelHelpers.applyDecoratedDescriptor(ba.prototype,"activeQuestion",[J.computed],Object.getOwnPropertyDescriptor(ba.prototype,"activeQuestion"),ba.prototype),ba),Wa=r("./src/udemy/js/base-components/form/control-label.react-component.js"),Ga=r("./src/udemy/js/base-components/form/form-group.react-component.js"),Ya=r("./src/udemy/js/base-components/ui-sref.react-component.js");r("./src/udemy/js/course-taking-v4/question-answer/question-details.less"),r("./src/udemy/js/course-taking-v4/question-answer/answer-editor.less");var Ka,Xa,Ja,Za,el,tl=Object(At.d)((Pa=Ta=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"hasError",Da,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"warnings",xa,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isSubmitting",Oa,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"submit",value:function(){var e,o=this;this.hasError=!(0<(e=this.props.answer.body).search(/<img src/g,"")||(e=e.replace(/\s|&nbsp;/g,""),ee.b.trimTags(e))),this.hasError||(this.isSubmitting=!0,this.props.question.saveAnswer(this.props.answer,!!this.warnings.length).then(Object(J.action)(function(){o.isSubmitting=!1,o.warnings=[],o.props.onSave()})).catch(Object(J.action)(function(e){var t=e.response;if(t.data&&t.data.body&&t.data.body.length){var r=t.data.body[0];"warning"===r.type&&r.messages&&r.messages.length&&(o.warnings=r.messages,o.isSubmitting=!1)}})))}},{key:"render",value:function(){return this.props.isEditing?(this.hasError?e=Nt.a.createElement(jn.a,{bsStyle:"danger"},gettext("Field can not be empty")):this.warnings.length&&(e=Nt.a.createElement(jn.a,{bsStyle:"warning"},Nt.a.createElement("div",{"data-purpose":"warnings",dangerouslySetInnerHTML:{__html:this.warnings.map(function(e){return"<p>".concat(e,"</p>")})}}))),Nt.a.createElement("div",null,e,Nt.a.createElement(Cr.a,Object.assign({autoFocus:!0,value:this.props.answer.body,onValueChange:this.props.answer.setBody},this.props.extraEditorProps)),Nt.a.createElement(fr.a,{className:"answer-editor--buttons--22NRl"},Nt.a.createElement(tr.default,{onClick:this.submit,disabled:this.isSubmitting,bsStyle:"primary",bsSize:"small","data-purpose":"submit"},this.warnings.length?gettext("Proceed"):this.props.submitBtnLabel),this.cancelBtn))):this.props.renderPlaceholder();var e}},{key:"cancelBtn",get:function(){return this.props.onCancel?Nt.a.createElement(tr.default,{onClick:this.props.onCancel,disabled:this.isSubmitting,bsStyle:"tertiary",bsSize:"small","data-purpose":"cancel"},gettext("Cancel")):null}}]),i}(Nt.a.Component),Ta.propTypes={isEditing:Rt.a.bool.isRequired,question:Rt.a.object.isRequired,answer:Rt.a.object.isRequired,renderPlaceholder:Rt.a.func.isRequired,extraEditorProps:Rt.a.object.isRequired,submitBtnLabel:Rt.a.string.isRequired,onSave:Rt.a.func.isRequired,onCancel:Rt.a.func},Ta.defaultProps={onCancel:void 0},Ea=Pa,Da=babelHelpers.applyDecoratedDescriptor(Ea.prototype,"hasError",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xa=babelHelpers.applyDecoratedDescriptor(Ea.prototype,"warnings",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oa=babelHelpers.applyDecoratedDescriptor(Ea.prototype,"isSubmitting",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Ea.prototype,"submit",[X.a,J.action],Object.getOwnPropertyDescriptor(Ea.prototype,"submit"),Ea.prototype),ja=Ea))||ja,rl=(r("./src/udemy/js/course-taking-v4/question-answer/answer.less"),r("./src/udemy/js/base-components/dropdown.react-component.js")),ol=(r("./src/udemy/js/course-taking-v4/question-answer/action-menu.less"),function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).dropdownId=Object(No.a)("action-menu"),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(){return Nt.a.createElement(rl.default,{id:this.dropdownId,pullRight:!0,className:"action-menu--dropdown--3HYc6"},Nt.a.createElement(rl.default.Toggle,{noCaret:!0,bsStyle:"link",bsSize:"xsmall","aria-label":this.props.ariaLabel},Nt.a.createElement(Kt.a,{glyph:"ellipsis-v"})),Nt.a.createElement(rl.default.Menu,null,this.props.children))}}]),r}(Nt.a.Component));ol.propTypes={ariaLabel:Rt.a.string.isRequired};var nl,il,sl,al,ll,cl,ul,pl,dl,hl,ml,bl,yl,fl,gl,vl,wl=Object(At.c)("courseExperienceStore","questionAnswerStore")(Ka=Object(At.d)((el=Za=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isDeleteAnswerConfirmationVisible",Ja,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"showDeleteConfirmation",value:function(){this.isDeleteAnswerConfirmationVisible=!0}},{key:"hideDeleteConfirmation",value:function(){this.isDeleteAnswerConfirmationVisible=!1}},{key:"deleteAnswer",value:function(){this.props.question.deleteAnswer(this.props.answer)}},{key:"trackReportAbuse",value:function(){this.props.courseExperienceStore.trackReportAbuse("coursediscussionreply")}},{key:"render",value:function(){return Nt.a.createElement("div",null,Nt.a.createElement(ol,{ariaLabel:gettext("Answer options")},this.answerEdit,this.answerDelete,this.reportAbuse),Nt.a.createElement(qi.a,{show:this.isDeleteAnswerConfirmationVisible,body:gettext("Are you sure you want to delete your reply?"),onCancel:this.hideDeleteConfirmation,onConfirm:this.deleteAnswer}))}},{key:"answerEdit",get:function(){return this.props.answer.isMine?Nt.a.createElement(On.a,{"data-purpose":"edit-answer",onClick:this.props.onEdit},gettext("Edit")):null}},{key:"answerDelete",get:function(){return this.props.answer.isMine?Nt.a.createElement(On.a,{"data-purpose":"delete-answer",onClick:this.showDeleteConfirmation},gettext("Delete")):null}},{key:"reportAbuse",get:function(){return!T.a.features.report_abuse||this.props.answer.isMine?null:Nt.a.createElement(On.a,{"data-purpose":"report-abuse",unclickable:!0},Nt.a.createElement(Tn.a,{showLabel:!0,useAnchor:!0,useMenuStyling:!0,showTooltip:!1,objectType:"coursediscussionreply",objectId:this.props.answer.id,onClick:this.trackReportAbuse}))}}]),i}(Nt.a.Component),Za.propTypes={courseExperienceStore:Rt.a.object.isRequired,questionAnswerStore:Rt.a.object.isRequired,question:Rt.a.object.isRequired,answer:Rt.a.object.isRequired,onEdit:Rt.a.func.isRequired},Xa=el,Ja=babelHelpers.applyDecoratedDescriptor(Xa.prototype,"isDeleteAnswerConfirmationVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Xa.prototype,"showDeleteConfirmation",[X.a,J.action],Object.getOwnPropertyDescriptor(Xa.prototype,"showDeleteConfirmation"),Xa.prototype),babelHelpers.applyDecoratedDescriptor(Xa.prototype,"hideDeleteConfirmation",[X.a,J.action],Object.getOwnPropertyDescriptor(Xa.prototype,"hideDeleteConfirmation"),Xa.prototype),babelHelpers.applyDecoratedDescriptor(Xa.prototype,"deleteAnswer",[X.a],Object.getOwnPropertyDescriptor(Xa.prototype,"deleteAnswer"),Xa.prototype),babelHelpers.applyDecoratedDescriptor(Xa.prototype,"trackReportAbuse",[X.a],Object.getOwnPropertyDescriptor(Xa.prototype,"trackReportAbuse"),Xa.prototype),Ka=Xa))||Ka)||Ka,kl={"./answer.less":{answer:"answer--answer--2QIpY",fx:"answer--fx--3BoBa","fx-flex":"answer--fx-flex--1vlRD","top-answer":"answer--top-answer--2v3Dx",image:"answer--image--CXl-k",info:"answer--info--2wSRa",user:"answer--user--2qHvD","instructor-tag":"answer--instructor-tag--24Okp","top-answer-badge":"answer--top-answer-badge--3F7ZV",body:"answer--body--2g-LP",a11:"answer--a11--2xznl","edit-buttons":"answer--edit-buttons--4tvR5",upvoted:"answer--upvoted--1ft9Q",bold:"answer--bold--1ghvE"}},Cl=Object(At.c)("questionAnswerStore")(nl=Object(At.d)((ll=al=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isEditAnswerFormVisible",sl,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"showEditForm",value:function(){this.isEditAnswerFormVisible=!0}},{key:"hideEditForm",value:function(){this.isEditAnswerFormVisible=!1}},{key:"onAnswerEdit",value:function(){this.hideEditForm()}},{key:"toggleUpvote",value:function(){this.props.questionAnswerStore.upvoteAnswer(this.props.question,this.props.answer,!this.props.answer.isUpvoted)}},{key:"toggleTopAnswer",value:function(){this.props.questionAnswerStore.markTopAnswer(this.props.question,this.props.answer,!this.props.answer.isTopAnswer)}},{key:"renderBody",value:function(){return Nt.a.createElement(_r.a,{className:"answer--body--2g-LP",unsafeHTML:this.props.answer.body})}},{key:"render",value:function(){var e=this.props.answer;return Nt.a.createElement("div",{className:Sn()(Et()("answer",{"top-answer":e.isTopAnswer}),kl)},Nt.a.createElement("div",{className:"answer--image--CXl-k"},Nt.a.createElement(Sr.b,{user:{id:e.user.id,display_name:e.user.displayName,image_50x50:e.user.image,initials:e.user.initials}})),Nt.a.createElement("div",{className:"answer--info--2wSRa"},this.answerActionMenu,this.user,Nt.a.createElement("small",null," · ".concat(Object(yo.c)(e.created))),this.topAnswerBadge,Nt.a.createElement(tl,{isEditing:this.isEditAnswerFormVisible,question:this.props.question,answer:this.props.answer,renderPlaceholder:this.renderBody,extraEditorProps:{placeholder:gettext("Edit your answer here."),theme:Aa.n.Q_AND_A_EDIT},submitBtnLabel:gettext("Save"),onSave:this.onAnswerEdit,onCancel:this.hideEditForm}),Nt.a.createElement("div",{"data-purpose":"upvote"},this.upvote),this.topAnswer))}},{key:"answerActionMenu",get:function(){return this.props.answer.isMine||T.a.features.report_abuse?Nt.a.createElement(wl,{question:this.props.question,answer:this.props.answer,onEdit:this.showEditForm}):null}},{key:"user",get:function(){var e,t=this.props.answer.user;return t.isBanned?Nt.a.createElement("div",{className:"answer--user--2qHvD","data-purpose":"user-tag"},gettext("Udemy User")):(this.props.answer.userIsVisibleInstructor?e=Nt.a.createElement("span",{className:"answer--instructor-tag--24Okp"},gettext(" — Instructor")):this.props.answer.userIsInstructor&&(e=Nt.a.createElement("span",{className:"answer--instructor-tag--24Okp"},gettext(" — Teaching Assistant"))),Nt.a.createElement("span",{"data-purpose":"user-tag"},Nt.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.name),e))}},{key:"topAnswerBadge",get:function(){return this.props.answer.isTopAnswer?Nt.a.createElement("span",{className:"answer--top-answer-badge--3F7ZV","data-purpose":"top-answer"},Nt.a.createElement(Kt.a,{glyph:"star"}),Nt.a.createElement("span",null,gettext("Answer"))):null}},{key:"upvote",get:function(){var e,t=this.props.answer;return t.isMine?t.numUpvotes&&(e=gettext("Helpful")):e=t.isUpvoted?gettext("Marked as helpful"):gettext("Mark as helpful"),t.numUpvotes&&(e+=" (".concat(t.numUpvotes,")")),e?t.isMine?e:Nt.a.createElement(tr.default,{bsStyle:"link",onClick:this.toggleUpvote,className:Sn()(Et()({upvoted:t.isUpvoted}),kl)},e):null}},{key:"topAnswer",get:function(){return this.props.question.isMine||this.props.questionAnswerStore.userCanMarkTopAnswer?Nt.a.createElement(tr.default,{bsStyle:"link",onClick:this.toggleTopAnswer,"data-purpose":"top-answer"},this.props.answer.isTopAnswer?gettext("Unmark as top answer"):gettext("Mark as top answer")):null}}]),i}(Nt.a.Component),al.propTypes={questionAnswerStore:Rt.a.object.isRequired,question:Rt.a.object.isRequired,answer:Rt.a.object.isRequired},il=ll,sl=babelHelpers.applyDecoratedDescriptor(il.prototype,"isEditAnswerFormVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(il.prototype,"showEditForm",[X.a,J.action],Object.getOwnPropertyDescriptor(il.prototype,"showEditForm"),il.prototype),babelHelpers.applyDecoratedDescriptor(il.prototype,"hideEditForm",[X.a,J.action],Object.getOwnPropertyDescriptor(il.prototype,"hideEditForm"),il.prototype),babelHelpers.applyDecoratedDescriptor(il.prototype,"onAnswerEdit",[X.a],Object.getOwnPropertyDescriptor(il.prototype,"onAnswerEdit"),il.prototype),babelHelpers.applyDecoratedDescriptor(il.prototype,"toggleUpvote",[X.a],Object.getOwnPropertyDescriptor(il.prototype,"toggleUpvote"),il.prototype),babelHelpers.applyDecoratedDescriptor(il.prototype,"toggleTopAnswer",[X.a],Object.getOwnPropertyDescriptor(il.prototype,"toggleTopAnswer"),il.prototype),babelHelpers.applyDecoratedDescriptor(il.prototype,"renderBody",[X.a],Object.getOwnPropertyDescriptor(il.prototype,"renderBody"),il.prototype),nl=il))||nl)||nl,_l=Object(At.c)("courseExperienceStore","questionAnswerStore")(cl=Object(At.d)((hl=dl=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isDeleteQuestionConfirmationVisible",pl,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"showDeleteConfirmation",value:function(){this.isDeleteQuestionConfirmationVisible=!0}},{key:"hideDeleteConfirmation",value:function(){this.isDeleteQuestionConfirmationVisible=!1}},{key:"deleteQuestion",value:function(){this.props.questionAnswerStore.deleteQuestion(this.question).then(this.props.onDelete)}},{key:"trackReportAbuse",value:function(){this.props.courseExperienceStore.trackReportAbuse("coursediscussion")}},{key:"render",value:function(){return Nt.a.createElement("div",null,Nt.a.createElement(ol,{ariaLabel:gettext("Question options")},this.newTab,this.questionEdit,this.questionDelete,this.reportAbuse),Nt.a.createElement(qi.a,{show:this.isDeleteQuestionConfirmationVisible,body:gettext("Are you sure you want to delete your question?"),onCancel:this.hideDeleteConfirmation,onConfirm:this.deleteQuestion}))}},{key:"question",get:function(){return this.props.questionAnswerStore.activeQuestion}},{key:"newTab",get:function(){if(!this.props.showNewTab)return null;var e=this.props.courseExperienceStore.$state.href("base.dashboard.questions",{id:this.question.id});return Nt.a.createElement(On.a,{"data-purpose":"new-tab",target:"_blank",href:e},gettext("Open in new tab"))}},{key:"questionEdit",get:function(){return this.question.isMine?Nt.a.createElement(On.a,{"data-purpose":"edit-question",onClick:this.props.onEdit},gettext("Edit")):null}},{key:"questionDelete",get:function(){return this.question.isMine?Nt.a.createElement(On.a,{"data-purpose":"delete-question",onClick:this.showDeleteConfirmation},gettext("Delete")):null}},{key:"reportAbuse",get:function(){return!T.a.features.report_abuse||this.question.isMine?null:Nt.a.createElement(On.a,{unclickable:!0},Nt.a.createElement(Tn.a,{showLabel:!0,useAnchor:!0,useMenuStyling:!0,showTooltip:!1,objectType:"coursediscussion",objectId:this.question.id,onClick:this.trackReportAbuse}))}}]),i}(Nt.a.Component),dl.propTypes={courseExperienceStore:Rt.a.object.isRequired,questionAnswerStore:Rt.a.object.isRequired,showNewTab:Rt.a.bool.isRequired,onEdit:Rt.a.func.isRequired,onDelete:Rt.a.func.isRequired},ul=hl,pl=babelHelpers.applyDecoratedDescriptor(ul.prototype,"isDeleteQuestionConfirmationVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(ul.prototype,"showDeleteConfirmation",[X.a,J.action],Object.getOwnPropertyDescriptor(ul.prototype,"showDeleteConfirmation"),ul.prototype),babelHelpers.applyDecoratedDescriptor(ul.prototype,"hideDeleteConfirmation",[X.a,J.action],Object.getOwnPropertyDescriptor(ul.prototype,"hideDeleteConfirmation"),ul.prototype),babelHelpers.applyDecoratedDescriptor(ul.prototype,"deleteQuestion",[X.a],Object.getOwnPropertyDescriptor(ul.prototype,"deleteQuestion"),ul.prototype),babelHelpers.applyDecoratedDescriptor(ul.prototype,"trackReportAbuse",[X.a],Object.getOwnPropertyDescriptor(ul.prototype,"trackReportAbuse"),ul.prototype),cl=ul))||cl)||cl,Sl={"./question-details.less":{question:"question-details--question--35wJT",fx:"question-details--fx--1CnN9","fx-lt":"question-details--fx-lt--36gk1",info:"question-details--info--FjIHr",a11:"question-details--a11--206So",title:"question-details--title--1sCu2",a10:"question-details--a10--WHpnc",body:"question-details--body--5k8IF","follow-button":"question-details--follow-button--1VnYM","follow-button--following":"question-details--follow-button--following--25JZP","answer-list":"question-details--answer-list--h_RWQ",answers:"question-details--answers--DDU_n","load-more-answers":"question-details--load-more-answers--1N55v","fx-c":"question-details--fx-c--3cTKy","dummy-answer-input-container":"question-details--dummy-answer-input-container--2-6JD","fx-lc":"question-details--fx-lc--1Osci","dummy-answer-input":"question-details--dummy-answer-input--3tfPr"}},jl=Object(At.c)("courseExperienceStore","questionAnswerStore","AnimatedStateChangeService")(ml=Object(At.d)((vl=gl=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"isEditingQuestion",yl,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isAddAnswerFormVisible",fl,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.newAnswer=new Ua,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"goToLecture",value:function(){this.props.AnimatedStateChangeService.go("base.taking.lecture",{id:this.question.curriculumItem.id})}},{key:"showQuestionEditForm",value:function(){this.isEditingQuestion=!0}},{key:"hideQuestionEditForm",value:function(){this.isEditingQuestion=!1}},{key:"toggleQuestionFollowing",value:function(){this.props.questionAnswerStore.followQuestion(this.question,!this.question.isFollowing)}},{key:"onAnswerInputFocus",value:function(){this.isAddAnswerFormVisible=!0}},{key:"onNewAnswer",value:function(){this.props.questionAnswerStore.trackAction("detail-view.reply-question",this.question),this.question.isFollowing||this.props.questionAnswerStore.followQuestion(this.question,!0),this.isAddAnswerFormVisible=!1,this.newAnswer=new Ua}},{key:"renderNewAnswerPlaceholder",value:function(){return Nt.a.createElement("div",{className:"question-details--dummy-answer-input-container--2-6JD"},Nt.a.createElement(Sr.b,{user:Ze.a}),Nt.a.createElement(Ga.a,{className:"question-details--dummy-answer-input--3tfPr"},Nt.a.createElement(Wa.a,{srOnly:!0},gettext("Add an answer")),Nt.a.createElement(vr.a,{type:"text",placeholder:gettext("Add an answer"),onFocus:this.onAnswerInputFocus})))}},{key:"render",value:function(){return Nt.a.createElement("div",null,Nt.a.createElement("div",{className:"question-details--question--35wJT"},Nt.a.createElement("div",null,Nt.a.createElement(Sr.b,{user:{id:this.question.user.id,display_name:this.question.user.displayName,image_50x50:this.question.user.image,initials:this.question.user.initials}})),Nt.a.createElement("div",{className:"question-details--info--FjIHr"},this.questionActionMenu,this.title,this.user,this.relatedCurriculumItem,Nt.a.createElement("span",null," · ".concat(Object(yo.c)(this.question.created))),this.editor,this.body,this.follow)),Nt.a.createElement("div",{className:"question-details--answer-list--h_RWQ"},Nt.a.createElement("div",{className:"question-details--answers--DDU_n"},this.answers),this.loadMoreAnswers,this.addAnswer))}},{key:"question",get:function(){return this.props.questionAnswerStore.activeQuestion}},{key:"questionActionMenu",get:function(){return this.question.isMine||T.a.features.report_abuse?Nt.a.createElement(_l,{showNewTab:this.props.showNewTab,onEdit:this.showQuestionEditForm,onDelete:this.props.onDelete}):null}},{key:"title",get:function(){return this.isEditingQuestion?null:Nt.a.createElement("div",{className:"question-details--title--1sCu2","data-purpose":"title"},this.question.title)}},{key:"user",get:function(){var e=this.question.user;return e.isBanned?Nt.a.createElement("span",{"data-purpose":"user-tag"},gettext("Udemy User")):Nt.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer","data-purpose":"user-tag"},e.name)}},{key:"relatedCurriculumItem",get:function(){var e=this.question.curriculumItem;if(!e)return null;switch(e.type){case"lecture":return Nt.a.createElement("a",{onClick:this.goToLecture,onKeyPress:Object(No.b)(this.goToLecture),role:"link",tabIndex:"0","data-purpose":"item-link"},interpolate(gettext(" · Lecture %(lectureNum)s"),{lectureNum:e.objectIndex},!0));case"quiz":return Nt.a.createElement(Ya.a,{to:"base.taking.quiz",params:{id:e.id},"data-purpose":"item-link"},interpolate(gettext(" · Quiz %(quizNum)s"),{quizNum:e.objectIndex},!0));case"practice":return Nt.a.createElement(Ya.a,{to:"base.taking.practice",params:{id:e.id},"data-purpose":"item-link"},interpolate(gettext(" · Assignment %(assignmentNum)s"),{assignmentNum:e.objectIndex},!0))}}},{key:"editor",get:function(){return this.isEditingQuestion?Nt.a.createElement(La,{"data-purpose":"editor",question:this.question,extraTitleEditorProps:{placeholder:gettext("Edit your question title here")},extraBodyEditorProps:{placeholder:gettext("Edit your question here."),theme:Aa.n.Q_AND_A_EDIT},submitBtnLabel:gettext("Save"),onSave:this.hideQuestionEditForm,onCancel:this.hideQuestionEditForm}):null}},{key:"body",get:function(){return this.isEditingQuestion?null:Nt.a.createElement(_r.a,{"data-purpose":"body",className:"question-details--body--5k8IF",unsafeHTML:this.question.body})}},{key:"follow",get:function(){return this.isEditingQuestion?null:Nt.a.createElement(tr.default,{onClick:this.toggleQuestionFollowing,"data-purpose":"follow-button",className:Sn()(this.question.isFollowing?"follow-button--following":"follow-button",Sl)},this.question.isFollowing?gettext("Following Responses"):gettext("Follow Responses"))}},{key:"answers",get:function(){var t=this;return this.question.answers.map(function(e){return Nt.a.createElement(Cl,{key:e.id,question:t.question,answer:e})})}},{key:"loadMoreAnswers",get:function(){return!this.question.numAnswers||this.question.isLoading||this.question.hasFullyLoadedAnswers?null:Nt.a.createElement("div",{className:"question-details--load-more-answers--1N55v"},Nt.a.createElement(tr.default,{bsStyle:"primary",onClick:this.question.loadMore},gettext("Load more answers")))}},{key:"addAnswer",get:function(){if(this.props.courseExperienceStore.userIsInstructor&&this.props.questionAnswerStore.areNewAnswersDisabled){var e=gettext('Your access to the Q&A replying feature is temporarily suspended.\n                                  Please contact <a href="%(supportLink)s">support</a> for more information.');return Nt.a.createElement(jn.a,{bsStyle:"warning"},Nt.a.createElement("h3",null,gettext("Trust & Safety Alert")),Nt.a.createElement("p",null,interpolate(e,{supportLink:Ma.a.toSupportContact()},!0)))}return Nt.a.createElement(tl,{isEditing:this.isAddAnswerFormVisible,question:this.question,answer:this.newAnswer,renderPlaceholder:this.renderNewAnswerPlaceholder,extraEditorProps:{placeholder:gettext("Write your response"),theme:Aa.n.Q_AND_A},submitBtnLabel:gettext("Add an answer"),onSave:this.onNewAnswer})}}]),r}(Nt.a.Component),gl.propTypes={AnimatedStateChangeService:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,questionAnswerStore:Rt.a.object.isRequired,showNewTab:Rt.a.bool,onDelete:Rt.a.func},gl.defaultProps={showNewTab:!1,onDelete:Zt.a},bl=vl,yl=babelHelpers.applyDecoratedDescriptor(bl.prototype,"isEditingQuestion",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fl=babelHelpers.applyDecoratedDescriptor(bl.prototype,"isAddAnswerFormVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(bl.prototype,"goToLecture",[X.a],Object.getOwnPropertyDescriptor(bl.prototype,"goToLecture"),bl.prototype),babelHelpers.applyDecoratedDescriptor(bl.prototype,"showQuestionEditForm",[X.a,J.action],Object.getOwnPropertyDescriptor(bl.prototype,"showQuestionEditForm"),bl.prototype),babelHelpers.applyDecoratedDescriptor(bl.prototype,"hideQuestionEditForm",[X.a,J.action],Object.getOwnPropertyDescriptor(bl.prototype,"hideQuestionEditForm"),bl.prototype),babelHelpers.applyDecoratedDescriptor(bl.prototype,"toggleQuestionFollowing",[X.a],Object.getOwnPropertyDescriptor(bl.prototype,"toggleQuestionFollowing"),bl.prototype),babelHelpers.applyDecoratedDescriptor(bl.prototype,"onAnswerInputFocus",[X.a,J.action],Object.getOwnPropertyDescriptor(bl.prototype,"onAnswerInputFocus"),bl.prototype),babelHelpers.applyDecoratedDescriptor(bl.prototype,"onNewAnswer",[X.a,J.action],Object.getOwnPropertyDescriptor(bl.prototype,"onNewAnswer"),bl.prototype),babelHelpers.applyDecoratedDescriptor(bl.prototype,"renderNewAnswerPlaceholder",[X.a],Object.getOwnPropertyDescriptor(bl.prototype,"renderNewAnswerPlaceholder"),bl.prototype),ml=bl))||ml)||ml,El=(r("./src/udemy/js/course-taking-v4/question-answer/questions-disabled.less"),function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e;return e=this.props.courseExperienceStore.isLimitedConsumptionTrial?ws.h:this.props.courseExperienceStore.course.isOwnedByInstructorTeam?interpolate(gettext("Q&A feature has been disabled. For questions or concerns please contact %(supportLink)s"),{supportLink:'<a href="mailto:instructorsupport@udemy.com">instructorsupport@udemy.com</a>'},!0):gettext("Questions are currently disabled for your organization."),Nt.a.createElement("div",{className:"questions-disabled--reason--1I08K",dangerouslySetInnerHTML:{__html:e}})}}]),t}(Nt.a.Component));El.propTypes={courseExperienceStore:Rt.a.object.isRequired};r("./src/udemy/js/course-taking-v4/course-taking/questions-panel/questions-list.less");var Dl,xl,Ol,Tl,Pl,Hl,Al,Il,Rl,ql,Nl,zl,Ml,Ll,Fl,Ul,Bl,Vl,$l,Ql=Object(At.c)("courseExperienceStore","questionAnswerStore")((Ol=xl=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return Nt.a.createElement(Nt.a.Fragment,null,this.featureDisabledWarning,this.termsBannedWarning)}},{key:"featureDisabledWarning",get:function(){if(!this.props.questionAnswerStore.areNewQuestionsDisabled)return null;var e=interpolate(gettext('Your access to the Q&A feature is temporarily suspended.\n                     Please contact <a href="%(supportLink)s">support</a> for more information.'),{supportLink:Ma.a.toSupportContact()},!0);return Nt.a.createElement(jn.a,{bsStyle:"warning"},Nt.a.createElement("h3",null,gettext("Trust & Safety Alert")),Nt.a.createElement("p",{dangerouslySetInnerHTML:{__html:e}}))}},{key:"termsBannedWarning",get:function(){return this.props.courseExperienceStore.course.isOwnerTermsBanned?Nt.a.createElement(jn.a,{bsStyle:"warning"},Nt.a.createElement("h3",null,gettext("Warning")),Nt.a.createElement("p",null,gettext("The instructor for this course is no longer active on Udemy, but we\n                              encourage you to still post new questions as other students can also\n                              provide helpful answers."))):null}}]),t}(Nt.a.Component),xl.propTypes={courseExperienceStore:Rt.a.object.isRequired,questionAnswerStore:Rt.a.object.isRequired},Dl=Ol))||Dl,Wl=r("./src/udemy/js/base-components/image.react-component.js"),Gl=r("./src/udemy/js/course-taking-v4/question-answer/question-list-question.less"),Yl=r.n(Gl),Kl=Object(At.d)((Al=Hl=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onSelect",value:function(){this.props.onSelect(this.props.question)}},{key:"render",value:function(){var e=this.props.question;return Nt.a.createElement("div",{className:Et()(Yl.a.wrapper,this.props.className)},Nt.a.createElement("div",{onClick:this.onSelect,onKeyPress:Object(No.b)(this.onSelect),role:"link",tabIndex:"0",className:"question-list-question--question-link--iEDXQ","data-purpose":"question"},Nt.a.createElement("div",null,Nt.a.createElement(Sr.b,{user:{id:e.user.id,display_name:e.user.displayName,image_50x50:e.user.image,initials:e.user.initials}})),Nt.a.createElement("div",{className:Et()(Yl.a.content,this.props.contentClassName)},Nt.a.createElement("div",{className:"question-list-question--title--4K-V_"},e.title),Nt.a.createElement("div",{className:"question-list-question--body--2v0oT",dangerouslySetInnerHTML:{__html:ee.b.trimTags(ee.b.replaceImgTag(e.body))}})),this.responses),this.newQuestionAlert)}},{key:"responses",get:function(){if(!this.props.showResponses)return null;var e=this.props.question.numAnswers;return Nt.a.createElement("div",{"data-purpose":"responses"},Nt.a.createElement("div",{className:"question-list-question--num-answers--2vE_g"},e),Nt.a.createElement("div",null,ngettext("Response","Responses",e)))}},{key:"newQuestionAlert",get:function(){return this.props.newQuestionAlertEnabled&&this.props.question.showNewQuestionConfirmation?Nt.a.createElement(jn.a,{icon:"check",onDismiss:this.props.question.hideNewQuestionConfirmation,className:"question-list-question--new-question-confirmation--1BRvv","data-purpose":"new-question-confirmation"},Nt.a.createElement("h4",null,gettext("Question added successfully")),Nt.a.createElement("p",null,gettext("We'll notify you of responses so you can mark them as helpful or as the\n                    answer to your question.")),Nt.a.createElement("p",null,gettext("If your question is more general in nature you can try searching Google,\n                    Quora, or StackExchange while you wait for the instructor or other students to\n                    help."))):null}}]),t}(Nt.a.Component),Hl.propTypes={question:Rt.a.object.isRequired,onSelect:Rt.a.func.isRequired,showResponses:Rt.a.bool.isRequired,newQuestionAlertEnabled:Rt.a.bool.isRequired,className:Rt.a.string.isRequired,contentClassName:Rt.a.string.isRequired},Pl=Al,babelHelpers.applyDecoratedDescriptor(Pl.prototype,"onSelect",[X.a],Object.getOwnPropertyDescriptor(Pl.prototype,"onSelect"),Pl.prototype),Tl=Pl))||Tl,Xl=r("./src/udemy/js/course-taking-v4/question-answer/question-list.less"),Jl=r.n(Xl),Zl=Object(At.c)("questionAnswerStore")(Il=Object(At.d)((ql=Rl=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return Nt.a.createElement("div",null,Nt.a.createElement("div",{className:Et()(Jl.a.questions,this.props.listClass),"data-purpose":"list"},this.loadingSpinner,this.questions),this.raiseHand,this.loadMore)}},{key:"loadingSpinner",get:function(){return this.props.questionAnswerStore.isLoading?Nt.a.createElement(Xt.a,{block:!0,size:"large"}):null}},{key:"questions",get:function(){var r=this;return this.props.questionAnswerStore.isLoading?null:this.props.questionAnswerStore.questions.map(function(e,t){return Nt.a.createElement(Kl,{key:e.id,question:e,onSelect:r.props.onSelect,showResponses:r.props.showResponses,newQuestionAlertEnabled:0===t,className:r.props.questionClass,contentClassName:r.props.questionContentClassName})})}},{key:"raiseHand",get:function(){return this.props.questionAnswerStore.isLoading||this.props.questionAnswerStore.questions.length?null:Nt.a.createElement("div",{className:"question-list--raise-hand--1TWCT","data-purpose":"raise-hand"},Nt.a.createElement("div",{className:"question-list--raise-hand__title--2KoyX"},this.props.questionAnswerStore.searchQuery?gettext("No related questions found"):gettext("No questions yet")),Nt.a.createElement("div",null,gettext("Be the first to ask your question! You’ll be able to add details in the next step.")),Nt.a.createElement(Wl.a,{alt:"",width:94,height:110,src:"/staticx/udemy/images/course-taking/raise_your_hand.png"}))}},{key:"loadMore",get:function(){return this.props.questionAnswerStore.isFullyLoaded||this.props.questionAnswerStore.isLoading?null:Nt.a.createElement("div",{className:"question-list--load-more--3K2un"},Nt.a.createElement(tr.default,{bsStyle:"secondary",onClick:this.props.questionAnswerStore.loadMore},gettext("Load more")))}}]),t}(Nt.a.Component),Rl.propTypes={questionAnswerStore:Rt.a.object.isRequired,onSelect:Rt.a.func.isRequired,showResponses:Rt.a.bool,listClass:Rt.a.string,questionClass:Rt.a.string,questionContentClassName:Rt.a.string},Rl.defaultProps={showResponses:!1,listClass:"",questionClass:"",questionContentClassName:""},Il=ql))||Il)||Il,ec=Object(At.c)("courseExperienceStore","questionAnswerStore")(Nl=Object(At.d)((Ll=Ml=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onSearchQueryChange",value:function(e){this.props.questionAnswerStore.setSearchQuery(e.target.value)}},{key:"onQuestionSelect",value:function(e){this.props.questionAnswerStore.selectQuestion(e.id)}},{key:"render",value:function(){var e=this.props.questionAnswerStore;return Nt.a.createElement("div",null,Nt.a.createElement(Ql,null),Nt.a.createElement("div",{className:"questions-list--search-bar--3viwR"},Nt.a.createElement(Ga.a,{className:"questions-list--search--2A42T"},Nt.a.createElement(Wa.a,{srOnly:!0},gettext("Search for a question")),Nt.a.createElement(vr.a,{type:"text",value:e.searchQuery,onChange:this.onSearchQueryChange,placeholder:gettext("Search for a question")})),Nt.a.createElement("div",{className:"questions-list--result-summary--1n7Cx"},Nt.a.createElement("div",{className:"questions-list--results--2CL26"},this.resultsText),Nt.a.createElement(tr.default,{bsStyle:"primary",onClick:this.props.onNewQuestion,disabled:e.areNewQuestionsDisabled},gettext("Ask a new question")))),Nt.a.createElement(Zl,{onSelect:this.onQuestionSelect}))}},{key:"resultsText",get:function(){var e,t=this.props,r=t.courseExperienceStore,o=t.questionAnswerStore;return e=o.searchQuery&&o.questions.length?ngettext("We found %(resultCount)s related question","We found %(resultCount)s related questions",o.questions.length):"lecture"===r.currentCurriculumItem.type?ngettext("%(resultCount)s question in this lecture","%(resultCount)s questions in this lecture",o.questions.length):ngettext("%(resultCount)s question in this quiz","%(resultCount)s questions in this quiz",o.questions.length),interpolate(e,{resultCount:o.questions.length},!0)}}]),t}(Nt.a.Component),Ml.propTypes={courseExperienceStore:Rt.a.object.isRequired,questionAnswerStore:Rt.a.object.isRequired,onNewQuestion:Rt.a.func.isRequired},zl=Ll,babelHelpers.applyDecoratedDescriptor(zl.prototype,"onSearchQueryChange",[X.a],Object.getOwnPropertyDescriptor(zl.prototype,"onSearchQueryChange"),zl.prototype),babelHelpers.applyDecoratedDescriptor(zl.prototype,"onQuestionSelect",[X.a],Object.getOwnPropertyDescriptor(zl.prototype,"onQuestionSelect"),zl.prototype),Nl=zl))||Nl)||Nl,tc=Ft(_t.QUESTION)(Fl=Object(At.d)(($l=Vl=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"isNewQuestionFormVisible",Bl,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.questionAnswerStore=new Qa(e.courseExperienceStore,e.userCanMarkTopAnswer,"video.question-panel.",e.courseExperienceStore.currentCurriculumItem),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){this.questionAnswerStore.areQuestionsDisabled||this.questionAnswerStore.setSorting(Na.MY_QUESTIONS)}},{key:"back",value:function(){this.questionAnswerStore.selectQuestion(null)}},{key:"minimize",value:function(){this.props.courseTakingStore.closePanel()}},{key:"close",value:function(){this.minimize(),setTimeout(this.back,500)}},{key:"showNewQuestionForm",value:function(){this.isNewQuestionFormVisible=!0}},{key:"hideNewQuestionForm",value:function(){this.isNewQuestionFormVisible=!1}},{key:"render",value:function(){return this.props.courseExperienceStore.currentCurriculumItem?Nt.a.createElement("div",{className:"questions-panel-base--wrapper--1xGLw","data-purpose":"wrapper"},Nt.a.createElement("div",{className:"questions-panel-base--title--3CNvE","data-purpose":"title"},this.title),this.backButton,Nt.a.createElement(tr.default,{bsStyle:"link",onClick:this.minimize,className:"questions-panel-base--minimize-button--2IhP1","data-purpose":"minimize"},Nt.a.createElement(Kt.a,{glyph:"minimize"})),Nt.a.createElement(tr.default,{bsStyle:"link",onClick:this.close,className:"questions-panel-base--close-button--3gd6E","data-purpose":"close"},Nt.a.createElement(Kt.a,{glyph:"close"})),this.panelContentWrapper):null}},{key:"title",get:function(){return this.questionAnswerStore.activeQuestion?gettext("Question Details"):gettext("Questions")}},{key:"backButton",get:function(){return this.questionAnswerStore.activeQuestion?Nt.a.createElement(tr.default,{bsStyle:"link",onClick:this.back,className:"questions-panel-base--back-button--3NOOM","data-purpose":"back-button"},Nt.a.createElement(Kt.a,{glyph:"thin-arrow-left"})):null}},{key:"panelContent",get:function(){return this.questionAnswerStore.activeQuestion?Nt.a.createElement(jl,{showNewTab:!0,onDelete:this.onQuestionDelete}):this.isNewQuestionFormVisible?Nt.a.createElement(Va,{editorTheme:Aa.n.Q_AND_A_EDIT,onClose:this.hideNewQuestionForm}):Nt.a.createElement(ec,{onNewQuestion:this.showNewQuestionForm})}},{key:"panelContentWrapper",get:function(){return this.questionAnswerStore.areQuestionsDisabled?Nt.a.createElement(El,{courseExperienceStore:this.props.courseExperienceStore}):Nt.a.createElement(At.b,{courseExperienceStore:this.props.courseExperienceStore,questionAnswerStore:this.questionAnswerStore,AnimatedStateChangeService:this.props.AnimatedStateChangeService},Nt.a.createElement("div",{className:"questions-panel-base--content--3oHbD"},this.panelContent))}}]),r}(Nt.a.Component),Vl.propTypes={AnimatedStateChangeService:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,userCanMarkTopAnswer:Rt.a.bool.isRequired},Ul=$l,Bl=babelHelpers.applyDecoratedDescriptor(Ul.prototype,"isNewQuestionFormVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Ul.prototype,"back",[X.a],Object.getOwnPropertyDescriptor(Ul.prototype,"back"),Ul.prototype),babelHelpers.applyDecoratedDescriptor(Ul.prototype,"minimize",[X.a],Object.getOwnPropertyDescriptor(Ul.prototype,"minimize"),Ul.prototype),babelHelpers.applyDecoratedDescriptor(Ul.prototype,"close",[X.a],Object.getOwnPropertyDescriptor(Ul.prototype,"close"),Ul.prototype),babelHelpers.applyDecoratedDescriptor(Ul.prototype,"showNewQuestionForm",[X.a,J.action],Object.getOwnPropertyDescriptor(Ul.prototype,"showNewQuestionForm"),Ul.prototype),babelHelpers.applyDecoratedDescriptor(Ul.prototype,"hideNewQuestionForm",[X.a,J.action],Object.getOwnPropertyDescriptor(Ul.prototype,"hideNewQuestionForm"),Ul.prototype),Fl=Ul))||Fl)||Fl,rc=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return Nt.a.createElement("div",{"data-purpose":"questions-panel"},Nt.a.createElement(tc,Object.assign({className:"questions-panel--panel--3ifj_"},this.props)))}}]),t}(Nt.a.Component),oc=d.a.module("course-taking-v4/course-taking/questions-panel/questions-panel.ng-directive",[a.a.name,mt.name,G.a.name,Pt.name]).directive("questionsPanel",nc);function nc(e,t,r,o,n){return e(rc,void 0,{},{courseExperienceStore:r,courseTakingStore:o,userCanMarkTopAnswer:t.canMarkTopAnswer,AnimatedStateChangeService:n})}nc.$inject=["reactDirective","$rootScope","CourseExperienceService","CourseTakingService","AnimatedStateChangeService"];var ic,sc,ac,lc,cc,uc,pc,dc,hc,mc,bc,yc,fc,gc,vc=r("./src/udemy/js/asset/article/article-asset.react-component.js"),wc=(r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/article-viewer.less"),ac=sc=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getDownloadUrl",value:function(t){var e=this.props.courseExperienceStore.courseId,r=this.props.lectureViewStore.lecture.id,o=t.id;return Z.c.get("/users/me/subscribed-courses/".concat(e,"/lectures/").concat(r,"/supplementary-assets/").concat(o),{params:{"fields[asset]":"download_urls"}}).then(function(e){return e.data.download_urls&&e.data.download_urls[t.asset_type][0].file})}},{key:"render",value:function(){return Nt.a.createElement(Zo,{resources:this.props.courseExperienceStore.currentCurriculumItem.supplementaryAssets,getDownloadUrl:this.getDownloadUrl})}}]),t}(Nt.a.Component),sc.propTypes={courseExperienceStore:Rt.a.object.isRequired,lectureViewStore:Rt.a.object.isRequired},ic=ac,babelHelpers.applyDecoratedDescriptor(ic.prototype,"getDownloadUrl",[X.a],Object.getOwnPropertyDescriptor(ic.prototype,"getDownloadUrl"),ic.prototype),ic),kc=(uc=cc=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.completeLectureTimeoutId=setTimeout(this.completeLecture,1e4),this.props.courseExperienceStore.onContentReady()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.completeLectureTimeoutId)}},{key:"completeLecture",value:function(){var e=this.props,t=e.courseExperienceStore,r=e.courseTakingStore,o=e.lectureViewStore;if(t.currentCurriculumItem){var n=[{position:1,total:1,context:{type:"Article"},time:Object(yo.b)().format("YYYY-MM-DDTHH:mm:ssZ+HH:mm")}];r.updateLectureProgress(o.lecture.id,n),t.currentCurriculumItem.markAsComplete()}}},{key:"render",value:function(){var e=this.props,t=e.courseExperienceStore,r=e.courseTakingStore,o=e.lectureViewStore,n=t.currentCurriculumItem.getTranslatedEnum(t.currentCurriculumSectionIndex);return Nt.a.createElement("div",{className:"fullscreen"},Nt.a.createElement(Nn,{courseExperienceStore:t,courseTakingStore:this.props.courseTakingStore,$state:this.props.$state}),Nt.a.createElement("div",{className:"fullscreen player-container scroll-wrapper"},Nt.a.createElement("div",{className:"message-container article-viewer--content--3BnJp"},Nt.a.createElement("div",{className:"a1"},o.lecture.title),Nt.a.createElement("div",{className:"a2 mb15"},n),Nt.a.createElement(vc.a,{id:o.lecture.asset.id}),this.resources)),Nt.a.createElement(An,{reportId:o.lecture.id,reportType:"lecture",centerButtons:Nt.a.createElement(En,{courseTakingStore:r}),rightButtons:this.continueButton}))}},{key:"resources",get:function(){var e=this.props,t=e.courseExperienceStore,r=e.lectureViewStore;return t.currentCurriculumItem.supplementaryAssets.length?[Nt.a.createElement("div",{key:"title",className:"a2"},gettext("Resources for this lecture")),Nt.a.createElement(wc,{key:"list",courseExperienceStore:t,lectureViewStore:r})]:null}},{key:"continueButton",get:function(){return Object(xt.a)("ctp","headerNavExperimentType",null)?null:Nt.a.createElement(_i,{$rootScope:this.props.$rootScope,courseExperienceStore:this.props.courseExperienceStore,completeLecture:this.completeLecture})}}]),t}(Nt.a.Component),cc.propTypes={$rootScope:Rt.a.object.isRequired,$state:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,lectureViewStore:Rt.a.object.isRequired},lc=uc,babelHelpers.applyDecoratedDescriptor(lc.prototype,"completeLecture",[X.a],Object.getOwnPropertyDescriptor(lc.prototype,"completeLecture"),lc.prototype),lc),Cc=r("./src/udemy/js/utils/user-settings.js"),_c=r("./src/udemy/js/video-player/user-activity.mobx-store.js"),Sc=r("./src/udemy/js/video-player/user-activity.less"),jc=r.n(Sc),Ec=Object.freeze({NONE:"None",POLICY:"Policy",TECHNICAL:"Technical"}),Dc=Object.freeze({AUTOPLAY_TOGGLE:"autoplay_toggle"}),xc=[35564,33930],Oc=(pc=J.observable.ref,dc=function(){function o(e,t,r){babelHelpers.classCallCheck(this,o),babelHelpers.initializerDefineProperty(this,"isInterstitialVisible",hc,this),babelHelpers.initializerDefineProperty(this,"isAutoplayEnabled",mc,this),babelHelpers.initializerDefineProperty(this,"lecture",bc,this),babelHelpers.initializerDefineProperty(this,"canClosePanel",yc,this),babelHelpers.initializerDefineProperty(this,"showTooltipClosePanel",fc,this),babelHelpers.initializerDefineProperty(this,"hasVideoEnded",gc,this),this.courseExperienceStore=e,this.courseTakingStore=t,this.$rootScope=r,this.userActivityStore=new _c.a,this._setAutoplay(Cc.c.get(Cc.a.interstitialAutoplay))}return babelHelpers.createClass(o,[{key:"setLecture",value:function(e){this.lecture=e}},{key:"showInterstitial",value:function(){this.isInterstitialVisible=!0}},{key:"hideInterstitial",value:function(){this.isInterstitialVisible=!1}},{key:"_setAutoplay",value:function(e){this.isAutoplayEnabled=e}},{key:"stopAutoplay",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.isAutoplayEnabled&&this.toggleAutoplay(e)}},{key:"toggleAutoplay",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];P.a.track(x.d.COURSE_TAKING,x.a.PLAYER_SETTINGS,Dc.AUTOPLAY_TOGGLE,null,null,{newValue:this.isAutoplayEnabled});var t=!this.isAutoplayEnabled;e&&Cc.c.set(Cc.a.interstitialAutoplay,t),this._setAutoplay(t)}},{key:"reset",value:function(){this.lecture=null,this.isInterstitialVisible=!1,this.isAutoplayEnabled=Cc.c.get(Cc.a.interstitialAutoplay),this.userActivityStore.setActive(),this.showTooltipClosePanel=!1,this.canClosePanel=!0,this.hasVideoEnded=!1}},{key:"onPlayerEnded",value:function(){this.hasVideoEnded=!0;var e=this.courseTakingStore.reviewPromptStage,t=this.courseExperienceStore.nextCurriculumItem;this.canClosePanel?t&&!e?(this.courseTakingStore.closePanel(!0),this.showInterstitial()):this.$rootScope.$emit("continuecurriculum",{type:"lecture",id:this.lecture.id}):this.showTooltipClosePanel=!this.canClosePanel}},{key:"isVideoLecture",get:function(){return!(!this.lecture||!this.lecture.asset)&&[ze.b.VIDEO,ze.b.VIDEO_MASHUP,ze.b.AUDIO].includes(this.lecture.asset.asset_type)}},{key:"lectureViewClass",get:function(){return Et()(babelHelpers.defineProperty({fullscreen:!0,"lecture-view":!0,"theme-white":this.lecture&&!this.isVideoLecture,"right-panel-open":this.courseTakingStore.isRightPanelActive},jc.a["user-inactive"],this.isVideoLecture&&!this.userActivityStore.isUserActive))}}]),o}(),hc=babelHelpers.applyDecoratedDescriptor(dc.prototype,"isInterstitialVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mc=babelHelpers.applyDecoratedDescriptor(dc.prototype,"isAutoplayEnabled",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bc=babelHelpers.applyDecoratedDescriptor(dc.prototype,"lecture",[pc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yc=babelHelpers.applyDecoratedDescriptor(dc.prototype,"canClosePanel",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fc=babelHelpers.applyDecoratedDescriptor(dc.prototype,"showTooltipClosePanel",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gc=babelHelpers.applyDecoratedDescriptor(dc.prototype,"hasVideoEnded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(dc.prototype,"setLecture",[J.action],Object.getOwnPropertyDescriptor(dc.prototype,"setLecture"),dc.prototype),babelHelpers.applyDecoratedDescriptor(dc.prototype,"showInterstitial",[J.action],Object.getOwnPropertyDescriptor(dc.prototype,"showInterstitial"),dc.prototype),babelHelpers.applyDecoratedDescriptor(dc.prototype,"hideInterstitial",[X.a,J.action],Object.getOwnPropertyDescriptor(dc.prototype,"hideInterstitial"),dc.prototype),babelHelpers.applyDecoratedDescriptor(dc.prototype,"_setAutoplay",[J.action],Object.getOwnPropertyDescriptor(dc.prototype,"_setAutoplay"),dc.prototype),babelHelpers.applyDecoratedDescriptor(dc.prototype,"stopAutoplay",[J.action],Object.getOwnPropertyDescriptor(dc.prototype,"stopAutoplay"),dc.prototype),babelHelpers.applyDecoratedDescriptor(dc.prototype,"toggleAutoplay",[X.a],Object.getOwnPropertyDescriptor(dc.prototype,"toggleAutoplay"),dc.prototype),babelHelpers.applyDecoratedDescriptor(dc.prototype,"reset",[J.action],Object.getOwnPropertyDescriptor(dc.prototype,"reset"),dc.prototype),babelHelpers.applyDecoratedDescriptor(dc.prototype,"onPlayerEnded",[X.a,J.action],Object.getOwnPropertyDescriptor(dc.prototype,"onPlayerEnded"),dc.prototype),babelHelpers.applyDecoratedDescriptor(dc.prototype,"isVideoLecture",[J.computed],Object.getOwnPropertyDescriptor(dc.prototype,"isVideoLecture"),dc.prototype),babelHelpers.applyDecoratedDescriptor(dc.prototype,"lectureViewClass",[J.computed],Object.getOwnPropertyDescriptor(dc.prototype,"lectureViewClass"),dc.prototype),dc),Tc=d.a.module("course-taking-v4/course-taking/lecture-view/lecture-view.ng-service",[mt.name,Pt.name]).service("LectureViewService",Pc);function Pc(e,t,r){return new Oc(t,r,e)}Pc.$inject=["$rootScope","CourseExperienceService","CourseTakingService"];var Hc=d.a.module("course-taking-v4/course-taking/lecture-view/article-viewer.ng-directive",["ui.router",a.a.name,mt.name,Pt.name,Tc.name]).directive("articleViewer",Ac);function Ac(e,t,r,o,n,i){return e(kc,void 0,{},{$rootScope:t,$state:r,courseExperienceStore:o,courseTakingStore:n,lectureViewStore:i})}Ac.$inject=["reactDirective","$rootScope","$state","CourseExperienceService","CourseTakingService","LectureViewService"];var Ic,Rc,qc,Nc,zc=r("./node_modules/progressbar.js/src/main.js"),Mc=r.n(zc),Lc=r("./node_modules/velocity-react/velocity-component.js"),Fc=r.n(Lc),Uc=r("./src/udemy/js/base-components/universal/variables.js"),Bc=(r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/interstitial/interstitial.less"),Object(At.d)((Nc=qc=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).hasGoneToNext=!1,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){this.props.store.isAutoplayEnabled&&(this.autoNextTimeout=setTimeout(this.goToNext,this.props.countdownDuration)),P.a.track(x.d.COURSE_TAKING,x.a.INTERSTITIAL,x.c.VIEW),this.initializeAutoplayAnimation()}},{key:"initializeAutoplayAnimation",value:function(){if(this.currentCurriculumItem&&this.nextCurriculumItem){var e=new Mc.a.Circle(this.progressCircleEl,{duration:this.props.store.isAutoplayEnabled?this.props.countdownDuration:-1,strokeWidth:6,trailWidth:6,easing:"easeOut",color:Uc.a["color-white"],trailColor:Uc.a["color-midnight-lightest"],svgStyle:null,autoStyleContainer:!1});e&&e.animate(1)}}},{key:"setProgressBar",value:function(e){this.progressCircleEl=e}},{key:"goToNext",value:function(){!this.hasGoneToNext&&this.nextState&&(P.a.track(x.d.COURSE_TAKING,x.a.INTERSTITIAL,x.c.NEXT),this.hasGoneToNext=!0,this.props.$state.go(this.nextState.name,this.nextState.params))}},{key:"stayHere",value:function(){P.a.track(x.d.COURSE_TAKING,x.a.INTERSTITIAL,x.c.DISMISS),clearTimeout(this.autoNextTimeout),this.autoNextTimeout=null,this.props.store.hideInterstitial()}},{key:"render",value:function(){return Nt.a.createElement(Fc.a,{animation:{opacity:1},duration:200,runOnMount:!0},Nt.a.createElement("div",{className:"interstitial--container--1xUrM","data-purpose":"container"},this.content))}},{key:"currentCurriculumItem",get:function(){return this.props.courseExperienceStore.currentCurriculumItem}},{key:"nextCurriculumItem",get:function(){return this.props.courseExperienceStore.nextCurriculumItem}},{key:"nextState",get:function(){if(this.nextCurriculumItem)return this.nextCurriculumItem.uiRouterState}},{key:"nextLink",get:function(){if(this.nextState)return this.props.$state.href(this.nextState.name,this.nextState.params)}},{key:"content",get:function(){return this.currentCurriculumItem&&this.nextCurriculumItem?Nt.a.createElement("div",{className:"interstitial--content--24jBU"},Nt.a.createElement("div",null,Nt.a.createElement("p",{className:"interstitial--item__label--3auDm"},gettext("Up Next")),Nt.a.createElement("div",{className:"interstitial--item__row--3enYY"},Nt.a.createElement("h2",{className:"interstitial--item__name--1xWI5"},Nt.a.createElement("a",{href:this.nextLink},this.nextCurriculumItem.getTranslatedTitle())))),Nt.a.createElement(fr.a,{className:"interstitial--buttons--18Jax"},Nt.a.createElement("div",{ref:this.setProgressBar,className:"interstitial--progress-bar--2AuRp"},Nt.a.createElement(tr.default,{className:"interstitial--goto-next--ieAY_",onClick:this.goToNext,"data-purpose":"go-to-next-button"},Nt.a.createElement(Kt.a,{size:"medium",glyph:"exp-next"}))),Nt.a.createElement(tr.default,{bsStyle:"tertiary--white",className:"interstitial--cancel-button--2M0X5",onClick:this.stayHere,"data-purpose":"cancel-button"},gettext("Cancel")))):null}}]),r}(Nt.a.Component),qc.propTypes={courseExperienceStore:Rt.a.object.isRequired,store:Rt.a.object.isRequired,countdownDuration:Rt.a.number,$state:Rt.a.object.isRequired},qc.defaultProps={countdownDuration:3e3},Rc=Nc,babelHelpers.applyDecoratedDescriptor(Rc.prototype,"setProgressBar",[X.a],Object.getOwnPropertyDescriptor(Rc.prototype,"setProgressBar"),Rc.prototype),babelHelpers.applyDecoratedDescriptor(Rc.prototype,"goToNext",[X.a],Object.getOwnPropertyDescriptor(Rc.prototype,"goToNext"),Rc.prototype),babelHelpers.applyDecoratedDescriptor(Rc.prototype,"stayHere",[X.a],Object.getOwnPropertyDescriptor(Rc.prototype,"stayHere"),Rc.prototype),Ic=Rc))||Ic),Vc=d.a.module("course-taking-v4/course-taking/lecture-view/interstitial/interstitial.ng-directive",["ui.router",a.a.name,mt.name,Tc.name]).directive("interstitial",$c);function $c(e,t,r,o){return t(Bc,void 0,{},{$state:e,courseExperienceStore:r,store:o})}$c.$inject=["$state","reactDirective","CourseExperienceService","LectureViewService"];var Qc,Wc,Gc,Yc=r("./src/udemy/js/asset/presentation/presentation-asset.react-component.js"),Kc=(r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/presentation-player.less"),Gc=Wc=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.courseExperienceStore.onContentReady()}},{key:"onComplete",value:function(){var e=this.props.courseExperienceStore;return e.ensureCurriculumLoaded().then(e.currentCurriculumItem.markAsComplete)}},{key:"updateProgress",value:function(e){this.props.courseTakingStore.updateLectureProgress(this.props.lecture.id,e)}},{key:"renderFooter",value:function(e){var t,r=this.props,o=r.$rootScope,n=r.lecture,i=r.courseExperienceStore,s=r.courseTakingStore;return null===Object(xt.a)("ctp","headerNavExperimentType",null)&&(t=Nt.a.createElement(_i,{$rootScope:o,courseExperienceStore:i})),Nt.a.createElement(An,{downloadUrl:n.asset_download_url,reportType:"lecture",reportId:n.id,leftButtons:e,centerButtons:Nt.a.createElement(En,{courseTakingStore:s}),rightButtons:t})}},{key:"render",value:function(){var e=this.props,t=e.$state,r=e.lecture,o=e.courseExperienceStore,n=e.courseTakingStore;return Nt.a.createElement("div",{className:"fullscreen"},Nt.a.createElement("div",{className:"presentation-player--container--3MX3Y"},Nt.a.createElement(Nn,{courseExperienceStore:o,courseTakingStore:n,$state:t}),Nt.a.createElement("div",{className:"player-container fullscreen"},Nt.a.createElement(Yc.a,{id:r.asset.id,assetData:r.asset,onComplete:this.onComplete,updateProgress:this.updateProgress,renderFooter:this.renderFooter}))))}}]),t}(Nt.a.Component),Wc.propTypes={$rootScope:Rt.a.object.isRequired,$state:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,lecture:Rt.a.shape({id:Rt.a.number.isRequired,asset:Rt.a.shape({slide_urls:Rt.a.array.isRequired}).isRequired,asset_download_url:Rt.a.string}).isRequired},Qc=Gc,babelHelpers.applyDecoratedDescriptor(Qc.prototype,"onComplete",[X.a],Object.getOwnPropertyDescriptor(Qc.prototype,"onComplete"),Qc.prototype),babelHelpers.applyDecoratedDescriptor(Qc.prototype,"updateProgress",[X.a],Object.getOwnPropertyDescriptor(Qc.prototype,"updateProgress"),Qc.prototype),babelHelpers.applyDecoratedDescriptor(Qc.prototype,"renderFooter",[X.a],Object.getOwnPropertyDescriptor(Qc.prototype,"renderFooter"),Qc.prototype),Qc),Xc=d.a.module("course-taking-v4/course-taking/lecture-view/presentation-player.ng-directive",["ui.router",a.a.name,mt.name,Pt.name]).directive("presentationPlayer",Jc);function Jc(e,t,r,o,n){return e(Kc,void 0,{},{$rootScope:t,$state:r,courseExperienceStore:o,courseTakingStore:n})}Jc.$inject=["reactDirective","$rootScope","$state","CourseExperienceService","CourseTakingService"];r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/unavailable-viewer.less");var Zc,eu,tu,ru,ou,nu=Object(At.d)((ou=ru=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isCompleting",tu,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){this.props.courseExperienceStore.onContentReady()}},{key:"completeLecture",value:function(){var e=this,t=this.props.courseExperienceStore,r=this.props.lectureViewStore.lecture.asset;this.isCompleting=!0;var o=[ze.b.EBOOK,ze.b.FILE].includes(r.asset_type);t.currentCurriculumItem.markAsComplete(o).then(Object(J.action)(function(){e.isCompleting=!1}))}},{key:"render",value:function(){var e=this.props,t=e.courseExperienceStore,r=e.courseTakingStore,o=e.lectureViewStore;if(!t.currentCurriculumItem)return null;var n=t.currentCurriculumItem.getTranslatedEnum(t.currentCurriculumSectionIndex);return Nt.a.createElement("div",{className:"fullscreen"},Nt.a.createElement(Nn,{courseExperienceStore:this.props.courseExperienceStore,courseTakingStore:this.props.courseTakingStore,$state:this.props.$state}),Nt.a.createElement("div",{className:"fullscreen player-container scroll-wrapper"},Nt.a.createElement("div",{className:"message-container unavailable-viewer--content--2Xf1y"},Nt.a.createElement("div",{className:"a1"},o.lecture.title),Nt.a.createElement("div",{className:"a2 mb15"},n),Nt.a.createElement("div",{className:"mb30","data-purpose":"description",dangerouslySetInnerHTML:{__html:o.lecture.description}}),Nt.a.createElement("div",{className:"mb30"},Nt.a.createElement("div",{className:"mb15","data-purpose":"action-text"},this.actionText),this.actionButton),this.resources,Nt.a.createElement("div",{className:"pb15"}))),Nt.a.createElement(An,{reportId:o.lecture.id,reportType:"lecture",centerButtons:Nt.a.createElement(En,{courseTakingStore:r}),rightButtons:this.continueButton}))}},{key:"actionText",get:function(){var e,t=this.props.lectureViewStore.lecture;return t.asset?t.asset.asset_type===ze.b.UPCOMING?gettext("The instructor has not added content to this lecture."):t.description?"":(e={},babelHelpers.defineProperty(e,ze.b.IFRAME,gettext("Visit and review the website provided by your instructor for this lecture.")),babelHelpers.defineProperty(e,ze.b.IMPORT_CONTENT,gettext("Visit and review the website provided by your instructor for this lecture.")),babelHelpers.defineProperty(e,ze.b.EBOOK,gettext("Download and review the PDF provided by your instructor for this lecture.")),babelHelpers.defineProperty(e,ze.b.FILE,gettext("Download and review the file provided by your instructor for this lecture.")),e)[t.asset.asset_type]||"":gettext("Attention: This part of the course has nothing to show right now.")}},{key:"actionButton",get:function(){var e,t=this.props.lectureViewStore.lecture;if(!t.asset)return null;var r={disabled:this.isCompleting},o=this.props.courseExperienceStore.currentCurriculumItem.isCompleted;[ze.b.EBOOK,ze.b.FILE].includes(t.asset.asset_type)?r.href=t.asset_download_url:t.asset.asset_type===ze.b.UPCOMING?(r.role="button",r.tabIndex="0",o&&(r.disabled=!0)):t.asset.external_url&&(r.href=t.asset.external_url);var n=(e={},babelHelpers.defineProperty(e,ze.b.EBOOK,gettext("Download PDF")),babelHelpers.defineProperty(e,ze.b.FILE,gettext("Download File")),babelHelpers.defineProperty(e,ze.b.IFRAME,gettext("Open in New Window")),babelHelpers.defineProperty(e,ze.b.IMPORT_CONTENT,gettext("Open in New Window")),babelHelpers.defineProperty(e,ze.b.UPCOMING,o?gettext("Marked as Complete"):gettext("Mark as Complete")),e);return Nt.a.createElement(tr.default,Object.assign({"data-purpose":"action-button"},r,{target:"_blank",rel:"noopener noreferrer",onClick:this.completeLecture,onKeyPress:Object(No.b)(this.completeLecture)}),Nt.a.createElement("span",{className:"ml30 mr30"},n[t.asset.asset_type]))}},{key:"resources",get:function(){var e=this.props,t=e.courseExperienceStore,r=e.lectureViewStore;return t.currentCurriculumItem.supplementaryAssets.length?[Nt.a.createElement("div",{key:"title",className:"a2"},gettext("Resources for this lecture")),Nt.a.createElement(wc,{key:"list",courseExperienceStore:t,lectureViewStore:r})]:null}},{key:"continueButton",get:function(){return Object(xt.a)("ctp","headerNavExperimentType",null)?null:Nt.a.createElement(_i,{$rootScope:this.props.$rootScope,courseExperienceStore:this.props.courseExperienceStore,completeLecture:this.completeLecture})}}]),i}(Nt.a.Component),ru.propTypes={$rootScope:Rt.a.object.isRequired,$state:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,lectureViewStore:Rt.a.object.isRequired},eu=ou,tu=babelHelpers.applyDecoratedDescriptor(eu.prototype,"isCompleting",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(eu.prototype,"completeLecture",[X.a,J.action],Object.getOwnPropertyDescriptor(eu.prototype,"completeLecture"),eu.prototype),Zc=eu))||Zc,iu=d.a.module("course-taking-v4/course-taking/lecture-view/unavailable-viewer.ng-directive",["ui.router",a.a.name,mt.name,Pt.name,Tc.name]).directive("unavailableViewer",su);function su(e,t,r,o,n,i){return e(nu,void 0,{},{$rootScope:t,$state:r,courseExperienceStore:o,courseTakingStore:n,lectureViewStore:i})}su.$inject=["reactDirective","$rootScope","$state","CourseExperienceService","CourseTakingService","LectureViewService"];var au=d.a.module("course-taking-v4/course-taking/lecture-view/user-activity-check/hide-when-user-inactive.ng-directive",[]).directive("hideWhenUserInactive",lu);function lu(r){return{restrict:"A",link:function(e,t){r.userActivityStore.addHideOnInactive(t)}}}lu.$inject=["LectureViewService"];var cu=au,uu=d.a.module("course-taking-v4/course-taking/lecture-view/user-activity-check/user-active-on.ng-directive",[]).directive("userActiveOn",pu);function pu(r){return{restrict:"A",link:function(e,t){r.userActivityStore.addActiveOnHover(t)}}}pu.$inject=["LectureViewService"];var du,hu,mu,bu,yu,fu,gu,vu,wu,ku,Cu,_u,Su,ju,Eu,Du,xu,Ou,Tu,Pu,Hu,Au,Iu,Ru=uu,qu=r("./node_modules/velocity-react/velocity-transition-group.js"),Nu=r.n(qu),zu=r("./src/udemy/js/asset/video/mashup/video-mashup-asset.react-component.js"),Mu=r("./src/udemy/js/base-components/overlay-trigger.react-component.js"),Lu=r("./src/udemy/js/base-components/tooltip.react-component.js"),Fu=r("./src/udemy/js/experiment/index.js"),Uu=r("./src/udemy/js/video-player/captions/captions.mobx-store.js"),Bu=r("./src/udemy/js/video-player/control-bar/menu-item.react-component.js"),Vu=r("./src/udemy/js/video-player/error-display.react-component.js"),$u=(r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/autocaptions-feedback/autocaptions-feedback-button.less"),mu=hu=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"triggerModal",value:function(){this.props.videoViewerStore.pause(),this.props.videoViewerStore.showTranslatedCaptionsSurveyModal()}},{key:"render",value:function(){var e=this.props,t=(e.videoViewerStore,babelHelpers.objectWithoutProperties(e,["videoViewerStore"]));return Nt.a.createElement(tr.default,Object.assign({onClick:this.triggerModal,"data-purpose":"open-autocaptions-feedback","aria-label":gettext("Give your feedback about our captions"),bsStyle:"default--white",bsSize:"large"},t),Nt.a.createElement(Kt.a,{glyph:"closed-caption",size:"small",className:"autocaptions-feedback-button--icon--2SOuj"}),gettext("Give your opinion"))}}]),t}(Nt.a.Component),hu.propTypes={videoViewerStore:Rt.a.object.isRequired},du=mu,babelHelpers.applyDecoratedDescriptor(du.prototype,"triggerModal",[X.a],Object.getOwnPropertyDescriptor(du.prototype,"triggerModal"),du.prototype),du),Qu=r("./src/udemy/js/experiment/constants.js"),Wu=r("./src/udemy/js/survey/paginated/paginated-survey.react-component.js"),Gu=r("./src/udemy/js/utils/ud-request.js"),Yu=r("./src/udemy/js/utils/ud-system-message.js"),Ku="why-not-satisfied-mt",Xu=["not-satisfied-or-dissatisfied","somewhat-dissatisfied","very-dissatisfied"],Ju=(bu=function(){function r(e,t){babelHelpers.classCallCheck(this,r),this.videoViewerStore=e,this.courseId=t}return babelHelpers.createClass(r,[{key:"userSeenMessage",value:function(e){Yu.a.seen(e,{obj_id:this.courseId,obj_type:"course"})}},{key:"onSubmit",value:function(){this.userSeenMessage(Yu.a.ids.mtCaptionSurvey),this.videoViewerStore.hideTranslatedCaptionsSurveyButton()}},{key:"isQuestionVisible",value:function(e,t){if(e.text_code===Ku){var r=t.questionCodeToId["captions-satisfaction-mt"],o=t.userAnswers[r],n=t.answerIdToCode[o];return Xu.includes(n)}if("why-dissatisfied-other-mt"!==e.text_code)return!0;var i=t.questionCodeToId[Ku];return(t.userAnswers[i]||[]).map(function(e){return t.answerIdToCode[e]}).includes("other")}}]),r}(),babelHelpers.applyDecoratedDescriptor(bu.prototype,"userSeenMessage",[X.a],Object.getOwnPropertyDescriptor(bu.prototype,"userSeenMessage"),bu.prototype),babelHelpers.applyDecoratedDescriptor(bu.prototype,"onSubmit",[X.a],Object.getOwnPropertyDescriptor(bu.prototype,"onSubmit"),bu.prototype),babelHelpers.applyDecoratedDescriptor(bu.prototype,"isQuestionVisible",[X.a],Object.getOwnPropertyDescriptor(bu.prototype,"isQuestionVisible"),bu.prototype),bu),Zu=Object(Fu.b)({machineTranslationPLROExperiment:Qu.b.one})(yu=Object(At.d)((gu=fu=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).store=new Ju(t.props.videoViewerStore,t.props.courseId),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(){var e,t;return this.props.videoViewerStore.captionsStore.activeTracks.length?(t=T.a.brand.has_organization&&"es"===this.props.videoViewerStore.captionsStore.activeTracks[0].language?(e="mt_spanish_ufb_survey",{source:this.props.videoViewerStore.captionsStore.activeTracks[0].source,locale:Gu.a.locale}):(e="mt_feedback",{captionsLanguage:this.props.videoViewerStore.captionsStore.activeTracks[0].language,machineTranslationPLROExperiment:this.props.experiment.machineTranslationPLROExperiment,requestLocale:Gu.a.locale}),Nt.a.createElement(Wu.a,{courseId:this.props.courseId,surveyCode:e,userAnswerData:t,show:this.props.videoViewerStore.isTranslatedCaptionsSurveyModalVisible,thankYouTitle:gettext("Feedback complete!"),thankYouText:gettext("Thank you for providing feedback!"),onHide:this.props.videoViewerStore.hideTranslatedCaptionsSurveyModal,onSubmit:this.store.onSubmit,questionVisibleCheck:this.store.isQuestionVisible})):null}}]),r}(qt.Component),fu.propTypes={videoViewerStore:Rt.a.object.isRequired,courseId:Rt.a.number.isRequired,experiment:Rt.a.shape({machineTranslationPLROExperiment:Rt.a.oneOf(Object.values(Qu.b)).isRequired}).isRequired},yu=gu))||yu)||yu,ep=r("./node_modules/autosize/dist/autosize.js"),tp=r.n(ep),rp=r("./node_modules/react-dom/index.js"),op=r.n(rp),np=(r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/bookmarks/video-bookmark.less"),{"./video-bookmark.less":{wrapper:"video-bookmark--wrapper--1QFPF",label:"video-bookmark--label--Y6sYp","label--social":"video-bookmark--label--social--2Lzq3","content-container--left":"video-bookmark--content-container--left--1ARaS","content-container--right":"video-bookmark--content-container--right--2nv5a","content--left":"video-bookmark--content--left--1oIuI","content--right":"video-bookmark--content--right--3ks3Q","bookmark-icon":"video-bookmark--bookmark-icon--2e-gx","bookmark-icon--social":"video-bookmark--bookmark-icon--social--1z1ep","remaining-chars":"video-bookmark--remaining-chars--2ASx3",deleting:"video-bookmark--deleting--1HCAc",translate:"video-bookmark--translate--dmAAs",transition:"video-bookmark--transition--1tgGr",closing:"video-bookmark--closing--26A8O",scale:"video-bookmark--scale--31ok-",active:"video-bookmark--active--29jMk",closed:"video-bookmark--closed--12Cyj"}}),ip=Object(At.c)("bookmarksStore","videoViewerStore")(vu=Object(At.d)((Du=Eu=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"isHovering",ku,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isClosing",Cu,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isClosed",_u,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isSaving",Su,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isDeleting",ju,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.bookmarkInputId=Object(No.a)("bookmark-title"),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){tp()(this.inputRef),this.props.isActive&&this.focusInput()}},{key:"componentDidUpdate",value:function(){tp.a.update(this.inputRef),this.props.isActive&&!this.isAnimating&&this.focusInput()}},{key:"setInputRef",value:function(e){this.inputRef=e}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"closeInput",value:function(){var e=this;this.isClosing=!0,this.blurInput(),setTimeout(Object(J.action)(function(){e.finaliseClose()}),500)}},{key:"finaliseClose",value:function(){this.isHovering&&(this.isClosed=!0),this.isClosing=!1,this.isSaving=!1,this.isDeleting=!1,this.props.bookmarksStore.setActive(null),this.props.videoViewerStore.player.el().focus()}},{key:"save",value:function(){var e=this;this.props.bookmark.hasSavePending?(this.isSaving=!0,setTimeout(Object(J.action)(function(){e.props.bookmarksStore.save(e.props.bookmark).then(e.closeInput)}),500)):this.closeInput()}},{key:"delete",value:function(){var e=this;this.isDeleting=!0,this.blurInput(),setTimeout(function(){e.props.bookmarksStore.delete(e.props.bookmark).then(e.finaliseClose)},500)}},{key:"handleInputKeyDown",value:function(e){"Enter"===e.key?(e.preventDefault(),this.save()):"Escape"===e.key&&(this.props.bookmark.reset(),-1===this.props.bookmark.id?this.delete():this.closeInput())}},{key:"handleInputChange",value:function(e){this.props.bookmark.changeBody(e.target.value)}},{key:"handleInputBlur",value:function(){var e=this;this.blurTimeout=setTimeout(function(){e.isAnimating||e.save()},100)}},{key:"handleButtonMouseOver",value:function(){this.isHovering=!0,this.props.isActive||this.props.bookmarksStore.setActive(null,!1)}},{key:"handleButtonMouseOut",value:function(){this.isHovering=!1,this.isClosed=!1}},{key:"handleButtonClick",value:function(){this.blurTimeout&&clearTimeout(this.blurTimeout),this.props.videoViewerStore.seekTo(this.props.bookmark.position),this.props.bookmarksStore.trackOpen(),this.isClosed=!1,this.props.bookmarksStore.setActive(this.props.bookmark.id),this.focusInput()}},{key:"render",value:function(){var e=this.props,t=e.bookmarksStore,r=e.bookmark,o=e.isActive,n=t.player.controlBar.progressControl.el(),i=t.player.duration()||t.player.options_.duration||0,s=(r.position/i*100).toFixed(2),a=50<s?"content-container--right":"content-container--left",l=Et()({"content--left":s<=50,"content--right":50<s,active:o||this.activeOnHover,closing:this.isClosing,deleting:this.isDeleting,closed:this.isClosed});return op.a.createPortal(Nt.a.createElement("div",null,Nt.a.createElement("div",{className:"video-bookmark--wrapper--1QFPF",style:{left:"".concat(s,"%")},"data-purpose":"video-bookmark-item"},Nt.a.createElement("button",{onMouseOver:this.handleButtonMouseOver,onFocus:this.handleButtonMouseOver,onMouseOut:this.handleButtonMouseOut,onBlur:this.handleButtonMouseOut,onClick:this.handleButtonClick,onKeyPress:Object(No.b)(this.handleButtonClick),className:Sn()(r.isSocialBookmark?"label--social":"label",np)}),Nt.a.createElement("div",{"data-purpose":"content-container",className:Sn()(a,np)},Nt.a.createElement("div",{"data-purpose":"content",className:Sn()(l,np)},Nt.a.createElement(Kt.a,{glyph:"bookmark",className:Sn()(r.isSocialBookmark?"bookmark-icon--social":"bookmark-icon",np)}),Nt.a.createElement("label",{className:"sr-only",htmlFor:this.bookmarkInputId},gettext("Bookmark title")),r.isSocialBookmark?this.socialBookmarkInput:this.personalBookmarkInput)))),n)}},{key:"isAnimating",get:function(){return this.isClosing||this.isSaving||this.isDeleting}},{key:"activeOnHover",get:function(){return this.isHovering&&!this.isAnimating&&!this.isClosed}},{key:"placeholderText",get:function(){return this.props.isActive?gettext("Add a comment or hit 'Enter'."):gettext("Click to add a comment.")}},{key:"personalBookmarkInput",get:function(){var e=this.props.bookmark;return[Nt.a.createElement("textarea",{key:"input",id:this.bookmarkInputId,rows:"1",maxLength:140,placeholder:this.placeholderText,value:e.body,onKeyDown:this.handleInputKeyDown,onChange:this.handleInputChange,onBlur:this.handleInputBlur,ref:this.setInputRef}),!this.isSaving&&Nt.a.createElement("span",{key:"counter",className:"video-bookmark--remaining-chars--2ASx3","data-purpose":"counter"},e.remainingChars),!this.isSaving&&Nt.a.createElement(Kt.a,{key:"delete",glyph:"delete",onClick:this.delete,"data-purpose":"delete"}),this.isSaving&&Nt.a.createElement(Kt.a,{key:"check",glyph:"check","data-purpose":"saving"})]}},{key:"socialBookmarkInput",get:function(){var e=this.props.bookmark,t=interpolate(ngettext("%(count)s person bookmarked this moment.","%(count)s people bookmarked this moment.",e.numNotes),{count:e.numNotes},!0);return Nt.a.createElement("textarea",{id:this.bookmarkInputId,disabled:!0,rows:"1",value:t,ref:this.setInputRef})}}]),r}(Nt.a.Component),Eu.propTypes={videoViewerStore:Rt.a.object.isRequired,bookmarksStore:Rt.a.object.isRequired,bookmark:Rt.a.object.isRequired,isActive:Rt.a.bool.isRequired},wu=Du,ku=babelHelpers.applyDecoratedDescriptor(wu.prototype,"isHovering",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cu=babelHelpers.applyDecoratedDescriptor(wu.prototype,"isClosing",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_u=babelHelpers.applyDecoratedDescriptor(wu.prototype,"isClosed",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Su=babelHelpers.applyDecoratedDescriptor(wu.prototype,"isSaving",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ju=babelHelpers.applyDecoratedDescriptor(wu.prototype,"isDeleting",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(wu.prototype,"isAnimating",[J.computed],Object.getOwnPropertyDescriptor(wu.prototype,"isAnimating"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"activeOnHover",[J.computed],Object.getOwnPropertyDescriptor(wu.prototype,"activeOnHover"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"setInputRef",[X.a],Object.getOwnPropertyDescriptor(wu.prototype,"setInputRef"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"closeInput",[X.a,J.action],Object.getOwnPropertyDescriptor(wu.prototype,"closeInput"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"finaliseClose",[X.a,J.action],Object.getOwnPropertyDescriptor(wu.prototype,"finaliseClose"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"save",[J.action],Object.getOwnPropertyDescriptor(wu.prototype,"save"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"delete",[X.a,J.action],Object.getOwnPropertyDescriptor(wu.prototype,"delete"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"handleInputKeyDown",[X.a],Object.getOwnPropertyDescriptor(wu.prototype,"handleInputKeyDown"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"handleInputChange",[X.a],Object.getOwnPropertyDescriptor(wu.prototype,"handleInputChange"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"handleInputBlur",[X.a,J.action],Object.getOwnPropertyDescriptor(wu.prototype,"handleInputBlur"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"handleButtonMouseOver",[X.a,J.action],Object.getOwnPropertyDescriptor(wu.prototype,"handleButtonMouseOver"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"handleButtonMouseOut",[X.a,J.action],Object.getOwnPropertyDescriptor(wu.prototype,"handleButtonMouseOut"),wu.prototype),babelHelpers.applyDecoratedDescriptor(wu.prototype,"handleButtonClick",[X.a,J.action],Object.getOwnPropertyDescriptor(wu.prototype,"handleButtonClick"),wu.prototype),vu=wu))||vu)||vu,sp=Object(At.c)("bookmarksStore")(xu=Object(At.d)((Tu=Ou=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.bookmarksStore.loadBookmarks()}},{key:"render",value:function(){return Nt.a.createElement("div",null,this.bookmarks)}},{key:"bookmarks",get:function(){var t=this;return this.props.bookmarksStore.normalisedBookmarks.map(function(e){return Nt.a.createElement(ip,{key:e.key,bookmark:e,isActive:t.props.bookmarksStore.activeBookmarkId===e.id})})}}]),t}(Nt.a.Component),Ou.propTypes={bookmarksStore:Rt.a.object.isRequired},xu=Tu))||xu)||xu,ap=r("./node_modules/react-overlays/lib/Portal.js"),lp=r.n(ap),cp=Object(At.c)("bookmarksStore")(function(e){var t=e.bookmarksStore;return Nt.a.createElement(tr.default,{onClick:t.newBookmark,bsSize:"small","data-purpose":"add-bookmark",className:"btn-control"},Nt.a.createElement(Kt.a,{glyph:"bookmark"}),Nt.a.createElement("span",{className:"btn__label"},gettext("Add Bookmark")))}),up=r("./src/udemy/js/base-components/dismissable-tooltip-container.react-component.js"),pp=(r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/transcripts/transcript.less"),Object(At.c)("videoViewerStore")(Pu=Object(At.d)((Iu=Au=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).transcriptDiscoveryTooltip=null,t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"setTranscriptDiscoverabilityTooltipRef",value:function(e){this.transcriptDiscoveryTooltip=e}},{key:"toggleTranscriptPanel",value:function(){this.props.courseTakingStore.togglePanel(_t.TRANSCRIPT),this.transcriptDiscoveryTooltip.onClose()}},{key:"render",value:function(){var e=Nt.a.createElement(Lu.a,{id:"discoverability-tooltip",placement:"top",bsStyle:"blue",className:"transcript--discoverability-tooltip--1L2ZD",width:205,withChevron:!0},gettext("You can read the transcript of the lecture or skip to a moment in the video.")),t=Nt.a.createElement(tr.default,{bsSize:"small",className:"btn-control",onClick:this.toggleTranscriptPanel},Nt.a.createElement(Kt.a,{glyph:"file-text"}),Nt.a.createElement("span",{className:"btn__label"},gettext("Transcript")));return this.props.videoViewerStore.isTranscriptTooltipVisible?Nt.a.createElement("div",{className:"transcript--transcript-button-container--1vCqn"},Nt.a.createElement(up.a,{tooltip:e,systemMessageId:Yu.a.ids.discoverabilityTranscriptTooltip,ref:this.setTranscriptDiscoverabilityTooltipRef},t)):Nt.a.createElement("div",{className:"transcript--transcript-button-container--1vCqn"},t)}}]),i}(Nt.a.Component),Au.propTypes={courseTakingStore:Rt.a.object.isRequired,videoViewerStore:Rt.a.object.isRequired},Hu=Iu,babelHelpers.applyDecoratedDescriptor(Hu.prototype,"setTranscriptDiscoverabilityTooltipRef",[X.a],Object.getOwnPropertyDescriptor(Hu.prototype,"setTranscriptDiscoverabilityTooltipRef"),Hu.prototype),babelHelpers.applyDecoratedDescriptor(Hu.prototype,"toggleTranscriptPanel",[X.a],Object.getOwnPropertyDescriptor(Hu.prototype,"toggleTranscriptPanel"),Hu.prototype),Pu=Hu))||Pu)||Pu),dp=function(e){var t=e.player.controlBar.customControlSpacer.el(),r=!D.c&&e.lectureViewStore.lecture&&0<e.lectureViewStore.lecture.asset.captions.length;return Nt.a.createElement(lp.a,{container:t},Nt.a.createElement("div",null,Nt.a.createElement("div",null,Nt.a.createElement("div",null,r&&Nt.a.createElement(pp,{courseTakingStore:e.courseTakingStore}),Nt.a.createElement(En,{courseTakingStore:e.courseTakingStore,"data-purpose":"ask-question"}),Nt.a.createElement(cp,null)),Nt.a.createElement("div",{className:"spacer__right"},Nt.a.createElement(_i,{$rootScope:e.$rootScope,courseExperienceStore:e.courseExperienceStore,bsStyle:"secondary",className:"btn-control","data-purpose":"continue-button"})))))};dp.propTypes={player:Rt.a.object.isRequired,$rootScope:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,lectureViewStore:Rt.a.object.isRequired};var hp,mp,bp,yp,fp,gp,vp,wp,kp,Cp,_p,Sp,jp,Ep,Dp,xp,Op,Tp,Pp,Hp,Ap,Ip,Rp,qp,Np,zp=dp,Mp=Object.freeze({WELCOME_BACK:"welcome-back",KEEP_GOING:"keep-going",GETTING_THERE:"getting-there",NEARLY_THERE:"nearly-there"}),Lp=Object.freeze([{name:Mp.WELCOME_BACK,tooltipTitle:gettext("Welcome back"),tooltipBody:gettext("You have completed %(percentage)s%"),icon:"bullhorn"},{name:Mp.KEEP_GOING,tooltipTitle:gettext("Keep going"),tooltipBody:gettext("You have completed %(percentage)s%"),icon:"ion-arrow-graph-up-right",messageId:Yu.a.ids.reinforcementTooltipKeepGoing},{name:Mp.GETTING_THERE,tooltipTitle:gettext("Getting there!"),tooltipBody:gettext("You have completed %(percentage)s%"),icon:"rocket",messageId:Yu.a.ids.reinforcementTooltipGettingThere},{name:Mp.NEARLY_THERE,tooltipTitle:gettext("Nearly there"),tooltipBody:gettext("Be proud, you have completed %(percentage)s%"),icon:"trophy",messageId:Yu.a.ids.reinforcementTooltipNearlyThere}]),Fp=(r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/positive-reinforcement/positive-reinforcement.less"),Object(At.d)((fp=yp=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"hasSeenSystemMessage",bp,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.relatedObject=void 0,t.relatedObject={objectId:t.props.courseId,objectType:"course"},t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){var t=this,e=this.props.tooltipContent;P.a.track(x.d.COURSE_TAKING,x.a.POSITIVE_REINFORCEMENT,"had-seen-tooltip-".concat(e.name)),e.name!==Mp.WELCOME_BACK&&Yu.a.hasSeen(e.messageId,this.relatedObject).then(Object(J.action)(function(e){t.hasSeenSystemMessage=e.data})),setTimeout(Object(J.action)(function(){e.name!==Mp.WELCOME_BACK&&Yu.a.seen(e.messageId,{obj_id:t.relatedObject.objectId,obj_type:t.relatedObject.objectType})}),8e3)}},{key:"onCloseTooltip",value:function(){P.a.track(x.d.COURSE_TAKING,x.a.POSITIVE_REINFORCEMENT,"close-tooltip-".concat(this.props.tooltipContent.name)),this.props.onClose()}},{key:"render",value:function(){var e=this.props.tooltipContent,t=e.messageId,r=Math.floor(100*this.props.completionRatio),o=Nt.a.createElement(Lu.a,{id:"tooltip-".concat(e.name),bsStyle:"neutral",placement:"top",className:"positive-reinforcement--positive-reinforcement--2wMY_",onClose:this.onCloseTooltip},Nt.a.createElement(Kt.a,{glyph:"".concat(e.icon),className:"positive-reinforcement--reinforcement-icon--2Vwh7"}),Nt.a.createElement("div",{className:"positive-reinforcement--tooltip-content--3tH8x"},Nt.a.createElement("span",null,"".concat(e.tooltipTitle)," "),Nt.a.createElement("br",null),Nt.a.createElement("span",null," ",interpolate("".concat(e.tooltipBody),{percentage:r},!0))));return e.name===Mp.WELCOME_BACK?o:this.hasSeenSystemMessage?null:Nt.a.createElement(up.a,{systemMessageId:t,relatedObject:this.relatedObject,tooltip:o,onClose:this.onCloseTooltip})}}]),r}(Nt.a.Component),yp.propTypes={tooltipContent:Rt.a.object.isRequired,completionRatio:Rt.a.number.isRequired,courseId:Rt.a.number.isRequired,onClose:Rt.a.func.isRequired},mp=fp,bp=babelHelpers.applyDecoratedDescriptor(mp.prototype,"hasSeenSystemMessage",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),babelHelpers.applyDecoratedDescriptor(mp.prototype,"onCloseTooltip",[X.a],Object.getOwnPropertyDescriptor(mp.prototype,"onCloseTooltip"),mp.prototype),hp=mp))||hp),Up={"./positive-reinforcement.less":{"reinforcement-tooltip":"positive-reinforcement--reinforcement-tooltip--pq9di",transition:"positive-reinforcement--transition--3BXmK","user-inactive":"positive-reinforcement--user-inactive--3mzsW","positive-reinforcement":"positive-reinforcement--positive-reinforcement--2wMY_","reinforcement-icon":"positive-reinforcement--reinforcement-icon--2Vwh7","tooltip-inner":"positive-reinforcement--tooltip-inner--DzXi8","close-button":"positive-reinforcement--close-button--3VTAw","tooltip-content":"positive-reinforcement--tooltip-content--3tH8x"}},Bp=Object(At.d)((wp=vp=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var t,e=this.props,r=e.courseTakingStore,o=e.courseExperienceStore,n=e.onClose,i=Et()("reinforcement-tooltip",{"user-inactive":this.props.lectureViewStore.userActivityStore&&!this.props.lectureViewStore.userActivityStore.isUserActive}),s=function(e){return Nt.a.createElement(Fp,{key:"key-".concat(e.name),tooltipContent:e,completionRatio:o.completionRatio,courseId:o.courseId,onClose:n})};return Lp.forEach(function(e){if(r.isWelcomeTooltipVisible).01<=o.completionRatio&&e.name===Mp.WELCOME_BACK&&(t=s(e));else switch(e.name){case Mp.KEEP_GOING:.05<=o.completionRatio&&o.completionRatio<.2&&(t=s(e));break;case Mp.GETTING_THERE:.2<=o.completionRatio&&o.completionRatio<.6&&(t=s(e));break;case Mp.NEARLY_THERE:.6<=o.completionRatio&&(t=s(e))}}),Nt.a.createElement("div",{className:Sn()(i,Up)},t)}}]),t}(Nt.a.Component),vp.propTypes={courseTakingStore:Rt.a.object.isRequired,courseExperienceStore:Rt.a.shape({courseId:Rt.a.number,completionRatio:Rt.a.number}).isRequired,lectureViewStore:Rt.a.object.isRequired,onClose:Rt.a.func.isRequired},gp=wp))||gp,Vp=Object(At.d)((_p=Cp=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.player.controlBar.el();return Nt.a.createElement(lp.a,{container:e},Nt.a.createElement("div",null,Nt.a.createElement(Tn.a,{className:"hidden",category:this.props.category,objectType:"lecture",objectId:this.props.lecture.id,show:this.props.store.reportAbuseModal===this.props.category,onHide:this.props.store.closeReportAbuseModal})))}}]),t}(Nt.a.Component),Cp.propTypes={player:Rt.a.object.isRequired,lecture:Rt.a.object.isRequired,category:Rt.a.string.isRequired,store:Rt.a.object.isRequired},kp=_p))||kp,$p=r("./node_modules/lodash-es/throttle.js"),Qp=(r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/transcripts/autoscroll-toggle.less"),Object(At.c)("store")(Sp=Object(At.d)((Dp=Ep=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"toggleAutoscroll",value:function(){this.props.store.isAutoscrollEnabled?(P.a.track(x.d.COURSE_TAKING,x.a.TRANSCRIPT,"transcript-panel.disable-autoscroll"),this.props.store.disableAutoscroll()):(P.a.track(x.d.COURSE_TAKING,x.a.TRANSCRIPT,"transcript-panel.enable-autoscroll"),this.props.store.enableAutoscroll())}},{key:"render",value:function(){return Nt.a.createElement("div",{className:"autoscroll-toggle--autoscroll-toggle--22efg"},Nt.a.createElement(Ni.a,{slide:!0,className:"autoscroll-toggle--checkbox--2jphB",name:"autoscroll-checkbox",checked:this.props.store.isAutoscrollEnabled,onChange:this.toggleAutoscroll},this.props.store.isAutoscrollEnabled?gettext("Autoscroll active"):gettext("Autoscroll inactive")))}}]),t}(Nt.a.Component),Ep.propTypes={store:Rt.a.object.isRequired},jp=Dp,babelHelpers.applyDecoratedDescriptor(jp.prototype,"toggleAutoscroll",[X.a],Object.getOwnPropertyDescriptor(jp.prototype,"toggleAutoscroll"),jp.prototype),Sp=jp))||Sp)||Sp),Wp={"./transcript.less":{"transcript-container":"transcript--transcript-container--3byVo","fx-dc":"transcript--fx-dc--1SN71","fx-jsb":"transcript--fx-jsb--3JhDK","transcript-top-toolbar":"transcript--transcript-top-toolbar--o1J16","transcript-button-close":"transcript--transcript-button-close--3qX6f","transcript-display":"transcript--transcript-display--_TQQR","highlight-cue":"transcript--highlight-cue--2AE2b","cue-container":"transcript--cue-container--1dpNN","underline-cue":"transcript--underline-cue---GOvL","transcript-button-container":"transcript--transcript-button-container--1vCqn","discoverability-tooltip":"transcript--discoverability-tooltip--1L2ZD"}},Gp=Object(At.c)("store")(xp=Object(At.d)((Pp=Tp=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidUpdate",value:function(){this.props.store.isAutoscrollEnabled&&this.props.cue.id===this.props.store.activeCueId&&this.cueParagraphElement.scrollIntoView({block:"center",behavior:"smooth"})}},{key:"onCueClick",value:function(){var e=this.props.cue.startTime,t=this.props.store,r=t.player,o=t.enableAutoscroll;e!==r.currentTime()&&r.currentTime(e+.01),o(),P.a.track(x.d.COURSE_TAKING,x.a.TRANSCRIPT,"transcript-panel.click-on-cue")}},{key:"trackCopyCue",value:function(){P.a.track(x.d.COURSE_TAKING,x.a.TRANSCRIPT,"transcript-panel.copy-cue")}},{key:"render",value:function(){var t=this,e=Et()({"highlight-cue":this.props.cue.id===this.props.store.activeCueId});return Nt.a.createElement("div",{ref:function(e){t.cueParagraphElement=e},className:"transcript--cue-container--1dpNN"},Nt.a.createElement("p",{"data-purpose":"transcript-panel-cue",className:"transcript--underline-cue---GOvL",role:"button",onClick:this.onCueClick,onKeyDown:this.onCueClick},Nt.a.createElement("span",{onCopy:this.trackCopyCue,"data-purpose":"cue-text",className:Sn()(e,Wp)},this.props.cue.displayText)))}}]),t}(Nt.a.Component),Tp.propTypes={store:Rt.a.object.isRequired,cue:Rt.a.shape({id:Rt.a.number.isRequired,text:Rt.a.string.isRequired,displayText:Rt.a.string.isRequired,startTime:Rt.a.number.isRequired}).isRequired},Op=Pp,babelHelpers.applyDecoratedDescriptor(Op.prototype,"onCueClick",[X.a],Object.getOwnPropertyDescriptor(Op.prototype,"onCueClick"),Op.prototype),babelHelpers.applyDecoratedDescriptor(Op.prototype,"trackCopyCue",[X.a],Object.getOwnPropertyDescriptor(Op.prototype,"trackCopyCue"),Op.prototype),xp=Op))||xp)||xp,Yp=r("./src/udemy/js/video-player/captions/constants.js"),Kp=(Hp=function(){function o(e,t,r){babelHelpers.classCallCheck(this,o),babelHelpers.initializerDefineProperty(this,"isAutoscrollEnabled",Ap,this),this.player=e,this.captionsStore=t,this.courseLanguage=r.locale.slice(0,2)}return babelHelpers.createClass(o,[{key:"disableAutoscroll",value:function(){this.isAutoscrollEnabled=!1}},{key:"enableAutoscroll",value:function(){this.isAutoscrollEnabled=!0}},{key:"transcriptTrack",get:function(){var t,r,o,n=this;return this.captionsStore.captions.length?(this.captionsStore.captions.forEach(function(e){e.mode===Yp.j.ACTIVE?t=e:e.language===Ze.a.language?r=e:e.language===n.courseLanguage&&(o=e)}),t||(r||(o||this.captionsStore.captions[0]))):null}},{key:"activeCueId",get:function(){return this.transcriptTrack&&this.transcriptTrack.activeCues.length?this.transcriptTrack.activeCues[0].id:null}}]),o}(),Ap=babelHelpers.applyDecoratedDescriptor(Hp.prototype,"isAutoscrollEnabled",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),babelHelpers.applyDecoratedDescriptor(Hp.prototype,"disableAutoscroll",[X.a,J.action],Object.getOwnPropertyDescriptor(Hp.prototype,"disableAutoscroll"),Hp.prototype),babelHelpers.applyDecoratedDescriptor(Hp.prototype,"enableAutoscroll",[X.a,J.action],Object.getOwnPropertyDescriptor(Hp.prototype,"enableAutoscroll"),Hp.prototype),babelHelpers.applyDecoratedDescriptor(Hp.prototype,"transcriptTrack",[J.computed],Object.getOwnPropertyDescriptor(Hp.prototype,"transcriptTrack"),Hp.prototype),babelHelpers.applyDecoratedDescriptor(Hp.prototype,"activeCueId",[J.computed],Object.getOwnPropertyDescriptor(Hp.prototype,"activeCueId"),Hp.prototype),Hp);var Xp,Jp,Zp,ed,td,rd,od,nd,id,sd,ad,ld,cd,ud,pd,dd=Ft(_t.TRANSCRIPT,function(e){return e&&"lecture"===e.type&&e.isVideo})(Ip=Object(At.c)("videoViewerStore","captionsStore")(Ip=Object(At.d)((Np=qp=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).transcriptPanelStore=new Kp(t.props.player,t.props.captionsStore,t.props.course.locale),t.handleMouseWheel=Object($p.a)(t.handleMouseWheel,1500,{leading:!0,trailing:!1}),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"toggleTranscriptPanel",value:function(){this.props.courseTakingStore.togglePanel(_t.TRANSCRIPT)}},{key:"handleMouseWheel",value:function(){var e=this.transcriptPanelStore;e.isAutoscrollEnabled&&e.disableAutoscroll()}},{key:"render",value:function(){var e=this.transcriptPanelStore.transcriptTrack;return Nt.a.createElement(At.b,{store:this.transcriptPanelStore},Nt.a.createElement("div",{className:"transcript--transcript-container--3byVo"},Nt.a.createElement("div",{className:"transcript--transcript-top-toolbar--o1J16"},Nt.a.createElement("button",{className:"transcript--transcript-button-close--3qX6f","data-purpose":"transcript-button-close",onClick:this.toggleTranscriptPanel},Nt.a.createElement(Kt.a,{glyph:"close"}))),Nt.a.createElement("div",{className:"transcript--transcript-display--_TQQR",onWheel:this.handleMouseWheel},e&&e.cues.map(function(e){return Nt.a.createElement(Gp,{key:e.id,cue:e})})),Nt.a.createElement(Qp,null)))}}]),r}(qt.Component),qp.propTypes={courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,videoViewerStore:Rt.a.object.isRequired,captionsStore:Rt.a.object.isRequired,player:Rt.a.object.isRequired,course:Rt.a.object.isRequired},Rp=Np,babelHelpers.applyDecoratedDescriptor(Rp.prototype,"toggleTranscriptPanel",[X.a],Object.getOwnPropertyDescriptor(Rp.prototype,"toggleTranscriptPanel"),Rp.prototype),babelHelpers.applyDecoratedDescriptor(Rp.prototype,"handleMouseWheel",[X.a],Object.getOwnPropertyDescriptor(Rp.prototype,"handleMouseWheel"),Rp.prototype),Ip=Rp))||Ip)||Ip)||Ip,hd=r("./src/udemy/js/utils/ud-coursevideotracker.js"),md=r("./src/udemy/js/video-player/decorate-stats.js"),bd=Object.freeze({OPEN:"video.progress-bar.goto-bookmark",CREATE:"video.player-controls.create-bookmark",UPDATE:"video.player-controls.update-bookmark",DELETE:"video.player-controls.delete-bookmark"}),yd=(Xp=function(){function n(e,t,r,o){babelHelpers.classCallCheck(this,n),babelHelpers.initializerDefineProperty(this,"activeBookmarkId",Jp,this),babelHelpers.initializerDefineProperty(this,"socialBookmarks",Zp,this),this.player=e,this.courseId=t,this.lectureId=r,this.courseBookmarksStore=o}return babelHelpers.createClass(n,[{key:"loadBookmarks",value:function(){var t=this,e=this.courseBookmarksStore.loadBookmarksIfNeeded(),r=ne("/users/me/subscribed-courses/".concat(this.courseId,"/lectures/").concat(this.lectureId,"/social-bookmarks/"),{page_size:100,"fields[social_bookmark]":"@default,lecture"}).then(Object(J.action)(function(e){t.socialBookmarks=e.map(function(e){return new oe(e)})}));return Promise.all([e,r])}},{key:"setActive",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.activeBookmarkId=e,t&&(e?(void 0===this._playerWasPaused&&(this._playerWasPaused=this.player.paused()),this.player.pause()):(!1===this._playerWasPaused&&this.player.play(),delete this._playerWasPaused))}},{key:"newBookmark",value:function(){var e=Math.floor(this.player.currentTime());if(!this.bookmarksByTime[e]||this.bookmarksByTime[e].isSocialBookmark){var t=new oe({id:-1,position:e,lectureId:this.lectureId});return this.courseBookmarksStore.bookmarks.push(t),this.setActive(-1),t}}},{key:"trackOpen",value:function(){P.a.track(x.d.COURSE_TAKING,x.a.BOOKMARK,bd.OPEN)}},{key:"save",value:function(e){return(-1===e.id?this.create(e):this.update(e)).then(function(){e.originalBody=e.body})}},{key:"create",value:function(e){return P.a.track(x.d.COURSE_TAKING,x.a.BOOKMARK,bd.CREATE),this.courseBookmarksStore.create(e)}},{key:"update",value:function(e){return P.a.track(x.d.COURSE_TAKING,x.a.BOOKMARK,bd.UPDATE),this.courseBookmarksStore.update(e)}},{key:"delete",value:function(e){return P.a.track(x.d.COURSE_TAKING,x.a.BOOKMARK,bd.DELETE),this.setActive(null),this.courseBookmarksStore.delete(e)}},{key:"bookmarks",get:function(){var e=this.courseBookmarksStore.bookmarksByLecture[this.lectureId]||[];return babelHelpers.toConsumableArray(e).concat(babelHelpers.toConsumableArray(this.socialBookmarks))}},{key:"bookmarksByTime",get:function(){return this.bookmarks.reduce(function(e,t){return e[t.position]&&!e[t.position].isSocialBookmark||(e[t.position]=t),e},{})}},{key:"normalisedBookmarks",get:function(){return Object.values(this.bookmarksByTime)}}]),n}(),Jp=babelHelpers.applyDecoratedDescriptor(Xp.prototype,"activeBookmarkId",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zp=babelHelpers.applyDecoratedDescriptor(Xp.prototype,"socialBookmarks",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),babelHelpers.applyDecoratedDescriptor(Xp.prototype,"bookmarks",[J.computed],Object.getOwnPropertyDescriptor(Xp.prototype,"bookmarks"),Xp.prototype),babelHelpers.applyDecoratedDescriptor(Xp.prototype,"loadBookmarks",[X.a],Object.getOwnPropertyDescriptor(Xp.prototype,"loadBookmarks"),Xp.prototype),babelHelpers.applyDecoratedDescriptor(Xp.prototype,"setActive",[J.action],Object.getOwnPropertyDescriptor(Xp.prototype,"setActive"),Xp.prototype),babelHelpers.applyDecoratedDescriptor(Xp.prototype,"newBookmark",[X.a,J.action],Object.getOwnPropertyDescriptor(Xp.prototype,"newBookmark"),Xp.prototype),babelHelpers.applyDecoratedDescriptor(Xp.prototype,"bookmarksByTime",[J.computed],Object.getOwnPropertyDescriptor(Xp.prototype,"bookmarksByTime"),Xp.prototype),babelHelpers.applyDecoratedDescriptor(Xp.prototype,"normalisedBookmarks",[J.computed],Object.getOwnPropertyDescriptor(Xp.prototype,"normalisedBookmarks"),Xp.prototype),Xp),fd=(ed=function(){function p(e,t,r,o,n,i,s,a,l,c){babelHelpers.classCallCheck(this,p),babelHelpers.initializerDefineProperty(this,"isPlayerAvailable",td,this),babelHelpers.initializerDefineProperty(this,"reportAbuseModal",rd,this),babelHelpers.initializerDefineProperty(this,"downloadLectureUrl",od,this),babelHelpers.initializerDefineProperty(this,"isTranslatedCaptionsSurveyButtonVisible",nd,this),babelHelpers.initializerDefineProperty(this,"isTranslatedCaptionsSurveyModalVisible",id,this),babelHelpers.initializerDefineProperty(this,"isReinforcementTooltipVisible",sd,this),babelHelpers.initializerDefineProperty(this,"isTranscriptTooltipVisible",ad,this),this.player=null,this.resumeVideoAfterQAPanelClose=!0,this.$rootScope=e,this.courseId=t,this.lectureId=r,this.onAutoNext=i,this.videoProgressBatchData=[],this.courseExperienceStore=s,this.courseTakingStore=a,this.lectureViewStore=l,this.assetType=n,this.captionsStore=c;var u=o;u&&0<=u.indexOf("/api-2.0/")&&(u=u.split("/api-2.0/")[1]),this.downloadApiUrl=u}return babelHelpers.createClass(p,[{key:"setPlayer",value:function(e){var t=this;this.player=e,this.bookmarksStore=new yd(this.player,this.courseId,this.lectureId,this.courseExperienceStore.bookmarksStore),this.isPlayerAvailable=!0,this.disposeOnPanelChange=Object(J.reaction)(function(){return t.courseTakingStore.activePanel},function(e){t.focusPlayer(),e===_t.QUESTION?t.onQuestionPanelOpen():t.onQuestionPanelClose()}),this.disposeOnInterstitialChange=Object(J.reaction)(function(){return t.lectureViewStore.isInterstitialVisible},function(e){e||t.focusPlayer()})}},{key:"unsetPlayer",value:function(){this.disposeOnPanelChange(),this.disposeOnInterstitialChange(),this.player=null,this.isPlayerAvailable=!1}},{key:"download",value:function(){var i=this;Z.c.get(this.downloadApiUrl,{params:{"fields[lecture]":"asset","fields[asset]":"download_urls"}}).then(Object(J.action)(function(e){var t=e.data;if(t.asset.download_urls){var r="";if(i.assetType===ze.b.VIDEO_MASHUP)t.asset.download_urls.Presentation&&(r=t.asset.download_urls.Presentation[0].file);else{var o=t.asset.download_urls.Video||t.asset.download_urls.Audio;r=o[o.length-1].file;for(var n=0;n<o.length;n++)if("download"===o[n].label&&(r=o[n].file),i.player&&o[n].label===i.player.resolution){r=o[n].file;break}}i.downloadLectureUrl=r}}))}},{key:"finishDownload",value:function(){var e=this;this.downloadLectureUrl="",this.courseExperienceStore.ensureCurriculumLoaded().then(function(){e.courseExperienceStore.currentCurriculumItem.markAsComplete(!0)});var t={type:"downloadlecture"};Object(md.a)(this.player,null,null,null,t),this.onVideoTracking(t)}},{key:"focusPlayer",value:function(){this.player.el()&&this.player.el().focus()}},{key:"setPlayerPositionChangeWatcher",value:function(){var e=this;if("Html5"===this.player.techName_){var t=new Je.a(window.location.search).getQueryParamValue("start"),r=parseInt(decodeURIComponent(t),10);r&&this.player.one("canplaythrough",function(){e.player.pause(),e.seekTo(r),15<=(e.player.duration()||e.player.options().duration||0)-r&&e.player.play()})}}},{key:"showTranslatedCaptionsSurveyButton",value:function(){this.captionsStore.activeTracks.length&&this.lectureViewStore.lecture.can_give_cc_feedback&&"en"!==this.captionsStore.activeTracks[0].language&&(T.a.brand.has_organization?this.isTranslatedCaptionsSurveyButtonVisible=150<=this.courseExperienceStore.completedVideoLength&&"es"===this.captionsStore.activeTracks[0].language&&!xc.includes(T.a.brand.organization.id):this.isTranslatedCaptionsSurveyButtonVisible=!0)}},{key:"hideTranslatedCaptionsSurveyButton",value:function(){this.isTranslatedCaptionsSurveyButtonVisible=!1}},{key:"showTranslatedCaptionsSurveyModal",value:function(){this.isTranslatedCaptionsSurveyModalVisible=!0}},{key:"hideTranslatedCaptionsSurveyModal",value:function(){this.isTranslatedCaptionsSurveyModalVisible=!1}},{key:"onReady",value:function(){var e=this;this.courseExperienceStore.onContentReady(),this.showTranslatedCaptionsSurveyButton(),this.isReinforcementTooltipVisible=!0,setTimeout(Object(J.action)(function(){e.isReinforcementTooltipVisible=!1}),8e3)}},{key:"showHotkeys",value:function(){this.$rootScope.$emit("hotkeyshowhotkeys")}},{key:"onHotkey",value:function(e){e===Ss.c.PLAY_PAUSE?e=this.player.paused()?St.PLAY:St.PAUSE:e===Ss.c.TOGGLE_FULLSCREEN&&(e=this.player.isFullscreen()?St.EXIT_FULLSCREEN:St.ENTER_FULLSCREEN),this.$rootScope.$emit("showhotkeyfeedback",e)}},{key:"onEnded",value:function(){this.resumeVideoAfterQAPanelClose=!1,this.onAutoNext()}},{key:"onPlay",value:function(){this.player._playbackElementClicked&&this.$rootScope.$emit("showhotkeyfeedback",St.PLAY)}},{key:"onPause",value:function(){this.player._playbackElementClicked&&this.$rootScope.$emit("showhotkeyfeedback",St.PAUSE)}},{key:"reportAbuse",value:function(){this.reportAbuseModal=Ec.POLICY,this.pause(),this.courseExperienceStore.trackReportAbuse("lecture")}},{key:"reportTechnical",value:function(){this.reportAbuseModal=Ec.TECHNICAL,this.pause(),this.courseExperienceStore.trackReportAbuse("lecture")}},{key:"closeReportAbuseModal",value:function(){this.reportAbuseModal=Ec.NONE,this.play()}},{key:"onAddBookmarkHotkey",value:function(){this.player&&(this.bookmarksStore.newBookmark(),this.$rootScope.$emit("showhotkeyfeedback",St.ADD_BOOKMARK))}},{key:"pause",value:function(){this.player&&this.player.pause()}},{key:"play",value:function(){this.player&&this.player.play()}},{key:"seekTo",value:function(e){this.player&&this.player.currentTime(e)}},{key:"onQuestionPanelOpen",value:function(){this.questionPanelOpen=!0,this.resumeVideoAfterQAPanelClose=this.player&&!this.player.paused(),this.pause()}},{key:"onQuestionPanelClose",value:function(){this.questionPanelOpen&&(this.questionPanelOpen=!1,this.resumeVideoAfterQAPanelClose&&this.play())}},{key:"addEventsToScope",value:function(){this.$rootScope.$on("hotkeyaddbookmark",this.onAddBookmarkHotkey),this.$rootScope.$on("pausecontent",this.pause),this.$rootScope.$on("resumecontent",this.play)}},{key:"sendLectureProgress",value:function(){0<this.videoProgressBatchData.length&&(this.courseTakingStore.updateLectureProgress(this.lectureId,this.videoProgressBatchData),this.videoProgressBatchData=[])}},{key:"onTimeUpdate",value:function(e,t){var r=this.courseExperienceStore.currentCurriculumItem.length,o=parseInt(t,10);r-o<15&&(o=0),this.courseExperienceStore.currentCurriculumItem.setLastWatchedSecond(o)}},{key:"onVideoProgress",value:function(e,t){var r=this;this.courseExperienceStore.ensureCurriculumLoaded().then(function(){0<t.position&&t.position>t.total-15&&r.courseExperienceStore.currentCurriculumItem.markAsComplete(!0);5<=r.videoProgressBatchData.length&&r.sendLectureProgress(),t.time=Object(yo.b)().format("YYYY-MM-DDTHH:mm:ssZ+HH:mm");var e=r.captionsStore.activeTracks[0];t.captions=e&&e.language,t.openPanel=r.courseTakingStore.activePanel,t.context={type:"Lecture"},r.videoProgressBatchData.push(t)})}},{key:"onVideoTracking",value:function(e){Object(hd.a)().onVideoTracking(e)}},{key:"hideTranscriptTooltip",value:function(){this.isTranscriptTooltipVisible=!1}},{key:"showTranscriptTooltip",value:function(){this.isTranscriptTooltipVisible=!0}}]),p}(),td=babelHelpers.applyDecoratedDescriptor(ed.prototype,"isPlayerAvailable",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rd=babelHelpers.applyDecoratedDescriptor(ed.prototype,"reportAbuseModal",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ec.NONE}}),od=babelHelpers.applyDecoratedDescriptor(ed.prototype,"downloadLectureUrl",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nd=babelHelpers.applyDecoratedDescriptor(ed.prototype,"isTranslatedCaptionsSurveyButtonVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),id=babelHelpers.applyDecoratedDescriptor(ed.prototype,"isTranslatedCaptionsSurveyModalVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sd=babelHelpers.applyDecoratedDescriptor(ed.prototype,"isReinforcementTooltipVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ad=babelHelpers.applyDecoratedDescriptor(ed.prototype,"isTranscriptTooltipVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),babelHelpers.applyDecoratedDescriptor(ed.prototype,"setPlayer",[J.action],Object.getOwnPropertyDescriptor(ed.prototype,"setPlayer"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"unsetPlayer",[X.a,J.action],Object.getOwnPropertyDescriptor(ed.prototype,"unsetPlayer"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"download",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"download"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"finishDownload",[X.a,J.action],Object.getOwnPropertyDescriptor(ed.prototype,"finishDownload"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"showTranslatedCaptionsSurveyButton",[J.action],Object.getOwnPropertyDescriptor(ed.prototype,"showTranslatedCaptionsSurveyButton"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"hideTranslatedCaptionsSurveyButton",[J.action],Object.getOwnPropertyDescriptor(ed.prototype,"hideTranslatedCaptionsSurveyButton"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"showTranslatedCaptionsSurveyModal",[J.action],Object.getOwnPropertyDescriptor(ed.prototype,"showTranslatedCaptionsSurveyModal"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"hideTranslatedCaptionsSurveyModal",[X.a,J.action],Object.getOwnPropertyDescriptor(ed.prototype,"hideTranslatedCaptionsSurveyModal"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"onReady",[X.a,J.action],Object.getOwnPropertyDescriptor(ed.prototype,"onReady"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"showHotkeys",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"showHotkeys"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"onHotkey",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"onHotkey"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"onEnded",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"onEnded"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"onPlay",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"onPlay"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"onPause",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"onPause"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"reportAbuse",[X.a,J.action],Object.getOwnPropertyDescriptor(ed.prototype,"reportAbuse"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"reportTechnical",[X.a,J.action],Object.getOwnPropertyDescriptor(ed.prototype,"reportTechnical"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"closeReportAbuseModal",[X.a,J.action],Object.getOwnPropertyDescriptor(ed.prototype,"closeReportAbuseModal"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"onAddBookmarkHotkey",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"onAddBookmarkHotkey"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"pause",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"pause"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"play",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"play"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"onQuestionPanelOpen",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"onQuestionPanelOpen"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"onQuestionPanelClose",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"onQuestionPanelClose"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"sendLectureProgress",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"sendLectureProgress"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"onTimeUpdate",[X.a,J.action],Object.getOwnPropertyDescriptor(ed.prototype,"onTimeUpdate"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"onVideoProgress",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"onVideoProgress"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"onVideoTracking",[X.a],Object.getOwnPropertyDescriptor(ed.prototype,"onVideoTracking"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"hideTranscriptTooltip",[X.a,J.action],Object.getOwnPropertyDescriptor(ed.prototype,"hideTranscriptTooltip"),ed.prototype),babelHelpers.applyDecoratedDescriptor(ed.prototype,"showTranscriptTooltip",[X.a,J.action],Object.getOwnPropertyDescriptor(ed.prototype,"showTranscriptTooltip"),ed.prototype),ed),gd=(r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/video-viewer.less"),Object(At.d)((pd=ud=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).captionsStore=new Uu.a(e.lecture.asset.captions),t.store=new fd(e.$rootScope,e.lecture.course.id,e.lecture.id,e.lecture.download_url,e.lecture.asset.asset_type,e.onAutoNext,e.courseExperienceStore,e.courseTakingStore,e.lectureViewStore,t.captionsStore),t.isLimitedConsumptionTrial=e.courseExperienceStore.isLimitedConsumptionTrial,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){var e=this.props.lectureViewStore.userActivityStore;this.navigationBarRef&&e.addHideOnInactive(this.navigationBarRef),this.navButtonsRef&&e.addActiveOnHover(this.navButtonsRef),this.navActionsRef&&e.addActiveOnHover(this.navActionsRef),this.addEventListeners()}},{key:"componentWillUnmount",value:function(){this.props.courseTakingStore.hideWelcomeTooltip(),this.store.sendLectureProgress(),this.removeEventListeners()}},{key:"addEventListeners",value:function(){s()(window).on("beforeunload",this.store.sendLectureProgress),this.isLimitedConsumptionTrial&&(document.addEventListener("limitedConsumptionTrial:tooltipOpen",this.store.hideTranscriptTooltip),document.addEventListener("limitedConsumptionTrial:tooltipClosed",this.store.showTranscriptTooltip))}},{key:"removeEventListeners",value:function(){s()(window).off("beforeunload",this.store.sendLectureProgress)}},{key:"setNavigationBarRef",value:function(e){this.navigationBarRef=e}},{key:"setNavButtonsRef",value:function(e){this.navButtonsRef=e}},{key:"setNavActionsRef",value:function(e){this.navActionsRef=e}},{key:"addEventsToPlayer",value:function(){var e=this.store.player;e.ready(this.store.onReady),e.on("play",this.store.onPlay),e.on("pause",this.store.onPause)}},{key:"onVideoAvailable",value:function(e,t){this.store.setPlayer(t),this.store.setPlayerPositionChangeWatcher(),this.addEventsToPlayer(),this.store.addEventsToScope()}},{key:"onCloseReinforcementTooltip",value:function(){this.store.isReinforcementTooltipVisible=!1}},{key:"render",value:function(){var e,t,r=this.props,o=r.lecture,n=r.courseExperienceStore,i=r.courseTakingStore,s=r.lectureViewStore;o.download_url&&(e=babelHelpers.toConsumableArray(Vu.a.slice(0,2)).concat([Nt.a.createElement("p",{key:"download"},gettext("With Flash enabled, please try again in a few minutes or download the lecture now."))]),t=Nt.a.createElement(tr.default,{onClick:this.store.download,bsStyle:"primary"},gettext("Download")));var a,l,c={assetId:o.asset.id,courseId:o.course.id,captionsStore:this.captionsStore,onPlayerReady:this.props.onPlayerReady,onVideoAvailable:this.onVideoAvailable,onVideoUnavailable:this.store.unsetPlayer,onVideoProgress:this.store.onVideoProgress,videoProgressInterval:15,onTimeUpdate:this.store.onTimeUpdate,onVideoEnd:this.store.onEnded,onVideoTracking:this.store.onVideoTracking,hotkeysEnabled:!0,onHotkey:this.store.onHotkey,thumbnail:o.asset.thumbnail_url,trackingTag:"ctp_lecture",videojsSetupData:{duration:o.asset.time_estimation,autoplay:!0,sources:o.asset.stream_urls},preload:"auto",userActivityStore:s.userActivityStore,errorBody:e,errorFooter:t,downloadUrl:o.download_url,assetType:o.asset.asset_type,extraSettings:this.extraSettings,extraCaptionMenuItems:[],setFullscreenRef:Zt.a,isFullscreen:this.props.courseTakingStore.fullscreenStore.isFullscreen,toggleFullscreen:this.props.courseTakingStore.fullscreenStore.toggleFullscreen};return a=o.asset.asset_type===ze.b.VIDEO_MASHUP?zu.a:Eo.default,D.c||T.a.brand.has_organization||(l=Nt.a.createElement(Nu.a,{leave:{animation:"fadeOut",duration:1e3}},this.store.isReinforcementTooltipVisible?Nt.a.createElement(Bp,{courseTakingStore:i,courseExperienceStore:n,lectureViewStore:s,onClose:this.onCloseReinforcementTooltip}):void 0)),Nt.a.createElement(At.b,{videoViewerStore:this.store,captionsStore:this.captionsStore,bookmarksStore:this.store.bookmarksStore},Nt.a.createElement(Fu.a,{experimentSet:"sw"},Nt.a.createElement("div",{className:"video-viewer--container--1FE3D"},this.navBar,Nt.a.createElement(Zu,{videoViewerStore:this.store,courseId:o.course.id}),Nt.a.createElement("div",{className:"player-container fullscreen"},Nt.a.createElement(a,{id:o.asset.id,playerOptions:c}),l,this.bookmarks,this.customSpacer,this.reportAbuse,this.fileDownload),this.transcriptPanels)))}},{key:"navBar",get:function(){var e={},t=[],r=Nt.a.createElement("div",{className:"video-viewer--header--gradient--QPDqx"});return this.store.isTranslatedCaptionsSurveyButtonVisible&&t.push(Nt.a.createElement($u,Object.assign({key:"autocaptions-feedback",videoViewerStore:this.store},e))),t.push(Nt.a.createElement(qn,Object.assign({key:"go-to-dashboard",$state:this.props.$state,theme:"dark"},e))),Nt.a.createElement(Nn,{courseExperienceStore:this.props.courseExperienceStore,courseTakingStore:this.props.courseTakingStore,extraHeaders:r,navBarRef:this.setNavigationBarRef,navButtonsRef:this.setNavButtonsRef,actionButtons:t,actionButtonsRef:this.setNavActionsRef})}},{key:"bookmarks",get:function(){return this.store.isPlayerAvailable?Nt.a.createElement(sp,null):null}},{key:"customSpacer",get:function(){return this.store.isPlayerAvailable?Nt.a.createElement(zp,{player:this.store.player,$rootScope:this.props.$rootScope,courseExperienceStore:this.props.courseExperienceStore,courseTakingStore:this.props.courseTakingStore,lectureViewStore:this.props.lectureViewStore}):null}},{key:"reportAbuse",get:function(){if(!this.store.isPlayerAvailable)return null;var e=[Nt.a.createElement(Vp,{key:"report_technical",player:this.store.player,lecture:this.props.lecture,category:Ec.TECHNICAL,store:this.store})];return T.a.features.report_abuse&&e.push(Nt.a.createElement(Vp,{key:"report_abuse",player:this.store.player,lecture:this.props.lecture,category:Ec.POLICY,store:this.store})),e}},{key:"fileDownload",get:function(){return this.store.downloadLectureUrl?Nt.a.createElement(zo,{downloadUrl:this.store.downloadLectureUrl,onDownloadStarted:this.store.finishDownload}):null}},{key:"downloadTooltip",get:function(){var e=null,t="info-circle",r=this.props.lecture;return this.isLimitedConsumptionTrial?(t="lock",e=Nt.a.createElement(Lu.a,{bsStyle:"blue",id:"lecture-download-tooltip",className:"video-viewer--download-lecture-tooltip--2TNjs"},ws.h)):r.download_url||(e=Nt.a.createElement(Lu.a,{bsStyle:"blue",id:"lecture-download-tooltip",className:"video-viewer--download-lecture-tooltip--2TNjs"},gettext("Not all courses can be downloaded.")," ",Nt.a.createElement("a",{target:"_blank",href:Ma.a.toSupportLink("course_taking__course_player__downloading"),rel:"noopener noreferrer"},gettext("Learn more")))),e?Nt.a.createElement(Mu.a,{placement:"top",overlay:e,keepOnHover:!0},Nt.a.createElement(Kt.a,{glyph:t,className:"video-viewer--download-lecture-tooltip-icon--1Nfgv"})):null}},{key:"extraSettings",get:function(){var e=this.props,t=e.lecture,r=e.lectureViewStore,o=t.download_url,n=t.asset.assetType===ze.b.VIDEO_MASHUP?gettext("Download slides"):gettext("Download lecture"),i=[Nt.a.createElement(Bu.a,{key:"autoplay",unclickable:!0,"data-purpose":"autoplay-toggle"},Nt.a.createElement(Ni.a,{inline:!0,slide:!0,checked:r.isAutoplayEnabled,onChange:r.toggleAutoplay,className:"video-viewer--autoplay-setting--g2ohY"},gettext("Autoplay"))),Nt.a.createElement(Bu.a,{key:"download",onClick:this.store.download,disabled:!o||this.isLimitedConsumptionTrial,"data-purpose":"download-lecture",closeDropdown:!0},this.downloadTooltip,Nt.a.createElement("span",null,n)),Nt.a.createElement(Bu.a,{key:"hotkeys",onClick:this.store.showHotkeys,"data-purpose":"show-keyboard-shortcuts",closeDropdown:!0},gettext("Keyboard shortcuts")),Nt.a.createElement(Bu.a,{key:"report-technical",onClick:this.store.reportTechnical,"data-purpose":"report-technical-issue",closeDropdown:!0},gettext("Report Technical Issue"))];return T.a.features.report_abuse&&i.push(Nt.a.createElement(Bu.a,{key:"report-abuse",onClick:this.store.reportAbuse,"data-purpose":"report-abuse",closeDropdown:!0},gettext("Report abuse"))),i}},{key:"transcriptPanels",get:function(){if(!this.store.isPlayerAvailable)return null;var e=this.props,t=e.lecture,r=e.courseExperienceStore,o=e.courseTakingStore;return[Nt.a.createElement(dd,{key:"transcript",courseExperienceStore:r,courseTakingStore:o,player:this.store.player,course:t.course})]}}]),r}(Nt.a.Component),ud.propTypes={$rootScope:Rt.a.shape({$emit:Rt.a.func.isRequired}).isRequired,$state:Rt.a.object.isRequired,lecture:Rt.a.shape({asset:Rt.a.shape({id:Rt.a.number.isRequired,thumbnail_url:Rt.a.string,time_estimation:Rt.a.number,asset_type:Rt.a.string,captions:Rt.a.array}).isRequired,course:Rt.a.shape({id:Rt.a.number}).isRequired,download_url:Rt.a.string,id:Rt.a.number}).isRequired,onPlayerReady:Rt.a.func,onAutoNext:Rt.a.func,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,lectureViewStore:Rt.a.object.isRequired},ud.defaultProps={onPlayerReady:Zt.a,onAutoNext:Zt.a},cd=pd,babelHelpers.applyDecoratedDescriptor(cd.prototype,"setNavigationBarRef",[X.a],Object.getOwnPropertyDescriptor(cd.prototype,"setNavigationBarRef"),cd.prototype),babelHelpers.applyDecoratedDescriptor(cd.prototype,"setNavButtonsRef",[X.a],Object.getOwnPropertyDescriptor(cd.prototype,"setNavButtonsRef"),cd.prototype),babelHelpers.applyDecoratedDescriptor(cd.prototype,"setNavActionsRef",[X.a],Object.getOwnPropertyDescriptor(cd.prototype,"setNavActionsRef"),cd.prototype),babelHelpers.applyDecoratedDescriptor(cd.prototype,"onVideoAvailable",[X.a,J.action],Object.getOwnPropertyDescriptor(cd.prototype,"onVideoAvailable"),cd.prototype),babelHelpers.applyDecoratedDescriptor(cd.prototype,"onCloseReinforcementTooltip",[X.a,J.action],Object.getOwnPropertyDescriptor(cd.prototype,"onCloseReinforcementTooltip"),cd.prototype),ld=cd))||ld),vd=d.a.module("course-taking-v4/course-taking/lecture-view/video-viewer/video-viewer.ng-directive",["ui.router",a.a.name,mt.name,Pt.name,Tc.name]).directive("videoViewer",wd);function wd(e,t,r,o,n,i){return e(gd,void 0,{},{$rootScope:t,$state:r,courseExperienceStore:o,courseTakingStore:n,lectureViewStore:i})}wd.$inject=["reactDirective","$rootScope","$state","CourseExperienceService","CourseTakingService","LectureViewService"];var kd=d.a.module("course-taking-v4/course-taking/lecture-view/lecture-view.ng-controller",["ui.bootstrap","ui.router","mobx-angularjs",a.a.name,vs.a.name,Cs.name,Hc.name,Vc.name,Xc.name,oc.name,mt.name,Pt.name,Ct.a.name,y.name,Y.name,Fs.name,Tc.name,iu.name,cu.name,Ru.name,vd.name,W.a.name]).constant("DEFAULT_REVIEW_BUTTON_DELAY_MINUTES",780).controller("LectureViewController",Cd);function Cd(r,e,o,t,n,i,s,a,l,c,u,p,d,h,m,b){function y(e){if(e.asset&&e.asset.download_urls){var t=e.asset.download_urls[e.asset.asset_type];t&&0<t.length&&(e.asset_download_url=t[0].file)}return e}f.a.start("_lectureApi"),h.reset(),o.store=h,o.isMobile=b.isMobileBrowser(),function(){if(isNaN(parseInt(n.id,10)))return r.reject("Invalid lecture id");var e=a,t=null;s.canEditCourse()&&(e=l,t="instructor_v4");s.isPreviewingAsSubscriber()&&(t="student_v4");return e.get({id:n.id,courseId:c.id,"fields[lecture]":"@default,course,can_give_cc_feedback,download_url","fields[course]":"id,url,locale","fields[asset]":"@min,download_urls,external_url,slide_urls,status,captions,thumbnail_url,time_estimation,stream_urls","fields[caption]":"@default,is_translation",instructorPreviewMode:t}).$promise.then(y)}().then(function(e){f.a.end("_lectureApi");var t=e.asset?e.asset.asset_type.toLowerCase():"no-asset",r="CourseDashboard.lecture-taking-ready-for-".concat(t);return u.sendPerformanceMarkOnDomMutation(r,document.getElementById("loader-container"),function(e){return Array.from(e.removedNodes).find(function(e){return e.classList&&e.classList.contains("fullscreen")})}),o.lecture=e,o.store.setLecture(e),o.showResourcesAvailableTooltip=!1,P.a.setCurriculumObject("Lecture",o.lecture.id),function(){if(ks.a.trackPageview(c.analytics_tracking_code,"instructor","".concat(c.url,"course-taking/lecture/").concat(o.lecture.id)),!o.lecture.asset)return;var e=o.lecture.asset.asset_type.toLowerCase();"videomashup"===e&&(e="mashup");e="lecture ".concat(e,"-view"),P.a.track(x.d.COURSE_TAKING,"Lecture",e)}(),document.dispatchEvent(new CustomEvent(ws.l,{detail:{isFree:o.lecture.is_free}})),p.ensureCurriculumLoaded()}).then(function(){try{p.setCurrentCurriculumItem("lecture",o.lecture.id)}catch(e){return r.reject(e)}o.curriculumItem=p.currentCurriculumItem,o.lecture.asset&&"ImportContent"===o.lecture.asset.asset_type&&(o.curriculumItem.assetType="ImportContent"),o.sections=p.curriculumSections,i.tooltip(function(){o.showResourcesAvailableTooltip=0<o.curriculumItem.supplementaryAssets.length},function(){o.showResourcesAvailableTooltip=!1}),o.curriculumItem.markLectureAsViewed(),o.lecture.asset&&o.lecture.asset.id&&1!==o.lecture.asset.status&&!s.isViewingAsInstructor()&&o.$emit("continuecurriculum",{type:"lecture",id:o.lecture.id})}).catch(function(e){if(e.data&&("lecture_locked_for_trial"===e.data.detail||e.data.detail===Ha))return d.redirectToLockedScreen("lecture",n.id);o.$destroy(),t.go("base.dashboard.content")}),o.isAssetType=function(e){if(o.lecture){return o.lecture.asset&&-1!==["Video","VideoMashup","Audio","Article","Presentation"].indexOf(o.lecture.asset.asset_type)?o.lecture.asset.asset_type===e:"Unavailable"===e}},o.$on("$stateChangeSuccess",function(e,t,r,o){o.name||P.a.track(x.d.COURSE_TAKING,"Lecture","direct-visit")})}Cd.$inject=["$q","$rootScope","$scope","$state","$stateParams","AnimatedStateChangeService","ViewMode","SubscribedLecture","TaughtLecture","CurrentCourse","PerformanceService","CourseExperienceService","CourseTakingService","LectureViewService","DEFAULT_REVIEW_BUTTON_DELAY_MINUTES","Mobile"];var _d,Sd,jd,Ed=kd,Dd=r("./src/udemy/js/course-taking-v4/course-taking/lecture-view/lecture-view.ng-template.html"),xd=r.n(Dd),Od=(r("./src/udemy/js/course-taking-v4/course-taking/locked-screen/locked-screen.less"),Object(At.d)((jd=Sd=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){var i=this;this.props.courseExperienceStore.ensureCurriculumLoaded().then(function(){var e=i.props.$state.params,t=e.itemType,r=e.itemId;i.props.courseExperienceStore.setCurrentCurriculumItem(t,parseInt(r,10));var o=i.props.courseExperienceStore.currentCurriculumItem,n={itemType:t,assetType:o.assetType,quizType:o.quizType};document.dispatchEvent(new CustomEvent(ws.g,{detail:n}))}).catch(function(){i.props.$state.go("base.dashboard.content")})}},{key:"render",value:function(){return this.props.courseExperienceStore.currentCurriculumItem?Nt.a.createElement("div",{className:"fullscreen locked-screen--locked-screen--i81Hu"},Nt.a.createElement("div",{className:"fullscreen player-container scroll-wrapper"},Nt.a.createElement("div",{className:"locked-screen--locked-screen__message-container--3GoZU"},Nt.a.createElement("div",{className:"font-heading-lg text-center"},this.props.courseExperienceStore.currentCurriculumItem.title))),Nt.a.createElement(Nn,{courseTakingStore:this.props.courseTakingStore,courseExperienceStore:this.props.courseExperienceStore,$state:this.props.$state,actionButtons:Nt.a.createElement(qn,{theme:"dark",$state:this.props.$state})})):null}}]),t}(Nt.a.Component),Sd.propTypes={$state:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired},_d=jd))||_d),Td=d.a.module("course-taking-v4/course-taking/locked-screen/locked-screen.ng-directive",["ui.router",a.a.name,mt.name,Pt.name]).directive("lockedScreen",Pd);function Pd(e,t,r,o){return e(Od,void 0,{},{$state:t,courseExperienceStore:r,courseTakingStore:o})}Pd.$inject=["reactDirective","$state","CourseExperienceService","CourseTakingService"];var Hd=r("./src/udemy/js/ng/services/v2/practice-resources.ng-factory.js"),Ad=r("./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-feedback.ng-directive.js"),Id=r("./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-submission.ng-directive.js"),Rd=d.a.module("course-taking-v4/course-taking/practice-view/practice-give-feedback.ng-controller",["ui.router",Hd.a.name,Id.a.name,Ad.a.name]).controller("PracticeGiveFeedbackController",qd);function qd(t,r,e,o,n,i,s){P.a.setCurriculumObject("Assignment",r.id),P.a.track(x.d.COURSE_TAKING,"assignment","visit.give-feedback-tab"),t.tab="Practice give feedback",t.reviewer=Ze.a,t.loading=!0,t.peerSubmissions=[];var a=n.get({id:r.id}).$promise,l=s.get({type:"peer"}).$promise,c=i.get({practiceId:r.id,"fields[user_assigned_submission]":"@default,user_attempted_practice","fields[user_attempted_practice]":"question_user_answers,user,submission_time,owner_feedback_question_user_answers","fields[practice_question_user_answer]":"body,practice_question",page_size:3}).$promise;e.all([a,l,c]).then(function(e){t.practice=e[0],t.feedbackQuestion=e[1].results[0],t.peerSubmissions=t.peerSubmissions.concat(e[2].results),e[2].results.length<3?i.save({practiceId:r.id,"fields[user_assigned_submission]":"@default,user_attempted_practice","fields[user_attempted_practice]":"question_user_answers,user,submission_time,owner_feedback_question_user_answers","fields[practice_question_user_answer]":"body,practice_question"},{num_to_assign:3-e[2].results.length}).$promise.then(function(e){t.peerSubmissions=e.results}).finally(function(){t.loading=!1,f.a.end("CT.Assignment.give-feedback-tab-rendered"),f.a.sync()}):(t.loading=!1,f.a.end("CT.Assignment.give-feedback-tab-rendered"),f.a.sync())}),t.markAsSeen=function(e){P.a.track(x.d.COURSE_TAKING,"assignment","give-feedback-tab.seen.peer-submission",null,null,{seenSubmission:e.id})}}qd.$inject=["$scope","$stateParams","$q","gettextCatalog","SubscribedPractice","PracticeAssignedSubmission","PracticeFeedbackQuestion"];var Nd,zd,Md,Ld=Rd,Fd=r("./src/udemy/js/course-taking-v4/current-course.ng-service.js"),Ud=(Md=zd=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getDownloadUrl",value:function(t){return Z.c.get("/practices/".concat(this.props.practiceId,"/supplementary-assets/").concat(t.id),{params:{"fields[asset]":"download_urls"}}).then(function(e){return e.data.download_urls&&e.data.download_urls[t.asset_type][0].file})}},{key:"render",value:function(){return Nt.a.createElement(Zo,{resources:this.props.resources,getDownloadUrl:this.getDownloadUrl})}}]),t}(Nt.a.Component),zd.propTypes={practiceId:Rt.a.number.isRequired,resources:Zo.propTypes.resources},Nd=Md,babelHelpers.applyDecoratedDescriptor(Nd.prototype,"getDownloadUrl",[X.a],Object.getOwnPropertyDescriptor(Nd.prototype,"getDownloadUrl"),Nd.prototype),Nd),Bd=d.a.module("course-taking-v4/course-taking/practice-view/practice-resources-list.ng-directive",[a.a.name]).directive("practiceResourcesList",Vd);function Vd(e){return e(Ud)}Vd.$inject=["reactDirective"];var $d=d.a.module("course-taking-v4/course-taking/practice-view/practice-solution.ng-controller",["ui.router",a.a.name,Hd.a.name,Bd.name,Id.a.name,Ad.a.name,E.a.name,Fd.a.name]).controller("PracticeSolutionController",Qd).value("VideoAsset",Eo.default);function Qd(o,e,t,r,n,i,s,a,l,c){var u,p;P.a.setCurriculumObject("Assignment",e.id),P.a.track(x.d.COURSE_TAKING,"assignment","visit.solution-tab"),o.reviewer=Ze.a,r.get({id:e.id}).$promise.then(function(e){o.practice=e}),u=s.get({practiceId:e.id,user:Ze.a.id,"fields[user_assigned_submission]":"@default,user_attempted_practice","fields[user_attempted_practice]":"question_user_answers,user,submission_time,owner_feedback_question_user_answers","fields[practice_question_user_answer]":"body,practice_question"}).$promise,p=a.get({type:"self"}).$promise,c.all([u,p]).then(function(e){o.userSubmission=e[0].results[0],o.feedback=e[0].results[0].owner_feedback_question_user_answers;var t=o.userSubmission.question_user_answers.length&&!o.userSubmission.submission_time,r=!o.userSubmission.question_user_answers.length;(t||r)&&(o.infoAlert={noSubmit:t,noAnswer:r}),o.selfFeedbackQuestion=e[1].results[0]}),c.all([l.loadExtraData({"fields[course]":["visible_instructors"].join(","),"fields[user]":["url","title","display_name","image_50x50","initials"].join(",")}),i.get({practiceId:e.id,"fields[practice_question]":"body,answer"}).$promise]).then(function(e){o.instructorSubmission={user:d.a.extend({},l.visible_instructors[0],{isInstructor:!0}),question_user_answers:e[1].results.map(function(e){var t={body:e.answer};return t.practice_question=e,t})},f.a.end("CT.Assignment.solution-tab-rendered"),f.a.sync()}),n.get({practiceId:e.id,type:"solution","fields[practice_component]":["body","asset","display_type"].join(","),"fields[asset]":["asset_type","title","external_url"].join(",")}).$promise.then(function(e){var t=e.results;o.downloadableAssets=t.filter(function(e){return"download"===e.display_type}).map(function(e){return e.asset}),o.videoComponent=t.find(function(e){return"video"===e.display_type})}),o.goToSubmitPage=function(){t.go("base.taking.practice.submission")}}Qd.$inject=["$scope","$stateParams","$state","SubscribedPractice","PracticeComponent","PracticeQuestion","PracticeSubmission","PracticeFeedbackQuestion","CurrentCourse","$q"];var Wd=$d,Gd=r("./src/udemy/js/ng/directives/common/ud-wysiwyg.ng-directive.js"),Yd=r("./src/udemy/js/ng/filters/htmlutils.ng-filter.js"),Kd=r("./src/udemy/js/ng/services/confirm.ng-factory.js"),Xd=d.a.module("course-taking-v4/course-taking/practice-view/practice-submission.ng-controller",[mt.name,Hd.a.name,Kd.a.name,Gd.a.name,Yd.a.name]).controller("PracticeSubmissionController",Jd);function Jd(i,s,a,e,t,l,c,r,u){P.a.setCurriculumObject("Assignment",a.id),P.a.track(x.d.COURSE_TAKING,"assignment","visit.submission-tab"),s.questionsLoaded=!1;var o=t.get({practiceId:a.id,"fields[practice_question]":"body,answer"}).$promise,n=l.save({practiceId:a.id},{}).$promise,p=function(e){s.userSubmission=e,s.userSubmission.is_public=!s.userSubmission.is_private},d=function(e){var t={};e.forEach(function(e){t[e.practice_question.id]=e}),s.questions.forEach(function(e){t[e.id]&&(e.userAnswer=t[e.id])})};function h(){return s.questions.every(function(e){return!e.userAnswer||!e.userAnswer.body})}i.all([o,n]).then(function(e){return s.questions=e[0].results,p(e[1]),c.get({practiceId:a.id,attemptId:s.userSubmission.id,"fields[practice_question_user_answer]":"practice_question,body"}).$promise}).then(function(e){d(e.results)}).finally(function(){s.questionsLoaded=!0,f.a.end("CT.Assignment.submission-tab-rendered"),f.a.sync()}),s.save=function(){if(s.status_alert=null,h())s.status_alert={message:u.getString("You cannot save a draft of an empty assignment"),error:!0};else{s.sendingSave=!0;var e=s.questions.filter(function(e){return e.userAnswer}),t=e.filter(function(e){return!e.userAnswer.id}).map(function(e){return{practice_question:e.id,body:e.userAnswer.body}}),r=c.save({practiceId:a.id,attemptId:s.userSubmission.id},t).$promise,o=e.filter(function(e){return e.userAnswer.id}).map(function(e){return{id:e.userAnswer.id,practice_question:e.id,body:e.userAnswer.body}}),n=c.partial_update({practiceId:a.id,attemptId:s.userSubmission.id},o).$promise;i.all([r,n]).then(function(e){return d(e[0].results),l.partial_update({practiceId:a.id,id:s.userSubmission.id},{is_private:!s.userSubmission.is_public,marked_submitted:s.publishAttempt}).$promise}).then(function(e){p(e),s.publishAttempt||(s.status_alert={message:u.getString("Your draft has been successfully saved."),error:!1})}).catch(function(){s.status_alert={message:u.getString("There was a problem saving. Please try again."),error:!0}}).finally(function(){s.questionsLoaded=!0,s.sendingSave=!1})}},s.publish=function(){s.status_alert=null,h()?s.status_alert={message:u.getString("You cannot publish an empty assignment"),error:!0}:r({title:u.getString("Are you sure?"),text:u.getString("You will no longer be able to edit after you submit."),ok:u.getString("Submit"),cancel:u.getString("Cancel")}).then(function(){s.status_alert={message:u.getString("Your answer has been successfully submitted."),error:!1},s.publishAttempt=!0,s.questionsLoaded=!1,s.save(),e.currentCurriculumItem.setComplete()})},s.$on("$stateChangeStart",function(){s.status_alert=null,h()||s.userSubmission.submission_time||(s.save(),r({title:u.getString("Are you sure?"),text:u.getString("You answer has been saved but not submitted. Do you want to submit? Please note you cannot edit your answer once you submit it."),ok:u.getString("Submit and Proceed"),cancel:u.getString("Don't Submit and Proceed")}).then(function(){s.publish()}))})}Jd.$inject=["$q","$scope","$stateParams","CourseExperienceService","PracticeQuestion","PracticeSubmission","PracticeSubmissionAnswer","udConfirm","gettextCatalog"];var Zd=Xd,eh=r("./src/udemy/js/ng/services/user-resources.ng-factory.js"),th=d.a.module("course-taking-v4/course-taking/practice-view/practice-summary-detail.ng-controller",["ui.router","ui.bootstrap",E.a.name,Hd.a.name,Id.a.name,eh.a.name]).controller("PracticeSummaryDetailController",rh);function rh(r,o,e,t,n,i){P.a.setCurriculumObject("Assignment",r.practice.id),P.a.track(x.d.COURSE_TAKING,"assignment","visit.summary-detail-page",null,null,{seenSubmission:o.params.submissionId,commenterId:o.params.commenterId}),r.submissionVisible=!1,r.loading=!0;var s=t.get({practiceId:r.practice.id,id:o.params.submissionId,commenter_id:o.params.commenterId,"fields[user_attempted_practice]":"question_user_answers,user,submission_time,peer_feedback_question_user_answers","fields[practice_question_user_answer]":"body,practice_question"}).$promise,a=i.get({type:"peer"}).$promise;e.all([s,a]).then(function(e){var t=e[0];if(t.user.id!=Ze.a.id&&o.params.commenterId!=Ze.a.id)return o.go("base.taking.practice.summary-detail",{submissionId:o.params.submissionId,cachedUser:Ze.a,commenterId:Ze.a.id});o.params.cachedUser&&o.params.cachedUser.id==o.params.commenterId?r.reviewer=o.params.cachedUser:n.get({id:o.params.commenterId}).$promise.then(function(e){r.reviewer=e}),r.submission=t,r.feedbackQuestion=e[1].results[0]}).finally(function(){r.loading=!1,f.a.end("CT.Assignment.summary-detail-page-rendered"),f.a.sync()}),r.toggleSubmission=function(){r.submissionVisible=!r.submissionVisible}}rh.$inject=["$scope","$state","$q","PracticeSubmission","UserResource","PracticeFeedbackQuestion"];var oh=th,nh=r("./src/udemy/js/ng/filters/moment.ng-filter.js"),ih=d.a.module("course-taking-v4/course-taking/practice-view/practice-summary.ng-controller",[E.a.name,Hd.a.name,nh.a.name]).controller("PracticeSummaryController",sh);function sh(r,o,e,t,n){function i(e,t){var r=e.comment_thread&&e.comment_thread.latest_comment?e.comment_thread.latest_comment.created:"";return{submissionId:e.user_attempted_practice.id,feedbackOwner:e.user,type:t,user:e.user.id!=Ze.a.id?e.user:e.user_attempted_practice.user,commentOwner:e.created>r?e.user:e.comment_thread.latest_comment.user,body:e.created>r?e.body:e.comment_thread.latest_comment.content,lastActivityTime:e.created>r?e.created:r}}r.tab="Practice receive feedback",P.a.setCurriculumObject("Assignment",r.practice.id),P.a.track(x.d.COURSE_TAKING,"assignment","visit.summary-page"),r.loading=!0,t.get({practiceId:r.practice.id,attempt_id_in:r.submission.id,user_not_in:r.submission.user.id,"fields[practice_feedback_question_user_answer]":"user,body,feedback_question,comment_thread,created,user_attempted_practice","fields[comment_thread]":"latest_comment","fields[user]":"title,display_name,image_50x50,initials,name","fields[practice_feedback_question]":"id","fields[user_attempted_practice]":"id"}).$promise.then(function(e){var t=e.results.map(function(e){return i(e,n.getString("Your Assignment"))});r.feedbackList=r.feedbackList.concat(t)}).then(function(){return e.get({practiceId:r.practice.id,"fields[user_assigned_submission]":"user_attempted_practice","fields[user_attempted_practice]":"user","fields[user]":"title"}).$promise}).then(function(e){return e.results.map(function(e){return e.user_attempted_practice.id})}).then(function(e){return t.get({practiceId:r.practice.id,attempt_id_in:e.join(","),has_comment_thread:!0,"fields[practice_feedback_question_user_answer]":"user,body,feedback_question,created,comment_thread,user_attempted_practice","fields[comment_thread]":"latest_comment","fields[user]":"title,display_name,image_50x50,initials,name","fields[practice_feedback_question]":"id","fields[user_attempted_practice]":"user",user:Ze.a.id}).$promise}).then(function(e){var t=e.results.map(function(e){return i(e,n.getString("Peer Assignment"))});r.feedbackList=r.feedbackList.concat(t)}).finally(function(){r.feedbackList=r.feedbackList.sort(function(e,t){return e.lastActivityTime<t.lastActivityTime}),r.loading=!1,f.a.end("CT.Assignment.summary-page-rendered"),f.a.sync()}),r.feedbackList=[],r.openSubmission=function(e,t){o.go("base.taking.practice.summary-detail",{submissionId:e,cachedUser:t,commenterId:t.id})}}sh.$inject=["$scope","$state","PracticeAssignedSubmission","PracticeFeedbackQuestionAnswer","gettextCatalog"];var ah=ih,lh=d.a.module("course-taking-v4/curriculum/continue-button.ng-directive",[a.a.name,mt.name]).directive("continueButton",ch);function ch(e,t,r){return e(_i,void 0,{},{$rootScope:r,courseExperienceStore:t})}ch.$inject=["reactDirective","CourseExperienceService","$rootScope"];var uh=d.a.module("course-taking-v4/course-taking/practice-view/practice-view.ng-controller",["ui.router","mobx-angularjs",a.a.name,mt.name,Pt.name,Hd.a.name,Id.a.name,Cs.name,lh.name]).value("CurriculumItemControls",Hn).controller("PracticeViewController",ph);function ph(t,r,o,n,e,i,s,a,l,c){var u={"start-page":"base.taking.practice",introduction:"base.taking.practice.introduction",submission:"base.taking.practice.submission",instructor_solution:"base.taking.practice.instructor_solution",give_feedback:"base.taking.practice.give_feedback",summary:"base.taking.practice.summary"};if(o.search().start||r.start){var p=r.start||o.search().start,d=u[p];d&&n.go(d)}function h(){t.$destroy(),n.go("base.dashboard.content")}t.store=s,t.loading=!0,i.onContentReady(),t.getCurriculumItemControlsProps=function(){return{reportType:"practice",reportId:t.practice.id}},t.skipButtonLabel=e.getString("Skip Assignment"),t.nextButtonLabel=e.getString("Next Lecture"),t.$on("$stateChangeSuccess",function(){o.search("page",null),t.currentState=n.current;var e=t.currentState.name.split(".").pop();switch(e in u&&c.save({courseId:t.course.id,practiceId:r.id},{page:e}),t.currentState.name){case"base.taking.practice.introduction":f.a.start("CT.Assignment.introduction-tab-rendered");break;case"base.taking.practice.submission":f.a.start("CT.Assignment.submission-tab-rendered");break;case"base.taking.practice.instructor_solution":f.a.start("CT.Assignment.solution-tab-rendered");break;case"base.taking.practice.give_feedback":f.a.start("CT.Assignment.give-feedback-tab-rendered");break;case"base.taking.practice.summary":f.a.start("CT.Assignment.summary-page-rendered");break;case"base.taking.practice.summary-detail":f.a.start("CT.Assignment.summary-detail-page-rendered")}}),t.changeState=function(e){"next"==e?n.go(t.currentState.data.nextTab):"prev"==e?n.go(t.currentState.data.prevTab):"summary"==e?n.go("base.taking.practice.summary"):"complete"==e?l.partial_update({practiceId:t.practice.id,id:t.submission.id},{is_complete:!0}).$promise.then(function(e){t.submission=e,n.go("base.taking.practice.summary")}):n.go("base.taking.practice.give_feedback")},isNaN(parseInt(r.id,10))?h():a.get({id:r.id}).$promise.then(function(e){t.practice=e}).then(function(){l.save({practiceId:t.practice.id},{}).$promise.then(function(e){t.submission=e}).then(function(){return i.ensureCurriculumLoaded()}).then(function(){try{i.setCurrentCurriculumItem("practice",t.practice.id)}catch(e){return void h()}t.sections=i.curriculumSections}).finally(function(){t.loading=!1})}).catch(function(e){if(e.data&&e.data.detail===Ha)return s.redirectToLockedScreen("practice",r.id);h()})}ph.$inject=["$scope","$stateParams","$location","$state","gettextCatalog","CourseExperienceService","CourseTakingService","SubscribedPractice","PracticeSubmission","PracticeProgress","AnimatedStateChangeService"];var dh,hh,mh,bh,yh,fh,gh,vh,wh,kh,Ch,_h,Sh,jh,Eh,Dh,xh,Oh=uh,Th=d.a.module("course-taking-v4/course-taking/practice-view/module",[Oh.name,Zd.name,Wd.name,Ld.name,ah.name,oh.name]),Ph=r("./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-view.ng-template.html"),Hh=r.n(Ph),Ah=r("./src/udemy/js/ace/ace.react-component.js"),Ih=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/quiz-page-layout.less"),{"./quiz-page-layout.less":{"quiz-header":"quiz-page-layout--quiz-header--2A1c9","web-quiz-layout":"quiz-page-layout--web-quiz-layout--8Ezy_"}}),Rh={WHITE:"WHITE",GRAY:"GRAY"},qh=Object(At.c)("courseExperienceStore","courseTakingStore","$state")(dh=Object(At.d)((mh=hh=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"renderHeaderContainer",value:function(e){var t=this.props,r=t.isLoading,o=t.courseExperienceStore,n=t.courseTakingStore,i=t.renderHeader,s=t.$state;return Nt.a.createElement("div",{className:"player-header "+Sn()(Et()({"quiz-header":!e}),Ih)},Nt.a.createElement("div",{className:"player-header__button-group"},e?null:Nt.a.createElement(In,{courseExperienceStore:o,courseTakingStore:n}),Nt.a.createElement("div",{className:"fx"},r?null:i()),e?null:Nt.a.createElement(qn,{$state:s})))}},{key:"render",value:function(){var e=this.props,t=e.background,r=e.isLoading,o=e.renderBody,n=e.renderFooter,i=e.setScrollContainerRef,s=Object(D.a)();return Nt.a.createElement("div",{className:(Et()({fullscreen:!0,"bg-rain-lighter":t===Rh.GRAY})?Et()({fullscreen:!0,"bg-rain-lighter":t===Rh.GRAY})+" ":"")+Sn()(Et()({"web-quiz-layout":!s}),Ih)},this.renderHeaderContainer(s),Nt.a.createElement("div",{ref:i,className:"fullscreen player-container scroll-wrapper"},r?Nt.a.createElement("div",{className:"fullscreen fx-c"},Nt.a.createElement(Xt.a,{size:"large","data-purpose":"page-loader"})):o()),r?null:n())}}]),t}(qt.Component),hh.BACKGROUNDS=Rh,hh.propTypes={background:Rt.a.oneOf(Object.values(Rh)),courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,$state:Rt.a.object.isRequired,isLoading:Rt.a.bool.isRequired,renderBody:Rt.a.func.isRequired,renderFooter:Rt.a.func.isRequired,renderHeader:Rt.a.func,setScrollContainerRef:Rt.a.func},hh.defaultProps={background:Rh.WHITE,renderHeader:function(){return null},setScrollContainerRef:null},dh=mh))||dh)||dh,Nh=r("./src/udemy/js/utils/pusher-event-handler.js"),zh=Object.freeze({SAVING:"saving",SUCCESS:"success",ERROR:"error"}),Mh=(bh=function(){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.initializerDefineProperty(this,"content",yh,this),this.fileName=e.file_name,this.setObservablesFromAPIData(e)}return babelHelpers.createClass(t,[{key:"setObservablesFromAPIData",value:function(e){this.content=e.content}},{key:"setContent",value:function(e){this.content=e}}]),t}(),yh=babelHelpers.applyDecoratedDescriptor(bh.prototype,"content",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),babelHelpers.applyDecoratedDescriptor(bh.prototype,"setObservablesFromAPIData",[J.action],Object.getOwnPropertyDescriptor(bh.prototype,"setObservablesFromAPIData"),bh.prototype),babelHelpers.applyDecoratedDescriptor(bh.prototype,"setContent",[J.action],Object.getOwnPropertyDescriptor(bh.prototype,"setContent"),bh.prototype),bh);function Lh(e){return(e||"").split(".").pop()}var Fh,Uh,Bh,Vh,$h,Qh,Wh,Gh,Yh,Kh,Xh,Jh,Zh,em,tm,rm,om,nm,im,sm,am,lm,cm,um,pm,dm,hm,mm,bm,ym,fm,gm,vm,wm,km=(fh=function(){function r(e,t){babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"activeFile",gh,this),babelHelpers.initializerDefineProperty(this,"studentFiles",vh,this),babelHelpers.initializerDefineProperty(this,"currentLine",wh,this),babelHelpers.initializerDefineProperty(this,"currentColumn",kh,this),babelHelpers.initializerDefineProperty(this,"hasCheckedSolutionOnce",Ch,this),babelHelpers.initializerDefineProperty(this,"isEvaluating",_h,this),babelHelpers.initializerDefineProperty(this,"hasSolutionPassed",Sh,this),babelHelpers.initializerDefineProperty(this,"hasEvaluationFailed",jh,this),babelHelpers.initializerDefineProperty(this,"savingStatus",Eh,this),babelHelpers.initializerDefineProperty(this,"evaluatorFeedback",Dh,this),babelHelpers.initializerDefineProperty(this,"logOutput",xh,this),this.evaluationStartDate=void 0,this.saveTimerId=void 0,this.eventHandler=void 0,this.courseExperienceStore=e,this.quizViewStore=t,this.quizViewStore.setCurrentQuestionIndex(0)}return babelHelpers.createClass(r,[{key:"reset",value:function(){this.initializeFiles(),this.scheduleAutoSave(),this.logOutput="",this.evaluatorFeedback="",this.hasCheckedSolutionOnce=!1}},{key:"initializeFiles",value:function(){this.setFiles(this.question.prompt.initial_files),this.selectFile(0<this.studentFiles.length?this.studentFiles[0]:void 0)}},{key:"setFiles",value:function(e){this.studentFiles=e.map(function(e){return new Mh(e)})}},{key:"updateFile",value:function(e,t){e.content!==t&&(e.setContent(t),this.scheduleAutoSave())}},{key:"updateCursorPosition",value:function(e,t){this.currentLine=e,this.currentColumn=t}},{key:"selectFile",value:function(e){this.activeFile=e}},{key:"loadStudentFiles",value:function(){var r=this;return this.attempt?(this.quizViewStore.updateAttempt(),Z.c.get("/users/me/subscribed-courses/".concat(this.courseExperienceStore.courseId,"/user-attempted-quizzes/").concat(this.attempt.id,"/coding-exercise-answers")).then(function(e){var t=e.data.results||[];0<t.length&&(r.setFiles(t[0].response.files),r.selectFile(r.studentFiles[0]))})):this.quizViewStore.createNewAttempt()}},{key:"scheduleAutoSave",value:function(){this.saveTimerId||(this.saveTimerId=setTimeout(this.saveCodingExercise,2e3))}},{key:"saveCodingExercise",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.saveTimerId=null,this.savingStatus=zh.SAVING,Z.c.post("/users/me/subscribed-courses/".concat(this.courseExperienceStore.courseId,"/user-attempted-quizzes/").concat(this.attempt.id,"/coding-exercise-answers"),{assessment_id:this.question.id,response:{files:this.studentFiles.map(function(e){return{file_name:e.fileName,content:e.content}})},pusher_channel:t&&this.eventHandler&&this.eventHandler.pusherChannel}).then(Object(J.action)(function(){e.savingStatus=zh.SUCCESS})).catch(Object(J.action)(function(){e.savingStatus=zh.ERROR}))}},{key:"evaluatorResponseHandler",value:function(e){this.evaluatorFeedback=e.output.evaluator_logs||e.output.compile_logs,this.logOutput=e.output.user_logs,this.isEvaluating=!1,this.hasCheckedSolutionOnce=!0,this.hasSolutionPassed=e.success,this.hasSolutionPassed&&this.quizViewStore.quiz.setComplete(),x.e.trace("coding-exercises",{id:this.eventHandler.pusherChannel.toString(),event:"frontend.response",success:this.hasSolutionPassed,evaluatorFeedback:this.evaluatorFeedback,logOutput:this.logOutput,duration:(new Date-this.evaluationStartDate)/1e3}),x.e.increment("quiz.coding_exercise.frontend.evaluate.response")}},{key:"_evaluatorErrorHandler",value:function(e){this.isEvaluating=!1,this.hasCheckedSolutionOnce=!0,this.hasEvaluationFailed=!0,x.e.trace("coding-exercises",{id:this.eventHandler.pusherChannel.toString(),event:"frontend.".concat(e)}),x.e.increment("quiz.coding_exercise.frontend.evaluate.".concat(e))}},{key:"evaluatorTimeoutHandler",value:function(){this._evaluatorErrorHandler("timeout")}},{key:"onSubscriptionSucceeded",value:function(){var e=this,t=new Date;return this.quizViewStore.track("answered-question",{answer:{files:this.studentFiles}}),this.saveCodingExercise(!0).then(function(){x.e.trace("coding-exercises",{id:e.eventHandler.pusherChannel.toString(),event:"frontend.evaluate_success",duration:(new Date-t)/1e3})}).catch(function(){e._evaluatorErrorHandler("backend_error"),e.eventHandler.destroy()})}},{key:"onSubscriptionError",value:function(){this._evaluatorErrorHandler("pusher_subscription_error")}},{key:"evaluate",value:function(){this.isEvaluating||(this.isEvaluating=!0,this.hasEvaluationFailed=!1,this.checkSolutionOutput={},this.eventHandler&&this.eventHandler.destroy(),this.eventHandler=new Nh.a(this.evaluatorResponseHandler,this.evaluatorTimeoutHandler,this.onSubscriptionSucceeded,this.onSubscriptionError,T.a.third_party.pusher.coding_exercise_event),x.e.trace("coding-exercises",{id:this.eventHandler.pusherChannel.toString(),assessmentId:this.question.id,userType:"student",event:"frontend.evaluate"}),x.e.increment("quiz.coding_exercise.frontend.evaluate.start"),this.evaluationStartDate=new Date)}},{key:"isActiveFile",value:function(e){return e.fileName===this.activeFile.fileName}},{key:"quiz",get:function(){return this.quizViewStore.quiz}},{key:"question",get:function(){return this.quizViewStore.questions[0]}},{key:"attempt",get:function(){return this.quizViewStore.attempt}},{key:"htmlFile",get:function(){var e=this.studentFiles.filter(function(e){var t=Lh(e.fileName);return"html"===t||"htm"===t});return 0<e.length?e[0]:null}},{key:"isPreviewVisible",get:function(){return"html"===(this.question.prompt.language||"").toLowerCase()&&!!this.htmlFile}}]),r}(),gh=babelHelpers.applyDecoratedDescriptor(fh.prototype,"activeFile",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vh=babelHelpers.applyDecoratedDescriptor(fh.prototype,"studentFiles",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wh=babelHelpers.applyDecoratedDescriptor(fh.prototype,"currentLine",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),kh=babelHelpers.applyDecoratedDescriptor(fh.prototype,"currentColumn",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ch=babelHelpers.applyDecoratedDescriptor(fh.prototype,"hasCheckedSolutionOnce",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_h=babelHelpers.applyDecoratedDescriptor(fh.prototype,"isEvaluating",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sh=babelHelpers.applyDecoratedDescriptor(fh.prototype,"hasSolutionPassed",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jh=babelHelpers.applyDecoratedDescriptor(fh.prototype,"hasEvaluationFailed",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Eh=babelHelpers.applyDecoratedDescriptor(fh.prototype,"savingStatus",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zh.SUCCESS}}),Dh=babelHelpers.applyDecoratedDescriptor(fh.prototype,"evaluatorFeedback",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xh=babelHelpers.applyDecoratedDescriptor(fh.prototype,"logOutput",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),babelHelpers.applyDecoratedDescriptor(fh.prototype,"reset",[J.action],Object.getOwnPropertyDescriptor(fh.prototype,"reset"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"setFiles",[J.action],Object.getOwnPropertyDescriptor(fh.prototype,"setFiles"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"updateFile",[X.a],Object.getOwnPropertyDescriptor(fh.prototype,"updateFile"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"updateCursorPosition",[X.a,J.action],Object.getOwnPropertyDescriptor(fh.prototype,"updateCursorPosition"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"selectFile",[J.action],Object.getOwnPropertyDescriptor(fh.prototype,"selectFile"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"saveCodingExercise",[X.a,J.action],Object.getOwnPropertyDescriptor(fh.prototype,"saveCodingExercise"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"evaluatorResponseHandler",[X.a,J.action],Object.getOwnPropertyDescriptor(fh.prototype,"evaluatorResponseHandler"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"_evaluatorErrorHandler",[J.action],Object.getOwnPropertyDescriptor(fh.prototype,"_evaluatorErrorHandler"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"evaluatorTimeoutHandler",[X.a],Object.getOwnPropertyDescriptor(fh.prototype,"evaluatorTimeoutHandler"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"onSubscriptionSucceeded",[X.a],Object.getOwnPropertyDescriptor(fh.prototype,"onSubscriptionSucceeded"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"onSubscriptionError",[X.a],Object.getOwnPropertyDescriptor(fh.prototype,"onSubscriptionError"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"evaluate",[X.a,J.action],Object.getOwnPropertyDescriptor(fh.prototype,"evaluate"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"htmlFile",[J.computed],Object.getOwnPropertyDescriptor(fh.prototype,"htmlFile"),fh.prototype),babelHelpers.applyDecoratedDescriptor(fh.prototype,"isPreviewVisible",[J.computed],Object.getOwnPropertyDescriptor(fh.prototype,"isPreviewVisible"),fh.prototype),fh),Cm=r("./src/udemy/js/base-components/safe-anchor.react-component.js"),_m=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/editor-footer.less"),Object(At.c)("codingExerciseStore")(Fh=Object(At.d)(($h=Vh=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"showResetConfirmation",Bh,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"showConfirmResetModal",value:function(){this.showResetConfirmation=!0}},{key:"hideConfirmResetModal",value:function(){this.showResetConfirmation=!1}},{key:"resetCode",value:function(){this.props.codingExerciseStore.reset(),this.hideConfirmResetModal()}},{key:"render",value:function(){var e;switch(this.props.codingExerciseStore.savingStatus){case zh.SAVING:e=gettext("Saving changes...");break;case zh.SUCCESS:e=gettext("All changes saved");break;case zh.ERROR:e=gettext("Error saving your changes!");break;default:e=void 0}return Nt.a.createElement("div",{className:"editor-footer--footer--3fPTt"},Nt.a.createElement("div",null,Nt.a.createElement("span",{className:"editor-footer--message--2iO3l","data-purpose":"location-message"},interpolate(gettext("Line %(line)s, Column %(column)s"),{line:this.props.codingExerciseStore.currentLine,column:this.props.codingExerciseStore.currentColumn},!0)),e&&Nt.a.createElement("span",{className:"editor-footer--message--2iO3l","data-purpose":"status-message"},e)),Nt.a.createElement(Cm.default,{onClick:this.showConfirmResetModal,"data-purpose":"reset-button"},gettext("Reset code")),Nt.a.createElement(qi.a,{body:gettext("Are you sure? This will delete the code that you wrote so far to solve this problem."),confirmText:gettext("Yes, reset"),onCancel:this.hideConfirmResetModal,onConfirm:this.resetCode,show:this.showResetConfirmation}))}}]),i}(Nt.a.Component),Vh.propTypes={codingExerciseStore:Rt.a.instanceOf(km).isRequired},Uh=$h,Bh=babelHelpers.applyDecoratedDescriptor(Uh.prototype,"showResetConfirmation",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Uh.prototype,"showConfirmResetModal",[X.a,J.action],Object.getOwnPropertyDescriptor(Uh.prototype,"showConfirmResetModal"),Uh.prototype),babelHelpers.applyDecoratedDescriptor(Uh.prototype,"hideConfirmResetModal",[X.a,J.action],Object.getOwnPropertyDescriptor(Uh.prototype,"hideConfirmResetModal"),Uh.prototype),babelHelpers.applyDecoratedDescriptor(Uh.prototype,"resetCode",[X.a],Object.getOwnPropertyDescriptor(Uh.prototype,"resetCode"),Uh.prototype),Fh=Uh))||Fh)||Fh),Sm=r("./src/udemy/js/base-components/resizer.react-component.js"),jm=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/file.less"),{"./file.less":{file:"file--file--26jVU","font-text-xs":"file--font-text-xs--1AZgS",transition:"file--transition--1qugj",active:"file--active--1hujZ"}}),Em=Object(At.c)("codingExerciseStore")(Qh=Object(At.d)((Yh=Gh=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"selectFile",value:function(){this.props.codingExerciseStore.selectFile(this.props.file)}},{key:"render",value:function(){var e=Et()({active:this.props.codingExerciseStore.isActiveFile(this.props.file)});return Nt.a.createElement("li",{className:"file--file--26jVU"},Nt.a.createElement(Cm.default,{onClick:this.selectFile,className:Sn()(e,jm)},this.props.file.fileName))}}]),t}(Nt.a.Component),Gh.propTypes={codingExerciseStore:Rt.a.instanceOf(km).isRequired,file:Rt.a.object.isRequired},Wh=Yh,babelHelpers.applyDecoratedDescriptor(Wh.prototype,"selectFile",[X.a],Object.getOwnPropertyDescriptor(Wh.prototype,"selectFile"),Wh.prototype),Qh=Wh))||Qh)||Qh,Dm=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/files.less"),Object(At.c)("codingExerciseStore")(Kh=Object(At.d)((Jh=Xh=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onMove",value:function(e,t){t.container.style.width="".concat(Math.max(20,t.width),"px")}},{key:"render",value:function(){return Nt.a.createElement(Sm.a,{className:"files--files--3qD0M",onMove:this.onMove,edges:{right:!0}},Nt.a.createElement("ul",{className:"files--file-list--1Bye_"},this.props.codingExerciseStore.studentFiles.map(function(e){return Nt.a.createElement(Em,{key:e.fileName,file:e})})),Nt.a.createElement("div",{className:"files--drag-handle--3GHk5"}))}}]),t}(Nt.a.Component),Xh.propTypes={codingExerciseStore:Rt.a.instanceOf(km).isRequired},Kh=Jh))||Kh)||Kh),xm=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/instructions.less"),Object(At.c)("quizViewStore")(Zh=Object(At.d)((tm=em=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onMove",value:function(e,t){t.container.style.height="".concat(Math.min(500,Math.max(100,t.height)),"px")}},{key:"render",value:function(){var e=this.props.quizViewStore.quiz,t=this.props.quizViewStore.questions[0];return Nt.a.createElement(Sm.a,{className:"instructions--instructions--2HWUl",onMove:this.onMove,edges:{bottom:!0}},Nt.a.createElement("div",{className:"instructions--content--1hKmi"},Nt.a.createElement("div",{className:"instructions--title--2p5jQ","data-purpose":"exercise-title"},e.title),t.prompt.instructions?Nt.a.createElement(_r.a,{className:"instructions--description--2w0Q2",unsafeHTML:t.prompt.instructions}):null),Nt.a.createElement("div",{className:"instructions--drag-handle--3LQua"}))}}]),t}(Nt.a.Component),em.propTypes={quizViewStore:Rt.a.object.isRequired},Zh=tm))||Zh)||Zh),Om=r("./node_modules/loop-protect/lib/loop-protect.js"),Tm=r.n(Om),Pm=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/output.less"),{"./output.less":{output:"output--output--32DxD",resizing:"output--resizing--caXUw","output-section":"output--output-section--34JhL",title:"output--title--VP8Ah","font-text-md":"output--font-text-md--2kvZd","font-text-xs":"output--font-text-xs--2_gvg",preview:"output--preview--1Dsmu","drag-handle":"output--drag-handle--3vuaY"}}),Hm=Object(At.c)("codingExerciseStore")(rm=Object(At.d)((sm=im=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isPanelResizing",nm,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.previewIframe=void 0,t.disposeFilesWatcher=void 0,t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){var e=this;Tm.a.alias="window.runnerWindow.protect",this.debouncedGeneratePreview=Object($a.a)(this.generatePreview,1e3),this.disposeFilesWatcher=Object(J.reaction)(function(){return e.props.codingExerciseStore.studentFiles.map(function(e){return e.content})},this.debouncedGeneratePreview)}},{key:"componentWillUnmount",value:function(){this.disposeFilesWatcher&&this.disposeFilesWatcher()}},{key:"_mergeFilesWithExtension",value:function(t){return this.props.codingExerciseStore.studentFiles.filter(function(e){return Lh(e.fileName)===t}).map(function(e){return e.content}).join("\n")}},{key:"computeIframeContent",value:function(){var e=document.createElement("html");e.innerHTML=this.props.codingExerciseStore.htmlFile.content;var t=e.getElementsByTagName("head")[0];t||(t=document.createElement("head"),e.appendChild(t));var r=document.createElement("style");r.innerHTML=this._mergeFilesWithExtension("css"),t.appendChild(r);var o=e.getElementsByTagName("body")[0];o||(o=document.createElement("body"),e.appendChild(o));var n=document.createElement("script");n.type="text/javascript";var i=this._mergeFilesWithExtension("js");try{i=Tm()(i)}catch(e){}return n.innerHTML=i,o.appendChild(n),e.outerHTML}},{key:"generatePreview",value:function(){this.previewIframe&&this.previewIframe.contentWindow.postMessage(JSON.stringify({type:"render",data:{source:this.computeIframeContent(),options:{requested:!0}}}),"*")}},{key:"onMove",value:function(e,t){t.container.style.width="".concat(Math.max(20,t.width),"px")}},{key:"onResizerStart",value:function(){this.isPanelResizing=!0}},{key:"onResizerEnd",value:function(){this.isPanelResizing=!1}},{key:"render",value:function(){return Nt.a.createElement(Sm.a,{className:"output--output--32DxD",onMove:this.onMove,onStart:this.onResizerStart,onEnd:this.onResizerEnd,edges:{left:!0}},Nt.a.createElement("div",{className:"output--drag-handle--3vuaY"}),this.feedback,this.logOutput,this.preview)}},{key:"feedbackTitle",get:function(){return this.props.codingExerciseStore.hasSolutionPassed?Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(Kt.a,{glyph:"check",className:"text-success mr-space-xs"}),gettext("Well done, your solution is correct!")):this.props.codingExerciseStore.hasEvaluationFailed?Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(Kt.a,{glyph:"warning",className:"text-danger mr-space-xs"}),gettext("Oops, there was an error on our end. Please try again.")):Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(Kt.a,{glyph:"warning",className:"text-danger mr-space-xs"}),gettext("Oops, your solution is incorrect."))}},{key:"feedbackContent",get:function(){return this.props.codingExerciseStore.hasSolutionPassed||!this.props.codingExerciseStore.evaluatorFeedback?null:Nt.a.createElement("pre",{"data-purpose":"feedback-content"},this.props.codingExerciseStore.evaluatorFeedback)}},{key:"feedback",get:function(){return this.props.codingExerciseStore.hasCheckedSolutionOnce?Nt.a.createElement("div",{className:"output--output-section--34JhL"},Nt.a.createElement("div",{className:"output--title--VP8Ah","data-purpose":"feedback-title"},this.feedbackTitle),this.feedbackContent):null}},{key:"logOutput",get:function(){return this.props.codingExerciseStore.hasCheckedSolutionOnce&&this.props.codingExerciseStore.logOutput?Nt.a.createElement("div",{className:"output--output-section--34JhL"},Nt.a.createElement("div",{className:"output--title--VP8Ah","data-purpose":"log-title"},gettext("Your output")),Nt.a.createElement("pre",{"data-purpose":"log-content"},this.props.codingExerciseStore.logOutput)):null}},{key:"preview",get:function(){var t=this;if(!this.props.codingExerciseStore.isPreviewVisible)return null;var e=Et()({resizing:this.isPanelResizing});return Nt.a.createElement("div",{className:"output--preview--1Dsmu"},Nt.a.createElement("iframe",{src:"https://null.udemy.com/staticx/udemy/js/other-libs/jsbin/iframe.html",sandbox:"allow-pointer-lock allow-same-origin allow-modals allow-forms allow-popups allow-scripts",title:gettext("Code output"),ref:function(e){t.previewIframe=e},onLoad:this.generatePreview,className:Sn()(e,Pm)}))}}]),i}(Nt.a.Component),im.propTypes={codingExerciseStore:Rt.a.instanceOf(km).isRequired},om=sm,nm=babelHelpers.applyDecoratedDescriptor(om.prototype,"isPanelResizing",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(om.prototype,"generatePreview",[X.a],Object.getOwnPropertyDescriptor(om.prototype,"generatePreview"),om.prototype),babelHelpers.applyDecoratedDescriptor(om.prototype,"onResizerStart",[X.a,J.action],Object.getOwnPropertyDescriptor(om.prototype,"onResizerStart"),om.prototype),babelHelpers.applyDecoratedDescriptor(om.prototype,"onResizerEnd",[X.a,J.action],Object.getOwnPropertyDescriptor(om.prototype,"onResizerEnd"),om.prototype),rm=om))||rm)||rm,Am=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/coding-exercise.less"),{"./coding-exercise.less":{"coding-exercise":"coding-exercise--coding-exercise--aYcPu",fx:"coding-exercise--fx--3p_zS","m_fx-flex":"coding-exercise--m_fx-flex--2857q","m_fx-direction":"coding-exercise--m_fx-direction--3atxZ",workspace:"coding-exercise--workspace--18c0c","fx-str":"coding-exercise--fx-str--2Fr6d","fx-lt":"coding-exercise--fx-lt--22srW","editor-container":"coding-exercise--editor-container--2jurh","fx-dc":"coding-exercise--fx-dc--342dp",editor:"coding-exercise--editor--1M2I9","check-waiting":"coding-exercise--check-waiting--38ss-",primary:"coding-exercise--primary--2GcQL","check-primary":"coding-exercise--check-primary--3zobQ",waiting:"coding-exercise--waiting--34TW0","hint-tooltip":"coding-exercise--hint-tooltip--143Vy"}}),Im=Object(At.c)("$state","$rootScope","courseExperienceStore","courseTakingStore","quizViewStore")(am=Object(At.d)((um=cm=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).codingExerciseStore=new km(t.props.courseExperienceStore,t.props.quizViewStore),t.codingExerciseStore.initializeFiles(),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){this.codingExerciseStore.loadStudentFiles()}},{key:"renderBody",value:function(){return Nt.a.createElement("div",{className:"fullscreen coding-exercise--coding-exercise--aYcPu"},Nt.a.createElement(xm,null),Nt.a.createElement("div",{className:"coding-exercise--workspace--18c0c"},Nt.a.createElement(Dm,null),Nt.a.createElement("div",{className:"coding-exercise--editor-container--2jurh"},Nt.a.createElement("div",{className:"coding-exercise--editor--1M2I9"},this.codingExerciseStore.activeFile&&Nt.a.createElement(Ah.a,{file:this.codingExerciseStore.activeFile,updateFile:this.codingExerciseStore.updateFile,updateCursorPosition:this.codingExerciseStore.updateCursorPosition})),Nt.a.createElement(_m,null)),Nt.a.createElement(Hm,null)))}},{key:"renderFooter",value:function(){return Nt.a.createElement(An,{reportId:this.codingExerciseStore.question.id,reportType:"assessment",leftButtons:this.leftFooterButtons,rightButtons:this.rightFooterButtons})}},{key:"render",value:function(){if(!this.codingExerciseStore.question)return null;var e=Et()({fullscreen:!0,"right-panel-open":this.props.courseTakingStore.isRightPanelActive});return Nt.a.createElement(At.b,{$state:this.props.$state,courseExperienceStore:this.props.courseExperienceStore,courseTakingStore:this.props.courseTakingStore,quizViewStore:this.props.quizViewStore,codingExerciseStore:this.codingExerciseStore},Nt.a.createElement("div",{className:e},Nt.a.createElement(qh,{isLoading:!1,renderBody:this.renderBody,renderFooter:this.renderFooter})))}},{key:"leftFooterButtons",get:function(){var e=Nt.a.createElement(Lu.a,{placement:"top-left",bsStyle:"neutral",width:200,id:"hint-tooltip",className:"coding-exercise--hint-tooltip--143Vy",withChevron:!0},gettext("Stuck? Ask a question to get help from your instructor & fellow students."));return!this.codingExerciseStore.hasCheckedSolutionOnce||this.codingExerciseStore.hasSolutionPassed?Nt.a.createElement(En,{courseTakingStore:this.props.courseTakingStore}):Nt.a.createElement(up.a,{tooltip:e,systemMessageId:Yu.a.ids.codingExerciseHint},Nt.a.createElement(En,{courseTakingStore:this.props.courseTakingStore}))}},{key:"rightFooterButtons",get:function(){var e=Et()({"check-waiting":this.codingExerciseStore.isEvaluating,"check-primary":!this.codingExerciseStore.isEvaluating});return Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(tr.default,{bsSize:"small","data-purpose":"check-button",onClick:this.codingExerciseStore.evaluate,className:Sn()(e,Am)},Nt.a.createElement("div",{className:"coding-exercise--primary--2GcQL"},gettext("Check solution")),Nt.a.createElement("div",{className:"coding-exercise--waiting--34TW0"},Nt.a.createElement(Kt.a,{glyph:"circle-loader",size:"small"}),gettext("Checking"))),Nt.a.createElement(_i,{$rootScope:this.props.$rootScope,courseExperienceStore:this.props.courseExperienceStore}))}}]),r}(Nt.a.Component),cm.propTypes={$state:Rt.a.object.isRequired,$rootScope:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},lm=um,babelHelpers.applyDecoratedDescriptor(lm.prototype,"renderBody",[X.a],Object.getOwnPropertyDescriptor(lm.prototype,"renderBody"),lm.prototype),babelHelpers.applyDecoratedDescriptor(lm.prototype,"renderFooter",[X.a],Object.getOwnPropertyDescriptor(lm.prototype,"renderFooter"),lm.prototype),am=lm))||am)||am,Rm=r("./node_modules/react-router-dom/es/matchPath.js"),qm=Object.freeze({START:"START",QUESTION:"QUESTION",RESULTS:"RESULTS",DETAILED_RESULT:"DETAILED_RESULT"}),Nm=["id","created","viewed_time","completion_time","version","elapsed_time","results_summary"],zm=r("./node_modules/lodash-es/groupBy.js"),Mm=r("./node_modules/lodash-es/orderBy.js"),Lm=r("./src/udemy/js/utils/window-measurement.mobx-store.js"),Fm=Object.freeze({COULD_NOT_CREATE_ATTEMPT:"ERROR_COULD_NOT_CREATE_ATTEMPT",COULD_NOT_DELETE_ATTEMPT:"ERROR_COULD_NOT_DELETE_ATTEMPT",COULD_NOT_LOAD_ATTEMPT_STATS:"ERROR_COULD_NOT_LOAD_ATTEMPT_STATS",COULD_NOT_LOAD_QUESTIONS:"ERROR_COULD_NOT_LOAD_QUESTIONS",COULD_NOT_LOAD_QUIZ:"ERROR_COULD_NOT_LOAD_QUIZ",COULD_NOT_RESET_QUIZ_PROGRESS:"ERROR_COULD_NOT_RESET_QUIZ_PROGRESS",COULD_NOT_SAVE_ANSWER:"ERROR_COULD_NOT_SAVE_ANSWER",NO_TEST_RESULT:"ERROR_NO_TEST_RESULT",NO_TEST_RESULT_QUESTIONS:"ERROR_NO_TEST_RESULT_QUESTIONS"}),Um=Object.freeze(new Set(Object.values(Fm))),Bm=Object.freeze({CORRECT:0,INCORRECT:1,SKIPPED:2}),Vm=Object.freeze({CODING_PROBLEM:"coding-problem",FILL_IN_THE_BLANK:"fill-in-the-blanks",MULTIPLE_CHOICE:"multiple-choice",MULTIPLE_SELECT:"multi-select"}),$m=babelHelpers.defineProperty({DEFAULT:["id","assessment_type","prompt","correct_response","section","question_plain","related_lectures"]},Ie.CODING_EXERCISE,["id","assessment_type","prompt","correct_response"]),Qm={DEFAULT:["id","response","assessment","is_marked_for_review"]},Wm=babelHelpers.defineProperty({DEFAULT:["id","created","viewed_time","completion_time","version","completed_assessments","results_summary"]},Ie.PRACTICE_TEST,["id","created","viewed_time","completion_time","version","completed_assessments","current_assessment_id","is_paused","elapsed_time","results_summary","ignore_time_limit"]),Gm=["id","type","title","description","object_index","num_assessments","version","duration","is_draft","pass_percent","changelog"],Ym=r("./src/udemy/js/utils/ud-raven.js"),Km=(pm=function(){function r(e,t){babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"attemptId",dm,this),babelHelpers.initializerDefineProperty(this,"elapsedUntilLastActivity",hm,this),babelHelpers.initializerDefineProperty(this,"elapsedSinceLastActivity",mm,this),babelHelpers.initializerDefineProperty(this,"ignoreTimeLimit",bm,this),babelHelpers.initializerDefineProperty(this,"intervalId",ym,this),babelHelpers.initializerDefineProperty(this,"isPaused",fm,this),babelHelpers.initializerDefineProperty(this,"isTimesUpConfirmationOpen",gm,this),babelHelpers.initializerDefineProperty(this,"lastActivityDate",vm,this),this.quizViewStore=t,this.confirmStopTest=e.confirmStopTest}return babelHelpers.createClass(r,[{key:"initialize",value:function(){var e=this.quizViewStore.attempt;this.attemptId=e.id,this.elapsedUntilLastActivity=e.elapsed_time||0,this.elapsedSinceLastActivity=0,this.ignoreTimeLimit=e.ignore_time_limit,this.isPaused=e.is_paused,this.lastActivityDate=Date.now(),this.timeRemaining<=0&&!this.ignoreTimeLimit?this.showTimesUpConfirmation({save:!1}):this.isPaused||this._start()}},{key:"pause",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{save:!0},t=!this.isPaused;this.isPaused=!0,this._stop(),e.save&&t&&this.quizViewStore.updateAttempt({is_paused:!0}).catch(this.errorHandler)}},{key:"unpause",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{save:!0},t=this.isPaused;this.isPaused=!1,this._start(),e.save&&t&&this.quizViewStore.updateAttempt({is_paused:!1}).catch(this.errorHandler)}},{key:"_start",value:function(){null===this.intervalId&&(this.resetLastActivity(),this.intervalId=setInterval(this._tick,200))}},{key:"_stop",value:function(){null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}},{key:"_tick",value:function(){try{if(!this.isInitialized)throw new Error("Timer is not initialized- did the attempt change?");var e=Math.floor((Date.now()-this.lastActivityDate)/1e3);e>this.elapsedSinceLastActivity&&(this.elapsedSinceLastActivity=e),this.timeRemaining<=0&&!this.ignoreTimeLimit?this.showTimesUpConfirmation():300<=this.elapsedSinceLastActivity&&this.pause()}catch(e){throw this._stop(),e}}},{key:"resetLastActivity",value:function(){this.elapsedUntilLastActivity+=this.elapsedSinceLastActivity,this.elapsedSinceLastActivity=0,this.lastActivityDate=Date.now()}},{key:"showTimesUpConfirmation",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{save:!0};this.isTimesUpConfirmationOpen=!0,this.pause(e)}},{key:"cancelTimesUp",value:function(){this.isTimesUpConfirmationOpen=!1,this.ignoreTimeLimit=!0,this.unpause({save:!1}),this.quizViewStore.updateAttempt({ignore_time_limit:!0,is_paused:!1}).catch(this.errorHandler)}},{key:"confirmTimesUp",value:function(){this.isTimesUpConfirmationOpen=!1,this.confirmStopTest()}},{key:"errorHandler",value:function(e){!e.response&&e.message&&Ym.a.captureException(e)}},{key:"isInitialized",get:function(){return!!this.quizViewStore.attempt&&this.quizViewStore.attempt.id===this.attemptId}},{key:"timeRemaining",get:function(){return this.quizViewStore.attempt.results_summary.duration-(this.elapsedUntilLastActivity+this.elapsedSinceLastActivity)}},{key:"isPausedModalOpen",get:function(){return this.isInitialized&&!this.isTimesUpConfirmationOpen&&this.isPaused}}]),r}(),dm=babelHelpers.applyDecoratedDescriptor(pm.prototype,"attemptId",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hm=babelHelpers.applyDecoratedDescriptor(pm.prototype,"elapsedUntilLastActivity",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mm=babelHelpers.applyDecoratedDescriptor(pm.prototype,"elapsedSinceLastActivity",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bm=babelHelpers.applyDecoratedDescriptor(pm.prototype,"ignoreTimeLimit",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ym=babelHelpers.applyDecoratedDescriptor(pm.prototype,"intervalId",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fm=babelHelpers.applyDecoratedDescriptor(pm.prototype,"isPaused",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gm=babelHelpers.applyDecoratedDescriptor(pm.prototype,"isTimesUpConfirmationOpen",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vm=babelHelpers.applyDecoratedDescriptor(pm.prototype,"lastActivityDate",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(pm.prototype,"isInitialized",[J.computed],Object.getOwnPropertyDescriptor(pm.prototype,"isInitialized"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"timeRemaining",[J.computed],Object.getOwnPropertyDescriptor(pm.prototype,"timeRemaining"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"isPausedModalOpen",[J.computed],Object.getOwnPropertyDescriptor(pm.prototype,"isPausedModalOpen"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"initialize",[J.action],Object.getOwnPropertyDescriptor(pm.prototype,"initialize"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"pause",[J.action],Object.getOwnPropertyDescriptor(pm.prototype,"pause"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"unpause",[J.action],Object.getOwnPropertyDescriptor(pm.prototype,"unpause"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"_start",[J.action],Object.getOwnPropertyDescriptor(pm.prototype,"_start"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"_stop",[J.action],Object.getOwnPropertyDescriptor(pm.prototype,"_stop"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"_tick",[X.a,J.action],Object.getOwnPropertyDescriptor(pm.prototype,"_tick"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"resetLastActivity",[J.action],Object.getOwnPropertyDescriptor(pm.prototype,"resetLastActivity"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"showTimesUpConfirmation",[J.action],Object.getOwnPropertyDescriptor(pm.prototype,"showTimesUpConfirmation"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"cancelTimesUp",[X.a,J.action],Object.getOwnPropertyDescriptor(pm.prototype,"cancelTimesUp"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"confirmTimesUp",[X.a,J.action],Object.getOwnPropertyDescriptor(pm.prototype,"confirmTimesUp"),pm.prototype),babelHelpers.applyDecoratedDescriptor(pm.prototype,"errorHandler",[X.a],Object.getOwnPropertyDescriptor(pm.prototype,"errorHandler"),pm.prototype),pm),Xm={label:gettext("All questions"),filter:function(e){return e}},Jm={label:gettext("Correct"),filter:function(e){return e.isCorrect}},Zm={label:gettext("Incorrect"),filter:function(e){return e.isIncorrect}},eb={label:gettext("Skipped"),filter:function(e){return!e.isAnswered&&e.wasSkipped}},tb={label:gettext("Marked for review"),filter:function(e){return e.isMarkedForReview}},rb={ALL_QUESTIONS:Xm,SKIPPED:eb,MARKED_FOR_REVIEW:tb},ob={ALL_QUESTIONS:Xm,CORRECTLY_ANSWERED:Jm,INCORRECTLY_ANSWERED:Zm,SKIPPED:eb,MARKED_FOR_REVIEW:tb},nb={correct:{color:Uc.a["color-green-light"],label:gettext("Correct")},incorrect:{color:Uc.a["color-danger-light"],label:gettext("Wrong answer")},skipped:{color:Uc.a["color-rain"],label:gettext("Skipped")}};function ib(n,e){return{chart:{type:"pie",width:e.width,height:e.height,backgroundColor:"transparent",margin:[0,0,0,0]},credits:{enabled:!1},title:{text:""},tooltip:{pointFormat:"<b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},innerSize:"70%"}},series:[{data:Object.entries(nb).map(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1];return{name:o.label,y:n.results_summary[r]||0,color:o.color}}),states:{hover:{halo:!1}}}]}}var sb,ab,lb,cb,ub,pb,db,hb,mb,bb,yb,fb,gb,vb,wb,kb,Cb,_b,Sb,jb,Eb,Db,xb,Ob,Tb,Pb,Hb,Ab=(wm=function(){function o(e){babelHelpers.classCallCheck(this,o);var t=e.results_summary;this.completionTime=e.completion_time,this.created=e.created,this.durationMinutes=Math.floor(t.duration/60)%60,this.durationHours=Math.floor(t.duration/3600),this.elapsedSeconds=Math.round(e.elapsed_time%60),this.elapsedMinutes=Math.floor(e.elapsed_time/60)%60,this.elapsedHours=Math.floor(e.elapsed_time/3600),this.id=e.id,this.isRandomized=t.is_randomized,t.total?(this.numAssessments=t.total,this.numCorrect=t.correct,this.correctPercent=Math.floor(100*t.correct/t.total)):(this.numAssessments=0,this.numCorrect=0,this.correctPercent=0),this.number=t.index;var r=e.elapsed_time-t.duration;this.overtimeSeconds=Math.max(0,Math.round(r%60)),this.overtimeMinutes=Math.max(0,Math.floor(r/60)),this.passed=t.passed,this.passPercent=t.pass_percent,this.version=e.version,this.bigChart=ib(e,{width:300,height:250}),this.smallChart=ib(e,{width:100,height:80}),this.knowledgeAreas=(t.sections||[]).map(function(e){return new Ib(e)}),Object(J.extendObservable)(this,{isExpanded:!1,activeKnowledgeAreaFilter:null,activeQuestionFilterKey:"ALL_QUESTIONS",questions:[],areQuestionsSet:!1})}return babelHelpers.createClass(o,[{key:"setIsExpanded",value:function(e){this.isExpanded=e}},{key:"setActiveKnowledgeAreaFilter",value:function(e){this.activeKnowledgeAreaFilter=e}},{key:"setActiveQuestionFilterKey",value:function(e){this.activeQuestionFilterKey=e}},{key:"setQuestions",value:function(e){this.questions=e,this.areQuestionsSet=!0}},{key:"filteredQuestions",get:function(){var t=this;return this.questions.filter(function(e){return!t.activeKnowledgeAreaFilter||e.knowledgeArea===t.activeKnowledgeAreaFilter}).filter(ob[this.activeQuestionFilterKey].filter)}}]),o}(),babelHelpers.applyDecoratedDescriptor(wm.prototype,"filteredQuestions",[J.computed],Object.getOwnPropertyDescriptor(wm.prototype,"filteredQuestions"),wm.prototype),babelHelpers.applyDecoratedDescriptor(wm.prototype,"setIsExpanded",[J.action],Object.getOwnPropertyDescriptor(wm.prototype,"setIsExpanded"),wm.prototype),babelHelpers.applyDecoratedDescriptor(wm.prototype,"setActiveKnowledgeAreaFilter",[J.action],Object.getOwnPropertyDescriptor(wm.prototype,"setActiveKnowledgeAreaFilter"),wm.prototype),babelHelpers.applyDecoratedDescriptor(wm.prototype,"setActiveQuestionFilterKey",[J.action],Object.getOwnPropertyDescriptor(wm.prototype,"setActiveQuestionFilterKey"),wm.prototype),babelHelpers.applyDecoratedDescriptor(wm.prototype,"setQuestions",[J.action],Object.getOwnPropertyDescriptor(wm.prototype,"setQuestions"),wm.prototype),wm),Ib=function e(t){babelHelpers.classCallCheck(this,e),this.name=t.name,this.numAssessments=t.results.total,this.numCorrect=t.results.correct,this.numIncorrect=t.results.incorrect,this.numSkipped=t.results.skipped,0<this.numAssessments?(this.correctPercent=Math.round(100*this.numCorrect/this.numAssessments),this.incorrectPercent=Math.round(100*this.numIncorrect/this.numAssessments),this.skippedPercent=100-this.correctPercent-this.incorrectPercent):(this.correctPercent=0,this.incorrectPercent=0,this.skippedPercent=0)},Rb=(sb=J.observable.ref,ab=J.observable.ref,lb=function(){function n(e,t,r,o){babelHelpers.classCallCheck(this,n),babelHelpers.initializerDefineProperty(this,"isStartingARetake",cb,this),babelHelpers.initializerDefineProperty(this,"isStartPageLoaded",ub,this),babelHelpers.initializerDefineProperty(this,"isPreparingNewAttempt",pb,this),babelHelpers.initializerDefineProperty(this,"isTakingTest",db,this),babelHelpers.initializerDefineProperty(this,"isQuestionNavOpen",hb,this),babelHelpers.initializerDefineProperty(this,"isFinishTestConfirmationOpen",mb,this),babelHelpers.initializerDefineProperty(this,"isStopTestConfirmationOpen",bb,this),babelHelpers.initializerDefineProperty(this,"testResults",yb,this),this._loadTestResultsPromise=null,babelHelpers.initializerDefineProperty(this,"areTestResultsLoaded",fb,this),babelHelpers.initializerDefineProperty(this,"detailedTestResult",gb,this),babelHelpers.initializerDefineProperty(this,"isVersionAlertDismissed",vb,this),babelHelpers.initializerDefineProperty(this,"changelogModal",wb,this),this.courseExperienceStore=e,this.courseTakingStore=t,this.quizViewStore=r,this.timer=new Km(this,r),this.history=null,this._isHistoryUnset=!1,this.viewModeService=o,this.setIsTakingTest(!!r.attempt&&!r.attempt.completion_time&&0<r.quiz.numAssessments)}return babelHelpers.createClass(n,[{key:"setIsTakingTest",value:function(e){this.isTakingTest=e}},{key:"retakeTest",value:function(){this.isStartingARetake=!0,this.goToStartPage()}},{key:"ensureStartPageIsLoaded",value:function(){var t=this;return this.resetIsStartPageLoaded(),this.isStartPageLoaded?Promise.resolve():this.quizViewStore.deleteAttempt().then(Object(J.action)(function(){t.isStartPageLoaded=!0})).catch(function(e){t.quizViewStore.setAPIErrorCode(e,Fm.COULD_NOT_DELETE_ATTEMPT),t.errorHandler(e)})}},{key:"resetIsStartPageLoaded",value:function(){this.isStartPageLoaded=!this.viewModeService.isPreviewing()&&!this.quizViewStore.isAttemptWithoutQuestions}},{key:"startTest",value:function(){var t=this;return this.isPreparingNewAttempt=!0,this.quizViewStore.createNewAttempt().catch(function(e){throw t.quizViewStore.setAPIErrorCode(e,Fm.COULD_NOT_CREATE_ATTEMPT),e}).then(function(){return t.quizViewStore.loadQuestionsForLatestAttempt()}).then(Object(J.action)(function(e){e.forEach(function(e){e.resetObservableData()}),t.quizViewStore.setQuestions(e),t.quizViewStore.track("started-quiz-attempt",{num_questions:t.quizViewStore.questions.length}),t.goToQuestionPage({replace:!0})})).catch(Object(J.action)(function(e){t.isPreparingNewAttempt=!1,t.quizViewStore.setAPIErrorCode(e,Fm.COULD_NOT_LOAD_QUESTIONS),t.errorHandler(e)}))}},{key:"ensureQuestionPageIsLoaded",value:function(){var n=this;return this.quizViewStore.areQuestionsLoaded?Promise.resolve():Promise.all([this.quizViewStore.loadQuestionsForLatestAttempt(),this.quizViewStore.loadUserAnswers(this.quizViewStore.attempt.id)]).then(Object(J.action)(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1];n.quizViewStore.mergeQuestionsAndUserAnswers(r,o),n.quizViewStore.setQuestions(r)})).catch(function(e){throw n.quizViewStore.setAPIErrorCode(e,Fm.COULD_NOT_LOAD_QUESTIONS),e})}},{key:"setCurrentTestQuestion",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.isPreparingNewAttempt=!1,this.isStartingARetake=!1,this.setIsTakingTest(!0);var r,o=this.quizViewStore.questions;r=null===e?Math.max(0,o.findIndex(function(e){return e.id===t.quizViewStore.attempt.current_assessment_id})):e-1,this.quizViewStore.setCurrentQuestionIndex(r),this.quizViewStore.attempt.current_assessment_id=this.quizViewStore.currentQuestion.id,this.quizViewStore.currentQuestion.setStartTime(),this.quizViewStore.currentQuestion.markSeen()}},{key:"goToPreviousQuestion",value:function(){var e=this.quizViewStore.currentQuestion;1<e.questionIndex&&this.setCurrentTestQuestion(e.questionIndex-1)}},{key:"goToNextQuestion",value:function(){var e=this.quizViewStore.currentQuestion;e.questionIndex<this.quizViewStore.questions.length?this.setCurrentTestQuestion(e.questionIndex+1):this.answerTestQuestion(e,e)}},{key:"navigateToQuestion",value:function(e){this.isRightPanelFullWidth&&this.closeQuestionNav(),e!==this.quizViewStore.currentQuestion&&this.setCurrentTestQuestion(e.questionIndex)}},{key:"skipTestQuestion",value:function(){this.quizViewStore.currentQuestion.markSkipped(),this.goToNextQuestion()}},{key:"toggleQuestionNav",value:function(){this.isQuestionNavOpen=!this.isQuestionNavOpen}},{key:"closeQuestionNav",value:function(){this.isQuestionNavOpen=!1}},{key:"toggleIsMarkedForReview",value:function(t){var r=this,e=t===this.quizViewStore.currentQuestion,o=t.selectedAnswers.map(function(e){return e.id}).slice().sort(),n=0;return e&&(n=Math.floor((Date.now()-t.startTime)/1e3)),t.setMarkedForReview(!t.isMarkedForReview),this.timer.resetLastActivity(),this.quizViewStore.answerQuestion(t.id,o,{duration:n,is_marked_for_review:t.isMarkedForReview}).then(function(){e&&t.setStartTime()}).catch(function(e){t.setMarkedForReview(!t.isMarkedForReview),r.quizViewStore.setAPIErrorCode(e,Fm.COULD_NOT_SAVE_ANSWER),r.errorHandler(e)})}},{key:"setUpAutoSaveOnQuestionOrAnswersChange",value:function(){var i=this;this._onQuestionOrAnswersChangeDisposer&&this._onQuestionOrAnswersChangeDisposer(),this._onQuestionOrAnswersChangeDisposer=Object(J.observe)(this,"currentQuestionAndAnswers",function(e){var t=e.newValue,r=e.oldValue;if(r&&t){var o=i.quizViewStore.questions[r.questionIndex-1],n=i.quizViewStore.questions[t.questionIndex-1];i.answerTestQuestion(o,n,{isAutoSave:!0,didQuestionChange:r.questionIndex!==t.questionIndex,didAnswersChange:r.answerIds!==t.answerIds})}})}},{key:"disposeAutoSaveOnQuestionOrAnswersChange",value:function(){this._onQuestionOrAnswersChangeDisposer&&this._onQuestionOrAnswersChangeDisposer(),this._onQuestionOrAnswersChangeDisposer=null}},{key:"answerTestQuestion",value:function(e,t){var r=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};o=babelHelpers.objectSpread({isAutoSave:!1,isFinishTestCanceled:!1,isFinishTestConfirmed:!1,didQuestionChange:e.id!==t.id,didAnswersChange:!0},o),this.timer.resetLastActivity();var n=e.selectedAnswers.map(function(e){return e.id}),i=n.slice().sort(),s=Math.floor((Date.now()-e.startTime)/1e3);return!o.didQuestionChange&&o.isAutoSave||(0===n.length?this.quizViewStore.track("skipped-question"):this.quizViewStore.track("answered-question",{answer:n,duration:s})),!(e.questionIndex===this.quizViewStore.questions.length)||o.isAutoSave||o.isFinishTestCanceled||o.isFinishTestConfirmed?this.quizViewStore.answerQuestion(e.id,i,{duration:s,current_assessment_id:t.id,marked_completed:o.isFinishTestConfirmed}).then(function(){o.isFinishTestConfirmed?r._finishTest():e.setStartTime()}).catch(function(e){e.response&&o.didQuestionChange&&!o.didAnswersChange||(r.quizViewStore.setAPIErrorCode(e,Fm.COULD_NOT_SAVE_ANSWER),r.errorHandler(e))}):(this.isFinishTestConfirmationOpen=!0,Promise.resolve())}},{key:"confirmFinishTest",value:function(){this.isFinishTestConfirmationOpen=!1;var e=this.quizViewStore.questions[this.quizViewStore.questions.length-1];this.answerTestQuestion(e,e,{isFinishTestConfirmed:!0})}},{key:"cancelFinishTest",value:function(){this.isFinishTestConfirmationOpen=!1,this.isQuestionNavOpen=!0;var e=this.quizViewStore.questions[this.quizViewStore.questions.length-1];this.answerTestQuestion(e,e,{isFinishTestCanceled:!0})}},{key:"showStopTestConfirmation",value:function(){this.isStopTestConfirmationOpen=!0}},{key:"confirmStopTest",value:function(){var e=this;this.isStopTestConfirmationOpen=!1,this.quizViewStore.track("stop-test"),this.quizViewStore.updateAttempt({marked_completed:!0}).then(function(){e._finishTest()}).catch(this.errorHandler)}},{key:"cancelStopTest",value:function(){this.isStopTestConfirmationOpen=!1}},{key:"_finishTest",value:function(){this.setIsTakingTest(!1),this.quizViewStore.quiz.setComplete(),this.closeQuestionNav(),1!==this.courseExperienceStore.numCompletedItems||this.viewModeService.isPreviewing()?(this.testResults=[],this._loadTestResultsPromise=null,this.areTestResultsLoaded=!1,this.goToResultsPage(null,{replace:!0})):this.courseTakingStore.goToReviewPrompt({id:this.quizViewStore.quiz.id,type:"quiz",stayOnItem:!0},q.courseTakingInitial)}},{key:"loadTestResults",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e=babelHelpers.objectSpread({reload:!1},e),this._loadTestResultsPromise&&!e.reload)return this.areTestResultsLoaded=!0,this._loadTestResultsPromise;this.areTestResultsLoaded=!1;var r=this.courseExperienceStore.courseId,o=this.quizViewStore.quiz.id;return this._loadTestResultsPromise=Z.c.get("/users/me/subscribed-courses/".concat(r,"/quizzes/").concat(o,"/user-attempted-quizzes/"),{params:{page_size:100,ordering:"-created","fields[user_attempted_quiz]":Nm.join(",")}}).then(Object(J.action)(function(e){t.areTestResultsLoaded=!0,t.testResults=e.data.results.map(function(e){return new Ab(e)})})).catch(Object(J.action)(function(e){throw t.areTestResultsLoaded=!0,t.testResults=[],t._loadTestResultsPromise=null,e})),this._loadTestResultsPromise}},{key:"loadDetailedTestResult",value:function(t){var n=this,i=null;return this.areTestResultsLoaded&&(i=this.testResults.find(function(e){return e.id===t})),(i?Promise.resolve():this.quizViewStore.loadAttemptById(t).then(function(e){i=new Ab(e)})).then(Object(J.action)(function(){if(!i.areQuestionsSet)return Promise.all([n.quizViewStore.loadQuestions(i),n.quizViewStore.loadUserAnswers(i.id)]).then(Object(J.action)(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1];n.quizViewStore.mergeQuestionsAndUserAnswers(r,o),i.setQuestions(r),n.detailedTestResult=i})).catch(Object(J.action)(function(e){throw e.response&&(n.detailedTestResult=i,n.quizViewStore.setAPIErrorCode(e,Fm.NO_TEST_RESULT_QUESTIONS)),e}));n.detailedTestResult=i})).catch(function(e){throw n.detailedTestResult||n.quizViewStore.setAPIErrorCode(e,Fm.NO_TEST_RESULT),e})}},{key:"resetDetailedTestResult",value:function(){this.detailedTestResult=null}},{key:"dismissVersionAlert",value:function(){this.isVersionAlertDismissed=!0}},{key:"showChangelogModalUpToVersion",value:function(t){var e=this.testResultsByVersion.find(function(e){return e.version<t});if(e){this.changelogModal={isOpen:!0,changelog:[]};for(var r=t;r>e.version;r--){var o=this.quizViewStore.quiz.changelog[r-2];this.changelogModal.changelog.push({number:r,date:o.date,text:o.text})}}}},{key:"hideChangelogModal",value:function(){this.changelogModal.isOpen=!1}},{key:"toggleIsExpandedForResult",value:function(e){var t=null;e.isExpanded?e.setIsExpanded(!1):(this.testResults.forEach(function(e){e.setIsExpanded(!1)}),e.setIsExpanded(!0),t=e.id),this.goToResultsPage(t,{replace:!0})}},{key:"setHistory",value:function(e){this._isHistoryUnset=!!this.history&&!e,this.history=e}},{key:"goToStartPage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._goToRoute("start",e)}},{key:"goToQuestionPage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._goToRoute("test",e)}},{key:"goToResultsPage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=e?"?expanded=".concat(e):"";this._goToRoute("results".concat(r),t)}},{key:"goToDetailedResultPage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._goToRoute("result/".concat(e),t)}},{key:"_goToRoute",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.history){if(this._isHistoryUnset)return;throw new Error("Cannot go to route ".concat(e,"; history has not been set"))}t=babelHelpers.objectSpread({replace:!1},t);var r="".concat(this.routePrefix,"/").concat(e);t.replace?this.history.replace(r):this.history.push(r)}},{key:"errorHandler",value:function(e){var t,r=this;this.quizViewStore.defaultErrorHandler(e,(t={},babelHelpers.defineProperty(t,Fm.NO_TEST_RESULT_QUESTIONS,function(){return ee.b.Feedback.fromText(gettext("Unable to load questions for this attempt"),ee.b.MessageType.error)}),babelHelpers.defineProperty(t,Fm.NO_TEST_RESULT,function(){return r.goToResultsPage(null,{replace:!0})}),t))}},{key:"routePrefix",get:function(){return"/t/quiz/".concat(this.quizViewStore.quiz.id)}},{key:"isXSScreen",get:function(){return Lm.a.innerWidth<=Uc.a["screen-xs-max"]}},{key:"isRightPanelFullWidth",get:function(){return Lm.a.innerWidth<=1056}},{key:"currentQuestionAndAnswers",get:function(){var e=this.quizViewStore.currentQuestion;return e?{questionIndex:e.questionIndex,answerIds:e.selectedAnswers.map(function(e){return e.id}).join(",")}:null}},{key:"latestPublishedTestVersion",get:function(){var e=this.quizViewStore.quiz;return e.isDraft?e.version-1:e.version}},{key:"testResultsByVersion",get:function(){var e=Object(zm.a)(this.testResults,function(e){return e.version}),t=Object.entries(e).map(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1];return{version:parseInt(r,10),results:Object(Mm.a)(o,"completionTime","desc"),durationHours:o[0].durationHours,durationMinutes:o[0].durationMinutes,passPercent:o[0].passPercent,numAssessments:o[0].numAssessments}});return Object(Mm.a)(t,"version","desc")}},{key:"firstTestResult",get:function(){return 0===this.testResults.length?null:this.testResultsByVersion[0].results[0]}},{key:"isVersionAlertShown",get:function(){return!this.isVersionAlertDismissed&&0<this.testResultsByVersion.length&&this.latestPublishedTestVersion>this.testResultsByVersion[0].version}}]),n}(),cb=babelHelpers.applyDecoratedDescriptor(lb.prototype,"isStartingARetake",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ub=babelHelpers.applyDecoratedDescriptor(lb.prototype,"isStartPageLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pb=babelHelpers.applyDecoratedDescriptor(lb.prototype,"isPreparingNewAttempt",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),db=babelHelpers.applyDecoratedDescriptor(lb.prototype,"isTakingTest",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hb=babelHelpers.applyDecoratedDescriptor(lb.prototype,"isQuestionNavOpen",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mb=babelHelpers.applyDecoratedDescriptor(lb.prototype,"isFinishTestConfirmationOpen",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bb=babelHelpers.applyDecoratedDescriptor(lb.prototype,"isStopTestConfirmationOpen",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yb=babelHelpers.applyDecoratedDescriptor(lb.prototype,"testResults",[sb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fb=babelHelpers.applyDecoratedDescriptor(lb.prototype,"areTestResultsLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gb=babelHelpers.applyDecoratedDescriptor(lb.prototype,"detailedTestResult",[ab],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vb=babelHelpers.applyDecoratedDescriptor(lb.prototype,"isVersionAlertDismissed",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wb=babelHelpers.applyDecoratedDescriptor(lb.prototype,"changelogModal",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isOpen:!1,changelog:[]}}}),babelHelpers.applyDecoratedDescriptor(lb.prototype,"isXSScreen",[J.computed],Object.getOwnPropertyDescriptor(lb.prototype,"isXSScreen"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"isRightPanelFullWidth",[J.computed],Object.getOwnPropertyDescriptor(lb.prototype,"isRightPanelFullWidth"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"currentQuestionAndAnswers",[J.computed],Object.getOwnPropertyDescriptor(lb.prototype,"currentQuestionAndAnswers"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"latestPublishedTestVersion",[J.computed],Object.getOwnPropertyDescriptor(lb.prototype,"latestPublishedTestVersion"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"testResultsByVersion",[J.computed],Object.getOwnPropertyDescriptor(lb.prototype,"testResultsByVersion"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"firstTestResult",[J.computed],Object.getOwnPropertyDescriptor(lb.prototype,"firstTestResult"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"isVersionAlertShown",[J.computed],Object.getOwnPropertyDescriptor(lb.prototype,"isVersionAlertShown"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"setIsTakingTest",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"setIsTakingTest"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"retakeTest",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"retakeTest"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"ensureStartPageIsLoaded",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"ensureStartPageIsLoaded"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"resetIsStartPageLoaded",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"resetIsStartPageLoaded"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"startTest",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"startTest"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"ensureQuestionPageIsLoaded",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"ensureQuestionPageIsLoaded"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"setCurrentTestQuestion",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"setCurrentTestQuestion"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"goToPreviousQuestion",[X.a],Object.getOwnPropertyDescriptor(lb.prototype,"goToPreviousQuestion"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"goToNextQuestion",[X.a],Object.getOwnPropertyDescriptor(lb.prototype,"goToNextQuestion"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"navigateToQuestion",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"navigateToQuestion"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"skipTestQuestion",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"skipTestQuestion"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"toggleQuestionNav",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"toggleQuestionNav"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"closeQuestionNav",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"closeQuestionNav"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"answerTestQuestion",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"answerTestQuestion"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"confirmFinishTest",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"confirmFinishTest"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"cancelFinishTest",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"cancelFinishTest"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"showStopTestConfirmation",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"showStopTestConfirmation"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"confirmStopTest",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"confirmStopTest"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"cancelStopTest",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"cancelStopTest"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"_finishTest",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"_finishTest"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"loadTestResults",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"loadTestResults"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"resetDetailedTestResult",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"resetDetailedTestResult"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"dismissVersionAlert",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"dismissVersionAlert"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"showChangelogModalUpToVersion",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"showChangelogModalUpToVersion"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"hideChangelogModal",[X.a,J.action],Object.getOwnPropertyDescriptor(lb.prototype,"hideChangelogModal"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"toggleIsExpandedForResult",[J.action],Object.getOwnPropertyDescriptor(lb.prototype,"toggleIsExpandedForResult"),lb.prototype),babelHelpers.applyDecoratedDescriptor(lb.prototype,"errorHandler",[X.a],Object.getOwnPropertyDescriptor(lb.prototype,"errorHandler"),lb.prototype),lb),qb=r("./src/udemy/js/base-components/dropdown-button.react-component.js"),Nb=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/review-star.less"),{"./review-star.less":{star:"review-star--star--1OAcW",transparent:"review-star--transparent--3a33z",dark:"review-star--dark--1SIaJ",filled:"review-star--filled--2yuH9"}}),zb=Object(At.d)((_b=Cb=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.dark,r=e.filled,o=e.transparent,n=babelHelpers.objectWithoutProperties(e,["dark","filled","transparent"]);return delete n.styles,Nt.a.createElement(Kt.a,Object.assign({glyph:"star"},n,{className:(n.className?n.className+" ":"")+Sn()(Et()("star",{transparent:o,filled:r,dark:t}),Nb)}))}}]),t}(qt.Component),Cb.propTypes={dark:Rt.a.bool,filled:Rt.a.bool,transparent:Rt.a.bool},Cb.defaultProps={dark:!1,filled:!1,transparent:!1},kb=_b))||kb,Mb=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/question/question-navigation-item.less"),{"./question-navigation-item.less":{"nav-item-link":"question-navigation-item--nav-item-link--2FcyZ",item:"question-navigation-item--item--1GVqy",highlight:"question-navigation-item--highlight--16iID",disabled:"question-navigation-item--disabled--2kXO5","skip-label":"question-navigation-item--skip-label--qDhOG"}}),Lb=Object(At.d)((Db=Eb=function(e){function o(e,t){var r;return babelHelpers.classCallCheck(this,o),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e,t))).onA11YReviewStar=Object(No.b)(r.onClickReviewStar),r}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"onClickReviewStar",value:function(e){e&&e.stopPropagation(),this.props.onToggleMarkForReview(this.props.question)}},{key:"onClick",value:function(){this.props.onSelect(this.props.question)}},{key:"renderReviewStar",value:function(e,t){var r="pt-space-xs pl-space-xs",o=Nt.a.createElement(zb,{transparent:t,filled:e.isMarkedForReview});return t?Nt.a.createElement("div",{className:r},o):Nt.a.createElement("div",{className:r,onClick:this.onClickReviewStar,onKeyPress:this.onA11YReviewStar,role:"button",tabIndex:"0"},o)}},{key:"renderQuestion",value:function(e){return ee.b.trimTags(ee.b.replaceImgTag(e.promptRichText))}},{key:"renderAsMenuItem",value:function(e){return this.props.question.seen?Nt.a.createElement("li",{"data-purpose":"question-navigation-item"},Nt.a.createElement(Cm.default,{className:"question-navigation-item--nav-item-link--2FcyZ",onClick:this.onClick},e)):Nt.a.createElement("li",{"data-purpose":"question-navigation-item"},e)}},{key:"render",value:function(){var e=this.props,t=e.question,r=e.highlight,o=e.skipped,n=!r&&!t.seen;return this.renderAsMenuItem(Nt.a.createElement("div",{"data-purpose":"question-navigation-item-content",className:"fx-jsb p-space-xs "+Sn()(Et()("item",{highlight:r,disabled:n}),Mb)},this.renderReviewStar(t,n),Nt.a.createElement("div",{className:"fx p-space-xs"},Nt.a.createElement("div",null,Nt.a.createElement("strong",null,interpolate(gettext("Question %(index)s"),{index:t.questionIndex},!0)),o&&Nt.a.createElement(zi.a,{className:"question-navigation-item--skip-label--qDhOG"},gettext("Skipped"))),Nt.a.createElement("div",{className:"mt-space-xxs ellipsis",dangerouslySetInnerHTML:{__html:this.renderQuestion(t)}}))))}}]),o}(qt.Component),Eb.propTypes={question:Rt.a.object.isRequired,highlight:Rt.a.bool.isRequired,skipped:Rt.a.bool.isRequired,onSelect:Rt.a.func.isRequired,onToggleMarkForReview:Rt.a.func.isRequired},jb=Db,babelHelpers.applyDecoratedDescriptor(jb.prototype,"onClickReviewStar",[X.a],Object.getOwnPropertyDescriptor(jb.prototype,"onClickReviewStar"),jb.prototype),babelHelpers.applyDecoratedDescriptor(jb.prototype,"onClick",[X.a],Object.getOwnPropertyDescriptor(jb.prototype,"onClick"),jb.prototype),Sb=jb))||Sb,Fb=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/question/question-navigation.less"),Object(At.c)("practiceTestStore","quizViewStore")(xb=Object(At.d)((Hb=Pb=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"activeFilterKey",Tb,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"onSelectFilter",value:function(e){this.activeFilterKey=e}},{key:"onSelectNavItem",value:function(e){this.props.practiceTestStore.navigateToQuestion(e)}},{key:"onToggleMarkForReview",value:function(e){this.props.practiceTestStore.toggleIsMarkedForReview(e)}},{key:"render",value:function(){var t=this,e=this.props,r=e.practiceTestStore,o=e.quizViewStore,n=rb[this.activeFilterKey],i=o.questions.filter(n.filter),s=new Set(o.questions.filter(rb.SKIPPED.filter).map(function(e){return e.id}));return Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement("div",{className:"fx-c question-navigation--header--eTY5x"},Nt.a.createElement(qb.a,{className:"question-navigation--header-button--1WIM2",bsStyle:"link",title:n.label,id:"question-navigation-filter"},Object.keys(rb).map(function(e){return Nt.a.createElement(On.a,{key:e,eventKey:e,onSelect:t.onSelectFilter,"data-purpose":"filter-item"},rb[e].label)})),Nt.a.createElement(Cm.default,{"data-purpose":"close",onClick:r.closeQuestionNav},Nt.a.createElement(Kt.a,{className:"text-midnight",glyph:"close"}))),Nt.a.createElement("ul",{className:"question-navigation--questions-list--Z4wM0"},0===i.length&&Nt.a.createElement("li",{className:"question-navigation--empty-list---iEQa"},gettext("No questions match this filter.")),i.map(function(e){return Nt.a.createElement(Lb,{key:e.id,question:e,skipped:s.has(e.id),highlight:e===o.currentQuestion,onSelect:t.onSelectNavItem,onToggleMarkForReview:t.onToggleMarkForReview})})))}}]),i}(qt.Component),Pb.propTypes={practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},Ob=Hb,Tb=babelHelpers.applyDecoratedDescriptor(Ob.prototype,"activeFilterKey",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"ALL_QUESTIONS"}}),babelHelpers.applyDecoratedDescriptor(Ob.prototype,"onSelectFilter",[X.a,J.action],Object.getOwnPropertyDescriptor(Ob.prototype,"onSelectFilter"),Ob.prototype),babelHelpers.applyDecoratedDescriptor(Ob.prototype,"onSelectNavItem",[X.a],Object.getOwnPropertyDescriptor(Ob.prototype,"onSelectNavItem"),Ob.prototype),babelHelpers.applyDecoratedDescriptor(Ob.prototype,"onToggleMarkForReview",[X.a],Object.getOwnPropertyDescriptor(Ob.prototype,"onToggleMarkForReview"),Ob.prototype),xb=Ob))||xb)||xb),Ub=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/compact-quiz-container.less"),{"./compact-quiz-container.less":{"compact-quiz-container":"compact-quiz-container--compact-quiz-container--35y12","responsive-fullscreen":"compact-quiz-container--responsive-fullscreen--1siyj"}}),Bb=function(e){var t=e.children,r=e.responsiveFullscreen;return Nt.a.createElement("div",{className:Sn()(Et()({"compact-quiz-container":!0,"responsive-fullscreen":r}),Ub)},t)};Bb.propTypes={children:Rt.a.node.isRequired,responsiveFullscreen:Rt.a.bool},Bb.defaultProps={responsiveFullscreen:!1};var Vb,$b,Qb,Wb,Gb,Yb,Kb,Xb,Jb,Zb,ey,ty,ry,oy,ny,iy,sy,ay,ly,cy,uy,py,dy,hy,my,by,yy,fy,gy,vy,wy,ky,Cy,_y,Sy,jy,Ey,Dy,xy,Oy,Ty,Py,Hy,Ay=Bb,Iy=r("./src/udemy/js/base-components/form/radio.react-component.js"),Ry=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/mc-quiz-answer.less"),{"./mc-quiz-answer.less":{"answer-body":"mc-quiz-answer--answer-body--3-Pd6",correctness:"mc-quiz-answer--correctness--32CuC",correct:"mc-quiz-answer--correct--1L5yp",incorrect:"mc-quiz-answer--incorrect--vTPf9","question-copy":"mc-quiz-answer--question-copy--2yJqU"}}),qy=Object(At.d)((Qb=$b=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.answer,r=e.answerIndex,o=e.inputType,n=e.isReviewing,i=e.onChange,s="checkbox"===o?Ni.a:Iy.a,a="",l="";n&&(t.correct?(a="correct",l=gettext("(Correct)")):t.selected&&(a="incorrect",l=gettext("(Incorrect)")));var c=Nt.a.createElement("div",{className:"fx fx-lc "+Sn()(a,Ry)},Nt.a.createElement("div",{className:"fx"},Nt.a.createElement(_r.a,{prettify:{preventClick:!0},wrapImages:!0,className:"mc-quiz-answer--question-copy--2yJqU",unsafeHTML:t.text})),l&&Nt.a.createElement("div",{className:"mc-quiz-answer--correctness--32CuC"},l));return Nt.a.createElement("li",null,Nt.a.createElement(s,{boxed:!0,name:"answer",onChange:i,disabled:n||t.disabled,"data-index":r,checked:t.selected,className:Sn()(Et()("answer-body",a),Ry)},c))}}]),t}(qt.Component),$b.propTypes={answer:Rt.a.object.isRequired,answerIndex:Rt.a.number.isRequired,inputType:Rt.a.string,isReviewing:Rt.a.bool,onChange:Rt.a.func},$b.defaultProps={inputType:"radio",isReviewing:!1,onChange:Zt.a},Vb=Qb))||Vb,Ny=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/mc-quiz-question.less"),Object(At.d)((Kb=Yb=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.keyHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.keyHandler)}},{key:"keyHandler",value:function(e){var t=ee.b.keyEventToObject(e),r=t.number,o=(t.shift?10:0)+r-1;0<=o&&o<=14&&this.props.question.selectAnswerAtIndex(o)}},{key:"handleAnswerChanged",value:function(e){this.props.question.selectAnswerAtIndex(parseInt(e.target.dataset.index,10))}},{key:"render",value:function(){var r=this,e=this.props,o=e.question,n=e.isReviewing,t="";n&&(o.isCorrect?t=Nt.a.createElement("span",{className:"mc-quiz-question--correct--3stI2"},gettext("Correct")):o.isIncorrect?t=Nt.a.createElement("span",{className:"mc-quiz-question--incorrect--LCbjG"},gettext("Incorrect")):o.isAnswered||(t=Nt.a.createElement(zi.a,{className:"mc-quiz-question--skipped--2Ctjl"},gettext("Skipped"))));var i=o.assessmentType===Vm.MULTIPLE_SELECT?"checkbox":"radio";return Nt.a.createElement(kr.a,null,Nt.a.createElement("div",{className:"mc-quiz-question--header--1v7MF"},n&&o.isMarkedForReview&&Nt.a.createElement("div",{className:"mc-quiz-question--star--364uu"},Nt.a.createElement(zb,{filled:!0})),Nt.a.createElement("span",null,interpolate(gettext("Question %(index)s: "),{index:o.questionIndex},!0)),t,Nt.a.createElement(_r.a,{prettify:{preventClick:!0},wrapImages:!0,className:"mc-quiz-question--question-prompt--9If0o",id:"question-prompt",unsafeHTML:o.promptRichText})),Nt.a.createElement("ul",{role:"group","aria-labelledby":"question-prompt"},o.answers.map(function(e,t){return Nt.a.createElement(qy,{key:"".concat(o.id,"_").concat(t),inputType:i,answer:e,answerIndex:t,isReviewing:n,onChange:r.handleAnswerChanged})})),n&&o.explanation&&Nt.a.createElement("div",{className:"mc-quiz-question--explanation--YnErh"},Nt.a.createElement("h4",null,gettext("Explanation")),Nt.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.explanation}})))}}]),t}(qt.Component),Yb.propTypes={question:Rt.a.object.isRequired,isReviewing:Rt.a.bool},Yb.defaultProps={isReviewing:!1},Gb=Kb,babelHelpers.applyDecoratedDescriptor(Gb.prototype,"keyHandler",[X.a],Object.getOwnPropertyDescriptor(Gb.prototype,"keyHandler"),Gb.prototype),babelHelpers.applyDecoratedDescriptor(Gb.prototype,"handleAnswerChanged",[X.a],Object.getOwnPropertyDescriptor(Gb.prototype,"handleAnswerChanged"),Gb.prototype),Wb=Gb))||Wb),zy=Object(At.c)("practiceTestStore","quizViewStore")(Xb=Object(At.d)((Zb=Jb=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e,t,r,o=this.props,n=o.practiceTestStore,i=o.quizViewStore,s=i.questions.filter(function(e){return!e.isAnswered&&e.wasSkipped}).length,a=i.questions.filter(function(e){return e.isMarkedForReview}).length;return t=0===s?"":ninterpolate("You skipped %s question.","You skipped %s questions.",s),r=0===a?"":ninterpolate("You marked %s question for review.","You marked %s questions for review.",a),e=0===s&&0===a?gettext("You may still review the answers you have entered."):"".concat(t," ").concat(r).trim(),Nt.a.createElement(qi.a,{body:e,cancelText:gettext("Review questions"),confirmText:gettext("Finish test"),onCancel:n.cancelFinishTest,onConfirm:n.confirmFinishTest,title:gettext("Are you sure you want to finish?"),show:n.isFinishTestConfirmationOpen,backdrop:"static",keyboard:!1})}}]),t}(qt.Component),Jb.propTypes={practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},Xb=Zb))||Xb)||Xb,My=r("./src/udemy/js/base-components/modal.react-component.js"),Ly=Object(At.c)("practiceTestStore")(ey=Object(At.d)((oy=ry=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onHide",value:function(){this.props.practiceTestStore.timer.unpause()}},{key:"render",value:function(){return Nt.a.createElement(My.a,{show:this.props.practiceTestStore.timer.isPausedModalOpen,onHide:this.onHide},Nt.a.createElement(My.a.Header,{closeButton:!0},Nt.a.createElement(My.a.Title,null,gettext("Your test is paused"))),Nt.a.createElement(My.a.Body,null,gettext("You can leave this page and resume this test at any time. Your progress will be saved.")),Nt.a.createElement(My.a.Footer,null,Nt.a.createElement(tr.default,{"data-purpose":"unpause-test",bsStyle:qi.a.defaultProps.confirmBsStyle,onClick:this.onHide},gettext("Resume test"))))}}]),t}(qt.Component),ry.propTypes={practiceTestStore:Rt.a.object.isRequired},ty=oy,babelHelpers.applyDecoratedDescriptor(ty.prototype,"onHide",[X.a],Object.getOwnPropertyDescriptor(ty.prototype,"onHide"),ty.prototype),ey=ty))||ey)||ey,Fy=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/question/question-footer.less"),Object(At.c)("$rootScope","practiceTestStore","quizViewStore")(ny=Object(At.d)((ay=sy=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onToggleMarkForReview",value:function(){this.props.practiceTestStore.toggleIsMarkedForReview(this.props.quizViewStore.currentQuestion)}},{key:"renderResponsiveLabel",value:function(e,t){return Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement("span",{className:"hidden-xxs hidden-xs hidden-sm hidden-md"},e),Nt.a.createElement("span",{className:"hidden-xxs hidden-xs visible-sm-inline visible-md-inline"},t),Nt.a.createElement("span",{className:"visible-xxs-inline visible-xs-inline sr-only"},e))}},{key:"renderLeftButtons",value:function(){var e=this.props,t=e.practiceTestStore,r=e.quizViewStore;return Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(tr.default,{bsSize:"small",bsStyle:"link","data-purpose":"toggle-mark-for-review",className:"question-footer--left-btn--2qW5p",onClick:this.onToggleMarkForReview},Nt.a.createElement(zb,{dark:!0,filled:r.currentQuestion.isMarkedForReview,"aria-hidden":"true"}),this.renderResponsiveLabel(Nt.a.createElement("span",{className:"ml-space-xs"},gettext("Mark for review")),Nt.a.createElement("span",{className:"ml-space-xs"},gettext("Review")))),Nt.a.createElement(tr.default,{bsSize:"small",bsStyle:"link","data-purpose":"toggle-question-nav",className:"question-footer--left-btn--2qW5p",onClick:t.toggleQuestionNav},Nt.a.createElement(Kt.a,{glyph:"list-alt","aria-hidden":"true"}),this.renderResponsiveLabel(Nt.a.createElement("span",{className:"ml-space-xs"},gettext("See all questions")),Nt.a.createElement("span",{className:"ml-space-xs"},gettext("See all")))))}},{key:"renderRightButtons",value:function(){var e=this.props,t=e.practiceTestStore,r=e.quizViewStore,o=r.currentQuestion,n=o.questionIndex===r.questions.length;return Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(tr.default,{bsSize:"small",bsStyle:t.isXSScreen?"default":"tertiary","data-purpose":"go-to-prev-question",onClick:t.goToPreviousQuestion},Nt.a.createElement(Kt.a,{glyph:"previous",className:"visible-xxs-inline visible-xs-inline","aria-hidden":"true"}),this.renderResponsiveLabel(gettext("Back"),gettext("Back"))),o.isAnswered?Nt.a.createElement(tr.default,{bsSize:"small",bsStyle:"primary","data-purpose":"go-to-next-question",onClick:t.goToNextQuestion},this.renderResponsiveLabel(n?gettext("Finish test"):gettext("Next question"),n?gettext("Finish"):gettext("Next")),Nt.a.createElement(Kt.a,{glyph:"next","aria-hidden":"true"})):Nt.a.createElement(tr.default,{bsSize:"small","data-purpose":"skip-question",onClick:t.skipTestQuestion},this.renderResponsiveLabel(n?gettext("Finish test"):gettext("Skip question"),n?gettext("Finish"):gettext("Skip")),Nt.a.createElement(Kt.a,{glyph:"next","aria-hidden":"true"})))}},{key:"render",value:function(){return Nt.a.createElement(An,{leftButtons:this.renderLeftButtons(),rightButtons:this.renderRightButtons(),reportId:this.props.quizViewStore.currentQuestion.id,reportType:"assessment",$rootScope:this.props.$rootScope,hotkeysEnabled:!0})}}]),t}(qt.Component),sy.propTypes={$rootScope:Rt.a.object.isRequired,practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},iy=ay,babelHelpers.applyDecoratedDescriptor(iy.prototype,"onToggleMarkForReview",[X.a],Object.getOwnPropertyDescriptor(iy.prototype,"onToggleMarkForReview"),iy.prototype),ny=iy))||ny)||ny),Uy=Object(At.c)("practiceTestStore","quizViewStore")(ly=Object(At.d)((uy=cy=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.practiceTestStore,r=e.quizViewStore,o=r.questions.filter(function(e){return!e.isAnswered}).length,n=r.questions.length,i=Math.round(100*o/n),s=interpolate(gettext("You still have %(percentLeft)s% of the test remaining. If you don't want to submit this attempt now, you can always pause the test and return to it later. Remember that you can take this test as many times as you want."),{percentLeft:i},!0);return Nt.a.createElement(qi.a,{body:s,confirmText:gettext("Finish test"),onCancel:t.cancelStopTest,onConfirm:t.confirmStopTest,title:gettext("Are you sure you want to finish the test?"),show:t.isStopTestConfirmationOpen})}}]),t}(qt.Component),cy.propTypes={practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},ly=uy))||ly)||ly,By=r("./src/udemy/js/base-components/duration.react-component.js"),Vy=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/question/test-timer.less"),{"./test-timer.less":{wrapper:"test-timer--wrapper--2s2wp",inner:"test-timer--inner--OqrxM","question-count":"test-timer--question-count--3-3eM",clock:"test-timer--clock--3Htgo","quiz-progress":"test-timer--quiz-progress--1Inl3",fill:"test-timer--fill--NrtxO","btn-icon":"test-timer--btn-icon--3bf86","timer-expired":"test-timer--timer-expired--1z0LY","wrapper-mobile-app":"test-timer--wrapper-mobile-app--14tjV"}}),$y=Object(At.c)("practiceTestStore","quizViewStore")(py=Object(At.d)((my=hy=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClickPause",value:function(){var e=this.props,t=e.practiceTestStore,r=e.quizViewStore;t.timer.isPaused?t.timer.unpause():(t.timer.pause(),r.track("pause-test"))}},{key:"render",value:function(){var e=this.props,t=e.practiceTestStore,r=e.quizViewStore,o=t.timer;if(!o.isInitialized)return null;var n=Object(D.a)(),i=r.questions.length,s=r.currentQuestion.questionIndex,a=Math.floor(100*(s-1)/(i-1));return Nt.a.createElement("div",{className:Sn()(n?"wrapper wrapper-mobile-app":"wrapper",Vy)},Nt.a.createElement("div",{className:"fx-lc test-timer--inner--OqrxM"},Nt.a.createElement("span",{className:"mr-space-xxs test-timer--question-count--3-3eM","data-purpose":"question-count"},"".concat(s,"/").concat(i)),Nt.a.createElement("div",{className:"ml-space-xxs fx test-timer--quiz-progress--1Inl3"},Nt.a.createElement("div",{className:"test-timer--fill--NrtxO",style:{width:"".concat(a,"%")},"data-purpose":"fill"})),Nt.a.createElement(Kt.a,{glyph:"clock-o","data-purpose":o.timeRemaining<0?"timer-expired":"",className:"mr-space-xxs ml-space-sm hidden-xxs hidden-xs "+Sn()(Et()("clock",{"timer-expired":o.timeRemaining<0}),Vy)}),0<=o.timeRemaining?Nt.a.createElement(By.a,{numSeconds:o.timeRemaining,presentationStyle:By.a.STYLE.TIMESTAMP,"data-purpose":"time-remaining"}):Nt.a.createElement("span",{className:"test-timer--timer-expired--1z0LY","data-purpose":"timer-expired"},Nt.a.createElement(By.a,{numSeconds:-o.timeRemaining,presentationStyle:By.a.STYLE.TIMESTAMP,"data-purpose":"time-remaining"})),Nt.a.createElement(tr.default,{bsStyle:"link",bsSize:"xsmall",className:"test-timer--btn-icon--3bf86",onClick:this.onClickPause,"data-purpose":"pause","aria-label":gettext("Pause")},Nt.a.createElement(Kt.a,{glyph:"pause",className:"ml-space-xs mr-space-xs"})),Nt.a.createElement(tr.default,{bsStyle:"link",bsSize:"xsmall",className:"test-timer--btn-icon--3bf86",onClick:t.showStopTestConfirmation,"data-purpose":"stop","aria-label":gettext("Stop")},Nt.a.createElement(Kt.a,{glyph:"stop"}))))}}]),t}(qt.Component),hy.propTypes={practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},dy=my,babelHelpers.applyDecoratedDescriptor(dy.prototype,"onClickPause",[X.a],Object.getOwnPropertyDescriptor(dy.prototype,"onClickPause"),dy.prototype),py=dy))||py)||py,Qy=Object(At.c)("practiceTestStore")(by=Object(At.d)((fy=yy=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.practiceTestStore,t=gettext("If you want to see how you would do in a real test situation, end the test now. Otherwise, you can keep going, but this attempt will not count as a pass.");return Nt.a.createElement(qi.a,{body:t,cancelText:gettext("Keep going"),confirmText:gettext("End test"),onCancel:e.timer.cancelTimesUp,onConfirm:e.timer.confirmTimesUp,title:gettext("Time's up!"),show:e.timer.isTimesUpConfirmationOpen})}}]),t}(qt.Component),yy.propTypes={practiceTestStore:Rt.a.object.isRequired},by=fy))||by)||by,Wy=Object(At.c)("practiceTestStore","quizViewStore")(gy=Object(At.d)((ky=wy=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.quizViewStore,o=t.practiceTestStore;r.attempt&&(this.isLoadedPromise=o.ensureQuestionPageIsLoaded().then(function(){0===r.questions.length?o.goToResultsPage():(o.setCurrentTestQuestion(),o.setUpAutoSaveOnQuestionOrAnswersChange(),e.onQuestionChangeDisposer=Object(J.reaction)(function(){return r.currentQuestion?r.currentQuestion.id:null},e.onQuestionChange),window.addEventListener("keyup",e.onKeyUp),o.timer.initialize())}).catch(o.errorHandler))}},{key:"componentWillUnmount",value:function(){var e=this;this.isLoadedPromise&&this.isLoadedPromise.then(function(){e.props.practiceTestStore.timer.pause({save:!1}),window.removeEventListener("keyup",e.onKeyUp),e.props.practiceTestStore.disposeAutoSaveOnQuestionOrAnswersChange(),e.onQuestionChangeDisposer&&e.onQuestionChangeDisposer()}).catch(this.props.practiceTestStore.errorHandler),this.isLoadedPromise=null}},{key:"onQuestionChange",value:function(){var e=this;setTimeout(function(){e.scrollContainer&&(e.scrollContainer.scrollTop=0)},0)}},{key:"onKeyUp",value:function(e){var t=ee.b.keyEventToObject(e),r=t.key,o=t.shift;r===ee.a&&(e.preventDefault(),o?this.props.practiceTestStore.skipTestQuestion():this.props.quizViewStore.currentQuestion.isAnswered&&this.props.practiceTestStore.goToNextQuestion())}},{key:"setScrollContainerRef",value:function(e){this.scrollContainer=e}},{key:"renderHeader",value:function(){return Nt.a.createElement($y,null)}},{key:"renderBody",value:function(){return Nt.a.createElement(Ay,null,Nt.a.createElement("div",{className:Et()({"pt-space-xxl":!0,"visible-xxs-block visible-xs-block":!Object(D.a)()})}),Nt.a.createElement(Ny,{question:this.props.quizViewStore.currentQuestion}),Nt.a.createElement(zy,null),Nt.a.createElement(Ly,null),Nt.a.createElement(Uy,null),Nt.a.createElement(Qy,null))}},{key:"renderFooter",value:function(){return Nt.a.createElement(Fy,null)}},{key:"render",value:function(){return Nt.a.createElement(qh,{isLoading:!this.props.quizViewStore.attempt||!this.props.quizViewStore.areQuestionsLoaded||!this.props.quizViewStore.currentQuestion,renderBody:this.renderBody,renderFooter:this.renderFooter,renderHeader:this.renderHeader,setScrollContainerRef:this.setScrollContainerRef})}}]),t}(qt.Component),wy.propTypes={practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},vy=ky,babelHelpers.applyDecoratedDescriptor(vy.prototype,"onQuestionChange",[X.a],Object.getOwnPropertyDescriptor(vy.prototype,"onQuestionChange"),vy.prototype),babelHelpers.applyDecoratedDescriptor(vy.prototype,"onKeyUp",[X.a],Object.getOwnPropertyDescriptor(vy.prototype,"onKeyUp"),vy.prototype),babelHelpers.applyDecoratedDescriptor(vy.prototype,"setScrollContainerRef",[X.a],Object.getOwnPropertyDescriptor(vy.prototype,"setScrollContainerRef"),vy.prototype),babelHelpers.applyDecoratedDescriptor(vy.prototype,"renderHeader",[X.a],Object.getOwnPropertyDescriptor(vy.prototype,"renderHeader"),vy.prototype),babelHelpers.applyDecoratedDescriptor(vy.prototype,"renderBody",[X.a],Object.getOwnPropertyDescriptor(vy.prototype,"renderBody"),vy.prototype),babelHelpers.applyDecoratedDescriptor(vy.prototype,"renderFooter",[X.a],Object.getOwnPropertyDescriptor(vy.prototype,"renderFooter"),vy.prototype),gy=vy))||gy)||gy,Gy=r("./node_modules/react-highcharts/dist/ReactHighcharts.js"),Yy=r.n(Gy),Ky=Object(At.c)("practiceTestStore")(Cy=Object(At.d)((jy=Sy=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onSelect",value:function(e){this.props.practiceTestStore.detailedTestResult.setActiveKnowledgeAreaFilter(e)}},{key:"render",value:function(){var t=this;if(this.knowledgeAreaFilters.length<=1)return null;var e=this.props.practiceTestStore.detailedTestResult,r=gettext("All knowledge areas");return Nt.a.createElement("div",{className:"dib mt-space-xs mb-space-xs mr-space-sm"},Nt.a.createElement(qb.a,{id:"knowledge-area-filter",ellipsisAtWidth:"200px",title:e.activeKnowledgeAreaFilter||r},Nt.a.createElement(On.a,{eventKey:null,onSelect:this.onSelect},r),this.knowledgeAreaFilters.map(function(e){return Nt.a.createElement(On.a,{key:e,eventKey:e,onSelect:t.onSelect},e)})))}},{key:"knowledgeAreaFilters",get:function(){return babelHelpers.toConsumableArray(new Set(this.props.practiceTestStore.detailedTestResult.questions.map(function(e){return e.knowledgeArea}).filter(Boolean)))}}]),t}(qt.Component),Sy.propTypes={practiceTestStore:Rt.a.object.isRequired},_y=jy,babelHelpers.applyDecoratedDescriptor(_y.prototype,"knowledgeAreaFilters",[J.computed],Object.getOwnPropertyDescriptor(_y.prototype,"knowledgeAreaFilters"),_y.prototype),babelHelpers.applyDecoratedDescriptor(_y.prototype,"onSelect",[X.a],Object.getOwnPropertyDescriptor(_y.prototype,"onSelect"),_y.prototype),Cy=_y))||Cy)||Cy,Xy=Object(At.c)("practiceTestStore")(Ey=Object(At.d)((Oy=xy=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onSelect",value:function(e){this.props.practiceTestStore.detailedTestResult.setActiveQuestionFilterKey(e)}},{key:"render",value:function(){var t=this,e=this.props.practiceTestStore.detailedTestResult;return Nt.a.createElement("div",{className:"dib mt-space-xs mb-space-xs"},Nt.a.createElement(qb.a,{id:"question-filter",title:ob[e.activeQuestionFilterKey].label},Object.keys(ob).map(function(e){return Nt.a.createElement(On.a,{key:e,eventKey:e,onSelect:t.onSelect},ob[e].label)})))}}]),t}(qt.Component),xy.propTypes={practiceTestStore:Rt.a.object.isRequired},Dy=Oy,babelHelpers.applyDecoratedDescriptor(Dy.prototype,"onSelect",[X.a],Object.getOwnPropertyDescriptor(Dy.prototype,"onSelect"),Dy.prototype),Ey=Dy))||Ey)||Ey,Jy=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/detailed-result-panel.less"),Object(At.c)("practiceTestStore")(Ty=Object(At.d)((Hy=Py=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.practiceTestStore.detailedTestResult;return Nt.a.createElement(Jt.a,{className:"detailed-result-panel--detailed-result-panel--2yIqr","data-purpose":"detailed-result-panel"},Nt.a.createElement("div",{className:"fx-jsb db-md detailed-result-panel--panel-row--3GC5G detailed-result-panel--top-row--kPYkV"},Nt.a.createElement("div",{className:"fx fx-lc"},Nt.a.createElement("div",{className:"detailed-result-panel--chart-container--3IzPD"},Nt.a.createElement(Yy.a,{config:e.smallChart,isPureConfig:!0})),Nt.a.createElement("div",{className:"a2"},interpolate(gettext("Attempt %(number)s"),{number:e.number},!0))),Nt.a.createElement("div",{className:"fx-lc db-sm"},Nt.a.createElement(Ky,null),Nt.a.createElement(Xy,null))),0===e.filteredQuestions.length?Nt.a.createElement("div",{className:"detailed-result-panel--panel-row--3GC5G"},Nt.a.createElement("div",{className:"a2 text-center pt-space-lg pb-space-lg mb-space-lg"},gettext("No questions match this filter."))):e.filteredQuestions.map(function(e){return Nt.a.createElement("div",{key:e.id,className:"detailed-result-panel--panel-row--3GC5G detailed-result-panel--question-container--Wvw6U"},Nt.a.createElement(Ny,{question:e,isReviewing:!0}))}))}}]),t}(qt.Component),Py.propTypes={practiceTestStore:Rt.a.object.isRequired},Ty=Hy))||Ty)||Ty),Zy=function e(t){var r=t.children;return e.getIsMobileApp()?null:r};Zy.getIsMobileApp=D.a,Zy.propTypes={children:Rt.a.node.isRequired};var ef,tf,rf,of=Zy,nf=Object(At.c)("$rootScope","courseExperienceStore","practiceTestStore","quizViewStore")((rf=tf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"renderRightButtons",value:function(){return Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(tr.default,{bsSize:"small",bsStyle:"tertiary",onClick:this.props.practiceTestStore.retakeTest},gettext("Retake test")),Nt.a.createElement(of,null,Nt.a.createElement(_i,{$rootScope:this.props.$rootScope,courseExperienceStore:this.props.courseExperienceStore})))}},{key:"render",value:function(){return Nt.a.createElement(An,{rightButtons:this.renderRightButtons(),reportId:this.props.quizViewStore.quiz.id,reportType:"quiz",$rootScope:this.props.$rootScope,hotkeysEnabled:!0})}}]),t}(qt.Component),tf.propTypes={$rootScope:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},ef=rf))||ef,sf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.hours,r=e.minutes,o=e.seconds,n=e.overtimeMinutes,i=e.overtimeSeconds;return Nt.a.createElement(Nt.a.Fragment,null,0<t?ninterpolate("%(count)s hour","%(count)s hours",t,{count:t}):null,0<t&&0<r?" ":null,0<r?ninterpolate("%(count)s minute","%(count)s minutes",r,{count:r}):null,0===t&&0===r&&0<o?ninterpolate("%(count)s second","%(count)s seconds",o,{count:o}):null,0<n||0<i?Nt.a.createElement("span",{className:"text-danger"}," ",0<n?ninterpolate("(+%(count)s minute)","(+%(count)s minutes)",n,{count:n}):null,0===n&&0<i?ninterpolate("(+%(count)s second)","(+%(count)s seconds)",i,{count:i}):null):null)}}]),t}(qt.Component);sf.propTypes={hours:Rt.a.number.isRequired,minutes:Rt.a.number.isRequired,seconds:Rt.a.number,overtimeMinutes:Rt.a.number,overtimeSeconds:Rt.a.number},sf.defaultProps={seconds:0,overtimeMinutes:0,overtimeSeconds:0};r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/practice-test-summary.less");var af={"./practice-test-summary.less":{summary:"practice-test-summary--summary--3-rmx",separator:"practice-test-summary--separator--x6bVX","summary-lg":"practice-test-summary--summary-lg--2bi4T"}},lf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.size,o=e.durationHours,n=e.durationMinutes,i=e.numAssessments,s=e.passPercent;return Nt.a.createElement("div",{className:(t?t+" ":"")+Sn()(Et()("summary",{"summary-lg":"lg"===r}),af)},ninterpolate("%(count)s question","%(count)s questions",i,{count:i}),Nt.a.createElement("span",{className:"practice-test-summary--separator--x6bVX"}," | "),Nt.a.createElement(sf,{hours:o,minutes:n}),Nt.a.createElement("span",{className:"practice-test-summary--separator--x6bVX"}," | "),Nt.a.createElement("span",{className:"hidden-xxs hidden-xs"},interpolate(gettext("%(percent)s% correct required to pass"),{percent:s},!0)),Nt.a.createElement("span",{className:"visible-xxs-inline visible-xs-inline"},interpolate(gettext("%(percent)s% required to pass"),{percent:s},!0)))}}]),t}(qt.Component);lf.propTypes={className:Rt.a.string,size:Rt.a.oneOf(["md","lg"]),durationHours:Rt.a.number.isRequired,durationMinutes:Rt.a.number.isRequired,numAssessments:Rt.a.number.isRequired,passPercent:Rt.a.number.isRequired},lf.defaultProps={className:"",size:"md"};r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/results-header.less");var cf,uf,pf,df,hf=Object(At.c)("practiceTestStore","quizViewStore")(cf=Object(At.d)((df=pf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClickShowChangelog",value:function(){var e=this.props.practiceTestStore;e.showChangelogModalUpToVersion(e.latestPublishedTestVersion)}},{key:"render",value:function(){var e=this.props,t=e.pageType,r=e.practiceTestStore,o=e.quizViewStore,n=r.testResultsByVersion;return Nt.a.createElement("section",{className:"results-header--results-header--1JFKZ"},r.isVersionAlertShown&&t===qm.RESULTS?Nt.a.createElement(jn.a,{className:"mt-space-lg","data-purpose":"version-alert",onDismiss:r.dismissVersionAlert},gettext("A new version of this practice test is now available. Retake the test to see the latest version.")," ",Nt.a.createElement(Cm.default,{onClick:this.onClickShowChangelog,"data-purpose":"show-changelog"},gettext("What changed?"))):null,Nt.a.createElement("h2",{className:"mt-space-0 mb-space-lg","data-purpose":"title"},interpolate(gettext("%(title)s - Results"),{title:o.quiz.title},!0)),1===n.length&&t===qm.RESULTS?Nt.a.createElement(lf,{className:"mt-space-sm mb-space-sm",size:"lg",durationHours:n[0].durationHours,durationMinutes:n[0].durationMinutes,numAssessments:n[0].numAssessments,passPercent:n[0].passPercent}):null)}}]),t}(qt.Component),pf.propTypes={pageType:Rt.a.oneOf([qm.RESULTS,qm.DETAILED_RESULT]).isRequired,practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},uf=df,babelHelpers.applyDecoratedDescriptor(uf.prototype,"onClickShowChangelog",[X.a],Object.getOwnPropertyDescriptor(uf.prototype,"onClickShowChangelog"),uf.prototype),cf=uf))||cf)||cf,mf=r("./src/udemy/js/base-components/grid.react-component.js"),bf=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/results-page-container.less"),function(e){var t=e.children;return Nt.a.createElement(mf.default,{className:"results-page-container--results-page-container--1aBPi"},t)});bf.propTypes={children:Rt.a.node.isRequired};var yf,ff,gf,vf,wf,kf,Cf,_f,Sf=bf,jf=Object(At.c)("practiceTestStore","quizViewStore")(yf=Object(At.d)((vf=gf=function(e){function o(e,t){var r;return babelHelpers.classCallCheck(this,o),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e,t))).props.practiceTestStore.resetDetailedTestResult(),r}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,r=e.practiceTestStore,o=e.quizViewStore,n=parseInt(t.params.attemptId,10)||0;r.loadDetailedTestResult(n).then(function(){o.track("review-questions",{user_attempted_quiz:r.detailedTestResult.id})}).catch(r.errorHandler)}},{key:"onClickBack",value:function(){var e=this.props.practiceTestStore.detailedTestResult.id;this.props.practiceTestStore.goToResultsPage(e)}},{key:"renderBody",value:function(){return Nt.a.createElement(Sf,null,Nt.a.createElement(hf,{pageType:qm.DETAILED_RESULT}),Nt.a.createElement("div",{className:"mt-space-xs mb-space-xs"},Nt.a.createElement(tr.default,{bsStyle:"tertiary",bsSize:"large",onClick:this.onClickBack,"data-purpose":"back"},Nt.a.createElement(Kt.a,{glyph:"previous"})," ",gettext("Return to review"))),Nt.a.createElement(Jy,null))}},{key:"renderFooter",value:function(){return Nt.a.createElement(nf,null)}},{key:"render",value:function(){return Nt.a.createElement(qh,{background:qh.BACKGROUNDS.GRAY,pageType:qm.DETAILED_RESULT,isLoading:!this.props.practiceTestStore.detailedTestResult,renderBody:this.renderBody,renderFooter:this.renderFooter})}}]),o}(qt.Component),gf.propTypes={match:Rt.a.object.isRequired,practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},ff=vf,babelHelpers.applyDecoratedDescriptor(ff.prototype,"onClickBack",[X.a],Object.getOwnPropertyDescriptor(ff.prototype,"onClickBack"),ff.prototype),babelHelpers.applyDecoratedDescriptor(ff.prototype,"renderBody",[X.a],Object.getOwnPropertyDescriptor(ff.prototype,"renderBody"),ff.prototype),babelHelpers.applyDecoratedDescriptor(ff.prototype,"renderFooter",[X.a],Object.getOwnPropertyDescriptor(ff.prototype,"renderFooter"),ff.prototype),yf=ff))||yf)||yf,Ef=r("./src/udemy/js/utils/query-params.js"),Df=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/changelog-modal.less"),Object(At.c)("practiceTestStore")(wf=Object(At.d)((_f=Cf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"renderChangelogEntry",value:function(e){return Nt.a.createElement("div",{key:e.number,className:"changelog-modal--changelog-entry--3vICh","data-purpose":"changelog-entry"},Nt.a.createElement("div",{className:"a11 mb-space-xs text-midnight-lighter"},interpolate(gettext("Version %(versionNumber)s - %(date)s"),{versionNumber:e.number,date:Object(yo.g)(e.date)},!0)),e.text)}},{key:"render",value:function(){var e=this.props.practiceTestStore.changelogModal;return Nt.a.createElement(My.a,{show:e.isOpen,onHide:this.props.practiceTestStore.hideChangelogModal,className:"changelog-modal--changelog-modal--1bVBS"},Nt.a.createElement(My.a.Header,{closeButton:!0},Nt.a.createElement(My.a.Title,null,gettext("Updates"))),Nt.a.createElement(My.a.Body,null,e.changelog.map(this.renderChangelogEntry)))}}]),t}(qt.Component),Cf.propTypes={practiceTestStore:Rt.a.object.isRequired},kf=_f,babelHelpers.applyDecoratedDescriptor(kf.prototype,"renderChangelogEntry",[X.a],Object.getOwnPropertyDescriptor(kf.prototype,"renderChangelogEntry"),kf.prototype),wf=kf))||wf)||wf),xf=r("./src/udemy/js/utils/ensure-in-view.js"),Of=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/result-status.less"),{"./result-status.less":{correct:"result-status--correct--u6CHR",incorrect:"result-status--incorrect--2xvsh",skipped:"result-status--skipped--3_-ct"}}),Tf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.status,r=e.children,o=e.className,n=Et()({correct:t===Bm.CORRECT,incorrect:t===Bm.INCORRECT,skipped:t===Bm.SKIPPED});return Nt.a.createElement("span",{className:(o?o+" ":"")+Sn()(n,Of)},r)}}]),t}(qt.Component);Tf.propTypes={status:Rt.a.oneOf(Object.values(Bm)).isRequired,children:Rt.a.node.isRequired,className:Rt.a.string},Tf.defaultProps={className:null};r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/collapsed-result-content.less");var Pf,Hf,Af,If=Object(At.d)((Af=Hf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.result;return Nt.a.createElement("div",{className:"fx-jsb"},Nt.a.createElement("div",{className:"fx-lc text-midnight"},Nt.a.createElement("div",{className:"collapsed-result-content--collapsed-chart--2wS70"},Nt.a.createElement(Yy.a,{config:e.smallChart})),Nt.a.createElement("div",{className:"ml-space-lg"},e.passed?Nt.a.createElement(Tf,{status:Bm.CORRECT,className:"collapsed-result-content--collapsed-status--3jHV1"},gettext("Passed!")):Nt.a.createElement(Tf,{status:Bm.INCORRECT,className:"collapsed-result-content--collapsed-status--3jHV1"},gettext("Failed")),Nt.a.createElement("div",{className:"a11 visible-xxs-block visible-xs-block"},Object(yo.e)(e.created)))),Nt.a.createElement("div",{className:"fx-ic collapsed-result-content--collapsed-percent-correct--16KMM"},Nt.a.createElement("span",{className:"hidden-xxs hidden-xs"},interpolate(gettext("%(percent)s% correct"),{percent:e.correctPercent},!0)),Nt.a.createElement("span",{className:"visible-xxs-inline visible-xs-inline"},interpolate(gettext("%(percent)s%"),{percent:e.correctPercent},!0))),Nt.a.createElement("div",{className:"fx-ic text-midnight-lighter hidden-xxs hidden-xs"},Nt.a.createElement(sf,{hours:e.elapsedHours,minutes:e.elapsedMinutes,seconds:e.elapsedSeconds})),Nt.a.createElement("div",{className:"fx-ic text-midnight-lighter hidden-xxs hidden-xs"},Object(yo.e)(e.created)),Nt.a.createElement("div",{className:"fx-ic"}))}}]),t}(qt.Component),Hf.propTypes={result:Rt.a.instanceOf(Ab).isRequired},Pf=Af))||Pf,Rf=r("./node_modules/lodash-es/escape.js"),qf=r("./src/udemy/js/base-components/localized-html.react-component.js"),Nf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return Nt.a.createElement("div",{className:this.props.className},Nt.a.createElement(Tf,{status:Bm.CORRECT,className:"db mr-space-sm"},Nt.a.createElement(Kt.a,{glyph:"square"})," ",gettext("Correct")),Nt.a.createElement(Tf,{status:Bm.INCORRECT,className:"db mr-space-sm"},Nt.a.createElement(Kt.a,{glyph:"square"})," ",gettext("Wrong")),Nt.a.createElement(Tf,{status:Bm.SKIPPED,className:"db"},Nt.a.createElement(Kt.a,{glyph:"square"})," ",gettext("Skipped")))}}]),t}(qt.Component);Nf.propTypes={className:Rt.a.string},Nf.defaultProps={className:null};r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/knowledge-area-bar-chart.less");var zf={"./knowledge-area-bar-chart.less":{"bar-chart":"knowledge-area-bar-chart--bar-chart--coj3c","fx-lc":"knowledge-area-bar-chart--fx-lc--2v-Ur","bar-correct":"knowledge-area-bar-chart--bar-correct--3SUdJ","bar-incorrect":"knowledge-area-bar-chart--bar-incorrect---uuD8","bar-skipped":"knowledge-area-bar-chart--bar-skipped--2e4o7"}},Mf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"renderBar",value:function(e,t,r){return 0===e?null:Nt.a.createElement("div",{style:{width:"".concat(e,"%")},"data-purpose":r,className:Sn()(t,zf)},interpolate(gettext("%(percent)s%"),{percent:e},!0))}},{key:"render",value:function(){var e=this.props.knowledgeArea;return Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement("h3",{className:"mt-space-lg text-midnight-lighter","data-purpose":"title"},ninterpolate("%(title)s (%(count)s question)","%(title)s (%(count)s questions)",e.numAssessments,{title:e.name,count:e.numAssessments})),Nt.a.createElement("div",{className:"knowledge-area-bar-chart--bar-chart--coj3c"},this.renderBar(e.correctPercent,"bar-correct","correct"),this.renderBar(e.incorrectPercent,"bar-incorrect","incorrect"),this.renderBar(e.skippedPercent,"bar-skipped","skipped")))}}]),t}(qt.Component);Mf.propTypes={knowledgeArea:Rt.a.instanceOf(Ib).isRequired};r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/expanded-result-content.less");var Lf,Ff,Uf,Bf,Vf,$f,Qf,Wf,Gf,Yf,Kf,Xf,Jf,Zf,eg,tg,rg,og,ng,ig,sg,ag,lg,cg,ug,pg,dg,hg,mg,bg,yg,fg,gg,vg,wg,kg,Cg,_g,Sg,jg,Eg,Dg,xg,Og,Tg,Pg,Hg,Ag,Ig,Rg,qg,Ng,zg,Mg,Lg,Fg,Ug,Bg,Vg,$g,Qg,Wg,Gg,Yg,Kg,Xg,Jg,Zg,ev,tv,rv,ov,nv,iv,sv,av,lv,cv,uv,pv,dv,hv,mv,bv,yv,fv,gv,vv,wv,kv=Object(At.c)("practiceTestStore")(Lf=Object(At.d)((Bf=Uf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClickReview",value:function(){this.props.practiceTestStore.goToDetailedResultPage(this.props.result.id)}},{key:"renderStatus",value:function(e){return e.passed?Nt.a.createElement(Tf,{status:Bm.CORRECT},interpolate(gettext("Passed! (%(percent)s% required to pass)"),{percent:e.passPercent},!0)):0<e.overtimeMinutes||0<e.overtimeSeconds?Nt.a.createElement(Tf,{status:Bm.INCORRECT},gettext("Failed (exceeded time limit)")):Nt.a.createElement(Tf,{status:Bm.INCORRECT},interpolate(gettext("Failed (%(percent)s% required to pass)"),{percent:e.passPercent},!0))}},{key:"renderResultStats",value:function(e,t){return Nt.a.createElement("div",{className:"fx-lt"},Nt.a.createElement("div",null,Nt.a.createElement("div",{className:"expanded-result-content--expanded-chart--2kcff"},t.isXSScreen?Nt.a.createElement(Yy.a,{config:e.smallChart}):Nt.a.createElement(Yy.a,{config:e.bigChart})),Nt.a.createElement(Nf,{className:"fx-c db-sm a12 mt-space-xs"})),Nt.a.createElement("div",{className:"fx expanded-result-content--expanded-summary--16NfH"},Nt.a.createElement("div",{className:"expanded-result-content--expanded-status--292KF"},Nt.a.createElement("div",{className:"dib"},interpolate(gettext("Attempt %(number)s:"),{number:e.number},!0)," "),this.renderStatus(e)),Nt.a.createElement(qf.a,{className:"db",dangerouslySetInnerHTML:{__html:interpolate(pgettext("e.g. 75% correct (3/4)",'<span class="percent">%(percent)s%</span> correct <span class="fraction">(%(numCorrect)s/%(total)s)</span>'),{percent:Object(Rf.a)(e.correctPercent),numCorrect:Object(Rf.a)(e.numCorrect),total:Object(Rf.a)(e.numAssessments)},!0)},interpolate:{percent:Nt.a.createElement("span",{className:"expanded-result-content--expanded-percent-correct--1lGTs"}),fraction:Nt.a.createElement("span",{className:"expanded-result-content--expanded-fraction-correct--3Z0t6"})}}),Nt.a.createElement("div",{className:"expanded-result-content--expanded-summary-bottom--1ftr3"},Nt.a.createElement("div",null,Nt.a.createElement(sf,{hours:e.elapsedHours,minutes:e.elapsedMinutes,seconds:e.elapsedSeconds,overtimeMinutes:e.overtimeMinutes,overtimeSeconds:e.overtimeSeconds})),Nt.a.createElement("div",null,Object(yo.g)(e.created))),Nt.a.createElement("div",{className:"mt-space-lg hidden-xs hidden-xxs"},Nt.a.createElement(tr.default,{bsStyle:"default",onClick:this.onClickReview},gettext("Review questions")))))}},{key:"render",value:function(){var e=this.props,t=e.result,r=e.practiceTestStore;return Nt.a.createElement("div",null,this.renderResultStats(t,r),Nt.a.createElement("div",{className:"mt-space-sm visible-xs-block visible-xxs-block"},Nt.a.createElement(tr.default,{block:!0,bsStyle:"default",onClick:this.onClickReview},gettext("Review questions"))),0<t.knowledgeAreas.length?Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement("h2",null,gettext("Knowledge areas")),t.knowledgeAreas.map(function(e){return Nt.a.createElement(Mf,{key:e.name,knowledgeArea:e})}),Nt.a.createElement(Nf,{className:"fx-lc a12 mt-space-lg"})):null)}}]),t}(qt.Component),Uf.propTypes={result:Rt.a.instanceOf(Ab).isRequired,practiceTestStore:Rt.a.object.isRequired},Ff=Bf,babelHelpers.applyDecoratedDescriptor(Ff.prototype,"onClickReview",[X.a],Object.getOwnPropertyDescriptor(Ff.prototype,"onClickReview"),Ff.prototype),Lf=Ff))||Lf)||Lf,Cv=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/result-panel.less"),{"./result-panel.less":{toggler:"result-panel--toggler--3p6yw","toggler-icon":"result-panel--toggler-icon--1dp07",collapsed:"result-panel--collapsed--1FrMu","collapsed-panel-body":"result-panel--collapsed-panel-body--12YLK",expanded:"result-panel--expanded--1IH7-"}}),_v={ensureInView:xf.a},Sv=Object(At.c)("practiceTestStore")(Vf=Object(At.d)((Wf=Qf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.ensureInViewIfExpanded(),this.disposers=[Object(J.observe)(this.props.result,"isExpanded",this.ensureInViewIfExpanded)],this.ref=op.a.findDOMNode(this)}},{key:"componentWillUnmount",value:function(){(this.disposers||[]).forEach(function(e){return e()}),this.ref=null}},{key:"ensureInViewIfExpanded",value:function(){var n=this;setTimeout(function(){var e=n.props,t=e.getScrollContainer,r=e.result,o=t();r.isExpanded&&o&&n.ref&&_v.ensureInView(n.ref,o,{keepIfInView:r.id===n.props.practiceTestStore.firstTestResult.id})},0)}},{key:"onToggleResult",value:function(){this.props.practiceTestStore.toggleIsExpandedForResult(this.props.result)}},{key:"render",value:function(){var e=this.props.result;return Nt.a.createElement(Jt.a,{className:Sn()(e.isExpanded?"expanded":"collapsed",Cv)},e.isExpanded?Nt.a.createElement(kv,{result:e}):Nt.a.createElement(Cm.default,{className:"result-panel--collapsed-panel-body--12YLK",onClick:this.onToggleResult},Nt.a.createElement(If,{result:e})),Nt.a.createElement(Cm.default,{onClick:this.onToggleResult,className:"result-panel--toggler--3p6yw","data-purpose":"toggler"},Nt.a.createElement(Kt.a,{glyph:"chevron-down","aria-label":e.isExpanded?gettext("Collapse"):gettext("Expand"),className:"result-panel--toggler-icon--1dp07"})))}}]),t}(qt.Component),Qf.propTypes={practiceTestStore:Rt.a.object.isRequired,result:Rt.a.instanceOf(Ab).isRequired,getScrollContainer:Rt.a.func.isRequired},$f=Wf,babelHelpers.applyDecoratedDescriptor($f.prototype,"ensureInViewIfExpanded",[X.a],Object.getOwnPropertyDescriptor($f.prototype,"ensureInViewIfExpanded"),$f.prototype),babelHelpers.applyDecoratedDescriptor($f.prototype,"onToggleResult",[X.a],Object.getOwnPropertyDescriptor($f.prototype,"onToggleResult"),$f.prototype),Vf=$f))||Vf)||Vf,jv=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/results-group.less"),Object(At.c)("practiceTestStore")(Gf=Object(At.d)((Xf=Kf=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClickShowChangelog",value:function(){var e=this.props,t=e.practiceTestStore,r=e.versionGroup;t.showChangelogModalUpToVersion(r.version)}},{key:"renderGroupHeader",value:function(){var e=this.props,t=e.practiceTestStore,r=e.versionGroup,o=e.versionIndex,n=t.testResultsByVersion;return n.length<=1?null:Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement("div",{className:"results-group--group-header--1MZgG"},interpolate(gettext("Version %(number)s"),{number:r.version},!0)," ",o!==n.length-1&&r.version<=t.latestPublishedTestVersion?Nt.a.createElement(Cm.default,{onClick:this.onClickShowChangelog,className:"ml-space-xs","data-purpose":"show-changelog"},Nt.a.createElement(Kt.a,{glyph:"question-circle",size:"small","aria-label":gettext("Show changelog"),className:"text-secondary"})):null),Nt.a.createElement(lf,{className:"mt-space-xxs mb-space-sm",durationHours:r.durationHours,durationMinutes:r.durationMinutes,numAssessments:r.numAssessments,passPercent:r.passPercent}))}},{key:"render",value:function(){var t=this;return Nt.a.createElement("div",{className:"results-group--results-group--MucNH"},this.renderGroupHeader(),this.props.versionGroup.results.map(function(e){return Nt.a.createElement(Sv,{key:e.id,result:e,getScrollContainer:t.props.getScrollContainer})}))}}]),t}(qt.Component),Kf.propTypes={getScrollContainer:Rt.a.func.isRequired,practiceTestStore:Rt.a.object.isRequired,versionGroup:Rt.a.object.isRequired,versionIndex:Rt.a.number.isRequired},Yf=Xf,babelHelpers.applyDecoratedDescriptor(Yf.prototype,"onClickShowChangelog",[X.a],Object.getOwnPropertyDescriptor(Yf.prototype,"onClickShowChangelog"),Yf.prototype),Gf=Yf))||Gf)||Gf),Ev=Object(At.c)("practiceTestStore","quizViewStore")(Jf=Object(At.d)((tg=eg=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.practiceTestStore,r=e.quizViewStore,o=e.location;if(!t.isTakingTest){var n=Object(Ef.f)(o),i=Object(Ef.d)(n.expanded,0);t.loadTestResults().then(function(){var e=null;i&&(e=t.testResults.find(function(e){return e.id===i})),e||(e=t.firstTestResult),e&&(e.isExpanded||t.toggleIsExpandedForResult(e),r.track("viewed-result-page",{user_attempted_quiz:e.id}))}).catch(t.errorHandler)}}},{key:"getScrollContainer",value:function(){return this.scrollContainer}},{key:"setScrollContainerRef",value:function(e){this.scrollContainer=e}},{key:"renderBody",value:function(){var r=this;return Nt.a.createElement(Sf,null,Nt.a.createElement(hf,{pageType:qm.RESULTS}),this.props.practiceTestStore.testResultsByVersion.map(function(e,t){return Nt.a.createElement(jv,{key:e.version,getScrollContainer:r.getScrollContainer,versionGroup:e,versionIndex:t})}),Nt.a.createElement(Df,null))}},{key:"renderFooter",value:function(){return Nt.a.createElement(nf,null)}},{key:"render",value:function(){return Nt.a.createElement(qh,{background:qh.BACKGROUNDS.GRAY,isLoading:!this.props.practiceTestStore.areTestResultsLoaded,renderBody:this.renderBody,renderFooter:this.renderFooter,setScrollContainerRef:this.setScrollContainerRef})}}]),t}(qt.Component),eg.propTypes={location:Rt.a.object.isRequired,practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},Zf=tg,babelHelpers.applyDecoratedDescriptor(Zf.prototype,"getScrollContainer",[X.a],Object.getOwnPropertyDescriptor(Zf.prototype,"getScrollContainer"),Zf.prototype),babelHelpers.applyDecoratedDescriptor(Zf.prototype,"setScrollContainerRef",[X.a],Object.getOwnPropertyDescriptor(Zf.prototype,"setScrollContainerRef"),Zf.prototype),babelHelpers.applyDecoratedDescriptor(Zf.prototype,"renderBody",[X.a],Object.getOwnPropertyDescriptor(Zf.prototype,"renderBody"),Zf.prototype),babelHelpers.applyDecoratedDescriptor(Zf.prototype,"renderFooter",[X.a],Object.getOwnPropertyDescriptor(Zf.prototype,"renderFooter"),Zf.prototype),Jf=Zf))||Jf)||Jf,Dv=Object(At.c)("$rootScope","courseExperienceStore","practiceTestStore","quizViewStore")(rg=Object(At.d)((ng=og=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"renderRightButtons",value:function(){var e=this.props.quizViewStore.isPreparingNewAttempt||!this.props.quizViewStore.quiz.numAssessments;return Nt.a.createElement(Nt.a.Fragment,null,this.props.practiceTestStore.isStartingARetake?null:Nt.a.createElement(of,null,Nt.a.createElement(_i,{$rootScope:this.props.$rootScope,courseExperienceStore:this.props.courseExperienceStore,bsStyle:"tertiary",buttonText:gettext("Skip test"),isResponsive:!1})),Nt.a.createElement(tr.default,{bsSize:"small",bsStyle:"primary",autoFocus:!0,"data-purpose":"start-quiz",disabled:e,onClick:this.props.practiceTestStore.startTest},gettext("Begin test")," ",Nt.a.createElement(Kt.a,{glyph:"next"})))}},{key:"render",value:function(){return Nt.a.createElement(An,{rightButtons:this.renderRightButtons(),reportId:this.props.quizViewStore.quiz.id,reportType:"quiz",$rootScope:this.props.$rootScope,hotkeysEnabled:!0})}}]),t}(qt.Component),og.propTypes={$rootScope:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},rg=ng))||rg)||rg,xv=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/start/start-page.less"),Object(At.c)("practiceTestStore","quizViewStore")(ig=Object(At.d)((lg=ag=function(e){function o(e,t){var r;return babelHelpers.classCallCheck(this,o),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e,t))).props.practiceTestStore.resetIsStartPageLoaded(),r}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"componentDidMount",value:function(){this.props.practiceTestStore.ensureStartPageIsLoaded()}},{key:"renderBody",value:function(){var e=this.props.quizViewStore.quiz;return Nt.a.createElement(Ay,null,Nt.a.createElement("section",null,Nt.a.createElement("div",{className:"start-page--title--1wY9N"},e.title),Nt.a.createElement(lf,{className:"mt-space-sm mb-space-lg",size:"lg",durationHours:e.durationHours,durationMinutes:e.durationMinutes,numAssessments:e.numAssessments,passPercent:e.passPercent}),e.description&&Nt.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.description}})),Nt.a.createElement("hr",{className:"mt-space-lg mb-space-lg"}),Nt.a.createElement("div",{className:"start-page--instructions--npvO2"},gettext("Instructions:"),Nt.a.createElement("ul",null,Nt.a.createElement("li",null,gettext("You can pause the test at any time and resume later.")),Nt.a.createElement("li",null,gettext("You can retake the test as many times as you would like.")),Nt.a.createElement("li",null,gettext("The progress bar at the top of the screen will show your progress as\n                           well as the time remaining in the test. If you run out of time, don’t worry;\n                            you will still be able to finish the test.")),Nt.a.createElement("li",null,gettext("You can skip a question to come back to at the end of the exam.")),Nt.a.createElement("li",null,gettext("You can also use “Mark for Review” to come back to questions you\n                            are unsure about before you submit your test.")),Nt.a.createElement("li",null,gettext("If you want to finish the test and see your results immediately, press the stop button.")))))}},{key:"renderFooter",value:function(){return Nt.a.createElement(Dv,null)}},{key:"render",value:function(){return Nt.a.createElement(qh,{isLoading:!this.props.practiceTestStore.isStartPageLoaded,renderBody:this.renderBody,renderFooter:this.renderFooter})}}]),o}(qt.Component),ag.propTypes={practiceTestStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},sg=lg,babelHelpers.applyDecoratedDescriptor(sg.prototype,"renderBody",[X.a],Object.getOwnPropertyDescriptor(sg.prototype,"renderBody"),sg.prototype),babelHelpers.applyDecoratedDescriptor(sg.prototype,"renderFooter",[X.a],Object.getOwnPropertyDescriptor(sg.prototype,"renderFooter"),sg.prototype),ig=sg))||ig)||ig),Ov=Object(At.c)("$rootScope","$state","courseExperienceStore","courseTakingStore","quizViewStore","viewModeService")(cg=Object(At.d)((hg=dg=function(e){function n(e,t){var r;babelHelpers.classCallCheck(this,n),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this,e,t)),babelHelpers.initializerDefineProperty(r,"reactRouterLocation",pg,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(r))),r.practiceTestStore=new Rb(r.props.courseExperienceStore,r.props.courseTakingStore,r.props.quizViewStore,r.props.viewModeService);var o=r.practiceTestStore.routePrefix;return r.routes=[{name:qm.START,path:"".concat(o,"/start"),component:xv},{name:qm.QUESTION,path:"".concat(o,"/test"),component:Wy},{name:qm.RESULTS,path:"".concat(o,"/results"),component:Ev},{name:qm.DETAILED_RESULT,path:"".concat(o,"/result/:attemptId(\\d+)"),component:jf}],r}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.quizViewStore,r=e.$state,o=e.viewModeService;this.unlisten=this.practiceTestStore.history.listen(this.setReactRouterLocation);var n=this.ngRouterLocation,i=this.routes.find(function(e){return!!Object(Rm.a)(n.pathname,{path:e.path,exact:!0})}),s=r.params.reactRouterPath;!i&&s?r.go(M.name,{},{location:"replace"}):(s||(s="test"),o.isPreviewing()||!t.attempt?this.doInitialRedirect(n.pathname,"start"):"test"===s&&t.attempt.completion_time?this.doInitialRedirect(n.pathname,"results"):this.practiceTestStore.isTakingTest?this.doInitialRedirect(n.pathname,"test"):i||this.doInitialRedirect(n.pathname,s))}},{key:"componentWillUnmount",value:function(){this.unlisten&&this.unlisten(),this.props.quizViewStore.attempt&&this.practiceTestStore.timer.pause()}},{key:"doInitialRedirect",value:function(e,t){var r=this.props.$state,o="".concat(this.practiceTestStore.routePrefix,"/").concat(t);o!==e&&(r.go("base.taking.quiz.practice-test",{reactRouterPath:t},{location:"replace",isInitialRedirect:!0}),this.setReactRouterLocation({pathname:o}))}},{key:"setReactRouterLocation",value:function(e){this.reactRouterLocation=e}},{key:"setRouterRef",value:function(e){this.practiceTestStore.setHistory(e?e.history:null)}},{key:"renderRouter",value:function(){return Nt.a.createElement(Yt.a,{ref:this.setRouterRef},Nt.a.createElement(Qt.a,{location:this.reactRouterLocation||this.ngRouterLocation},this.routes.map(function(e){return Nt.a.createElement(Wt.a,{key:e.name,exact:!0,path:e.path,component:e.component})})))}},{key:"render",value:function(){return Nt.a.createElement(At.b,{practiceTestStore:this.practiceTestStore},Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(Ls,{hotkeysType:"test",$rootScope:this.props.$rootScope,courseTakingStore:this.props.courseTakingStore}),Nt.a.createElement("div",{className:Et()("questions-panel right-panel navigation",{"panel--open":this.practiceTestStore.isQuestionNavOpen})},Nt.a.createElement(Fb,null)),Nt.a.createElement("div",{className:Et()("fullscreen",{"right-panel-open":this.practiceTestStore.isQuestionNavOpen})},this.renderRouter())))}},{key:"ngRouterLocation",get:function(){var e=this.props.$state,t=document.getElementsByTagName("base")[0].href.replace(/\/$/,""),r=e.href(e.current.name,e.params,{absolute:!0}).replace(/~2F/g,"/").replace(t,"");return r.endsWith("/")&&(r=r.slice(0,-1)),{pathname:r,search:window.location.search}}}]),n}(qt.Component),dg.propTypes={$rootScope:Rt.a.object.isRequired,$state:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired,viewModeService:Rt.a.object.isRequired},ug=hg,pg=babelHelpers.applyDecoratedDescriptor(ug.prototype,"reactRouterLocation",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(ug.prototype,"setReactRouterLocation",[X.a,J.action],Object.getOwnPropertyDescriptor(ug.prototype,"setReactRouterLocation"),ug.prototype),babelHelpers.applyDecoratedDescriptor(ug.prototype,"setRouterRef",[X.a],Object.getOwnPropertyDescriptor(ug.prototype,"setRouterRef"),ug.prototype),cg=ug))||cg)||cg,Tv=r("./src/udemy/js/utils/seeded-rng.js"),Pv=r("./src/udemy/js/utils/ud-ace.js"),Hv=(mg=function(){function r(e,t){babelHelpers.classCallCheck(this,r),this.id=e.id,this.assessmentType=e.assessment_type,this.questionIndex=t,this.promptRichText=(e.prompt.question||"").trim(),this.promptPlainText=(e.question_plain||"").trim(),e.related_lectures&&0<e.related_lectures.length?this.relatedLecture=new Me(e.related_lectures[0]):this.relatedLecture=null,this.answers=this.buildAnswersFromAPIData(e),this.resetObservableData()}return babelHelpers.createClass(r,[{key:"buildAnswersFromAPIData",value:function(){throw new Error("Not implemented")}},{key:"resetObservableData",value:function(){Object(J.extendObservable)(this,{numAttempts:0,startTime:null})}},{key:"setCorrectAnswer",value:function(){throw new Error("Not implemented")}},{key:"setStartTime",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Date.now();this.startTime=e}},{key:"incrementAttempts",value:function(){this.numAttempts+=1}},{key:"wrongAnswers",get:function(){throw new Error("Not implemented")}},{key:"isAnswered",get:function(){throw new Error("Not implemented")}},{key:"isCorrect",get:function(){return this.isAnswered&&0===this.wrongAnswers.length}},{key:"isIncorrect",get:function(){return this.isAnswered&&0<this.wrongAnswers.length}}]),r}(),babelHelpers.applyDecoratedDescriptor(mg.prototype,"resetObservableData",[J.action],Object.getOwnPropertyDescriptor(mg.prototype,"resetObservableData"),mg.prototype),babelHelpers.applyDecoratedDescriptor(mg.prototype,"isCorrect",[J.computed],Object.getOwnPropertyDescriptor(mg.prototype,"isCorrect"),mg.prototype),babelHelpers.applyDecoratedDescriptor(mg.prototype,"isIncorrect",[J.computed],Object.getOwnPropertyDescriptor(mg.prototype,"isIncorrect"),mg.prototype),babelHelpers.applyDecoratedDescriptor(mg.prototype,"setStartTime",[J.action],Object.getOwnPropertyDescriptor(mg.prototype,"setStartTime"),mg.prototype),babelHelpers.applyDecoratedDescriptor(mg.prototype,"incrementAttempts",[J.action],Object.getOwnPropertyDescriptor(mg.prototype,"incrementAttempts"),mg.prototype),mg),Av=(yg=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"buildAnswersFromAPIData",value:function(e){return(e.correct_response||[]).map(function(e){return new Iv(e)})}},{key:"resetObservableData",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"resetObservableData",this).call(this),Object(J.extendObservable)(this,{isCorrectAnswerShown:!1}),this.answers.forEach(function(e){return e.resetObservableData()})}},{key:"setCorrectAnswer",value:function(){this.answers.forEach(function(e){e.setFill(e.correctValue)})}},{key:"showCorrectAnswer",value:function(){this.isCorrectAnswerShown=!0,this.setCorrectAnswer()}},{key:"wrongAnswers",get:function(){return this.answers.filter(function(e){return!e.getIsCorrect(e.fill)})}},{key:"isAnswered",get:function(){return this.answers.every(function(e){return!!e.fill})}}]),t}(Hv),babelHelpers.applyDecoratedDescriptor(yg.prototype,"resetObservableData",[J.action],Object.getOwnPropertyDescriptor(yg.prototype,"resetObservableData"),yg.prototype),babelHelpers.applyDecoratedDescriptor(yg.prototype,"wrongAnswers",[J.computed],Object.getOwnPropertyDescriptor(yg.prototype,"wrongAnswers"),yg.prototype),babelHelpers.applyDecoratedDescriptor(yg.prototype,"isAnswered",[J.computed],Object.getOwnPropertyDescriptor(yg.prototype,"isAnswered"),yg.prototype),babelHelpers.applyDecoratedDescriptor(yg.prototype,"setCorrectAnswer",[J.action],Object.getOwnPropertyDescriptor(yg.prototype,"setCorrectAnswer"),yg.prototype),babelHelpers.applyDecoratedDescriptor(yg.prototype,"showCorrectAnswer",[X.a,J.action],Object.getOwnPropertyDescriptor(yg.prototype,"showCorrectAnswer"),yg.prototype),yg),Iv=(bg=function(){function t(e){babelHelpers.classCallCheck(this,t),this.correctValue=e,this.resetObservableData()}return babelHelpers.createClass(t,[{key:"resetObservableData",value:function(){Object(J.extendObservable)(this,{fill:""})}},{key:"getIsCorrect",value:function(e){return e.toLowerCase()===this.correctValue.toLowerCase()}},{key:"setFill",value:function(e){this.fill=e}}]),t}(),babelHelpers.applyDecoratedDescriptor(bg.prototype,"resetObservableData",[J.action],Object.getOwnPropertyDescriptor(bg.prototype,"resetObservableData"),bg.prototype),babelHelpers.applyDecoratedDescriptor(bg.prototype,"setFill",[J.action],Object.getOwnPropertyDescriptor(bg.prototype,"setFill"),bg.prototype),bg),Rv=(fg=function(e){function o(e,t){var r;return babelHelpers.classCallCheck(this,o),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e,t))).explanation=e.prompt.explanation||"",r.knowledgeArea=e.section||"",r._answersInOriginalOrder=r.answers.slice(),Object(J.extendObservable)(babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(r)),{questionIndex:t}),r}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"buildAnswersFromAPIData",value:function(e){var n="a".charCodeAt(0),i=[],s=e.correct_response||[],a=e.prompt.answers||[],l=e.prompt.feedbacks||[];return a.forEach(function(e,t){var r=String.fromCharCode(n+t),o="";l.length===a.length&&(o=l[t]),i.push({id:r,text:e,feedback:o,correct:0<=s.indexOf(r)})}),i}},{key:"resetObservableData",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(o.prototype),"resetObservableData",this).call(this),Object(J.extendObservable)(this,{isMarkedForReview:!1,seen:!1,wasSkipped:!1}),this.answers.forEach(function(e){Object(J.extendObservable)(e,{selected:!1,disabled:!1})})}},{key:"setUserAnswerFromAPIData",value:function(e){var t={};this.answers.forEach(function(e){t[e.id]=e}),e.response.map(function(e){return t[e]}).forEach(function(e){e.selected=!0}),this.isMarkedForReview=Boolean(e.is_marked_for_review),this.markSeen(),this.isAnswered||this.markSkipped()}},{key:"setQuestionIndex",value:function(e){this.questionIndex=e}},{key:"shuffleAnswers",value:function(e){this.answers=this._answersInOriginalOrder.slice(),Object(Tv.b)(this.answers,e)}},{key:"markSeen",value:function(){this.seen=!0}},{key:"markSkipped",value:function(){this.deselectAllAnswers(),this.wasSkipped=!0}},{key:"setMarkedForReview",value:function(e){this.isMarkedForReview=e}},{key:"disableAnswers",value:function(e){var t=e.map(function(e){return{answer:e,wasDisabled:e.disabled,wasSelected:e.selected}});return e.forEach(function(e){e.disabled=!0,e.selected=!1}),Object(J.action)(function(){t.forEach(function(e){e.answer.disabled=e.wasDisabled,e.answer.selected=e.wasSelected})})}},{key:"setCorrectAnswer",value:function(){this.answers.forEach(function(e){e.selected=e.correct,e.disabled=!e.correct})}},{key:"selectAnswerAtIndex",value:function(e){if(!(e>=this.answers.length)){var t=this.answers[e];t.disabled||(this.assessmentType===Vm.MULTIPLE_CHOICE?this.answers.forEach(function(e){e.selected=e===t}):t.selected=!t.selected)}}},{key:"deselectAllAnswers",value:function(){this.answers.forEach(function(e){e.selected=!1})}},{key:"selectedAnswers",get:function(){return this.answers.filter(function(e){return e.selected})}},{key:"wrongAnswers",get:function(){return this.answers.filter(function(e){return e.selected!==e.correct})}},{key:"isAnswered",get:function(){return 0<this.selectedAnswers.length}}]),o}(Hv),babelHelpers.applyDecoratedDescriptor(fg.prototype,"resetObservableData",[J.action],Object.getOwnPropertyDescriptor(fg.prototype,"resetObservableData"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"selectedAnswers",[J.computed],Object.getOwnPropertyDescriptor(fg.prototype,"selectedAnswers"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"wrongAnswers",[J.computed],Object.getOwnPropertyDescriptor(fg.prototype,"wrongAnswers"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"isAnswered",[J.computed],Object.getOwnPropertyDescriptor(fg.prototype,"isAnswered"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"setUserAnswerFromAPIData",[J.action],Object.getOwnPropertyDescriptor(fg.prototype,"setUserAnswerFromAPIData"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"setQuestionIndex",[J.action],Object.getOwnPropertyDescriptor(fg.prototype,"setQuestionIndex"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"shuffleAnswers",[J.action],Object.getOwnPropertyDescriptor(fg.prototype,"shuffleAnswers"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"markSeen",[J.action],Object.getOwnPropertyDescriptor(fg.prototype,"markSeen"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"markSkipped",[J.action],Object.getOwnPropertyDescriptor(fg.prototype,"markSkipped"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"setMarkedForReview",[J.action],Object.getOwnPropertyDescriptor(fg.prototype,"setMarkedForReview"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"disableAnswers",[J.action],Object.getOwnPropertyDescriptor(fg.prototype,"disableAnswers"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"setCorrectAnswer",[J.action],Object.getOwnPropertyDescriptor(fg.prototype,"setCorrectAnswer"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"selectAnswerAtIndex",[J.action],Object.getOwnPropertyDescriptor(fg.prototype,"selectAnswerAtIndex"),fg.prototype),babelHelpers.applyDecoratedDescriptor(fg.prototype,"deselectAllAnswers",[J.action],Object.getOwnPropertyDescriptor(fg.prototype,"deselectAllAnswers"),fg.prototype),fg),qv=(gg=J.observable.ref,vg=J.observable.ref,wg=J.observable.ref,kg=function(){function r(e,t){babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"isLoaded",Cg,this),babelHelpers.initializerDefineProperty(this,"quiz",_g,this),babelHelpers.initializerDefineProperty(this,"attempt",Sg,this),babelHelpers.initializerDefineProperty(this,"areQuestionsLoaded",jg,this),babelHelpers.initializerDefineProperty(this,"questions",Eg,this),babelHelpers.initializerDefineProperty(this,"currentQuestionArrayIndex",Dg,this),this._questionCache={},this.courseExperienceStore=e,this.courseTakingStore=t}return babelHelpers.createClass(r,[{key:"load",value:function(e,t){var r=this;if(isNaN(parseInt(e,10)))return Promise.reject("Invalid quiz id");var o=this.courseExperienceStore.courseId;return Z.c.get("/users/me/subscribed-courses/".concat(o,"/quizzes/").concat(e,"/"),{params:{draft:t,"fields[quiz]":Gm.join(",")}}).catch(function(e){throw e.response&&404===e.response.status&&r.setAPIErrorCode(e,Fm.COULD_NOT_LOAD_QUIZ),e}).then(function(e){r._setQuizFromAPIData(e.data),r.quiz.quizType===Ie.CODING_EXERCISE&&Object(Pv.a)(),r.loadAttemptById("latest").then(function(t){r.loadQuestions(t).then(function(e){r._setContentReady(t,e)})}).catch(function(e){if(e.response&&404===e.response.status)return r.loadQuestions().then(function(e){r._setContentReady(null,e)}),null;throw e})})}},{key:"unload",value:function(){this.isLoaded=!1}},{key:"_setQuizFromAPIData",value:function(e){this.courseExperienceStore.setCurrentCurriculumItem("quiz",e.id),this.quiz=this.courseExperienceStore.currentCurriculumItem,this.quiz.setDataFromAPI(e)}},{key:"_setContentReady",value:function(e,t){this.attempt=e||null,this.questions=t||[],this.courseExperienceStore.onContentReady(),this.isLoaded=!0}},{key:"setAttempt",value:function(e){this.attempt=e}},{key:"setQuestions",value:function(e){this.questions=e,this.areQuestionsLoaded=!0}},{key:"setCurrentQuestionIndex",value:function(e){this.currentQuestionArrayIndex=e}},{key:"track",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={quiz:this.quiz.id,user_attempted_quiz:this.attempt&&this.attempt.id,assessment:this.currentQuestion&&this.currentQuestion.id,log_action:e},o=Object.assign(r,t);this.courseExperienceStore.track(void 0,void 0,o,x.d.QUIZ_TAKING)}},{key:"mobileReload",value:function(e){var t=new Je.a(window.location.href);Object(D.a)()&&"true"===t.getQueryParamValue("notify_mobile")&&(t=t.addQueryParam("mobile_event",e),window.open(t.toString()))}},{key:"loadQuestionsForLatestAttempt",value:function(){return this.areQuestionsLoaded=!1,this.loadQuestions({id:this.attempt.id,isRandomized:this.attempt.results_summary.is_randomized,version:this.attempt.version})}},{key:"loadQuestions",value:function(){var r=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,o=null,n=null,i=this.quiz.version;e&&(e.isRandomized&&(o=Object(Tv.a)(e.id)),n=e.id,i=e.version);var t=this._questionCache[i];return t?(t.attemptId!==n&&(t.attemptId=n,t.questions=this._getOrderedQuestionsAndAnswers(t.questionsInOriginalOrder,o)),Promise.resolve(t.questions)):Z.c.get("/quizzes/".concat(this.quiz.id,"/assessments/"),{params:{version:i,page_size:250,"fields[assessment]":this._getFieldsFilter($m)}}).then(function(e){var t=e.data.results.map(function(e,t){switch(e.assessment_type){case Vm.MULTIPLE_CHOICE:case Vm.MULTIPLE_SELECT:return new Rv(e,t+1);case Vm.FILL_IN_THE_BLANK:return new Av(e,t+1);case Vm.CODING_PROBLEM:return e;default:throw new Error("Cannot create Question model for type ".concat(e.assessment_type))}});return r._questionCache[i]={attemptId:n,questionsInOriginalOrder:t,questions:r._getOrderedQuestionsAndAnswers(t,o)},r._questionCache[i].questions})}},{key:"_getOrderedQuestionsAndAnswers",value:function(e,r){var t=e.slice();return r&&(Object(Tv.b)(t,r),t.forEach(function(e,t){e.setQuestionIndex(t+1),e.shuffleAnswers(r)})),t}},{key:"loadUserAnswers",value:function(e){var t=this.courseExperienceStore.courseId;return Z.c.get("/users/me/subscribed-courses/".concat(t,"/user-attempted-quizzes/").concat(e,"/assessment-answers/"),{params:{"fields[user_answers_assessment]":this._getFieldsFilter(Qm),"fields[assessment]":"id",page_size:250}}).then(function(e){return e.data.results})}},{key:"mergeQuestionsAndUserAnswers",value:function(e,t){var r={};t.forEach(function(e){r[e.assessment.id]=e}),e.forEach(function(e){var t=r[e.id];t&&e.setUserAnswerFromAPIData(t)})}},{key:"answerQuestion",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=this.courseExperienceStore.courseId,n=this.attempt.id;return Z.c.post("/users/me/subscribed-courses/".concat(o,"/user-attempted-quizzes/").concat(n,"/assessment-answers/"),babelHelpers.objectSpread({assessment_id:e,response:JSON.stringify(t)},r))}},{key:"loadAttemptById",value:function(e){var t=this.courseExperienceStore.courseId;return Z.c.get("/users/me/subscribed-courses/".concat(t,"/quizzes/").concat(this.quiz.id,"/user-attempted-quizzes/").concat(e,"/"),{params:{"fields[user_attempted_quiz]":this._getFieldsFilter(Wm)}}).then(function(e){return e.data})}},{key:"createNewAttempt",value:function(){var t=this,e=this.courseExperienceStore.course;return Z.c.post("/users/me/subscribed-courses/".concat(e.id,"/quizzes/").concat(this.quiz.id,"/user-attempted-quizzes/"),{is_viewed:!0,version:this.quiz.version},{params:{"fields[user_attempted_quiz]":this._getFieldsFilter(Wm)}}).then(function(e){t.setAttempt(e.data)})}},{key:"updateAttempt",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.courseExperienceStore.course;return Z.c.patch("/users/me/subscribed-courses/".concat(t.id,"/quizzes/").concat(this.quiz.id,"/user-attempted-quizzes/").concat(this.attempt.id),e)}},{key:"deleteAttempt",value:function(){if(!this.attempt)return Promise.resolve();var e=this.courseExperienceStore.course,t=this.attempt.id;return this.setAttempt(null),Z.c.delete("/users/me/subscribed-courses/".concat(e.id,"/quizzes/").concat(this.quiz.id,"/user-attempted-quizzes/").concat(t))}},{key:"defaultErrorHandler",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=!!e.response&&400===e.response.status,o=!e.response&&!!e.message&&!Um.has(e.message);(r||o)&&Ym.a.captureException(e);var n="";if(r&&e.response.data&&e.response.data.detail&&(n=e.response.data.detail),t[e.message])return t[e.message](e);switch(e.message){case Fm.COULD_NOT_CREATE_ATTEMPT:return ee.b.Feedback.fromText(n||gettext("Unable to create quiz attempt"),ee.b.MessageType.error);case Fm.COULD_NOT_DELETE_ATTEMPT:return;case Fm.COULD_NOT_LOAD_QUESTIONS:return ee.b.Feedback.fromText(gettext("Unable to load questions for this attempt"),ee.b.MessageType.error);case Fm.COULD_NOT_LOAD_QUIZ:return ee.b.Feedback.fromText(gettext("Quiz not found"),ee.b.MessageType.error);case Fm.COULD_NOT_SAVE_ANSWER:return ee.b.Feedback.fromText(n||gettext("Unable to save answer for this question"),ee.b.MessageType.error);default:return ee.b.Feedback.fromText(ee.b.Feedback.DEFAULT_ERROR_MESSAGE,ee.b.MessageType.error)}}},{key:"setAPIErrorCode",value:function(e,t){e.response&&!Um.has(e.message)&&(e.message=t)}},{key:"_getFieldsFilter",value:function(e){return(e[this.quiz.quizType]||e.DEFAULT).join(",")}},{key:"isAttemptWithoutQuestions",get:function(){return!!this.attempt&&0===this.questions.length}},{key:"currentQuestion",get:function(){return null===this.currentQuestionArrayIndex?null:this.questions[this.currentQuestionArrayIndex]}}]),r}(),Cg=babelHelpers.applyDecoratedDescriptor(kg.prototype,"isLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_g=babelHelpers.applyDecoratedDescriptor(kg.prototype,"quiz",[gg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Sg=babelHelpers.applyDecoratedDescriptor(kg.prototype,"attempt",[vg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jg=babelHelpers.applyDecoratedDescriptor(kg.prototype,"areQuestionsLoaded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Eg=babelHelpers.applyDecoratedDescriptor(kg.prototype,"questions",[wg],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dg=babelHelpers.applyDecoratedDescriptor(kg.prototype,"currentQuestionArrayIndex",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(kg.prototype,"isAttemptWithoutQuestions",[J.computed],Object.getOwnPropertyDescriptor(kg.prototype,"isAttemptWithoutQuestions"),kg.prototype),babelHelpers.applyDecoratedDescriptor(kg.prototype,"currentQuestion",[J.computed],Object.getOwnPropertyDescriptor(kg.prototype,"currentQuestion"),kg.prototype),babelHelpers.applyDecoratedDescriptor(kg.prototype,"unload",[J.action],Object.getOwnPropertyDescriptor(kg.prototype,"unload"),kg.prototype),babelHelpers.applyDecoratedDescriptor(kg.prototype,"_setQuizFromAPIData",[J.action],Object.getOwnPropertyDescriptor(kg.prototype,"_setQuizFromAPIData"),kg.prototype),babelHelpers.applyDecoratedDescriptor(kg.prototype,"_setContentReady",[J.action],Object.getOwnPropertyDescriptor(kg.prototype,"_setContentReady"),kg.prototype),babelHelpers.applyDecoratedDescriptor(kg.prototype,"setAttempt",[J.action],Object.getOwnPropertyDescriptor(kg.prototype,"setAttempt"),kg.prototype),babelHelpers.applyDecoratedDescriptor(kg.prototype,"setQuestions",[J.action],Object.getOwnPropertyDescriptor(kg.prototype,"setQuestions"),kg.prototype),babelHelpers.applyDecoratedDescriptor(kg.prototype,"setCurrentQuestionIndex",[J.action],Object.getOwnPropertyDescriptor(kg.prototype,"setCurrentQuestionIndex"),kg.prototype),babelHelpers.applyDecoratedDescriptor(kg.prototype,"loadQuestionsForLatestAttempt",[J.action],Object.getOwnPropertyDescriptor(kg.prototype,"loadQuestionsForLatestAttempt"),kg.prototype),babelHelpers.applyDecoratedDescriptor(kg.prototype,"mergeQuestionsAndUserAnswers",[J.action],Object.getOwnPropertyDescriptor(kg.prototype,"mergeQuestionsAndUserAnswers"),kg.prototype),kg),Nv=Object.freeze({START:"START",QUESTION:"QUESTION",RESULTS:"RESULTS"}),zv=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/related-lecture.less"),Object(At.c)("quizViewStore")(xg=Object(At.d)((Hg=Pg=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isVideoShowing",Tg,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"toggleVideoShowing",value:function(){this.isVideoShowing=!this.isVideoShowing,this.isVideoShowing&&this.trackSeenRelatedLecture()}},{key:"trackSeenRelatedLecture",value:function(){this.props.quizViewStore.track("seen-related-lecture",{assessment:this.props.question.id})}},{key:"render",value:function(){return this.lecture?Nt.a.createElement(of,null,Nt.a.createElement("div",null,Nt.a.createElement("div",{className:"related-lecture--link--3dkJg"},this.lecture.isVideo?this.videoLink:this.nonVideoLink),this.videoPlayer)):null}},{key:"lecture",get:function(){return this.props.question.relatedLecture}},{key:"linkContent",get:function(){var e=interpolate(gettext("This was discussed in Lecture %(lectureNumber)s: <b>%(lectureTitle)s</b>"),{lectureNumber:this.lecture.objectIndex,lectureTitle:this.lecture.title},!0);return Nt.a.createElement("span",null,Nt.a.createElement(Kt.a,{key:"icon",glyph:this.isVideoShowing?"angle-down":"angle-right"})," ",Nt.a.createElement("span",{key:"title",dangerouslySetInnerHTML:{__html:e}}))}},{key:"videoLink",get:function(){return Nt.a.createElement(Cm.default,{onClick:this.toggleVideoShowing,role:"button"},this.linkContent)}},{key:"nonVideoLink",get:function(){return Nt.a.createElement("a",{href:this.lecture.url,target:"_blank",rel:"noopener noreferrer",onClick:this.trackSeenRelatedLecture},this.linkContent)}},{key:"videoPlayer",get:function(){return this.lecture.isVideo&&this.isVideoShowing?(e=this.lecture.assetType===ze.b.VIDEO_MASHUP?zu.a:Eo.default,Nt.a.createElement("div",{className:"related-lecture--video--1MHxB"},Nt.a.createElement(e,{id:this.lecture.asset.id,playerOptions:{trackingTag:"quiz_related_lecture"}}))):null;var e}}]),i}(Nt.a.Component),Pg.propTypes={quizViewStore:Rt.a.object.isRequired,question:Rt.a.instanceOf(Hv).isRequired},Og=Hg,Tg=babelHelpers.applyDecoratedDescriptor(Og.prototype,"isVideoShowing",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Og.prototype,"toggleVideoShowing",[X.a,J.action],Object.getOwnPropertyDescriptor(Og.prototype,"toggleVideoShowing"),Og.prototype),babelHelpers.applyDecoratedDescriptor(Og.prototype,"trackSeenRelatedLecture",[X.a],Object.getOwnPropertyDescriptor(Og.prototype,"trackSeenRelatedLecture"),Og.prototype),xg=Og))||xg)||xg),Mv=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/feedback-alert.less"),Object(At.c)("simpleQuizStore")(Ag=Object(At.d)((Rg=Ig=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.simpleQuizStore.checkedAnswer;if(!e)return null;var t=e.feedback,r=null;return this.props.simpleQuizStore.isRevisitingQuestionPage?t&&(r=Nt.a.createElement(jn.a,{bsStyle:"info",id:"questionFeedbackAlert"},t)):r=e.isCorrect?Nt.a.createElement(jn.a,{bsStyle:"success",id:"questionFeedbackAlert"},gettext("Good job!"),t?Nt.a.createElement("p",{className:"feedback-alert--feedback--1wEw8"},t):null):Nt.a.createElement(jn.a,{bsStyle:"danger",id:"questionFeedbackAlert"},gettext("Incorrect answer. Please try again."),t?Nt.a.createElement("p",{className:"feedback-alert--feedback--1wEw8"},t):null),r}}]),t}(qt.Component),Ig.propTypes={simpleQuizStore:Rt.a.object.isRequired},Ag=Rg))||Ag)||Ag),Lv=r("./node_modules/lodash-es/camelCase.js"),Fv=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/fitb-quiz-answer.less"),{"./fitb-quiz-answer.less":{blank:"fitb-quiz-answer--blank--15CZC","blank-correct":"fitb-quiz-answer--blank-correct--3s8x-","icon-correct":"fitb-quiz-answer--icon-correct--1ZFh-","blank-wrong":"fitb-quiz-answer--blank-wrong--1bbPB","icon-wrong":"fitb-quiz-answer--icon-wrong--11vUC"}}),Uv=Object(At.c)("simpleQuizStore")(qg=Object(At.d)((Mg=zg=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"handleChange",value:function(e){this.answer.setFill(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.question,r=e.order,o=e.simpleQuizStore,n=!1,i=!1;if(o.checkedAnswer&&!o.isRevisitingQuestionPage){var s=o.checkedAnswer.answers[r],a=this.answer.getIsCorrect(s);n=!a&&!t.isCorrectAnswerShown,i=a}return Nt.a.createElement("span",{className:Sn()(Et()({blank:!0,"blank-wrong":n,"blank-correct":i}),Fv)},Nt.a.createElement(vr.a,{type:"text",placeholder:gettext("blank"),disabled:t.isCorrectAnswerShown||o.isCheckedAnswerCorrect||o.isRevisitingQuestionPage,value:this.answer.fill,onChange:this.handleChange}),n?Nt.a.createElement(Kt.a,{glyph:"close",className:"fitb-quiz-answer--icon-wrong--11vUC"}):null,i?Nt.a.createElement(Kt.a,{glyph:"check",className:"fitb-quiz-answer--icon-correct--1ZFh-"}):null)}},{key:"answer",get:function(){return this.props.question.answers[this.props.order]}}]),t}(qt.Component),zg.propTypes={question:Rt.a.object.isRequired,order:Rt.a.number.isRequired,simpleQuizStore:Rt.a.object.isRequired},Ng=Mg,babelHelpers.applyDecoratedDescriptor(Ng.prototype,"answer",[J.computed],Object.getOwnPropertyDescriptor(Ng.prototype,"answer"),Ng.prototype),babelHelpers.applyDecoratedDescriptor(Ng.prototype,"handleChange",[X.a],Object.getOwnPropertyDescriptor(Ng.prototype,"handleChange"),Ng.prototype),qg=Ng))||qg)||qg,Bv=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/fitb-quiz-question.less"),Object(At.c)("simpleQuizStore")(Lg=Object(At.d)((Bg=Ug=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClickShowAnswer",value:function(){this.props.question.showCorrectAnswer(),this.props.simpleQuizStore.resetCheckedAnswer()}},{key:"renderFITBQuestion",value:function(){var e=this.props.question,t=document.implementation.createHTMLDocument("title").createElement("div");return t.innerHTML=e.promptRichText,function r(e,o){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(3===e.nodeType)return Nt.a.createElement(Nt.a.Fragment,{key:n},e.textContent);var t=e.tagName.toLowerCase();if("u-blank"===t)return Nt.a.createElement(Uv,{key:"".concat(o.id,":").concat(n),order:parseInt(e.getAttribute("data-order"),10),question:o});var i=Array.from(e.childNodes).map(function(e,t){return r(e,o,n+t)});0===i.length&&(i=null);var s={key:n};return Array.from(e.attributes).forEach(function(e){if("class"===e.name)s.className=e.value;else if(e.name.startsWith("data-"))s[e.name]=e.value;else if("style"===e.name){var i={};(e.value||"").split(";").forEach(function(e){var t=e.split(":"),r=babelHelpers.slicedToArray(t,2),o=r[0],n=r[1];i[o]=n}),s[e.name]=i}else s[Object(Lv.a)(e.name)]=e.value}),Nt.a.createElement(t,s,i)}(t,e)}},{key:"render",value:function(){var e=this.props,t=e.question,r=e.simpleQuizStore.isCheckedAnswerCorrect||t.isCorrectAnswerShown||t.numAttempts<1,o=t.answers.length;return Nt.a.createElement("div",null,this.renderFITBQuestion(),Nt.a.createElement("div",{className:"fitb-quiz-question--quiz__answer--1U6bA"},r?null:Nt.a.createElement(tr.default,{className:"fitb-quiz-question--quiz__show-answers--TXQik",onClick:this.onClickShowAnswer,"data-purpose":"show-answer"},ngettext("Show answer","Show answers",o))))}}]),t}(qt.Component),Ug.propTypes={question:Rt.a.instanceOf(Av).isRequired,simpleQuizStore:Rt.a.object.isRequired},Fg=Bg,babelHelpers.applyDecoratedDescriptor(Fg.prototype,"onClickShowAnswer",[X.a],Object.getOwnPropertyDescriptor(Fg.prototype,"onClickShowAnswer"),Fg.prototype),Lg=Fg))||Lg)||Lg),Vv=Object(At.c)("$rootScope","courseTakingStore","quizViewStore","simpleQuizStore")(Vg=Object(At.d)((Wg=Qg=function(e){function s(e,t){var o;babelHelpers.classCallCheck(this,s);var r=(o=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(s).call(this,e,t))).props,n=r.courseTakingStore,i=r.simpleQuizStore;return i.setUpResetOnQuestionChange(),o.detachKeyhandler=n.attachKeyhandler(function(e,t,r){i.isRevisitingQuestionPage||39!==t&&13!==t||("SHIFT"===r?i.skipQuestion():o.onCheckOrNextQuestion())}),o}return babelHelpers.inherits(s,e),babelHelpers.createClass(s,[{key:"componentWillUnmount",value:function(){this.detachKeyhandler&&this.detachKeyhandler(),this.props.simpleQuizStore.disposeResetOnQuestionChange()}},{key:"onCheckOrNextQuestion",value:function(){var e=this.props,t=e.quizViewStore,r=e.simpleQuizStore;!r.isRevisitingQuestionPage&&t.currentQuestion.isAnswered&&(r.isCheckedAnswerCorrect?r.goToNextQuestion():r.checkAnswer().then(this.scrollToFeedback).catch(r.errorHandler))}},{key:"setScrollContainerRef",value:function(e){this.scrollableContainer=e}},{key:"scrollToFeedback",value:function(){this.scrollableContainer&&this.scrollableContainer.scrollTo({top:0,behavior:"smooth"})}},{key:"renderBody",value:function(){var e=this.props.quizViewStore.currentQuestion;return Nt.a.createElement(Ay,null,Nt.a.createElement(Mv,null),e.relatedLecture&&0<e.numAttempts?Nt.a.createElement(zv,{question:e}):null,Nt.a.createElement("div",{className:"pt-space-lg pb-space-lg"},e.assessmentType===Vm.FILL_IN_THE_BLANK?Nt.a.createElement(Bv,{question:e}):Nt.a.createElement(Ny,{question:e})))}},{key:"renderCounter",value:function(){var e=this.props.quizViewStore,t=e.currentQuestion;return Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement("span",{className:"hidden-xxs hidden-xs"},interpolate(gettext("Question %(questionIndex)s of %(numQuestions)s"),{questionIndex:t.questionIndex,numQuestions:e.questions.length},!0)),Nt.a.createElement("span",{className:"visible-xxs-inline visible-xs-inline"},interpolate(gettext("%(questionIndex)s of %(numQuestions)s"),{questionIndex:t.questionIndex,numQuestions:e.questions.length},!0)))}},{key:"renderSkipButton",value:function(){var e=this.props.simpleQuizStore;return e.isCheckedAnswerCorrect||e.isRevisitingQuestionPage?null:Nt.a.createElement(tr.default,{bsSize:"small",bsStyle:"tertiary",onClick:e.skipQuestion,"data-purpose":"skip-question-button"},Nt.a.createElement("span",{className:"hidden-xxs hidden-xs"},gettext("Skip question")),Nt.a.createElement("span",{className:"visible-xxs-inline visible-xs-inline"},gettext("Skip")))}},{key:"renderLeftButtons",value:function(){return D.c?this.renderSkipButton():this.renderCounter()}},{key:"renderRightButtons",value:function(){var e=this.props,t=e.quizViewStore,r=e.simpleQuizStore,o=t.currentQuestion,n=o.questionIndex===t.questions.length;return Nt.a.createElement(Nt.a.Fragment,null,D.c?this.renderCounter():this.renderSkipButton(),r.isRevisitingQuestionPage?Nt.a.createElement(tr.default,{className:"mr-space-0","data-purpose":"back-to-results-button",onClick:r.goBackToResultsPage},gettext("Back to results")):Nt.a.createElement(tr.default,{bsSize:"small",bsStyle:"primary",className:"mr-space-0",onClick:this.onCheckOrNextQuestion,disabled:!o.isAnswered,"data-purpose":"next-question-button"},r.isCheckedAnswerCorrect?n?Nt.a.createElement("span",{className:"mr-space-xxs"},gettext("See results"),Nt.a.createElement(Kt.a,{glyph:"next",className:"ml-space-xxs"})):Nt.a.createElement("span",{className:"mr-space-sm ml-space-sm"},gettext("Next"),Nt.a.createElement(Kt.a,{glyph:"next",className:"ml-space-xxs"})):Nt.a.createElement("span",{className:"mr-space-xxs"},gettext("Check answer"))))}},{key:"renderFooter",value:function(){return Nt.a.createElement(An,{reportType:"quiz",reportId:this.props.quizViewStore.quiz.id,leftButtons:this.renderLeftButtons(),rightButtons:this.renderRightButtons(),$rootScope:this.props.$rootScope,hotkeysEnabled:!0})}},{key:"render",value:function(){return Nt.a.createElement(qh,{isLoading:!1,renderBody:this.renderBody,renderFooter:this.renderFooter,setScrollContainerRef:this.setScrollContainerRef})}}]),s}(qt.Component),Qg.propTypes={$rootScope:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired,simpleQuizStore:Rt.a.object.isRequired},$g=Wg,babelHelpers.applyDecoratedDescriptor($g.prototype,"onCheckOrNextQuestion",[X.a],Object.getOwnPropertyDescriptor($g.prototype,"onCheckOrNextQuestion"),$g.prototype),babelHelpers.applyDecoratedDescriptor($g.prototype,"setScrollContainerRef",[X.a],Object.getOwnPropertyDescriptor($g.prototype,"setScrollContainerRef"),$g.prototype),babelHelpers.applyDecoratedDescriptor($g.prototype,"scrollToFeedback",[X.a],Object.getOwnPropertyDescriptor($g.prototype,"scrollToFeedback"),$g.prototype),babelHelpers.applyDecoratedDescriptor($g.prototype,"renderBody",[X.a],Object.getOwnPropertyDescriptor($g.prototype,"renderBody"),$g.prototype),babelHelpers.applyDecoratedDescriptor($g.prototype,"renderFooter",[X.a],Object.getOwnPropertyDescriptor($g.prototype,"renderFooter"),$g.prototype),Vg=$g))||Vg)||Vg,$v=r("./src/udemy/js/base-components/tooltip-icon.react-component.js"),Qv=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/question-list.less"),Object(At.c)("simpleQuizStore")(Gg=Object(At.d)((Xg=Kg=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClickRevisit",value:function(e){var t=this.props.questions[parseInt(e.target.dataset.index,10)];this.props.simpleQuizStore.revisitQuestion(t)}},{key:"render",value:function(){var r=this,e=this.props,t=e.questions,o=e.showRelatedLectures;return Nt.a.createElement("ul",null,t.map(function(e,t){return Nt.a.createElement("li",{className:"question-list--question-summary--3SGDw",key:e.id},Nt.a.createElement(Cm.default,{role:"button","data-index":t,onClick:r.onClickRevisit},e.promptPlainText?Nt.a.createElement("span",{"data-index":t,dangerouslySetInnerHTML:{__html:e.promptPlainText}}):Nt.a.createElement("span",{"data-index":t},interpolate(gettext("Question %s"),[e.questionIndex]))),o&&e.relatedLecture?Nt.a.createElement(of,null,Nt.a.createElement("a",{className:"question-list--related-lecture--7uJUw",href:e.relatedLecture.url,target:"_blank",rel:"noopener noreferrer"},Nt.a.createElement("p",null,Nt.a.createElement("span",null,interpolate(gettext("Lecture %s"),[e.relatedLecture.objectIndex]))," ",e.relatedLecture.title))):null)}))}}]),t}(qt.Component),Kg.propTypes={questions:Rt.a.array.isRequired,showRelatedLectures:Rt.a.bool,simpleQuizStore:Rt.a.object.isRequired},Kg.defaultProps={showRelatedLectures:!1},Yg=Xg,babelHelpers.applyDecoratedDescriptor(Yg.prototype,"onClickRevisit",[X.a],Object.getOwnPropertyDescriptor(Yg.prototype,"onClickRevisit"),Yg.prototype),Gg=Yg))||Gg)||Gg),Wv=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/results/results-page.less"),{"./results-page.less":{result:"results-page--result--3YiKF","status-section":"results-page--status-section--1WRjH","result-title":"results-page--result-title--u0NQ6",header:"results-page--header--3zrnx","status-icon-spacer":"results-page--status-icon-spacer--1EvGj","success-icon":"results-page--success-icon--1aPJg","fx-c":"results-page--fx-c--2jj2J","header--fail":"results-page--header--fail--yvBqc",title:"results-page--title--KozUy",summary:"results-page--summary--3FyMz"}}),Gv=Object(At.c)("$rootScope","courseExperienceStore","courseTakingStore","quizViewStore","simpleQuizStore")(Jg=Object(At.d)((tv=ev=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"renderBody",value:function(){var e=this.props.simpleQuizStore,t=e.attemptStats.userPassed,r=e.getQuestionsFromAttemptStats("wrong"),o=e.getQuestionsFromAttemptStats("correct"),n=e.getQuestionsFromAttemptStats("skipped"),i=Nt.a.createElement("section",{className:"results-page--result--3YiKF"},n.length?Nt.a.createElement("div",{className:"results-page--status-section--1WRjH","data-purpose":"skipped-section"},Nt.a.createElement("div",{className:"results-page--result-title--u0NQ6"},Nt.a.createElement(Kt.a,{glyph:"rotate-right"}),Nt.a.createElement("span",null,gettext("What you skipped"))),Nt.a.createElement(Qv,{questions:n})):null,o.length?Nt.a.createElement("div",{className:"results-page--status-section--1WRjH","data-purpose":"correct-section"},Nt.a.createElement("div",{className:"results-page--result-title--u0NQ6"},Nt.a.createElement(Kt.a,{glyph:"check",className:"text-green"}),Nt.a.createElement("span",null,gettext("What you know")),Nt.a.createElement($v.a,{placement:"bottom",bsStyle:"neutral",icon:"info",id:"info-tooltip"},gettext("These are questions you got right on the first try."))),Nt.a.createElement(Qv,{questions:o})):null,r.length?Nt.a.createElement("div",{className:"results-page--status-section--1WRjH","data-purpose":"incorrect-section"},Nt.a.createElement("div",{className:"results-page--result-title--u0NQ6"},Nt.a.createElement(Kt.a,{glyph:"close",className:"text-danger"}),Nt.a.createElement("span",null,gettext("What you should review"))),Nt.a.createElement(Qv,{questions:r,showRelatedLectures:!0})):null),s=Nt.a.createElement("header",{className:Sn()(Et()("header",{"header--fail":!t}),Wv)},Nt.a.createElement(Ay,null,!n.length&&t?Nt.a.createElement("div",{className:"pos-r"},Nt.a.createElement("span",{className:"results-page--success-icon--1aPJg"},Nt.a.createElement(Kt.a,{glyph:"line-star"}))):Nt.a.createElement("div",{className:"results-page--status-icon-spacer--1EvGj"}),Nt.a.createElement("h2",{className:"results-page--title--KozUy","data-purpose":"results-title"},n.length?Nt.a.createElement("span",null,gettext("Complete the quiz to see your results.")):t?Nt.a.createElement("span",null,gettext("Great job! You are ready to move on to the next lecture.")):Nt.a.createElement("span",null,gettext("Review the course materials to expand your learning."))),Nt.a.createElement("div",{className:"results-page--summary--3FyMz","data-purpose":"results-summary"},Nt.a.createElement("span",null,interpolate(gettext("You got %(correct)s out of %(total)s correct on the first attempt."),{correct:o.length,total:e.attemptStats.numAnsweredQuestions},!0)),n.length?Nt.a.createElement("span",null," ",ninterpolate("%s question is skipped.","%s questions are skipped.",n.length)):null)));return Nt.a.createElement(Nt.a.Fragment,null,s,Nt.a.createElement(Ay,{responsiveFullscreen:!0},i))}},{key:"renderFooter",value:function(){var e=this.props,t=e.$rootScope,r=e.courseExperienceStore,o=e.courseTakingStore,n=e.quizViewStore,i=e.simpleQuizStore,s=i.attemptStats.userPassed,a=Nt.a.createElement(tr.default,{bsStyle:s?"default":"primary",bsSize:"small",onClick:i.retryQuiz,"data-purpose":"retry-button"},Nt.a.createElement("span",{className:"hidden-xxs hidden-xs"},gettext("Retry quiz")),Nt.a.createElement("span",{className:"visible-xxs-inline visible-xs-inline"},gettext("Retry"))),l=Nt.a.createElement(of,null,Nt.a.createElement(_i,{bsStyle:s?"primary":"default",$rootScope:t,courseExperienceStore:r}));return Nt.a.createElement(An,{reportType:"quiz",reportId:n.quiz.id,$rootScope:t,hotkeysEnabled:!0,showHotkeys:o.showHotkeys,leftButtons:s?a:l,rightButtons:s?l:a})}},{key:"render",value:function(){return Nt.a.createElement(qh,{isLoading:!this.props.simpleQuizStore.attemptStats,renderBody:this.renderBody,renderFooter:this.renderFooter})}}]),t}(qt.Component),ev.propTypes={$rootScope:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired,simpleQuizStore:Rt.a.object.isRequired},Zg=tv,babelHelpers.applyDecoratedDescriptor(Zg.prototype,"renderBody",[X.a],Object.getOwnPropertyDescriptor(Zg.prototype,"renderBody"),Zg.prototype),babelHelpers.applyDecoratedDescriptor(Zg.prototype,"renderFooter",[X.a],Object.getOwnPropertyDescriptor(Zg.prototype,"renderFooter"),Zg.prototype),Jg=Zg))||Jg)||Jg,Yv=(rv=J.observable.ref,ov=J.observable.ref,nv=function(){function r(e,t){babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"currentPage",iv,this),babelHelpers.initializerDefineProperty(this,"isPreparingNewAttempt",sv,this),babelHelpers.initializerDefineProperty(this,"isTakingQuiz",av,this),babelHelpers.initializerDefineProperty(this,"checkedAnswer",lv,this),babelHelpers.initializerDefineProperty(this,"attemptStats",cv,this),babelHelpers.initializerDefineProperty(this,"isRevisitingQuestionPage",uv,this),this.courseExperienceStore=e,this.quizViewStore=t}return babelHelpers.createClass(r,[{key:"initFromLatestAttempt",value:function(){var e=this.quizViewStore.attempt;this.isTakingQuiz=!!e&&!e.completion_time,e&&e.completion_time?this.goToResultsPage():this.currentPage=Nv.START}},{key:"retryQuiz",value:function(){var t=this;this.quizViewStore.setAttempt(null),this.attemptStats=null,this.quizViewStore.quiz.markAsIncomplete().catch(function(e){t.quizViewStore.setAPIErrorCode(e,Fm.COULD_NOT_RESET_QUIZ_PROGRESS),t.errorHandler(e)}),this.currentPage=Nv.START,this.quizViewStore.mobileReload("start")}},{key:"_ensureNewAttempt",value:function(){var t=this;return this.isTakingQuiz?Promise.resolve():(this.isPreparingNewAttempt=!0,this.quizViewStore.createNewAttempt().catch(Object(J.action)(function(e){throw t.isPreparingNewAttempt=!1,t.quizViewStore.setAPIErrorCode(e,Fm.COULD_NOT_CREATE_ATTEMPT),e})).then(function(){t.quizViewStore.track("started-quiz-attempt",{num_questions:t.quizViewStore.questions.length})}))}},{key:"_initializeCompletedQuestions",value:function(){var r=this;(this.quizViewStore.attempt.completed_assessments||[]).forEach(function(e){var t=r.questionsById[e];t&&t.setCorrectAnswer()})}},{key:"startOrResumeQuiz",value:function(){var e=this;return this._ensureNewAttempt().then(Object(J.action)(function(){e.quizViewStore.questions.forEach(function(e){e.resetObservableData()}),e._initializeCompletedQuestions(),e.goToFirstUnansweredQuestion(),e.isPreparingNewAttempt=!1,e.quizViewStore.mobileReload("start-quiz-clicked")})).catch(this.errorHandler)}},{key:"goToFirstUnansweredQuestion",value:function(){var e=this.quizViewStore.questions.find(function(e){return!e.isAnswered});e?this.goToQuestionPage(e):this.goToResultsPage()}},{key:"revisitQuestion",value:function(e){this.goToQuestionPage(e,{isRevisiting:!0}),e.setCorrectAnswer(),this.checkedAnswer=this._buildCheckedAnswer(e),this.quizViewStore.mobileReload("revisit-question-clicked")}},{key:"setUpResetOnQuestionChange",value:function(){var e=this;this._onQuestionChangeDisposer&&this._onQuestionChangeDisposer(),this._onQuestionChangeDisposer=Object(J.reaction)(function(){return e.quizViewStore.currentQuestion.id},Object(J.action)(function(){e.quizViewStore.currentQuestion.setStartTime()}),{fireImmediately:!0})}},{key:"disposeResetOnQuestionChange",value:function(){this._onQuestionChangeDisposer&&this._onQuestionChangeDisposer(),this._onQuestionChangeDisposer=null}},{key:"skipQuestion",value:function(){this.quizViewStore.track("skipped-question"),this.goToNextQuestion()}},{key:"goToNextQuestion",value:function(){var e=this.quizViewStore.currentQuestion;if(e.questionIndex===this.quizViewStore.questions.length)this.goToResultsPage(),this.quizViewStore.mobileReload("show-results-clicked");else{var t=e.questionIndex-1;this.goToQuestionPage(this.quizViewStore.questions[t+1]),this.quizViewStore.mobileReload("next-question-clicked")}}},{key:"_buildCheckedAnswer",value:function(e){return e.assessmentType===Vm.FILL_IN_THE_BLANK?{isCorrect:e.isCorrect,answers:e.answers.map(function(e){return e.fill}),feedback:null}:{isCorrect:e.isCorrect,answers:e.selectedAnswers.map(function(e){return e.id}),feedback:e.selectedAnswers[0].feedback||null}}},{key:"resetCheckedAnswer",value:function(){this.checkedAnswer=null}},{key:"checkAnswer",value:function(){var t,r=this,o=this.quizViewStore.currentQuestion,e=Math.floor((Date.now()-o.startTime)/1e3),n=this._buildCheckedAnswer(o);return o.assessmentType!==Vm.FILL_IN_THE_BLANK&&(t=o.disableAnswers(o.selectedAnswers)),this.quizViewStore.track("answered-question",{answer:n.answers,duration:e}),this.quizViewStore.answerQuestion(o.id,n.answers,{duration:e}).then(Object(J.action)(function(){(r.checkedAnswer=n).isCorrect?o.setCorrectAnswer():o.incrementAttempts()})).catch(function(e){o.assessmentType!==Vm.FILL_IN_THE_BLANK&&t(),r.quizViewStore.setAPIErrorCode(e,Fm.COULD_NOT_SAVE_ANSWER),r.errorHandler(e)})}},{key:"ensureAttemptStatsAreLoaded",value:function(){var t=this;if(this.attemptStats)return Promise.resolve();var e=this.courseExperienceStore.courseId,r=this.quizViewStore.quiz.id,o=this.quizViewStore.attempt.id;return Z.c.get("/users/me/subscribed-courses/".concat(e,"/quizzes/").concat(r,"/user-attempted-quizzes/").concat(o,"/stats/")).then(Object(J.action)(function(e){t.attemptStats={summary:{correct:e.data.summary.correct||[],wrong:e.data.summary.wrong||[],skipped:e.data.summary.skipped||[]},numAnsweredQuestions:e.data.user_num_answers,numSkippedQuestions:e.data.user_num_skipped_answers,userPassed:e.data.user_passed},t.quizViewStore.track("viewed-result-page"),0===t.attemptStats.numSkippedQuestions&&t.quizViewStore.quiz.setComplete()})).catch(function(e){t.quizViewStore.setAPIErrorCode(e,Fm.COULD_NOT_LOAD_ATTEMPT_STATS),t.errorHandler(e)})}},{key:"getQuestionsFromAttemptStats",value:function(e){var t=this.quizViewStore.questions;return this.attemptStats.summary[e].map(function(e){return t[e]})}},{key:"goToQuestionPage",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t=babelHelpers.objectSpread({isRevisiting:!1},t),this.isTakingQuiz=!0,this.isRevisitingQuestionPage=t.isRevisiting;var r=e.questionIndex-1;this.quizViewStore.setCurrentQuestionIndex(r),this.checkedAnswer=null,this.currentPage=Nv.QUESTION}},{key:"goToResultsPage",value:function(){this.isTakingQuiz=!1,this.isRevisitingQuestionPage=!1,this.ensureAttemptStatsAreLoaded(),this.currentPage=Nv.RESULTS}},{key:"goBackToResultsPage",value:function(){this.goToResultsPage(),this.quizViewStore.mobileReload("back-to-results-clicked")}},{key:"errorHandler",value:function(e){var t;this.quizViewStore.defaultErrorHandler(e,(t={},babelHelpers.defineProperty(t,Fm.COULD_NOT_LOAD_ATTEMPT_STATS,function(){return ee.b.Feedback.fromText(gettext("Unable to load results for this attempt"),ee.b.MessageType.error)}),babelHelpers.defineProperty(t,Fm.COULD_NOT_RESET_QUIZ_PROGRESS,function(){return ee.b.Feedback.fromText(gettext("Unable to reset progress for this quiz"),ee.b.MessageType.error)}),t))}},{key:"isCheckedAnswerCorrect",get:function(){return!!this.checkedAnswer&&this.checkedAnswer.isCorrect}},{key:"isCheckedAnswerIncorrect",get:function(){return!!this.checkedAnswer&&!this.checkedAnswer.isCorrect}},{key:"questionsById",get:function(){var t={};return this.quizViewStore.questions.forEach(function(e){t[e.id]=e}),t}}]),r}(),iv=babelHelpers.applyDecoratedDescriptor(nv.prototype,"currentPage",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sv=babelHelpers.applyDecoratedDescriptor(nv.prototype,"isPreparingNewAttempt",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),av=babelHelpers.applyDecoratedDescriptor(nv.prototype,"isTakingQuiz",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lv=babelHelpers.applyDecoratedDescriptor(nv.prototype,"checkedAnswer",[rv],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cv=babelHelpers.applyDecoratedDescriptor(nv.prototype,"attemptStats",[ov],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),uv=babelHelpers.applyDecoratedDescriptor(nv.prototype,"isRevisitingQuestionPage",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(nv.prototype,"isCheckedAnswerCorrect",[J.computed],Object.getOwnPropertyDescriptor(nv.prototype,"isCheckedAnswerCorrect"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"isCheckedAnswerIncorrect",[J.computed],Object.getOwnPropertyDescriptor(nv.prototype,"isCheckedAnswerIncorrect"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"questionsById",[J.computed],Object.getOwnPropertyDescriptor(nv.prototype,"questionsById"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"initFromLatestAttempt",[J.action],Object.getOwnPropertyDescriptor(nv.prototype,"initFromLatestAttempt"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"retryQuiz",[X.a,J.action],Object.getOwnPropertyDescriptor(nv.prototype,"retryQuiz"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"_ensureNewAttempt",[J.action],Object.getOwnPropertyDescriptor(nv.prototype,"_ensureNewAttempt"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"startOrResumeQuiz",[X.a],Object.getOwnPropertyDescriptor(nv.prototype,"startOrResumeQuiz"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"revisitQuestion",[J.action],Object.getOwnPropertyDescriptor(nv.prototype,"revisitQuestion"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"skipQuestion",[X.a],Object.getOwnPropertyDescriptor(nv.prototype,"skipQuestion"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"goToNextQuestion",[X.a],Object.getOwnPropertyDescriptor(nv.prototype,"goToNextQuestion"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"resetCheckedAnswer",[J.action],Object.getOwnPropertyDescriptor(nv.prototype,"resetCheckedAnswer"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"checkAnswer",[J.action],Object.getOwnPropertyDescriptor(nv.prototype,"checkAnswer"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"goToQuestionPage",[J.action],Object.getOwnPropertyDescriptor(nv.prototype,"goToQuestionPage"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"goToResultsPage",[J.action],Object.getOwnPropertyDescriptor(nv.prototype,"goToResultsPage"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"goBackToResultsPage",[X.a],Object.getOwnPropertyDescriptor(nv.prototype,"goBackToResultsPage"),nv.prototype),babelHelpers.applyDecoratedDescriptor(nv.prototype,"errorHandler",[X.a],Object.getOwnPropertyDescriptor(nv.prototype,"errorHandler"),nv.prototype),nv),Kv=(r("./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/start/start-page.less"),Object(At.c)("$rootScope","courseExperienceStore","quizViewStore","simpleQuizStore")(pv=Object(At.d)((mv=hv=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"renderBody",value:function(){var e=this.props,t=e.$rootScope,r=e.courseExperienceStore,o=e.simpleQuizStore,n=e.quizViewStore.quiz;return Nt.a.createElement(Ay,null,Nt.a.createElement("section",null,Nt.a.createElement("h1",{className:"start-page--title--1MQ1v"},n.title),Nt.a.createElement("div",{className:"mt-space-xs mb-space-sm"},Nt.a.createElement("span",null,interpolate(gettext("Quiz %s"),[n.objectIndex])),Nt.a.createElement("span",{className:"ml-space-sm mr-space-sm"},"|"),Nt.a.createElement("span",null,ninterpolate("%s question","%s questions",n.numAssessments))),n.description&&Nt.a.createElement("p",{dangerouslySetInnerHTML:{__html:n.description}})),Nt.a.createElement("nav",{className:"start-page--nav--3ICA2"},Nt.a.createElement(tr.default,{autoFocus:!0,bsStyle:"primary",className:"mr-space-md",disabled:o.isPreparingNewAttempt,onClick:o.startOrResumeQuiz,"data-purpose":"start-or-resume-quiz"},o.isTakingQuiz?gettext("Resume quiz"):gettext("Start quiz")),Nt.a.createElement(of,null,Nt.a.createElement(_i,{$rootScope:t,courseExperienceStore:r,bsStyle:"tertiary",bsSize:"default",isResponsive:!1,buttonText:gettext("Skip quiz")}))))}},{key:"renderFooter",value:function(){return Nt.a.createElement(An,{reportType:"quiz",reportId:this.props.quizViewStore.quiz.id,$rootScope:this.props.$rootScope,hotkeysEnabled:!0})}},{key:"render",value:function(){return Nt.a.createElement(qh,{isLoading:!1,renderBody:this.renderBody,renderFooter:this.renderFooter})}}]),t}(qt.Component),hv.propTypes={$rootScope:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired,simpleQuizStore:Rt.a.object.isRequired},dv=mv,babelHelpers.applyDecoratedDescriptor(dv.prototype,"renderBody",[X.a],Object.getOwnPropertyDescriptor(dv.prototype,"renderBody"),dv.prototype),babelHelpers.applyDecoratedDescriptor(dv.prototype,"renderFooter",[X.a],Object.getOwnPropertyDescriptor(dv.prototype,"renderFooter"),dv.prototype),pv=dv))||pv)||pv),Xv=Object(At.c)("$rootScope","courseExperienceStore","courseTakingStore","quizViewStore")(bv=Object(At.d)((fv=yv=function(e){function o(e,t){var r;return babelHelpers.classCallCheck(this,o),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e,t))).simpleQuizStore=new Yv(r.props.courseExperienceStore,r.props.quizViewStore),r.simpleQuizStore.initFromLatestAttempt(),r}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"renderPage",value:function(){switch(this.simpleQuizStore.currentPage){case Nv.START:return Nt.a.createElement(Kv,null);case Nv.QUESTION:return Nt.a.createElement(Vv,null);case Nv.RESULTS:return Nt.a.createElement(Gv,null);default:return null}}},{key:"render",value:function(){return Nt.a.createElement(At.b,{simpleQuizStore:this.simpleQuizStore},Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(Ls,{hotkeysType:"quiz",$rootScope:this.props.$rootScope,courseTakingStore:this.props.courseTakingStore}),Nt.a.createElement("div",{className:"fullscreen"},this.renderPage())))}}]),o}(qt.Component),yv.propTypes={$rootScope:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,quizViewStore:Rt.a.object.isRequired},bv=fv))||bv)||bv,Jv=Object(At.d)((wv=vv=function(e){function o(e,t){var r;return babelHelpers.classCallCheck(this,o),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e,t))).quizViewStore=new qv(r.props.courseExperienceStore,r.props.courseTakingStore),r}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"componentDidMount",value:function(){var o=this,e=this.props,t=e.$rootScope,r=e.$state,n=e.viewModeService,i=e.courseExperienceStore,s=e.courseTakingStore,a=r.params.id,l=n.isPreviewing()&&n.isViewingAsInstructor();this.quizViewStore.load(a,l).then(function(){"base.taking.quiz.practice-test"===r.current.name&&o.quizViewStore.quiz.quizType!==Ie.PRACTICE_TEST&&o.ngRedirect("base.taking.quiz",{id:a},{replace:!0,isInitialRedirect:!0}),t.course.analytics_tracking_code&&ks.a.trackPageview(t.course.analytics_tracking_code,"instructor","".concat(i.course.url,"course-taking/quiz/").concat(a))}).catch(function(e){o.quizViewStore.unload(),(e.response&&e.response.data&&e.response.data.detail)===Ha?s.redirectToLockedScreen("quiz",a):(o.quizViewStore.defaultErrorHandler(e),o.ngRedirect("base.dashboard.content"))}),this.offStateChange=t.$on("$stateChangeStart",function(e,t,r){t.name.startsWith("base.taking.quiz")&&r.id===a||o.quizViewStore.unload()})}},{key:"componentWillUnmount",value:function(){this.offStateChange&&this.offStateChange()}},{key:"ngRedirect",value:function(e,t,r){this.props.$state.go(e,t,r),this.props.$rootScope.$$phase||this.props.$rootScope.$apply()}},{key:"renderQuizPage",value:function(e){switch(e){case Ie.SIMPLE_QUIZ:return Nt.a.createElement(Xv,null);case Ie.CODING_EXERCISE:return Nt.a.createElement(Im,null);case Ie.PRACTICE_TEST:return Nt.a.createElement(Ov,null);default:return null}}},{key:"render",value:function(){return this.quizViewStore.isLoaded?Nt.a.createElement(At.b,{$rootScope:this.props.$rootScope,$state:this.props.$state,courseExperienceStore:this.props.courseExperienceStore,courseTakingStore:this.props.courseTakingStore,quizViewStore:this.quizViewStore,viewModeService:this.props.viewModeService},Nt.a.createElement("div",{className:"fullscreen theme-white"},this.renderQuizPage(this.quizViewStore.quiz.quizType),Nt.a.createElement(rc,{AnimatedStateChangeService:this.props.animatedStateChangeService,courseExperienceStore:this.props.courseExperienceStore,courseTakingStore:this.props.courseTakingStore,userCanMarkTopAnswer:this.props.$rootScope.canMarkTopAnswer}))):null}}]),o}(qt.Component),vv.propTypes={$rootScope:Rt.a.object.isRequired,$state:Rt.a.object.isRequired,animatedStateChangeService:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,courseTakingStore:Rt.a.object.isRequired,viewModeService:Rt.a.object.isRequired},gv=wv))||gv,Zv=d.a.module("course-taking-v4/course-taking/quiz-view/quiz-view.ng-directive",["ui.router",a.a.name,G.a.name,mt.name,Pt.name,Ct.a.name]).directive("quizView",ew);function ew(e,t,r,o,n,i,s){return s(Jv,void 0,{},{$rootScope:e,$state:t,animatedStateChangeService:r,courseExperienceStore:o,courseTakingStore:n,viewModeService:i})}ew.$inject=["$rootScope","$state","AnimatedStateChangeService","CourseExperienceService","CourseTakingService","ViewMode","reactDirective"];var tw,rw,ow,nw,iw,sw,aw,lw,cw=r("./src/udemy/js/course-reviews/review-editor/review-editor.mobx-store.js"),uw=[q.courseTakingInitialEnd.key,q.courseTakingFinal.key],pw=(tw=function(){function i(e,t,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:window;babelHelpers.classCallCheck(this,i),babelHelpers.initializerDefineProperty(this,"reviewEditorStore",rw,this),this.courseTakingStore=e,this.curriculumItem=t,this.dashboardUrl=r,this.window=o,this.courseExperienceStore=e.courseExperienceStore;var n=this.courseExperienceStore.course;this.course={id:n.id,features:n.features,is_practice_test_course:n.isPracticeTestCourse,is_private:n.isPrivate,is_paid:n.isPaid,title:n.title,url:n.url},this.location=this.courseTakingStore.activeReviewPromptStage,this.reviewEnabled=T.a.brand.is_add_reviews_enabled&&(this.courseExperienceStore.userIsInstructor||(null==this.course.features||this.course.features.reviews_view)&&T.a.features.course_review.leave_feedback),this.shouldShowCourseCompletePrompt=uw.includes(this.location.key)&&!this.course.is_practice_test_course,this.reviewEnabled&&!this.shouldShowCourseCompletePrompt&&this.courseExperienceStore.loadCurriculum().then(this.initializeReviewEditorStore)}return babelHelpers.createClass(i,[{key:"initializeReviewEditorStore",value:function(){var e={completed_video_length:this.courseExperienceStore.completedVideoLength},t=this.courseExperienceStore.courseReview;this.reviewEditorStore=new cw.b(t.id,t.rating,t.content,this.location.key,this.course,this.courseExperienceStore.setCourseReview,x.d.COURSE_TAKING,e)}},{key:"sendGoogleAnalyticsEvent",value:function(e,t){var r=babelHelpers.objectSpread({location:this.location.key},t);P.a.track(x.d.COURSE_TAKING,"Review",e,null,null,r,{objectType:"review",objectId:this.courseExperienceStore.courseReview.id})}},{key:"onVisible",value:function(){var r=this;this.reviewEnabled&&this.shouldShowCourseCompletePrompt&&this.courseExperienceStore.loadCurriculum().then(function(){var e=JSON.stringify({location:r.location.key,completed_video_length:r.courseExperienceStore.completedVideoLength}),t={category:"Review",action:"view-review-attributes-preprompt",courseId:r.course.id,objectId:r.courseExperienceStore.courseReview.id,objectType:"review",extra:e};x.e.trackPageEvent("trackclick",x.d.COURSE_TAKING,t)})}},{key:"cancelReview",value:function(e){this.sendGoogleAnalyticsEvent("cancel",{dontAsk:e}),e&&(Cc.c.set(Cc.a.reviewPromptDisabled,!0,this.course.id),this.courseTakingStore.disableReviewPrompt()),this.courseTakingStore.continueCurriculum(babelHelpers.objectSpread({},this.curriculumItem,{skipReviewPrompt:!0}))}},{key:"goToFullPageReview",value:function(){this.window.location.href="".concat(this.dashboardUrl,"/reviews/?location=").concat(this.location.urlParam)}}]),i}(),rw=babelHelpers.applyDecoratedDescriptor(tw.prototype,"reviewEditorStore",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(tw.prototype,"initializeReviewEditorStore",[X.a,J.action],Object.getOwnPropertyDescriptor(tw.prototype,"initializeReviewEditorStore"),tw.prototype),babelHelpers.applyDecoratedDescriptor(tw.prototype,"cancelReview",[X.a],Object.getOwnPropertyDescriptor(tw.prototype,"cancelReview"),tw.prototype),babelHelpers.applyDecoratedDescriptor(tw.prototype,"goToFullPageReview",[X.a],Object.getOwnPropertyDescriptor(tw.prototype,"goToFullPageReview"),tw.prototype),tw),dw=r("./src/udemy/js/course-reviews/course-complete-prompt/course-complete-prompt.react-component.js"),hw=r("./src/udemy/js/course-reviews/review-editor/review-editor.react-component.js"),mw=Object(At.d)((iw=nw=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.reviewPromptStore.onVisible()}},{key:"renderReviewEditor",value:function(){var e=this.props.reviewPromptStore,t=e.reviewEditorStore,r=e.cancelReview;return t?Nt.a.createElement(hw.a,{store:t,onCancelReview:r,closeButtonEnabled:!1}):null}},{key:"renderCourseCompletePrompt",value:function(){var e=this.props.reviewPromptStore,t=e.goToFullPageReview,r=e.cancelReview,o=e.location;return Nt.a.createElement(dw.a,{onConfirm:t,onCancel:r,courseReviewLocation:o.key})}},{key:"render",value:function(){return Nt.a.createElement("div",null,Nt.a.createElement("div",{className:"player-container fullscreen bg-rain-lighter"},Nt.a.createElement("div",{className:"message-container message-container--nps message-container--review"},Nt.a.createElement("div",{className:"message-container--nps__review"},this.props.reviewPromptStore.reviewEnabled?Nt.a.createElement("div",{className:"in-course-review-container"},this.props.reviewPromptStore.shouldShowCourseCompletePrompt?this.renderCourseCompletePrompt():this.renderReviewEditor()):null))))}}]),t}(qt.Component),nw.propTypes={reviewPromptStore:Rt.a.object.isRequired},ow=iw))||ow,bw=Object(At.d)((lw=aw=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).store=new pw(e.courseTakingStore,e.curriculumItem,e.dashboardUrl),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(){return Nt.a.createElement(mw,{reviewPromptStore:this.store})}}]),r}(qt.Component),aw.propTypes={courseTakingStore:Rt.a.object.isRequired,curriculumItem:Rt.a.object.isRequired,dashboardUrl:Rt.a.string.isRequired},sw=lw))||sw,yw=d.a.module("course-taking-v4/course-taking/review/review-prompt.ng-directive",[a.a.name,Pt.name]).directive("reviewPrompt",fw);function fw(e,t,r,o){return e(bw,void 0,{},{courseTakingStore:t,curriculumItem:r.curriculumItem,dashboardUrl:o.href("base.dashboard.questions")})}fw.$inject=["reactDirective","CourseTakingService","$stateParams","$state"];var gw=r("./src/udemy/js/ng/filters/utility.ng-filter.js"),vw=d.a.module("course-taking-v4/course.ng-controller",["mobx-angularjs","ui.bootstrap",mt.name,W.a.name,gw.a.name,Ct.a.name]).controller("CourseController",ww);function ww(t,e,r,o,n,i,s){(e.courseExperienceStore=t).loadData().then(function(){var e=t.course;P.a.setCourseId(e.id),P.a.setCourseType(e.isPaid?N.PAID:N.FREE),P.a.setUserType(s.isInstructor()?z.INSTRUCTOR:z.STUDENT),P.a.setCTVersion(P.a.R1)}),r.isMobileBrowser=n.isMobileBrowser(),r.isInstructor=s.isInstructor();var a=r.$on("$stateChangeStart",function(){o.dismissAll()});e.$on("$destroy",a)}ww.$inject=["CourseExperienceService","$scope","$rootScope","$modalStack","Mobile","$filter","ViewMode"];var kw,Cw,_w,Sw,jw=vw,Ew=(r("./src/udemy/js/course-taking-v4/dashboard/announcements/announcements.less"),Object(At.d)((Sw=_w=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.hasPreviewAnnouncement=!!new Je.a(window.location.search).getQueryParamValue("preview_announcement"),this.hasPreviewAnnouncement?this.announcementsStore.loadPreviewAnnouncement(window.location.search):this.announcementsStore.loadAnnouncementsIfNeeded()}},{key:"componentWillUnmount",value:function(){this.resetSelectedAnnouncement()}},{key:"resetSelectedAnnouncement",value:function(){return this.announcementsStore.setSelectedAnnouncementId()}},{key:"commentResourceUrl",value:function(e){return"/announcements/".concat(e,"/comments")}},{key:"renderLoading",value:function(){return Nt.a.createElement("div",{className:"fx-c"},Nt.a.createElement(Kt.a,{glyph:"circle-loader",size:"large",className:"m60"}))}},{key:"renderNoAnnouncements",value:function(){return Nt.a.createElement("div",{className:"announcements--empty-announcement--3PzHH"},Nt.a.createElement("div",{className:"text-center"},Nt.a.createElement("div",{className:"a1","data-purpose":"no-announcements-header"},gettext("No announcements posted yet.")),Nt.a.createElement("p",null,gettext("The instructor hasn’t added any announcements to this course yet.\n                        Announcements are used to inform you of updates or additions to the course."))))}},{key:"renderHeaderPanel",value:function(e){return Nt.a.createElement("div",{className:"announcements--details--3vdfF"},Nt.a.createElement(Sr.b,{user:e.instructor,className:"announcements--avatar--1YV5Y"}),Nt.a.createElement("div",{className:"announcements--instructor-name--j8Y8D"},Nt.a.createElement(qf.a,{dangerouslySetInnerHTML:{__html:interpolate(gettext('<a class="instructor">%(instructor_name)s</a> posted an announcement'),{instructor_name:Object(Rf.a)(e.instructor.name)},!0)},interpolate:{instructor:Nt.a.createElement("a",{href:e.instructor.url,target:"_blank",rel:"noopener noreferrer",className:"ellipsis"})}}),Nt.a.createElement("time",null," · ",Object(yo.c)(e.created)),this.isReportAbuseEnabled&&Nt.a.createElement("span",null," · ",Nt.a.createElement(Tn.a,{useAnchor:!0,className:"announcements--report-abuse--3iC_J",objectId:e.id,objectType:"courseannouncement"}))))}},{key:"renderAnnouncements",value:function(){var e,r=this;return e=void 0!==this.announcementsStore.selectedAnnouncementId?this.announcementsStore.announcements.filter(function(e){return e.id===r.announcementsStore.selectedAnnouncementId}):this.announcementsStore.announcements,Nt.a.createElement("div",null,e.map(function(e,t){return Nt.a.createElement(Jt.a,{key:t,header:r.renderHeaderPanel(e)},Nt.a.createElement("div",{className:"announcements--panel-body--276c_"},!!e.title&&Nt.a.createElement("div",{className:"a2"},e.title),Nt.a.createElement("div",{className:"announcements--body--3Ncud",dangerouslySetInnerHTML:{__html:e.content}}),r.showComments&&Nt.a.createElement(gr.a,{resourceUrl:r.commentResourceUrl(e.id),commentThread:e.commentThread})))}))}},{key:"render",value:function(){return Nt.a.createElement("div",null,void 0!==this.announcementsStore.selectedAnnouncementId&&Nt.a.createElement("a",{className:"db mt20",onClick:this.resetSelectedAnnouncement,onKeyDown:Object(No.b)(this.resetSelectedAnnouncement),role:"button",tabIndex:"0","data-purpose":"selected-announcement"},gettext("Back to All Announcements")),Nt.a.createElement("div",{className:"announcements--content--njjXn"},this.announcementsStore.hasLoaded?Nt.a.createElement("div",null,0===this.announcementsStore.announcements.length?this.renderNoAnnouncements():this.renderAnnouncements()):this.renderLoading()))}},{key:"announcementsStore",get:function(){return this.props.courseExperienceStore.announcementsStore}},{key:"showComments",get:function(){return T.a.brand.is_feed_commenting_enabled&&this.props.courseExperienceStore.course.features.announcements_comments_view&&!this.hasPreviewAnnouncement}},{key:"isReportAbuseEnabled",get:function(){return T.a.features.report_abuse&&!this.hasPreviewAnnouncement}}]),t}(Nt.a.Component),_w.propTypes={courseExperienceStore:Rt.a.object.isRequired},Cw=Sw,babelHelpers.applyDecoratedDescriptor(Cw.prototype,"showComments",[J.computed],Object.getOwnPropertyDescriptor(Cw.prototype,"showComments"),Cw.prototype),babelHelpers.applyDecoratedDescriptor(Cw.prototype,"isReportAbuseEnabled",[J.computed],Object.getOwnPropertyDescriptor(Cw.prototype,"isReportAbuseEnabled"),Cw.prototype),babelHelpers.applyDecoratedDescriptor(Cw.prototype,"resetSelectedAnnouncement",[X.a],Object.getOwnPropertyDescriptor(Cw.prototype,"resetSelectedAnnouncement"),Cw.prototype),kw=Cw))||kw),Dw=d.a.module("course-taking-v4/dashboard/announcements/announcements.ng-directive",[a.a.name,mt.name]).directive("announcements",xw);function xw(e,t){return e(Ew,void 0,{},{courseExperienceStore:t})}xw.$inject=["reactDirective","CourseExperienceService"];var Ow,Tw,Pw,Hw,Aw=Object.freeze({overview:{title:gettext("Overview")},content:{title:gettext("Course Content")},questions:{title:gettext("Q&A")},bookmarks:{title:gettext("Bookmarks")},announcements:{title:gettext("Announcements")}}),Iw=Object.freeze({VISIT_TAB:"visit-tab",TOGGLE_SETTING:"toggle-setting",GOTO_BOOKMARK:"dashboard.bookmark-tab.goto-bookmark",OPTIONS_MENU_ITEM_CLICK:"options-menu-item-click"}),Rw=(r("./src/udemy/js/course-taking-v4/dashboard/bookmarks-dashboard.less"),Object(At.d)((Hw=Pw=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.courseExperienceStore.bookmarksStore.loadBookmarksIfNeeded()}},{key:"renderSection",value:function(i,e){var s=this;return Nt.a.createElement(Jt.a,{key:i.id,className:"bookmarks-dashboard--section-panel--2-U2K","data-purpose":"bookmarks-section"},Nt.a.createElement("div",{role:"tab",tabIndex:"0",className:"bookmarks-dashboard--section-heading--1e_KR"},Nt.a.createElement("span",{"data-purpose":"index"},"Section ".concat(i.objectIndex)),Nt.a.createElement("h3",null,i.title)),Object.entries(e).map(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1],n=i.items[r];return s.renderLecture(n,o)}))}},{key:"renderLecture",value:function(e,t){return Nt.a.createElement("div",{key:e.id,className:"bookmarks-dashboard--lecture--1dkm0","data-purpose":"bookmarks-lecture"},Nt.a.createElement("div",{role:"tab",tabIndex:"0",className:"bookmarks-dashboard--lecture-heading--2Pxqm"},Nt.a.createElement("h4",null,"".concat(e.objectIndex,". ").concat(e.title))),t.map(this.renderBookmark))}},{key:"renderBookmark",value:function(e){var t={id:e.lectureId,start:e.position};return Nt.a.createElement(Ya.a,{to:"base.taking.lecture",params:t,className:"bookmarks-dashboard--bookmark--3iOrR",key:e.id,"data-purpose":"bookmark",onClick:qw},Nt.a.createElement("div",{className:"bookmarks-dashboard--position--39JZR","data-purpose":"bookmark-position"},Nt.a.createElement(By.a,{numSeconds:e.position,presentationStyle:By.a.STYLE.TIMESTAMP})),Nt.a.createElement("div",{className:"bookmarks-dashboard--info--2mlYJ"},Nt.a.createElement("div",{"data-purpose":"bookmark-created"},Object(yo.c)(e.created)),Nt.a.createElement("div",{"data-purpose":"bookmark-body"},e.body)))}},{key:"render",value:function(){var i=this,e=this.props.courseExperienceStore.bookmarksStore,t=e.bookmarksByLectureBySection,r=e.bookmarksExist;return e.hasLoaded?r?Nt.a.createElement("div",{className:"bookmarks-dashboard--bookmarks-container--2l0TJ","data-purpose":"bookmarks-container"},Object.entries(t).map(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1],n=i.props.courseExperienceStore.curriculumSections[r];return i.renderSection(n,o)})):this.renderNoBookmarksExist:this.renderLoading}},{key:"renderLoading",get:function(){return Nt.a.createElement("div",{className:"bookmarks-dashboard--loading--1Xfnd"},Nt.a.createElement(Xt.a,null))}},{key:"renderNoBookmarksExist",get:function(){return Nt.a.createElement("div",{className:"bookmarks-dashboard--bookmarks-container--2l0TJ","data-purpose":"bookmarks-container"},Nt.a.createElement(Kt.a,{glyph:"bookmark",className:"bookmarks-dashboard--large-bookmark-icon--13KhZ"}),Nt.a.createElement("h1",{"data-purpose":"no-bookmarks-header"},gettext("No bookmarks created yet")),Nt.a.createElement("p",null,gettext("Add bookmarks while watching lectures to save moments of a course for\n                            later. Bookmarks you've saved will show up here.")),Nt.a.createElement("p",null,gettext('Hint: Use the keyboard shortcut "b" to create bookmarks while watching video lectures.')))}}]),t}(qt.Component),Pw.propTypes={courseExperienceStore:Rt.a.object.isRequired},Tw=Hw,babelHelpers.applyDecoratedDescriptor(Tw.prototype,"renderSection",[X.a],Object.getOwnPropertyDescriptor(Tw.prototype,"renderSection"),Tw.prototype),babelHelpers.applyDecoratedDescriptor(Tw.prototype,"renderLecture",[X.a],Object.getOwnPropertyDescriptor(Tw.prototype,"renderLecture"),Tw.prototype),Ow=Tw))||Ow);function qw(){return P.a.track(x.d.COURSE_TAKING,x.a.BOOKMARK,Iw.GOTO_BOOKMARK)}var Nw=d.a.module("course-taking-v4/dashboard/bookmarks-dashboard.ng-directive",[a.a.name,mt.name]).directive("bookmarksDashboard",zw);function zw(e,t){return e(Rw,void 0,{},{courseExperienceStore:t})}zw.$inject=["reactDirective","CourseExperienceService"];var Mw,Lw,Fw,Uw,Bw,Vw,$w,Qw=r("./src/udemy/js/course-taking-v4/dashboard/content.ng-template.html"),Ww=r.n(Qw),Gw=r("./src/udemy/js/utils/ud-user-tracker-logger.js"),Yw="dashboard__course_exit_review_popup",Kw="cerp",Xw=(Mw=function(){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Dt.a,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:window.location;babelHelpers.classCallCheck(this,o),babelHelpers.initializerDefineProperty(this,"loading",Lw,this),babelHelpers.initializerDefineProperty(this,"rating",Fw,this),babelHelpers.initializerDefineProperty(this,"shown",Uw,this),this.course=e,this.backend=t().forCourse(e.id),this.location=r}return babelHelpers.createClass(o,[{key:"reviewPageUrl",value:function(e){var t=e;return(t+="/reviews/2/?location=".concat(Kw)).replace(/\/+/g,"/")}},{key:"setRating",value:function(e){var t=this;this.loading||(this.loading=!0,this.rating=e,this.logAction("course-exit-popup-rating-click",{rating:e}),this.backend.create({rating:e,location:Yw}).then(function(){t.location.href=t.reviewPageUrl(t.location.pathname)}))}},{key:"show",value:function(){this.popupSessionId=re()().replace(/-/g,""),this.logAction("view-course-exit-popup"),this.shown=!0}},{key:"close",value:function(){this.logAction("close-course-exit-popup"),this.shown=!1}},{key:"logAction",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this.course.id,o=this.course.is_paid?"Paid":"Free";t=babelHelpers.objectSpread({},t,this.extraLoggingData,{category:"Review",location:Yw,popup_session_id:this.popupSessionId}),Gw.a.logEvents({events:[{action:e,category:"Review",courseId:r,objectId:null,objectType:"review",courseType:o,extra:JSON.stringify(t)}],page:x.d.COURSE_TAKING})}}]),o}(),Lw=babelHelpers.applyDecoratedDescriptor(Mw.prototype,"loading",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fw=babelHelpers.applyDecoratedDescriptor(Mw.prototype,"rating",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Uw=babelHelpers.applyDecoratedDescriptor(Mw.prototype,"shown",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Mw.prototype,"setRating",[X.a,J.action],Object.getOwnPropertyDescriptor(Mw.prototype,"setRating"),Mw.prototype),babelHelpers.applyDecoratedDescriptor(Mw.prototype,"show",[X.a,J.action],Object.getOwnPropertyDescriptor(Mw.prototype,"show"),Mw.prototype),babelHelpers.applyDecoratedDescriptor(Mw.prototype,"close",[X.a,J.action],Object.getOwnPropertyDescriptor(Mw.prototype,"close"),Mw.prototype),Mw),Jw=r("./src/udemy/js/base-components/review-stars-input.react-component.js"),Zw=r("./node_modules/react-bootstrap/lib/CloseButton.js"),ek=r.n(Zw),tk=(r("./src/udemy/js/course-reviews/course-exit-review-popup/toast.less"),{"./toast.less":{container:"toast--container--vWfP1","container--on":"toast--container--on--1r7Xj",header:"toast--header--3rNeS",content:"toast--content--S70nK"}}),rk=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=Et()("container",{"container--on":this.props.show});return Nt.a.createElement(lp.a,null,Nt.a.createElement("div",null,Nt.a.createElement("div",{className:Sn()(e,tk)},Nt.a.createElement(ek.a,{label:gettext("Close"),onClick:this.props.onClose}),this.props.children)))}}]),t}(qt.Component);rk.propTypes={onClose:Rt.a.func,show:Rt.a.bool},rk.defaultProps={onClose:Zt.a,show:!1},rk.Header=function(e){var t=e.children;return Nt.a.createElement("h1",{className:"font-heading-sm toast--header--3rNeS"},t)},rk.Body=function(e){var t=e.children;return Nt.a.createElement("div",{className:"toast--content--S70nK"},t)};var ok,nk,ik,sk,ak,lk,ck,uk,pk,dk,hk,mk,bk,yk,fk,gk,vk,wk,kk,Ck,_k,Sk,jk,Ek,Dk,xk,Ok,Tk,Pk,Hk,Ak,Ik,Rk,qk,Nk,zk,Mk=Object(At.d)(($w=Vw=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.store;return Nt.a.createElement(rk,{"data-purpose":"toast",show:e.shown,onClose:e.close},Nt.a.createElement(rk.Header,null,gettext("How’s the course going so far?")),Nt.a.createElement(rk.Body,null,Nt.a.createElement("p",{className:"font-text-sm mb15"},gettext("Tell us about your experience with this course")),Nt.a.createElement(Jw.a,{"data-purpose":"rating-input",size:"medium",showGuidanceText:!0,align:"left",disabled:e.loading,rating:e.rating,onChoose:e.setRating})))}}]),t}(qt.Component),Vw.propTypes={store:Rt.a.object.isRequired},Bw=$w))||Bw,Lk=r("./src/udemy/js/ng/directives/common/modal/open-modal.ng-directive.js"),Fk=r("./src/udemy/js/ng/services/experiment/ud-experiment.ng-service.js"),Uk=(ok=function(){function n(e,t,r){var o=this;babelHelpers.classCallCheck(this,n),this.course=void 0,this.rootScope=void 0,babelHelpers.initializerDefineProperty(this,"activeFilter",nk,this),babelHelpers.initializerDefineProperty(this,"resourceFilter",ik,this),babelHelpers.initializerDefineProperty(this,"searchQuery",sk,this),babelHelpers.initializerDefineProperty(this,"searchMatches",ak,this),babelHelpers.initializerDefineProperty(this,"resultCount",lk,this),babelHelpers.initializerDefineProperty(this,"isSearchingAsync",ck,this),this.searchableDocuments=[],this.displayState={},babelHelpers.initializerDefineProperty(this,"searchType",uk,this),this.course=e,this.courseExperienceStore=t,this.rootScope=r,Object(J.reaction)(function(){return o.searchQuery},function(e){""===e?o.setActiveFilter(xe.CURRENT):o.setActiveFilter(xe.ALL)}),Object(J.reaction)(function(){return o.courseExperienceStore.currentCurriculumSectionIndex},this.onSectionChange)}return babelHelpers.createClass(n,[{key:"trackSearch",value:function(){P.a.track(x.d.COURSE_TAKING,x.a.COURSE_CONTENT,x.b.SEARCH,null,null,{searchPhrase:this.searchQuery})}},{key:"trackClear",value:function(){P.a.track(x.d.COURSE_TAKING,x.a.COURSE_CONTENT,x.b.CLEAR_SEARCH)}},{key:"trackVisit",value:function(e,t){P.a.setCurriculumObject(e.type,e.id),P.a.track(x.d.COURSE_TAKING,x.a.COURSE_CONTENT,t,null,null,{searchPhrase:this.searchQuery})}},{key:"index",value:function(e){var t;(t=this.searchableDocuments).push.apply(t,[e].concat(babelHelpers.toConsumableArray(e.resources))),0<e.resources.length&&(this.resourceFilter.has(e.section.id)?this.resourceFilter.get(e.section.id).push(e.id):this.resourceFilter.set(e.section.id,[e.id]))}},{key:"indexCurriculumForSearch",value:function(){var t=this;this.curriculum.forEach(function(e){return e.items.forEach(t.index)})}},{key:"saveDisplayState",value:function(){this.displayState=this.curriculum.reduce(function(e,t){return e[t.id]=t.isExpanded,e},{})}},{key:"restoreDisplayState",value:function(){var t=this;Object.keys(this.displayState)&&(this.curriculum.forEach(function(e){e.isExpanded=t.displayState[e.id]}),this.displayState={})}},{key:"clearQuery",value:function(){this.searchQuery=""}},{key:"clearResults",value:function(){this.resultCount=null,this.searchMatches.sectionIds=[],this.searchMatches.curriculumItemIds=[],this.searchMatches.resourceIds=[],this.searchMatches.cues={}}},{key:"searchUsingElastic",value:function(){var t=this;this.isSearchingAsync=!0,this.searchType=Te.ELASTIC,Z.c.get("/courses/".concat(this.course.id,"/subscriber-curriculum-items/search"),{params:{q:this.searchQuery}}).then(Object(J.action)(function(e){t.isSearchingAsync=!1,t.resultCount=e.data.length,e.data.data.forEach(function(e){t.searchMatches.curriculumItemIds.push(e.id),t.searchMatches.resourceIds=t.searchMatches.resourceIds.concat(e.resources.map(function(e){return e.id_i})),0<e.cues.length&&(t.searchMatches.cues[e.id]=e.cues)})})).catch(Object(J.action)(function(){t.isSearchingAsync=!1,t.searchLocally(t.searchQuery)}))}},{key:"searchLocally",value:function(){var t=this;this.searchType=Te.LOCAL;var r=this.searchQuery.toLowerCase(),o=0;this.searchableDocuments.forEach(function(e){if(-1<e.title.toLowerCase().indexOf(r))if(e instanceof qe)o+=1,t.searchMatches.curriculumItemIds.push(e.id);else{if(!(e instanceof Re))throw new Error("Invalid document type ".concat(e.constructor.name));o+=1,t.searchMatches.curriculumItemIds.push(e.lecture.id),t.searchMatches.resourceIds.push(e.id)}}),this.resultCount=o}},{key:"search",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(this.isSearchMode||this.saveDisplayState(),this.clearResults(),""===(this.searchQuery=e))return this.activeFilter=xe.CURRENT,void this.restoreDisplayState();var t="en"===this.course.language&&this.course.is_published;!this.course.subscription_locale&&t?this.searchUsingElastic():this.searchLocally(),this.trackSearch()}},{key:"setActiveFilter",value:function(){var r=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:xe.CURRENT;switch(this.activeFilter=e){case xe.CURRENT:this.curriculum.forEach(function(e,t){t===r.courseExperienceStore.currentCurriculumSectionIndex?e.open():e.close()});break;case xe.ALL:this.curriculum.forEach(function(e){e.open()});break;case xe.RESOURCES:this.curriculum.forEach(function(e){r.resourceFilter.has(e.id)?e.open():e.close()})}}},{key:"getResourceDownloadURL",value:function(r){return r.isLoading=!0,Z.c.get("/users/me/subscribed-courses/".concat(this.course.id,"/lectures/").concat(r.lecture.id,"/supplementary-assets/").concat(r.id),{params:{"fields[asset]":"download_urls"}}).then(Object(J.action)(function(e){var t=e.data;if(r.isLoading=!1,t.download_urls&&t.download_urls[r.type]&&t.download_urls[r.type].length)return t.download_urls[r.type][0].file;throw new Error("Could not fetch download URL for resource ".concat(r.id," (").concat(r.type,")"))})).catch(function(e){return Ym.a.captureException(e),ee.b.Feedback.fromText(gettext("Unable to download selected item."),ee.b.MessageType.error),e})}},{key:"onSectionChange",value:function(){var r=this.courseExperienceStore.currentCurriculumSectionIndex;this.curriculum.forEach(function(e,t){t===r&&(e.isExpanded=!0)})}},{key:"curriculum",get:function(){return this.courseExperienceStore.curriculumSections}},{key:"isResourceFilter",get:function(){return this.activeFilter===xe.RESOURCES}},{key:"isSearchMode",get:function(){return""!==this.searchQuery}},{key:"isEmptySearch",get:function(){var e=[this.searchMatches.curriculumItemIds,this.searchMatches.resourceIds,Object.values(this.searchMatches.cues)];return!this.isSearchingAsync&&this.isSearchMode&&e.every(function(e){return!e.length})}}]),n}(),nk=babelHelpers.applyDecoratedDescriptor(ok.prototype,"activeFilter",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xe.CURRENT}}),ik=babelHelpers.applyDecoratedDescriptor(ok.prototype,"resourceFilter",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),sk=babelHelpers.applyDecoratedDescriptor(ok.prototype,"searchQuery",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ak=babelHelpers.applyDecoratedDescriptor(ok.prototype,"searchMatches",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{curriculumItemIds:[],resourceIds:[],cues:{}}}}),lk=babelHelpers.applyDecoratedDescriptor(ok.prototype,"resultCount",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ck=babelHelpers.applyDecoratedDescriptor(ok.prototype,"isSearchingAsync",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uk=babelHelpers.applyDecoratedDescriptor(ok.prototype,"searchType",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),babelHelpers.applyDecoratedDescriptor(ok.prototype,"index",[X.a],Object.getOwnPropertyDescriptor(ok.prototype,"index"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"indexCurriculumForSearch",[X.a,J.action],Object.getOwnPropertyDescriptor(ok.prototype,"indexCurriculumForSearch"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"restoreDisplayState",[J.action],Object.getOwnPropertyDescriptor(ok.prototype,"restoreDisplayState"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"clearQuery",[X.a,J.action],Object.getOwnPropertyDescriptor(ok.prototype,"clearQuery"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"clearResults",[J.action],Object.getOwnPropertyDescriptor(ok.prototype,"clearResults"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"searchUsingElastic",[J.action],Object.getOwnPropertyDescriptor(ok.prototype,"searchUsingElastic"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"searchLocally",[J.action],Object.getOwnPropertyDescriptor(ok.prototype,"searchLocally"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"search",[X.a,J.action],Object.getOwnPropertyDescriptor(ok.prototype,"search"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"setActiveFilter",[X.a,J.action],Object.getOwnPropertyDescriptor(ok.prototype,"setActiveFilter"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"isResourceFilter",[J.computed],Object.getOwnPropertyDescriptor(ok.prototype,"isResourceFilter"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"getResourceDownloadURL",[X.a,J.action],Object.getOwnPropertyDescriptor(ok.prototype,"getResourceDownloadURL"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"onSectionChange",[X.a,J.action],Object.getOwnPropertyDescriptor(ok.prototype,"onSectionChange"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"isSearchMode",[J.computed],Object.getOwnPropertyDescriptor(ok.prototype,"isSearchMode"),ok.prototype),babelHelpers.applyDecoratedDescriptor(ok.prototype,"isEmptySearch",[J.computed],Object.getOwnPropertyDescriptor(ok.prototype,"isEmptySearch"),ok.prototype),ok),Bk=(r("./src/udemy/js/course-taking-v4/course-content/curriculum-filters.less"),{"./curriculum-filters.less":{filters:"curriculum-filters--filters--2qgej","fx-flex":"curriculum-filters--fx-flex--2gBJA",active:"curriculum-filters--active--2XUmt","fx-jsa":"curriculum-filters--fx-jsa--AgSuq"}}),Vk=Object(At.c)("store")(pk=Object(At.d)((mk=hk=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"trackFilterSwitch",value:function(e){P.a.track(x.d.COURSE_TAKING,x.a.COURSE_CONTENT,x.b.FILTER,null,null,{tab:e.name})}},{key:"getDisabledState",value:function(e){return e===xe.RESOURCES?0===this.props.store.resourceFilter.size:this.props.store.curriculum.length<2}},{key:"getContainerComponent",value:function(r){return r.props.disabled?function(e){var t=e.children;return Nt.a.createElement(wi.a,{placement:"bottom",tooltip:r.disabledTooltip},t)}:function(e){var t=e.children;return Nt.a.createElement("span",null,t)}}},{key:"render",value:function(){var r=this;return Nt.a.createElement(Ga.a,{className:"curriculum-filters--filters--2qgej"},this.buttons.map(function(e){var t=r.getContainerComponent(e);return Nt.a.createElement(t,{key:e.id},Nt.a.createElement(tr.default,Object.assign({},e.props,{className:Sn()(e.styleName,Bk)}),e.content))}))}},{key:"buttons",get:function(){var t=this,r=this.props.store.activeFilter;return Object.values(xe).map(function(e){return{props:{bsStyle:"link",disabled:t.getDisabledState(e),onClick:X()(function(){t.props.store.clearQuery(),t.props.store.clearResults(),t.props.store.setActiveFilter(e),t.trackFilterSwitch(e)})},id:e.name,styleName:e.name===r.name?"active":"",disabledTooltip:Nt.a.createElement(Lu.a,{id:e.name},e.disabledLabel),content:e.label}})}}]),t}(qt.Component),hk.propTypes={store:Rt.a.object.isRequired},dk=mk,babelHelpers.applyDecoratedDescriptor(dk.prototype,"getDisabledState",[X.a],Object.getOwnPropertyDescriptor(dk.prototype,"getDisabledState"),dk.prototype),pk=dk))||pk)||pk,$k=r("./src/udemy/js/base-components/form/input-group.react-component.js"),Qk=(r("./src/udemy/js/course-taking-v4/course-content/in-course-search.less"),Object(At.c)("store")(bk=Object(At.d)((vk=gk=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"query",fk,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.search=Object($a.a)(t.search,300),Object(J.reaction)(function(){return t.props.store.searchQuery},Object(J.action)(function(e){e!==t.query&&(t.query=e)})),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"search",value:function(){this.props.store.search(this.query)}},{key:"clear",value:function(){this.query="",this.props.store.searchQuery="",this.props.store.trackClear()}},{key:"handleChange",value:function(e){this.query=e.target.value,this.search()}},{key:"renderResults",value:function(){var e,t=this.props.store;if(!t.isSearchMode||null===t.resultCount||0===t.resultCount)return null;switch(t.searchType){case Te.LOCAL:e=ngettext('%(count)s result for "%(query)s"','%(count)s results for "%(query)s"',t.resultCount);break;case Te.ELASTIC:e=ngettext('Result for "%(query)s" (%(count)s lecture)','Results for "%(query)s" (%(count)s lectures)',t.resultCount);break;default:return null}return Nt.a.createElement("span",{className:"in-course-search--results--1tnyC","data-purpose":"search-results"},interpolate(e,{query:this.query,count:t.resultCount},!0))}},{key:"render",value:function(){var e=Nt.a.createElement(Lu.a,{id:"caption-search-tooltip",className:"in-course-search--caption-search-tooltip--2CTNP",placement:"bottom-right",bsStyle:"blue",width:170,withChevron:!0},gettext("Search for captions, lectures and resources."));return Nt.a.createElement("div",{className:"in-course-search--in-course-search--UXo4H"},Nt.a.createElement(Ga.a,{role:"search"},Nt.a.createElement($k.a,null,Nt.a.createElement(vr.a,{type:"text",placeholder:gettext("Search course content"),onChange:this.handleChange,value:this.query,"aria-label":gettext("Search text")}),""!==this.query?Nt.a.createElement(Kt.a,{glyph:"icon-xmark",className:"in-course-search--clear-icon--1-Yx8",onClick:this.clear}):null,Nt.a.createElement($k.a.Button,null,Nt.a.createElement(up.a,{systemMessageId:Yu.a.ids.captionSearchTooltip,tooltip:e},Nt.a.createElement(tr.default,{bsStyle:"secondary","aria-label":gettext("Search")},Nt.a.createElement(Kt.a,{glyph:"search"})))))),this.renderResults())}}]),r}(qt.Component),gk.propTypes={store:Rt.a.object.isRequired},yk=vk,fk=babelHelpers.applyDecoratedDescriptor(yk.prototype,"query",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),babelHelpers.applyDecoratedDescriptor(yk.prototype,"search",[X.a],Object.getOwnPropertyDescriptor(yk.prototype,"search"),yk.prototype),babelHelpers.applyDecoratedDescriptor(yk.prototype,"clear",[X.a,J.action],Object.getOwnPropertyDescriptor(yk.prototype,"clear"),yk.prototype),babelHelpers.applyDecoratedDescriptor(yk.prototype,"handleChange",[X.a,J.action],Object.getOwnPropertyDescriptor(yk.prototype,"handleChange"),yk.prototype),babelHelpers.applyDecoratedDescriptor(yk.prototype,"renderResults",[X.a],Object.getOwnPropertyDescriptor(yk.prototype,"renderResults"),yk.prototype),bk=yk))||bk)||bk),Wk=r("./node_modules/react-highlight-words/dist/main.js"),Gk=r.n(Wk),Yk=r("./src/udemy/js/course-taking-v4/course-content/curriculum-item.less"),Kk=r.n(Yk),Xk={"./curriculum-item.less":{"m_icon-inverted":"curriculum-item--m_icon-inverted--3QwEs","curriculum-item":"curriculum-item--curriculum-item--iJwX5",icon:"curriculum-item--icon--2exyv","is-current":"curriculum-item--is-current--1j1zI","is-unpublished":"curriculum-item--is-unpublished--2KmxY",duration:"curriculum-item--duration--1OEOp","fx-jsb":"curriculum-item--fx-jsb--1rIMI",type:"curriculum-item--type--MqmJ7",title:"curriculum-item--title--3etrQ",fx:"curriculum-item--fx--39acc",progress:"curriculum-item--progress--3eKMJ","progress-icon":"curriculum-item--progress-icon--2mgwh","is-completed":"curriculum-item--is-completed--38V0M","is-organization":"curriculum-item--is-organization--2wN_Z","progress-disabled":"curriculum-item--progress-disabled--1RZwW","progress-loading":"curriculum-item--progress-loading--1yTU2"}},Jk=Object(At.d)((jk=Sk=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isJustClicked",Ck,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"isHovered",_k,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"handleProgressMouseEnter",value:function(){this.isHovered=!0}},{key:"handleProgressMouseLeave",value:function(){this.isJustClicked=!1,this.isHovered=!1}},{key:"handleProgressClick",value:function(){this.props.item.toggleComplete(),this.isJustClicked=!0}},{key:"render",value:function(){if(this.props.item.progressToggleType===Oe.HIDDEN)return null;var e=this.props.item,t=e.isCompleted,r=e.isLoading,o=Et()("progress",{"is-completed":this.isHovered&&!this.isJustClicked?!t:t,"is-organization":T.a.brand.has_organization});if(this.props.item.progressToggleType!==Oe.DISABLED)return r?Nt.a.createElement("span",{className:"curriculum-item--progress-loading--1yTU2"},Nt.a.createElement(Kt.a,{glyph:"circle-loader"})):Nt.a.createElement(tr.default,{onClick:this.handleProgressClick,onMouseLeave:this.handleProgressMouseLeave,onMouseEnter:this.handleProgressMouseEnter,"data-purpose":"progress-toggle-button","aria-label":gettext("Toggle completed"),className:Sn()(o,Xk)},Nt.a.createElement(Kt.a,{className:"curriculum-item--progress-icon--2mgwh",glyph:"check"}));var n=Nt.a.createElement(Lu.a,{id:"disabled-item"},gettext("Progress cannot be reset for this item."));return Nt.a.createElement("div",{className:"curriculum-item--progress-disabled--1RZwW"},Nt.a.createElement(wi.a,{placement:"bottom",tooltip:n},Nt.a.createElement(tr.default,{disabled:!0,className:Sn()(o,Xk)},Nt.a.createElement(Kt.a,{className:"curriculum-item--progress-icon--2mgwh",glyph:"check"}))))}}]),i}(qt.Component),Sk.propTypes={item:Rt.a.instanceOf(qe).isRequired},kk=jk,Ck=babelHelpers.applyDecoratedDescriptor(kk.prototype,"isJustClicked",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_k=babelHelpers.applyDecoratedDescriptor(kk.prototype,"isHovered",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(kk.prototype,"handleProgressMouseEnter",[X.a,J.action],Object.getOwnPropertyDescriptor(kk.prototype,"handleProgressMouseEnter"),kk.prototype),babelHelpers.applyDecoratedDescriptor(kk.prototype,"handleProgressMouseLeave",[X.a,J.action],Object.getOwnPropertyDescriptor(kk.prototype,"handleProgressMouseLeave"),kk.prototype),babelHelpers.applyDecoratedDescriptor(kk.prototype,"handleProgressClick",[X.a,J.action],Object.getOwnPropertyDescriptor(kk.prototype,"handleProgressClick"),kk.prototype),wk=kk))||wk,Zk=r("./src/udemy/js/course-taking-v4/course-content/locked-state-icon.react-component.js"),eC=(r("./src/udemy/js/course-taking-v4/course-content/matching-cues-list.less"),Object(At.c)("store")(Ek=Object(At.d)((Ok=xk=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"clickHandler",value:function(){var e=this.props,t=e.store,r=e.item;t.trackVisit(r,x.b.VISIT_CUE)}},{key:"render",value:function(){var e=this.props,t=e.store,r=e.item,o=e.cue,n=babelHelpers.objectSpread({},r.uiRouterState.params,{start:Math.ceil(o.start_time/1e6)}),i=new Date(o.start_time/1e3).toISOString().slice(11,19).replace(/^0(?:0:)?0?/,"");return Nt.a.createElement(Ya.a,{to:r.uiRouterState.name,params:n,className:"matching-cues-list--cue--2em-6",onClick:this.clickHandler},Nt.a.createElement("li",null,Nt.a.createElement("span",{className:"matching-cues-list--time--1h9ln"},i),Nt.a.createElement(Gk.a,{textToHighlight:o.text_t,searchWords:t.searchQuery.split(" ")})))}}]),t}(qt.Component),xk.propTypes={item:Rt.a.object.isRequired,cue:Rt.a.object.isRequired,store:Rt.a.object.isRequired},Dk=Ok,babelHelpers.applyDecoratedDescriptor(Dk.prototype,"clickHandler",[X.a],Object.getOwnPropertyDescriptor(Dk.prototype,"clickHandler"),Dk.prototype),Ek=Dk))||Ek)||Ek),tC=Object(At.c)("store")(Tk=Object(At.d)((Ik=Ak=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"isExpanded",Hk,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.onKeyDown=Object(No.b)(t.expand),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"expand",value:function(){this.isExpanded=!0}},{key:"render",value:function(){var e=this.props,t=e.store,r=e.item;if(!t.isSearchMode||!t.searchMatches.cues[r.id])return null;var o=t.searchMatches.cues[r.id];return 5<o.length?Nt.a.createElement("ul",{className:"matching-cues-list--cues--INfNn"},o.slice(0,5).map(function(e,t){return Nt.a.createElement(eC,{cue:e,item:r,key:t})}),this.isExpanded?o.slice(5,o.length).map(function(e,t){return Nt.a.createElement(eC,{cue:e,item:r,key:t})}):Nt.a.createElement("li",{"data-purpose":"show-more-cues",className:"matching-cues-list--show-more-link--1b_By",onClick:this.expand,onKeyDown:this.onKeyDown},interpolate(ngettext("+ %s More Caption","+ %s More Captions",o.length-5),[o.length-5]))):Nt.a.createElement("ul",{className:"matching-cues-list--cues--INfNn"},o.map(function(e,t){return Nt.a.createElement(eC,{cue:e,item:r,key:t})}))}}]),r}(qt.Component),Ak.propTypes={item:Rt.a.instanceOf(qe).isRequired,store:Rt.a.object.isRequired},Pk=Ik,Hk=babelHelpers.applyDecoratedDescriptor(Pk.prototype,"isExpanded",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(Pk.prototype,"expand",[X.a,J.action],Object.getOwnPropertyDescriptor(Pk.prototype,"expand"),Pk.prototype),Tk=Pk))||Tk)||Tk,rC=(r("./src/udemy/js/course-taking-v4/course-content/resource-list.less"),Object(At.c)("store","isLockedStateTooltipHidden")(Rk=Object(At.d)((zk=Nk=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"track",value:function(){var e=this.props.source;P.a.track(x.d.COURSE_TAKING,"Curriculum",e.trackingCode)}},{key:"handleClick",value:function(){var r=this;this.track(),this.props.store.getResourceDownloadURL(this.props.source).then(function(e){var t=document.createElement("a");t.style.display="none",t.href=e,t.setAttribute("download",r.props.source.fileName),void 0!==t.download?(document.body.appendChild(t),t.click(),document.body.removeChild(t)):window.location.href=e})}},{key:"renderTitle",value:function(){var e=this.props,t=e.store,r=e.source;return t.isSearchMode?Nt.a.createElement(Gk.a,{textToHighlight:r.title,searchWords:t.searchQuery.split(" ")}):Nt.a.createElement("span",null,r.title)}},{key:"renderLockIcon",value:function(){var e={tooltipMessage:this.props.isLimitedConsumptionTrial?ws.h:Pe,tooltipId:"tooltip-resource-locked-".concat(this.props.source.id),isTooltipHidden:this.props.isLockedStateTooltipHidden};return Nt.a.createElement(Zk.a,e)}},{key:"render",value:function(){var e=this.props.source,t={};return this.props.isDownloadEnabled?e.isExternal?(t.target="_blank",t.href=e.externalUrl,t.onClick=this.track):t.onClick=this.handleClick:t.className="disabled",Nt.a.createElement("li",null,Nt.a.createElement("a",t,Nt.a.createElement(Kt.a,{className:"resource-list--link-icon--1MO6K",glyph:e.icon}),this.renderTitle(),e.isLoading&&Nt.a.createElement(Kt.a,{className:"resource-list--loading-icon--2DF3R",glyph:"circle-loader"}),!this.props.isDownloadEnabled&&this.renderLockIcon()))}}]),t}(qt.Component),Nk.propTypes={source:Rt.a.object.isRequired,store:Rt.a.object.isRequired,isDownloadEnabled:Rt.a.bool,isLimitedConsumptionTrial:Rt.a.bool,isLockedStateTooltipHidden:Rt.a.bool},Nk.defaultProps={isDownloadEnabled:!0,isLimitedConsumptionTrial:!1,isLockedStateTooltipHidden:!1},qk=zk,babelHelpers.applyDecoratedDescriptor(qk.prototype,"track",[X.a],Object.getOwnPropertyDescriptor(qk.prototype,"track"),qk.prototype),babelHelpers.applyDecoratedDescriptor(qk.prototype,"handleClick",[X.a],Object.getOwnPropertyDescriptor(qk.prototype,"handleClick"),qk.prototype),babelHelpers.applyDecoratedDescriptor(qk.prototype,"renderTitle",[X.a],Object.getOwnPropertyDescriptor(qk.prototype,"renderTitle"),qk.prototype),babelHelpers.applyDecoratedDescriptor(qk.prototype,"render",[X.a],Object.getOwnPropertyDescriptor(qk.prototype,"render"),qk.prototype),Rk=qk))||Rk)||Rk),oC=function(e){var t=e.sources,r=e.store;if(r.isSearchMode&&(t=t.filter(function(e){return r.searchMatches.resourceIds.includes(e.id)})),!t.length)return null;var o=T.a.brand.has_organization&&T.a.brand.organization.is_limited_consumption_trial,n=!o;return Nt.a.createElement("ul",{className:"resource-list--resources--2fAVX"},t.map(function(e){return Nt.a.createElement(rC,{key:e.id,source:e,isDownloadEnabled:n,isLimitedConsumptionTrial:o})}))};oC.propTypes={store:Rt.a.object.isRequired,sources:Rt.a.arrayOf(Rt.a.instanceOf(Re))},oC.defaultProps={sources:void 0};var nC,iC,sC,aC,lC,cC,uC,pC,dC,hC,mC,bC,yC,fC,gC,vC,wC,kC,CC,_C,SC,jC,EC,DC=Object(At.c)("store")(Object(At.d)(oC)),xC={styles:{"m_icon-inverted":"curriculum-item--m_icon-inverted--3QwEs","curriculum-item":"curriculum-item--curriculum-item--iJwX5",icon:"curriculum-item--icon--2exyv","is-current":"curriculum-item--is-current--1j1zI","is-unpublished":"curriculum-item--is-unpublished--2KmxY",duration:"curriculum-item--duration--1OEOp","fx-jsb":"curriculum-item--fx-jsb--1rIMI",type:"curriculum-item--type--MqmJ7",title:"curriculum-item--title--3etrQ",fx:"curriculum-item--fx--39acc",progress:"curriculum-item--progress--3eKMJ","progress-icon":"curriculum-item--progress-icon--2mgwh","is-completed":"curriculum-item--is-completed--38V0M","is-organization":"curriculum-item--is-organization--2wN_Z","progress-disabled":"curriculum-item--progress-disabled--1RZwW","progress-loading":"curriculum-item--progress-loading--1yTU2"}},OC=Object(At.c)("store","isLockedStateTooltipHidden")(nC=Object(At.d)((aC=sC=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"isProgressClick",value:function(t){return[Kk.a.progress,Kk.a["progress-icon"]].some(function(e){return t.target.classList.contains(e)})}},{key:"trackClick",value:function(e){this.isProgressClick(e)||this.props.store.trackVisit(this.props.item,x.b.VISIT)}},{key:"getUiRouterLink",value:function(e){return!this.isProgressClick(e)&&this.props.item.uiRouterState.name}},{key:"renderTitle",value:function(){var e=this.props,t=e.isCurrentItem,r=e.store,o=e.item,n=o.title,i=null,s=null;return r.isSearchMode&&(n=Nt.a.createElement(Gk.a,{textToHighlight:o.title,searchWords:r.searchQuery.split(" ")})),o.isPreview&&r.courseExperienceStore.isLimitedConsumptionTrial&&(i=gettext("(Preview)")),this.isLockedForTrial&&(s=Nt.a.createElement(Zk.a,{tooltipId:"tooltip-item-locked-".concat(o.id),tooltipMessage:ws.h,isTooltipHidden:this.props.isLockedStateTooltipHidden,theme:t?"white":"default"})),Nt.a.createElement("span",{className:"curriculum-item--title--3etrQ","data-purpose":"title"},"".concat(o.titleIndex," "),n," ",i," ",s)}},{key:"render",value:function(){var e=this.props,t=e.isCurrentItem,r=e.item,o=e.sectionIndex,n=e.index,i=Et()("curriculum-item",{"is-current":t,"is-unpublished":!r.isPublished}),s=Ya.a,a={onClick:this.trackClick,to:this.getUiRouterLink,params:r.uiRouterState.params};return this.isLockedForTrial&&(s="a",a={className:"disabled"}),Nt.a.createElement("li",{className:Sn()(i,xC)},Nt.a.createElement(s,Object.assign({"data-purpose":"curriculum-item-".concat(o,"-").concat(n)},a),Nt.a.createElement("span",{className:"curriculum-item--type--MqmJ7"},Nt.a.createElement(Kt.a,{glyph:r.icon})),this.renderTitle(),r.asset&&r.asset.isMedia&&Nt.a.createElement(By.a,{numSeconds:r.asset.length,presentationStyle:By.a.STYLE.TIMESTAMP,className:"curriculum-item--duration--1OEOp"}),Nt.a.createElement(Jk,{item:r})),Nt.a.createElement(DC,{sources:r.resources}),Nt.a.createElement(tC,{item:r}))}},{key:"isLockedForTrial",get:function(){return this.props.store.courseExperienceStore.isLimitedConsumptionTrial&&!ws.a.includes(this.props.item.assetType)}}]),t}(qt.Component),sC.propTypes={isCurrentItem:Rt.a.bool.isRequired,item:Rt.a.instanceOf(qe).isRequired,store:Rt.a.object.isRequired,index:Rt.a.number,sectionIndex:Rt.a.number,isLockedStateTooltipHidden:Rt.a.bool},sC.defaultProps={index:0,sectionIndex:0,isLockedStateTooltipHidden:!1},iC=aC,babelHelpers.applyDecoratedDescriptor(iC.prototype,"isProgressClick",[X.a],Object.getOwnPropertyDescriptor(iC.prototype,"isProgressClick"),iC.prototype),babelHelpers.applyDecoratedDescriptor(iC.prototype,"trackClick",[X.a],Object.getOwnPropertyDescriptor(iC.prototype,"trackClick"),iC.prototype),babelHelpers.applyDecoratedDescriptor(iC.prototype,"getUiRouterLink",[X.a],Object.getOwnPropertyDescriptor(iC.prototype,"getUiRouterLink"),iC.prototype),babelHelpers.applyDecoratedDescriptor(iC.prototype,"renderTitle",[X.a],Object.getOwnPropertyDescriptor(iC.prototype,"renderTitle"),iC.prototype),nC=iC))||nC)||nC,TC=(r("./src/udemy/js/course-taking-v4/course-content/section.less"),Object(At.c)("store")(lC=Object(At.d)((uC=cC=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,o=e.isCurrentSection,t=e.section,n=e.store;return Nt.a.createElement(Jt.a,{className:"section--section--CIk7q"},Nt.a.createElement("div",{role:"tab",tabIndex:"0",className:"section--section-heading--2xXfB section--practice-test--3gdrq"},Nt.a.createElement("h3",null,gettext("Practice Tests"))),Nt.a.createElement(Jt.a,{expanded:!0,className:"section--section-content--2OMW8"},Nt.a.createElement("ul",null,t.items.map(function(e,t){var r=o&&t===n.courseExperienceStore.currentCurriculumItemIndex;return Nt.a.createElement(OC,{key:e.id,item:e,index:t,isCurrentItem:r})}))))}}]),t}(qt.Component),cC.propTypes={isCurrentSection:Rt.a.bool.isRequired,section:Rt.a.instanceOf(Ne).isRequired,store:Rt.a.object.isRequired},lC=uC))||lC)||lC),PC=Object(At.c)("store")(pC=Object(At.d)((mC=hC=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).handleKeyDown=Object(No.b)(t.handleClick),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isCurrentSection,r=e.shouldAutoscroll;t&&r&&this.autoscroll()}},{key:"autoscroll",value:function(){this.ref&&(this.ref.scrollIntoView(),this.props.onAutoscroll())}},{key:"handleClick",value:function(){this.props.section.toggle()}},{key:"setRef",value:function(e){this.ref=e}},{key:"createProgressCount",value:function(e,t){var r=0,o=0,n=!0,i=!1,s=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;t.includes(c.id)&&(r+=c.isCompleted?1:0,o+=1)}}catch(e){i=!0,s=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw s}}var u=Et()({"text-secondary bold":r===o});return Nt.a.createElement("span",{className:u},interpolate("%s / %s",[r,o]))}},{key:"renderResourceFilterProgress",value:function(){var e=this.props,t=e.store,r=e.section;return this.createProgressCount(r.items,t.resourceFilter.get(r.id))}},{key:"renderSearchedProgress",value:function(){var e=this.props,t=e.store,r=e.section;return this.createProgressCount(r.items,t.searchMatches.curriculumItemIds)}},{key:"renderProgress",value:function(){if(this.props.store.isSearchMode)return this.renderSearchedProgress();if(this.props.store.isResourceFilter)return this.renderResourceFilterProgress();var e=this.props.section,t=e.numPublishedItems,r=e.numCompletedItems,o=e.isCompleted,n=Et()({"text-secondary bold":o});return Nt.a.createElement("span",{className:n},interpolate("%s / %s",[r,t]))}},{key:"render",value:function(){var e=this.props,t=e.section,r=e.index;return Nt.a.createElement(Jt.a,{className:"section--section--CIk7q","data-purpose":"section-panel-".concat(r)},Nt.a.createElement("div",{role:"tab",tabIndex:"0",className:"section--section-heading--2xXfB",onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:this.setRef},Nt.a.createElement("span",null,t.legend),this.renderProgress(),Nt.a.createElement("h3",null,t.title)),Nt.a.createElement(Jt.a,{collapsible:!0,expanded:t.isExpanded,className:"section--section-content--2OMW8"},Nt.a.createElement("ul",null,this.renderItems)))}},{key:"renderItems",get:function(){var e=this.props,o=e.isCurrentSection,n=e.section,i=e.index,t=this.props.store,s=t.courseExperienceStore,a=t.isResourceFilter,l=t.isSearchMode,c=t.searchMatches,u=t.resourceFilter;return n.items.map(function(e,t){if(l&&!c.curriculumItemIds.includes(e.id))return null;if(a&&u.has(n.id)&&!u.get(n.id).includes(e.id))return null;var r=o&&t===s.currentCurriculumItemIndex;return Nt.a.createElement(OC,{key:e.id,item:e,index:t,sectionIndex:i,isCurrentItem:r})})}}]),r}(qt.Component),hC.propTypes={isCurrentSection:Rt.a.bool.isRequired,section:Rt.a.instanceOf(Ne).isRequired,store:Rt.a.object.isRequired,onAutoscroll:Rt.a.func,shouldAutoscroll:Rt.a.bool,index:Rt.a.number},hC.defaultProps={onAutoscroll:Zt.a,shouldAutoscroll:!1,index:0},dC=mC,babelHelpers.applyDecoratedDescriptor(dC.prototype,"handleClick",[X.a],Object.getOwnPropertyDescriptor(dC.prototype,"handleClick"),dC.prototype),babelHelpers.applyDecoratedDescriptor(dC.prototype,"setRef",[X.a],Object.getOwnPropertyDescriptor(dC.prototype,"setRef"),dC.prototype),babelHelpers.applyDecoratedDescriptor(dC.prototype,"renderResourceFilterProgress",[X.a],Object.getOwnPropertyDescriptor(dC.prototype,"renderResourceFilterProgress"),dC.prototype),babelHelpers.applyDecoratedDescriptor(dC.prototype,"renderSearchedProgress",[X.a],Object.getOwnPropertyDescriptor(dC.prototype,"renderSearchedProgress"),dC.prototype),babelHelpers.applyDecoratedDescriptor(dC.prototype,"renderProgress",[X.a],Object.getOwnPropertyDescriptor(dC.prototype,"renderProgress"),dC.prototype),pC=dC))||pC)||pC,HC=(r("./src/udemy/js/course-taking-v4/course-content/course-content.less"),Object(At.c)("store")(bC=Object(At.d)((fC=yC=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,o=e.onAutoscroll,n=e.shouldAutoscroll,t=e.store,i=t.courseExperienceStore,s=t.isSearchMode,a=t.searchMatches,l=t.isResourceFilter,c=t.resourceFilter;return Nt.a.createElement("div",{className:"course-content--sections--1KNRO",role:"tablist","data-purpose":"curriculum-section-container",onScroll:this.props.onScroll},i.curriculumSections.map(function(e,t){var r=i.currentCurriculumSectionIndex===t;return s&&!e.contains(a.curriculumItemIds.slice())?null:l&&!c.has(e.id)?null:i.course.isPracticeTestCourse?Nt.a.createElement(TC,{key:e.id,section:e,isCurrentSection:r}):Nt.a.createElement(PC,{key:e.id,index:t,section:e,isCurrentSection:r,onAutoscroll:o,shouldAutoscroll:n})}))}}]),t}(qt.Component),yC.propTypes={onScroll:Rt.a.func,onAutoscroll:Rt.a.func,shouldAutoscroll:Rt.a.bool,store:Rt.a.object.isRequired},yC.defaultProps={onScroll:Zt.a,onAutoscroll:Zt.a,shouldAutoscroll:!1},bC=fC))||bC)||bC),AC=function(){return Nt.a.createElement("div",{className:"fx-c mb20 course-content--empty-search-result--LcVFp"},Nt.a.createElement("div",{className:"text-center"},Nt.a.createElement("div",{className:"a2"},gettext("Your search did not match any captions, lectures or resources")," ")))},IC=Object(At.d)((wC=vC=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).store=new Uk(e.CurrentCourse,e.courseExperienceStore,e.$rootScope),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){var e=this;this.props.courseExperienceStore.ensureCurriculumLoaded().then(function(){e.store.indexCurriculumForSearch(),e.store.onSectionChange()})}},{key:"render",value:function(){return Nt.a.createElement(At.b,{store:this.store,isLockedStateTooltipHidden:this.props.hideResourceTooltips},Nt.a.createElement("div",{className:"course-content--main--3XZ4I"},Nt.a.createElement("div",{className:"course-content--course-content-menu--1Ww51","data-purpose":"course-content-menu"},Nt.a.createElement(Qk,null),this.renderCurriculumFilters),this.renderLoader,this.renderSectionList,this.store.isEmptySearch&&Nt.a.createElement(AC,null)))}},{key:"renderLoader",get:function(){return!this.store.isSearchingAsync&&this.store.curriculum.length?null:Nt.a.createElement("div",{className:"course-content--loading--1jSiJ"},Nt.a.createElement(Xt.a,{size:"medium"}))}},{key:"renderCurriculumFilters",get:function(){var e=this.props.CurrentCourse;return this.props.hideFilters||e.isPracticeTestCourse?null:Nt.a.createElement(Vk,null)}},{key:"renderSectionList",get:function(){var e=this.props,t=e.onAutoscroll,r=e.sectionsOnScroll,o=e.shouldAutoscroll;return Nt.a.createElement(HC,{onScroll:r,onAutoscroll:t,shouldAutoscroll:o})}}]),r}(qt.Component),vC.propTypes={courseId:Rt.a.number.isRequired,lectureViewStore:Rt.a.object.isRequired,$rootScope:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,CurrentCourse:Rt.a.object.isRequired,onAutoscroll:Rt.a.func,shouldAutoscroll:Rt.a.bool,sectionsOnScroll:Rt.a.func,hideFilters:Rt.a.bool,hideResourceTooltips:Rt.a.bool},vC.defaultProps={onAutoscroll:Zt.a,shouldAutoscroll:!1,sectionsOnScroll:Zt.a,hideFilters:!1,hideResourceTooltips:!1},gC=wC))||gC,RC=(kC=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:110;babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"hasAutoscrolled",CC,this),babelHelpers.initializerDefineProperty(this,"isScrolling",_C,this),this.courseTakingStore=void 0,this.scrollThreshold=void 0,this.courseTakingStore=e,this.scrollThreshold=t,this.dispose=Object(J.reaction)(function(){return e.isPanelOpen},this.resetAutoscrollOnPanelClose)}return babelHelpers.createClass(r,[{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"onAutoscroll",value:function(){this.hasAutoscrolled=!0}},{key:"onScroll",value:function(e){this.isScrolling=e.target.scrollTop>this.scrollThreshold}},{key:"resetAutoscrollOnPanelClose",value:function(){this.courseTakingStore.isPanelOpen||(this.hasAutoscrolled=!1)}},{key:"shouldAutoscroll",get:function(){return this.courseTakingStore.isPanelOpen&&!this.hasAutoscrolled}}]),r}(),CC=babelHelpers.applyDecoratedDescriptor(kC.prototype,"hasAutoscrolled",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_C=babelHelpers.applyDecoratedDescriptor(kC.prototype,"isScrolling",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(kC.prototype,"onAutoscroll",[X.a,J.action],Object.getOwnPropertyDescriptor(kC.prototype,"onAutoscroll"),kC.prototype),babelHelpers.applyDecoratedDescriptor(kC.prototype,"onScroll",[X.a,J.action],Object.getOwnPropertyDescriptor(kC.prototype,"onScroll"),kC.prototype),babelHelpers.applyDecoratedDescriptor(kC.prototype,"resetAutoscrollOnPanelClose",[X.a,J.action],Object.getOwnPropertyDescriptor(kC.prototype,"resetAutoscrollOnPanelClose"),kC.prototype),babelHelpers.applyDecoratedDescriptor(kC.prototype,"shouldAutoscroll",[J.computed],Object.getOwnPropertyDescriptor(kC.prototype,"shouldAutoscroll"),kC.prototype),kC),qC=(r("./src/udemy/js/course-taking-v4/course-content/panel-content.less"),{"./panel-content.less":{"panel-content":"panel-content--panel-content--L-pMe",title:"panel-content--title--3uuFE","is-scrolling":"panel-content--is-scrolling--3FDSs","close-button":"panel-content--close-button--1IIZs"}}),NC=Object(At.d)((EC=jC=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).store=new RC(t.props.courseTakingStore),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"renderTitle",value:function(){var e=Et()("title",!!this.store.isScrolling&&"is-scrolling");return Nt.a.createElement("h3",{className:Sn()(e,qC)},gettext("Course Content"))}},{key:"renderMobileCloseButton",value:function(){return Nt.a.createElement("button",{className:"btn btn-control panel-content--close-button--1IIZs","data-purpose":"close-button","aria-label":"Close",onClick:this.props.mobileClosePanel},Nt.a.createElement("span",null,Nt.a.createElement("i",{className:"udi udi-close"})))}},{key:"render",value:function(){var e=this.store,t=e.onAutoscroll,r=e.onScroll,o=e.shouldAutoscroll;return Nt.a.createElement("div",{"data-purpose":"curriculum-panel",className:"panel-content--panel-content--L-pMe"},this.renderMobileCloseButton(),this.renderTitle(),Nt.a.createElement(IC,Object.assign({hideFilters:!0,hideResourceTooltips:!0,onAutoscroll:t,shouldAutoscroll:o,sectionsOnScroll:r},this.props)))}}]),r}(qt.Component),jC.propTypes={courseId:Rt.a.number.isRequired,lectureViewStore:Rt.a.object.isRequired,$rootScope:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,CurrentCourse:Rt.a.object.isRequired,mobileClosePanel:Rt.a.func.isRequired,courseTakingStore:Rt.a.object.isRequired},SC=EC))||SC,zC=d.a.module("course-taking-v4/course-content/panel-content.ng-directive",[a.a.name,mt.name,Pt.name,Fd.a.name]).directive("panelContent",MC);function MC(e,t,r,o,n,i){return e(NC,void 0,{},{$rootScope:t,courseExperienceStore:r,CurrentCourse:o,lectureViewStore:n,courseTakingStore:i})}MC.$inject=["reactDirective","$rootScope","CourseExperienceService","CurrentCourse","LectureViewService","CourseTakingService"];var LC=d.a.module("course-taking-v4/tracking.ng-directive",[]).directive("courseTakingTracking",function(){return{restrict:"A",scope:{},link:function(e,t,r){function o(){r.trackingCategory&&r.trackingAction&&P.a.track(x.d.COURSE_TAKING,r.trackingCategory,r.trackingAction)}t.on("click",o),e.$on("$destroy",function(){t.off("click",o)})}}}),FC=(r("./src/udemy/js/course-taking-v4/dashboard/course-content-dashboard.less"),function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return Nt.a.createElement("div",{className:"course-content-dashboard--dashboard--qvMt6"},Nt.a.createElement(IC,this.props))}}]),t}(Nt.a.Component));FC.propTypes={courseId:Rt.a.number.isRequired,lectureViewStore:Rt.a.object.isRequired,$rootScope:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,CurrentCourse:Rt.a.object.isRequired};var UC=d.a.module("course-taking-v4/dashboard/course-content.ng-directive",[a.a.name,mt.name,Pt.name,Fd.a.name]).directive("courseContent",BC);function BC(e,t,r,o,n,i){return e(FC,void 0,{},{$rootScope:t,courseExperienceStore:r,courseTakingStore:o,CurrentCourse:n,lectureViewStore:i})}BC.$inject=["reactDirective","$rootScope","CourseExperienceService","CourseTakingService","CurrentCourse","LectureViewService"];var VC,$C,QC,WC,GC,YC,KC,XC,JC,ZC,e_,t_,r_,o_=r("./src/udemy/js/course-reviews/common/alt-leave-rating.mobx-store.js"),n_=r("./src/udemy/js/course-reviews/common/alt-leave-rating.react-component.js"),i_=r("./src/udemy/js/organization-common/course-context-menu/constants.js"),s_=r("./src/udemy/js/organization-common/course-context-menu/wrappers/ufb-two-button-context-menu.react-component.js"),a_=(r("./src/udemy/js/course-taking-v4/dashboard/header/header.less"),{"./header.less":{"course-dashboard-header-row":"header--course-dashboard-header-row--2SJjM","course-dashboard-header":"header--course-dashboard-header--3zUm3","fx-jsb":"header--fx-jsb--1XQDT",container:"header--container--2Psfv","course-image-container":"header--course-image-container--3goYM","fx-c":"header--fx-c--nOxtE","course-image-button":"header--course-image-button--2PAGj",transition:"header--transition--12DGd","course-image-overlay":"header--course-image-overlay--2ihBK","course-info-container":"header--course-info-container--3rl1K",fx:"header--fx--2Unks","course-title":"header--course-title--1bvpT",a2:"header--a2--630y1",ellipsis:"header--ellipsis--1S5SY",pr60:"header--pr60--3g-XE","course-header-middle":"header--course-header-middle--wdh1r","course-header-actions":"header--course-header-actions--2urQu","course-header-action":"header--course-header-action--VBYPz","ratings-container":"header--ratings-container--SrmSS",fxw:"header--fxw--2AF6y","progress-container":"header--progress-container--22fbc","fx-lb":"header--fx-lb--Q_VMD","course-progress-message":"header--course-progress-message--LgBQ-",mr10:"header--mr10--15MSq","reset-progress":"header--reset-progress--3a_mz","progress-info-container":"header--progress-info-container--89J9G","progress-bar":"header--progress-bar--2fFwW","no-trophy":"header--no-trophy--1Noyg","completion-indicator":"header--completion-indicator--3JBh0","certificate-status-container":"header--certificate-status-container--33uc1","certificate-download-link":"header--certificate-download-link--dmsj_","certificate-progress-bar":"header--certificate-progress-bar--2rdQb","certificate-ready":"header--certificate-ready--zjqgM","ufb-context-menu":"header--ufb-context-menu--3fl7v"}}),l_=Object(At.c)("courseExperienceStore")((WC=QC=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=Nt.a.createElement(Lu.a,{id:"certificate-status",bsStyle:"neutral",placement:"left"},this.certificateStatusMessage);return Nt.a.createElement("div",{className:Sn()(Et()("certificate-status-container",{"certificate-ready":this.isCertificateReady}),a_)},Nt.a.createElement(wi.a,{tooltip:e,placement:"left"},Nt.a.createElement("a",{href:this.certificateDownloadUrl,className:"header--certificate-download-link--dmsj_",target:"_blank",rel:"noreferrer noopener"},Nt.a.createElement(Kt.a,{glyph:"trophy",size:"medium"}),Nt.a.createElement("div",{className:"header--certificate-progress-bar--2rdQb"}))))}},{key:"certificate",get:function(){return this.props.courseExperienceStore.course.certificate}},{key:"isCertificateReady",get:function(){return this.certificate&&this.certificate.isReady}},{key:"certificateStatusMessage",get:function(){return this.certificate?this.isCertificateReady?gettext("Click to access your certificate!"):gettext("Your completion certificate is being prepared!"):gettext("You need to finish this course to get your certificate of completion!")}},{key:"certificateDownloadUrl",get:function(){return this.isCertificateReady?this.certificate.url:"javascript:void(0)"}}]),t}(Nt.a.Component),QC.propTypes={courseExperienceStore:Rt.a.shape({course:Rt.a.PropTypes.shape({certificate:Rt.a.shape({url:Rt.a.string,isReady:Rt.a.bool})}).isRequired}).isRequired},QC.defaultProps={certificate:null},$C=WC,babelHelpers.applyDecoratedDescriptor($C.prototype,"certificate",[J.computed],Object.getOwnPropertyDescriptor($C.prototype,"certificate"),$C.prototype),babelHelpers.applyDecoratedDescriptor($C.prototype,"isCertificateReady",[J.computed],Object.getOwnPropertyDescriptor($C.prototype,"isCertificateReady"),$C.prototype),babelHelpers.applyDecoratedDescriptor($C.prototype,"certificateStatusMessage",[J.computed],Object.getOwnPropertyDescriptor($C.prototype,"certificateStatusMessage"),$C.prototype),babelHelpers.applyDecoratedDescriptor($C.prototype,"certificateDownloadUrl",[J.computed],Object.getOwnPropertyDescriptor($C.prototype,"certificateDownloadUrl"),$C.prototype),VC=$C))||VC,c_={"./header.less":{"course-dashboard-header-row":"header--course-dashboard-header-row--2SJjM","course-dashboard-header":"header--course-dashboard-header--3zUm3","fx-jsb":"header--fx-jsb--1XQDT",container:"header--container--2Psfv","course-image-container":"header--course-image-container--3goYM","fx-c":"header--fx-c--nOxtE","course-image-button":"header--course-image-button--2PAGj",transition:"header--transition--12DGd","course-image-overlay":"header--course-image-overlay--2ihBK","course-info-container":"header--course-info-container--3rl1K",fx:"header--fx--2Unks","course-title":"header--course-title--1bvpT",a2:"header--a2--630y1",ellipsis:"header--ellipsis--1S5SY",pr60:"header--pr60--3g-XE","course-header-middle":"header--course-header-middle--wdh1r","course-header-actions":"header--course-header-actions--2urQu","course-header-action":"header--course-header-action--VBYPz","ratings-container":"header--ratings-container--SrmSS",fxw:"header--fxw--2AF6y","progress-container":"header--progress-container--22fbc","fx-lb":"header--fx-lb--Q_VMD","course-progress-message":"header--course-progress-message--LgBQ-",mr10:"header--mr10--15MSq","reset-progress":"header--reset-progress--3a_mz","progress-info-container":"header--progress-info-container--89J9G","progress-bar":"header--progress-bar--2fFwW","no-trophy":"header--no-trophy--1Noyg","completion-indicator":"header--completion-indicator--3JBh0","certificate-status-container":"header--certificate-status-container--33uc1","certificate-download-link":"header--certificate-download-link--dmsj_","certificate-progress-bar":"header--certificate-progress-bar--2rdQb","certificate-ready":"header--certificate-ready--zjqgM","ufb-context-menu":"header--ufb-context-menu--3fl7v"}},u_=Object(At.c)("courseExperienceStore")(GC=Object(At.d)((JC=XC=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"showResetProgressConfirmModal",KC,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"showConfirmResetProgress",value:function(){this.showResetProgressConfirmModal=!0}},{key:"closeResetProgressModal",value:function(){this.showResetProgressConfirmModal=!1}},{key:"confirmResetProgress",value:function(){this.closeResetProgressModal(),this.props.courseExperienceStore.resetCourseProgress()}},{key:"renderResetProgressButtonWithConfirmModal",value:function(){return T.a.brand.has_organization?null:Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(tr.default,{onClick:this.showConfirmResetProgress,className:"header--reset-progress--3a_mz",bsStyle:"link"},gettext("Reset progress")),Nt.a.createElement(qi.a,{title:gettext("Reset All Course Progress?"),body:gettext("All lecture and quiz progress will be reset. Do you wish to proceed?"),onConfirm:this.confirmResetProgress,onCancel:this.closeResetProgressModal,show:this.showResetProgressConfirmModal}))}},{key:"renderProgressMessage",value:function(){var e=this.props.courseExperienceStore,t=e.numCompletedItems,r=e.numPublishedCurriculumItems,o=gettext("<strong>%(numCompletedItems)s</strong> of <strong>%(numPublishedCurriculumItems)s</strong> item complete"),n=gettext("<strong>%(numCompletedItems)s</strong> of <strong>%(numPublishedCurriculumItems)s</strong> items complete"),i=Nt.a.createElement("span",{dangerouslySetInnerHTML:{__html:ninterpolate(o,n,r,{numCompletedItems:t,numPublishedCurriculumItems:r})}});return 0===this.props.courseExperienceStore.completionRatio&&(i=Nt.a.createElement(Nt.a.Fragment,null,"".concat(gettext("Get started")," ("),i,")")),Nt.a.createElement("span",{className:"header--course-progress-message--LgBQ-","data-purpose":"course-progress-message"},i)}},{key:"renderProgressBar",value:function(){var e=this.props.courseExperienceStore,t=e.course,r=100*e.completionRatio,o=Et()("progress-bar",{"no-trophy":!t.hasCertificate});return Nt.a.createElement("div",{className:Sn()(o,c_)},Nt.a.createElement("div",{className:"header--completion-indicator--3JBh0","data-purpose":"course-progress-indicator",style:{width:"".concat(r,"%")}}))}},{key:"render",value:function(){var e=0<this.props.courseExperienceStore.completionRatio;return Nt.a.createElement("div",{className:"header--progress-info-container--89J9G"},this.renderProgressMessage(),e&&this.renderResetProgressButtonWithConfirmModal(),this.renderProgressBar())}}]),i}(Nt.a.Component),XC.propTypes={courseExperienceStore:Rt.a.shape({course:Rt.a.shape({hasCertificate:Rt.a.bool}).isRequired,numPublishedCurriculumItems:Rt.a.number,numCompletedItems:Rt.a.number,completionRatio:Rt.a.number,resetCourseProgress:Rt.a.func.isRequired}).isRequired},YC=JC,KC=babelHelpers.applyDecoratedDescriptor(YC.prototype,"showResetProgressConfirmModal",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(YC.prototype,"showConfirmResetProgress",[X.a,J.action],Object.getOwnPropertyDescriptor(YC.prototype,"showConfirmResetProgress"),YC.prototype),babelHelpers.applyDecoratedDescriptor(YC.prototype,"closeResetProgressModal",[X.a,J.action],Object.getOwnPropertyDescriptor(YC.prototype,"closeResetProgressModal"),YC.prototype),babelHelpers.applyDecoratedDescriptor(YC.prototype,"confirmResetProgress",[X.a,J.action],Object.getOwnPropertyDescriptor(YC.prototype,"confirmResetProgress"),YC.prototype),GC=YC))||GC)||GC,p_=Object(At.d)((r_=t_=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).initializeRatingsStore(),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){f.a.mark("CourseDashboard.continue-button-rendered"),f.a.sync()}},{key:"initializeRatingsStore",value:function(){if(this.course){var e=new Je.a(window.location.search).getQueryParamValue("show_review_popup");this.leaveRatingStore=new o_.a(this.course,null,"dashboard",gettext("Rate This Course"),gettext("Edit Your Rating"),null,!0,this.props.courseExperienceStore.userIsInstructor,e)}}},{key:"goToCurrentOrNextCurriculumItem",value:function(){if(this.currentCurriculumItem){var e=this.currentCurriculumItem.uiRouterState;this.props.animatedStateChangeService.go(e.name,e.params)}}},{key:"renderCourseImageWithPlayButton",value:function(){return Nt.a.createElement(tr.default,{className:"header--course-image-button--2PAGj",bsStyle:"link","data-purpose":"course-dashboard-image",onClick:this.goToCurrentOrNextCurriculumItem},Nt.a.createElement(Wl.a,{src:this.course.image480x270,srcSet:"".concat(this.course.image480x270," 1x, ").concat(this.course.image750x422," 2x"),alt:this.course.title,width:480,height:270}),Nt.a.createElement("div",{className:"header--course-image-overlay--2ihBK"}))}},{key:"renderCourseTitle",value:function(){return Nt.a.createElement("a",{href:this.course.url,className:"header--course-title--1bvpT","data-purpose":"course-dashboard-title"},this.course.title)}},{key:"renderContinueToLectureButton",value:function(){return this.currentCurriculumItem?Nt.a.createElement(tr.default,{bsStyle:"primary",bsSize:"large","data-purpose":"continue-to-lecture",className:"header--course-header-action--VBYPz",onClick:this.goToCurrentOrNextCurriculumItem},interpolate(gettext("Continue to %(lectureType)s %(lectureIndex)s"),{lectureType:this.currentCurriculumItem.displayName,lectureIndex:this.currentCurriculumItem.objectIndex},!0)):null}},{key:"renderUFBCourseContextMenu",value:function(){return Nt.a.createElement(s_.a,{course:babelHelpers.objectSpread({},this.course,{is_published:this.course.isPublished}),context:i_.b.COURSE_DASHBOARD,openLeft:!0,className:"header--ufb-context-menu--3fl7v"})}},{key:"renderRatingPopupLink",value:function(){var e=this.course.features&&this.course.features.reviews_view,t=0<this.props.courseExperienceStore.numCompletedItems;return T.a.brand.is_add_reviews_enabled&&(this.props.courseExperienceStore.userIsInstructor||e&&t)&&T.a.features.course_review.leave_feedback?Nt.a.createElement("div",{className:"header--ratings-container--SrmSS"},Nt.a.createElement(n_.a,{store:this.leaveRatingStore,onDeleteReview:this.props.courseExperienceStore.resetCourseReview,layout:"horizontal",watchDepth:"reference"})):null}},{key:"renderProgressInfo",value:function(){return this.course.isPracticeTestCourse?null:Nt.a.createElement(At.b,{courseExperienceStore:this.props.courseExperienceStore},Nt.a.createElement("div",{className:"header--progress-container--22fbc"},Nt.a.createElement(u_,null),this.course.hasCertificate&&Nt.a.createElement(l_,null)))}},{key:"render",value:function(){return this.course?Nt.a.createElement("div",{className:"header--course-dashboard-header-row--2SJjM"},Nt.a.createElement("div",{className:"header--course-dashboard-header--3zUm3"},Nt.a.createElement("div",{className:"header--course-image-container--3goYM"},this.renderCourseImageWithPlayButton()),Nt.a.createElement("div",{className:"header--course-info-container--3rl1K"},this.renderCourseTitle(),Nt.a.createElement("div",{className:"header--course-header-middle--wdh1r"},Nt.a.createElement("div",{className:"header--course-header-actions--2urQu"},this.renderContinueToLectureButton(),this.renderUFBCourseContextMenu()),this.renderRatingPopupLink()),this.renderProgressInfo()))):null}},{key:"course",get:function(){return this.props.courseExperienceStore.course}},{key:"currentCurriculumItem",get:function(){return this.props.courseExperienceStore.currentCurriculumItem}}]),r}(Nt.a.Component),t_.propTypes={courseExperienceStore:Rt.a.shape({course:Rt.a.PropTypes.shape({id:Rt.a.number,title:Rt.a.string,url:Rt.a.string,image480x270:Rt.a.string,image750x422:Rt.a.string,features:Rt.a.object,customCategoryIds:Rt.a.array,numReviews:Rt.a.number,rating:Rt.a.number}),currentCurriculumItem:Rt.a.object,numCompletedItems:Rt.a.number,resetCourseReview:Rt.a.func.isRequired,userIsInstructor:Rt.a.bool}).isRequired,animatedStateChangeService:Rt.a.object.isRequired},e_=r_,babelHelpers.applyDecoratedDescriptor(e_.prototype,"goToCurrentOrNextCurriculumItem",[X.a],Object.getOwnPropertyDescriptor(e_.prototype,"goToCurrentOrNextCurriculumItem"),e_.prototype),ZC=e_))||ZC,d_=d.a.module("course-taking-v4/dashboard/header/dashboard-header.ng-directive",[a.a.name]).directive("dashboardHeader",["reactDirective","CourseExperienceService","AnimatedStateChangeService",function(e,t,r){return e(p_,void 0,{},{courseExperienceStore:t,animatedStateChangeService:r})}]);var h_,m_,b_,y_,f_,g_,v_,w_,k_,C_,__,S_,j_,E_,D_,x_,O_,T_,P_,H_,A_=r("./src/udemy/js/base-components/nav-collapse.react-component.js"),I_=r("./src/udemy/js/share/marketplace-social-share-modal.react-component.js"),R_=r("./src/udemy/js/base-components/nav-dropdown.react-component.js"),q_=r("./src/udemy/js/share/config.js"),N_=r("./src/udemy/js/share/constants.js"),z_=Object(At.c)("courseExperienceStore","navbarStore")(h_=Object(At.d)((y_=b_=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"toggleEmailSetting",value:function(){this.props.navbarStore.toggleEmailSetting(this.props.setting),P.a.track(x.d.COURSE_TAKING,x.a.DASHBOARD,Iw.TOGGLE_SETTING,null,null,{setting:this.props.setting.settingCode})}},{key:"render",value:function(){var e=this.props.courseExperienceStore.course.notificationSettings,t=!!this.props.courseExperienceStore.course.notificationSettings.disableAllEmails;return Nt.a.createElement(Ni.a,{onChange:this.toggleEmailSetting,checked:!!e[this.props.setting.settingCode],disabled:t},this.props.setting.title)}}]),t}(Nt.a.Component),b_.propTypes={courseExperienceStore:Rt.a.object.isRequired,navbarStore:Rt.a.object.isRequired,setting:Rt.a.object.isRequired},m_=y_,babelHelpers.applyDecoratedDescriptor(m_.prototype,"toggleEmailSetting",[X.a,J.action],Object.getOwnPropertyDescriptor(m_.prototype,"toggleEmailSetting"),m_.prototype),h_=m_))||h_)||h_,M_=Object(At.c)("courseExperienceStore")(f_=Object(At.d)((v_=g_=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return Nt.a.createElement("div",null,this.emailSettingOptions)}},{key:"emailSettingOptions",get:function(){var e=this.props.courseExperienceStore.course.notificationSettings;return Object.keys(e).sort().filter(function(e){return e!==Cc.a.disableAllEmails.settingCode}).map(function(e){var t=Cc.b[e];return Nt.a.createElement(On.a,{key:e,unclickable:!0},Nt.a.createElement(z_,{setting:t}))})}}]),t}(Nt.a.Component),g_.propTypes={courseExperienceStore:Rt.a.object.isRequired},f_=v_))||f_)||f_,L_=(r("./src/udemy/js/course-taking-v4/dashboard/navbar/navbar.less"),Object(At.c)("courseExperienceStore","navbarStore")(w_=Object(At.d)((__=C_=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"trackOptions",value:function(e){P.a.track(x.d.COURSE_TAKING,x.a.DASHBOARD,Iw.OPTIONS_MENU_ITEM_CLICK,null,null,{item:e})}},{key:"scrollToInstructor",value:function(){this.props.navbarStore.goToTab("overview")}},{key:"render",value:function(){var e=this.props.courseExperienceStore.course,t=this.props.courseExperienceStore.isEnrolledStudent,r=t,o=!e.isPrivate&&!T.a.brand.has_organization&&T.a.brand.is_external_sources_enabled&&t,n=t,i=T.a.features.gift_course&&e&&e.isPaid&&!e.isPrivate&&t,s=T.a.features.report_abuse,a=t&&this.props.navbarStore.showEmailSettingOptions,l=T.a.features.course.students.unenroll&&t,c=T.a.features.course.refundable;return Nt.a.createElement(R_.a,{eventKey:"options",title:gettext("Options"),className:"navbar--options-dropdown--2LvRt",id:"options-dropdown","data-purpose":"options-dropdown",onSelect:this.trackOptions},r&&Nt.a.createElement(On.a,{eventKey:"toggle-favorite","data-purpose":"toggle-favorite",onSelect:e.toggleFavorite},e.favoritedTime?gettext("Unfavorite this course"):gettext("Favorite this course")),o&&Nt.a.createElement(On.a,{eventKey:"share-course","data-purpose":"share-course",onSelect:this.props.navbarStore.openShareCourseModal},q_.a[N_.f.COURSE_TAKING].shareText),n&&Nt.a.createElement(On.a,{eventKey:"toggle-archived","data-purpose":"toggle-archived",onSelect:e.toggleArchived},e.archivedTime?gettext("Unarchive this course"):gettext("Archive this course")),(r||o||n)&&Nt.a.createElement(On.a,{divider:!0}),Nt.a.createElement(On.a,{eventKey:"instructor-profile",onSelect:this.scrollToInstructor},gettext("Instructor profile")),i&&Nt.a.createElement(On.a,{eventKey:"gift-course",href:e.giftUrl,target:"_blank"},gettext("Gift this course")),Nt.a.createElement(On.a,{eventKey:"support",href:Ma.a.toSupportHome(),target:"_blank"},gettext("Support")),s&&Nt.a.createElement(On.a,{eventKey:"report-abuse","data-purpose":"report-abuse",onSelect:this.props.navbarStore.openReportAbuseModal},Nt.a.createElement(Kt.a,{glyph:"flag"}),Nt.a.createElement("span",{className:"ml5"},gettext("Report abuse"))),a&&Nt.a.createElement(On.a,{divider:!0}),a&&Nt.a.createElement(M_,null),(l||c)&&Nt.a.createElement(On.a,{divider:!0}),l&&Nt.a.createElement(On.a,{eventKey:"unenroll","data-purpose":"unenroll",onSelect:this.props.navbarStore.openUnenrollConfirmModal},gettext("Unenroll from course")),c&&this.refundOptions)}},{key:"refundOptions",get:function(){var e=this.props.courseExperienceStore.course,t=[];if(e.wasPurchased&&!T.a.features.course.students.unenroll){var r=T.a.third_party.zendesk.refund_form_id,o=Ma.a.toSupportContact(r);t.push(Nt.a.createElement(On.a,{key:"request-refund",href:o,target:"_blank",disabled:!e.wasPaid||!e.isInRefundPeriod},gettext("Request a refund")))}return e.wasPaid?e.isInRefundPeriod||t.push(Nt.a.createElement(On.a,{key:"too-late",unclickable:!0,disabled:!0},Nt.a.createElement("span",{className:"navbar--menu-text--1Bq8n"},gettext("This course was purchased outside the 30-day refund policy and cannot be refunded.")))):t.push(Nt.a.createElement(On.a,{key:"free",unclickable:!0,disabled:!0},Nt.a.createElement("span",{className:"navbar--menu-text--1Bq8n"},gettext("This course was a free enrollment and cannot be refunded.")))),t}}]),t}(Nt.a.Component),C_.propTypes={courseExperienceStore:Rt.a.object.isRequired,navbarStore:Rt.a.object.isRequired},k_=__,babelHelpers.applyDecoratedDescriptor(k_.prototype,"scrollToInstructor",[X.a],Object.getOwnPropertyDescriptor(k_.prototype,"scrollToInstructor"),k_.prototype),w_=k_))||w_)||w_),F_=r("./src/udemy/js/share/social-share.mobx-store.js"),U_=(S_=function(){function n(e,t){var r=this;babelHelpers.classCallCheck(this,n),babelHelpers.initializerDefineProperty(this,"activeNavKey",j_,this),babelHelpers.initializerDefineProperty(this,"isShareCourseModalOpen",E_,this),babelHelpers.initializerDefineProperty(this,"isUnenrollConfirmModalOpen",D_,this),babelHelpers.initializerDefineProperty(this,"isReportAbuseModalOpen",x_,this),this.$state=e,this.courseExperienceStore=t,this.setActiveNavKey(this.$state.current.data.tabCode),this.courseExperienceStore.$rootScope.$on("$stateChangeSuccess",function(e,t){t.data&&t.data.tabCode&&r.setActiveNavKey(t.data.tabCode)});var o=Object.assign(this.courseExperienceStore.course,{type:"course",is_private:this.courseExperienceStore.course.isPrivate});this.socialShareStore=new F_.a(o,this.courseExperienceStore.course.url,N_.f.COURSE_TAKING),this.showEmailSettingOptions=!T.a.brand.has_organization||T.a.brand.organization.is_instructor_announcements_enabled}return babelHelpers.createClass(n,[{key:"setActiveNavKey",value:function(e){this.activeNavKey=e}},{key:"openShareCourseModal",value:function(){var e=this;this.socialShareStore.getOrPopulateUrl().then(Object(J.action)(function(){e.isShareCourseModalOpen=!0}))}},{key:"closeShareCourseModal",value:function(){this.isShareCourseModalOpen=!1}},{key:"openUnenrollConfirmModal",value:function(){this.isUnenrollConfirmModalOpen=!0}},{key:"closeUnenrollConfirmModal",value:function(){this.isUnenrollConfirmModalOpen=!1}},{key:"openReportAbuseModal",value:function(){this.isReportAbuseModalOpen=!0}},{key:"closeReportAbuseModal",value:function(){this.isReportAbuseModalOpen=!1}},{key:"unenroll",value:function(){this.closeUnenrollConfirmModal(),this.courseExperienceStore.course.unenroll().then(function(){window.location.href=Ma.a.to("home","my-courses/learning")}).catch(function(){ee.b.Feedback.fromText(ee.b.Feedback.DEFAULT_ERROR_MESSAGE,ee.b.MessageType.error)})}},{key:"goToTab",value:function(e){this.$state.go("base.dashboard.".concat(e))}},{key:"toggleEmailSetting",value:function(e){var t=this,r=!this.courseExperienceStore.course.notificationSettings[e.settingCode];return Cc.c.set(e,r,this.courseExperienceStore.course.id).then(Object(J.action)(function(){t.courseExperienceStore.course.notificationSettings[e.settingCode]=r}))}}]),n}(),j_=babelHelpers.applyDecoratedDescriptor(S_.prototype,"activeNavKey",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E_=babelHelpers.applyDecoratedDescriptor(S_.prototype,"isShareCourseModalOpen",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D_=babelHelpers.applyDecoratedDescriptor(S_.prototype,"isUnenrollConfirmModalOpen",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x_=babelHelpers.applyDecoratedDescriptor(S_.prototype,"isReportAbuseModalOpen",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(S_.prototype,"setActiveNavKey",[J.action],Object.getOwnPropertyDescriptor(S_.prototype,"setActiveNavKey"),S_.prototype),babelHelpers.applyDecoratedDescriptor(S_.prototype,"openShareCourseModal",[X.a,J.action],Object.getOwnPropertyDescriptor(S_.prototype,"openShareCourseModal"),S_.prototype),babelHelpers.applyDecoratedDescriptor(S_.prototype,"closeShareCourseModal",[X.a,J.action],Object.getOwnPropertyDescriptor(S_.prototype,"closeShareCourseModal"),S_.prototype),babelHelpers.applyDecoratedDescriptor(S_.prototype,"openUnenrollConfirmModal",[X.a,J.action],Object.getOwnPropertyDescriptor(S_.prototype,"openUnenrollConfirmModal"),S_.prototype),babelHelpers.applyDecoratedDescriptor(S_.prototype,"closeUnenrollConfirmModal",[X.a,J.action],Object.getOwnPropertyDescriptor(S_.prototype,"closeUnenrollConfirmModal"),S_.prototype),babelHelpers.applyDecoratedDescriptor(S_.prototype,"openReportAbuseModal",[X.a,J.action],Object.getOwnPropertyDescriptor(S_.prototype,"openReportAbuseModal"),S_.prototype),babelHelpers.applyDecoratedDescriptor(S_.prototype,"closeReportAbuseModal",[X.a,J.action],Object.getOwnPropertyDescriptor(S_.prototype,"closeReportAbuseModal"),S_.prototype),babelHelpers.applyDecoratedDescriptor(S_.prototype,"unenroll",[X.a],Object.getOwnPropertyDescriptor(S_.prototype,"unenroll"),S_.prototype),S_),B_=Object(At.d)((H_=P_=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).navbarStore=new U_(e.$state,e.courseExperienceStore),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"handleSelect",value:function(e){this.navbarStore.goToTab(e),P.a.track(x.d.COURSE_TAKING,x.a.DASHBOARD,Iw.VISIT_TAB,null,null,{tab:e})}},{key:"render",value:function(){var e=gettext("By selecting this option, you will be permanently removed from\n                                             the course and will no longer have access to its contents. Are you sure?");return Nt.a.createElement(At.b,{courseExperienceStore:this.props.courseExperienceStore,navbarStore:this.navbarStore},Nt.a.createElement("div",{className:"navbar--navbar--hIJRv"},Nt.a.createElement("div",{className:"container"},Nt.a.createElement(A_.a,{inputId:"course-experience-navbar",title:Aw[this.navbarStore.activeNavKey].title},Nt.a.createElement(ei.default,{bsStyle:"tabs",activeKey:this.navbarStore.activeNavKey,"data-purpose":"course-experience-navbar",onSelect:this.handleSelect},Object.entries(Aw).map(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1];return Nt.a.createElement(Zn.default,{key:r,eventKey:r,"data-purpose":"".concat(r,"-tab")},o.title)}),!this.props.courseExperienceStore.userIsInstructor&&Nt.a.createElement(L_,null)))),!this.props.courseExperienceStore.userIsInstructor&&[Nt.a.createElement(qi.a,{key:"confirm-modal",body:e,onCancel:this.navbarStore.closeUnenrollConfirmModal,onConfirm:this.navbarStore.unenroll,show:this.navbarStore.isUnenrollConfirmModalOpen}),Nt.a.createElement(I_.a,{key:"share-course-modal",onHide:this.navbarStore.closeShareCourseModal,show:this.navbarStore.isShareCourseModalOpen,store:this.navbarStore.socialShareStore}),Nt.a.createElement(Tn.a,{key:"report-abuse-modal",className:"hidden",objectType:"course",objectId:this.props.courseExperienceStore.course.id,show:this.navbarStore.isReportAbuseModalOpen,onHide:this.navbarStore.closeReportAbuseModal})]))}}]),r}(Nt.a.Component),P_.propTypes={$state:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired},T_=H_,babelHelpers.applyDecoratedDescriptor(T_.prototype,"handleSelect",[X.a,J.action],Object.getOwnPropertyDescriptor(T_.prototype,"handleSelect"),T_.prototype),O_=T_))||O_,V_=d.a.module("course-taking-v4/dashboard/navbar/navbar.ng-directive",["ui.router",a.a.name,mt.name]).directive("navbar",$_);function $_(e,t,r){return e(B_,void 0,{},{$state:t,courseExperienceStore:r})}$_.$inject=["reactDirective","$state","CourseExperienceService"];var Q_=d.a.module("course-taking-v4/question-answer/question-answer.ng-service",[mt.name]).service("QuestionAnswerService",W_);function W_(e,t){return new Qa(t,e.canMarkTopAnswer)}W_.$inject=["$rootScope","CourseExperienceService"];var G_=r("./src/udemy/js/base-components/col.react-component.js"),Y_=r("./src/udemy/js/base-components/row.react-component.js"),K_=r("./src/udemy/js/base-components/view-more/view-more-max-height-container.react-component.js"),X_=r("./src/udemy/js/course-landing-components/components/trusted-html/trusted-html.react-component.js"),J_=r("./src/udemy/js/utils/branch-metrics.js"),Z_=(r("./src/udemy/js/course-taking-v4/dashboard/overview/instructor-profile.less"),function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.instructor;return Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement("div",{className:"instructor-profile--header-row--BpzJW"},Nt.a.createElement(Sr.b,{user:e,size:64,src:e.image}),Nt.a.createElement("div",{className:"instructor-profile--title-wrapper--1LxxY"},Nt.a.createElement("div",{className:"instructor-profile--title--3UNk2"},Nt.a.createElement("a",{href:e.url,"data-purpose":"instructor-url"},e.title)),Nt.a.createElement("p",null,e.jobTitle))),Nt.a.createElement("div",{className:"instructor-profile--social-links-row--1MQ1x"},e.socialProfiles.map(function(e){return Nt.a.createElement("a",{href:e.url,key:e.name,className:"instructor-profile--social-profile-btn--17zUe",target:"_blank",rel:"noopener noreferrer nofollow"},Nt.a.createElement(Kt.a,{glyph:e.iconType,"aria-label":e.name}))})),Nt.a.createElement("div",{className:"instructor-profile--description--3UhH7"},Nt.a.createElement(X_.a,{content:e.description})))}}]),t}(qt.Component));Z_.propTypes={instructor:Rt.a.instanceOf(He).isRequired};r("./src/udemy/js/course-taking-v4/dashboard/overview/recent-announcements.less");var eS,tS,rS,oS,nS,iS,sS,aS,lS,cS,uS,pS,dS,hS,mS,bS,yS,fS=(rS=tS=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onAnnouncementClicked",value:function(){this.props.announcementsStore.setSelectedAnnouncementId(this.props.announcement.id)}},{key:"render",value:function(){var e=this.props.announcement,t=ee.b.trimTags(e.title||e.content);return Nt.a.createElement("div",{className:"recent-announcements--recent-announcement--3ynsl",key:e.id},Nt.a.createElement(Sr.b,{user:e.instructor}),Nt.a.createElement(Ya.a,{to:"base.dashboard.announcements",params:{id:e.id},className:"recent-announcements--announcement-link--2151f",onClick:this.onAnnouncementClicked},t))}}]),t}(Nt.a.Component),tS.propTypes={announcement:Rt.a.object.isRequired,announcementsStore:Rt.a.object.isRequired},eS=rS,babelHelpers.applyDecoratedDescriptor(eS.prototype,"onAnnouncementClicked",[X.a],Object.getOwnPropertyDescriptor(eS.prototype,"onAnnouncementClicked"),eS.prototype),eS),gS=Object(At.c)(function(e){return{announcementsStore:e.courseExperienceStore.announcementsStore,$state:e.$state}})(oS=Object(At.d)((sS=iS=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.announcementsStore.loadAnnouncementsIfNeeded()}},{key:"onBrowseAllAnnouncementsClicked",value:function(){this.props.$state.go("base.dashboard.announcements")}},{key:"renderLoading",value:function(){return Nt.a.createElement("div",{className:"recent-announcements--loading-recent-announcements--wq226"},Nt.a.createElement(Xt.a,{block:!0,size:"medium"}))}},{key:"renderZeroDataMsg",value:function(){return Nt.a.createElement("div",{className:"recent-announcements--no-recent-announcements--w0MsD"},Nt.a.createElement("h2",null,gettext("No recent announcements")),Nt.a.createElement("p",null,gettext("Your instructor may post announcements related to the course topic or to inform you of updates.")))}},{key:"renderAnnouncements",value:function(){var t=this,e=this.props.announcementsStore.announcements;return e.length?e.slice(0,3).map(function(e){return Nt.a.createElement(fS,{key:e.id,announcement:e,announcementsStore:t.props.announcementsStore})}):this.renderZeroDataMsg()}},{key:"render",value:function(){var e=this.props.announcementsStore,t=e.announcements,r=e.hasLoaded;return Nt.a.createElement(Jt.a,{header:gettext("Recent instructor announcements"),footer:Nt.a.createElement(tr.default,{bsStyle:"link",disabled:!t.length,onClick:this.onBrowseAllAnnouncementsClicked},gettext("Browse all announcements")),"data-purpose":"recent-announcements-panel",className:"recent-announcements--recent-announcements--12WfZ"},r?this.renderAnnouncements():this.renderLoading())}}]),t}(Nt.a.Component),iS.propTypes={announcementsStore:Rt.a.shape({loadAnnouncementsIfNeeded:Rt.a.func,announcements:At.a.arrayOrObservableArrayOf(Rt.a.instanceOf(et)),hasLoaded:Rt.a.bool}).isRequired,$state:Rt.a.object.isRequired},nS=sS,babelHelpers.applyDecoratedDescriptor(nS.prototype,"onBrowseAllAnnouncementsClicked",[X.a],Object.getOwnPropertyDescriptor(nS.prototype,"onBrowseAllAnnouncementsClicked"),nS.prototype),oS=nS))||oS)||oS,vS=(r("./src/udemy/js/course-taking-v4/dashboard/overview/recent-questions.less"),function(e){var t=ee.b.trimTags(ee.b.replaceImgTag(e.title||e.body));return Nt.a.createElement("div",{className:"recent-questions--recent-question--2Zo43",key:e.id},Nt.a.createElement(Sr.b,{user:{id:e.user.id,display_name:e.user.displayName,image_50x50:e.user.image,initials:e.user.initials}}),Nt.a.createElement(Ya.a,{to:"base.dashboard.questions",params:{id:e.id},className:"recent-questions--question-link--1ChIJ"},t))}),wS=Object(At.c)("questionAnswerStore","$state")(aS=Object(At.d)((uS=cS=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.questionAnswerStore.loadQuestions()}},{key:"onBrowseAllQuestionsClicked",value:function(){this.props.$state.go("base.dashboard.questions")}},{key:"render",value:function(){return Nt.a.createElement(Jt.a,{header:gettext("Recent questions"),footer:Nt.a.createElement(tr.default,{bsStyle:"link",onClick:this.onBrowseAllQuestionsClicked},this.questions.length?gettext("Browse all questions"):gettext("Post your first question")),"data-purpose":"recent-questions-panel",className:"recent-questions--recent-questions--3wqG4"},this.questions)}},{key:"questions",get:function(){return this.props.questionAnswerStore.isLoading?Nt.a.createElement("div",{className:"recent-questions--loading-recent-questions--1Y3R0"},Nt.a.createElement(Xt.a,{block:!0,size:"medium"})):this.props.questionAnswerStore.questions.length?this.props.questionAnswerStore.questions.slice(0,3).map(vS):Nt.a.createElement("div",{className:"recent-questions--no-recent-questions--1Wpn5"},Nt.a.createElement("h2",null,gettext("No recent questions")),Nt.a.createElement("p",null,gettext("You can ask questions throughout the course to get answers from the instructor or other students.")))}}]),t}(Nt.a.Component),cS.propTypes={questionAnswerStore:Rt.a.object.isRequired,$state:Rt.a.object.isRequired},lS=uS,babelHelpers.applyDecoratedDescriptor(lS.prototype,"onBrowseAllQuestionsClicked",[X.a],Object.getOwnPropertyDescriptor(lS.prototype,"onBrowseAllQuestionsClicked"),lS.prototype),aS=lS))||aS)||aS,kS=(r("./src/udemy/js/course-taking-v4/dashboard/overview/course-overview.less"),function(e,t){return e.items?Nt.a.createElement(Nt.a.Fragment,{key:t},Nt.a.createElement("h4",null,e.label),Nt.a.createElement("ul",null,e.items.map(function(e,t){return Nt.a.createElement("li",{key:t},e)}))):null}),CS=function(e,t){return Nt.a.createElement("div",{key:t},"".concat(e.label,": ").concat(e.value))},_S=Object(At.d)((yS=bS=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"iosAppStoreLink",hS,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"androidAppStoreLink",mS,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){var t=this;J_.a.createiOSLinkWithDesktop({data:{courseId:this.course.id}}).then(Object(J.action)(function(e){t.iosAppStoreLink=e})),J_.a.createAndroidLinkWithDesktop({data:{courseId:this.course.id}}).then(Object(J.action)(function(e){t.androidAppStoreLink=e}))}},{key:"renderRecentActivityRow",value:function(){return Nt.a.createElement(Nt.a.Fragment,null,Nt.a.createElement(Y_.a,null,Nt.a.createElement("h3",{"data-purpose":"recent-activity-header"},gettext("Recent activity"))),Nt.a.createElement(Y_.a,null,Nt.a.createElement(G_.a,{xs:5},Nt.a.createElement(wS,null)),Nt.a.createElement(G_.a,{xs:5},Nt.a.createElement(gS,null))))}},{key:"renderSubHeading",value:function(){return Nt.a.createElement(Y_.a,{className:"course-overview--top-separator--20iN7","data-purpose":"course-headline"},Nt.a.createElement("h3",null,gettext("About this course")),Nt.a.createElement("p",null,this.course.headline))}},{key:"renderCourseStats",value:function(){return Nt.a.createElement(Y_.a,{className:"course-overview--top-separator--20iN7"},Nt.a.createElement(G_.a,{xs:3},gettext("By the numbers")),Nt.a.createElement(G_.a,{xs:4,"data-purpose":"course-main-stats"},this.commonCourseInfo.map(CS)),Nt.a.createElement(G_.a,{xs:4,"data-purpose":"course-additional-stats"},!this.course.isPracticeTestCourse&&this.additionalCourseInfo.map(CS)))}},{key:"renderCourseFeatures",value:function(){var e=this.props.courseExperienceStore.numPublishedCodingExercises;return Nt.a.createElement(Y_.a,{className:"course-overview--top-separator--20iN7","data-purpose":"course-features"},Nt.a.createElement(G_.a,{xs:3},gettext("Features")),Nt.a.createElement(G_.a,{xs:4},this.courseTakingFeatures.lifetimeAccess&&Nt.a.createElement("div",null,gettext("Lifetime access")),this.courseTakingFeatures.canShowAppStoreLink&&Nt.a.createElement(qf.a,{dangerouslySetInnerHTML:{__html:gettext('Available on <a class="iosLink">iOS</a> and <a class="androidAppStoreLink">Android</a>')},interpolate:{iosLink:Nt.a.createElement("a",{href:this.iosAppStoreLink,target:"_blank",rel:"noopener noreferrer"}),androidAppStoreLink:Nt.a.createElement("a",{href:this.androidAppStoreLink,target:"_blank",rel:"noopener noreferrer"})}})),Nt.a.createElement(G_.a,{xs:4},!!e&&Nt.a.createElement("div",null,gettext("Coding Exercises")),this.courseTakingFeatures.canProvideCertificate&&Nt.a.createElement("div",null,gettext("Certificate of Completion"))))}},{key:"renderDescription",value:function(){return Nt.a.createElement(Y_.a,{className:"course-overview--top-separator--20iN7"},Nt.a.createElement(G_.a,{xs:3},gettext("Description")),Nt.a.createElement(G_.a,{xs:9,className:"course-overview--description-section--xAGjj","data-purpose":"course-description"},Nt.a.createElement(K_.a,{collapsedHeight:300,gradientStyling:"course-taking"},Nt.a.createElement(X_.a,{content:this.course.description}),this.descriptionSets.map(kS))))}},{key:"renderCourseInstructors",value:function(){return this.course.visibleInstructors.map(function(e){return Nt.a.createElement(Y_.a,{className:"course-overview--top-separator--20iN7",key:e.id},Nt.a.createElement(G_.a,{xs:3},gettext("Instructor")),Nt.a.createElement(G_.a,{xs:9},Nt.a.createElement(Z_,{instructor:e})))})}},{key:"render",value:function(){return Nt.a.createElement(At.b,this.props,Nt.a.createElement(mf.default,{className:"course-overview--dashboard-overview--1TW1f"},this.renderRecentActivityRow(),this.renderSubHeading(),this.renderCourseStats(),this.renderCourseFeatures(),this.renderDescription(),this.renderCourseInstructors()))}},{key:"course",get:function(){return this.props.courseExperienceStore.course}},{key:"commonCourseInfo",get:function(){return[{label:gettext("Skill level"),value:this.course.instructionalLevel},{label:gettext("Students"),value:this.course.numSubscribers},{label:gettext("Languages"),value:gettext(this.course.locale.simple_english_title)},{label:gettext("Captions"),value:this.course.hasClosedCaptions?gettext("Yes"):gettext("No")}]}},{key:"additionalCourseInfo",get:function(){var e=this.props.courseExperienceStore,t=e.numPublishedPracticeTests,r=e.numPublishedLectures;return[{label:gettext("Practice tests"),value:t},{label:gettext("Questions"),value:this.course.numPracticeTestQuestions},{label:gettext("Lectures"),value:r},{label:gettext("Video"),value:this.course.contentLengthText}].filter(function(e){return e.value})}},{key:"courseTakingFeatures",get:function(){return{lifetimeAccess:this.course.features.course_landing_page&&this.course.features.course_landing_page.incentives.lifetime_access,canProvideCertificate:this.course.hasCertificate&&!this.course.isPracticeTestCourse,canShowAppStoreLink:!this.course.isPracticeTestCourse&&this.iosAppStoreLink&&this.androidAppStoreLink}}},{key:"descriptionSets",get:function(){return[{label:gettext("What you’ll learn"),items:this.course.objectives},{label:gettext("Are there any course requirements or prerequisites?"),items:this.course.prerequisites},{label:gettext("Who this course is for:"),items:this.course.targetAudiences}]}}]),i}(qt.Component),bS.propTypes={courseExperienceStore:Rt.a.shape({course:Rt.a.object,numPublishedLectures:Rt.a.number,numPublishedPracticeTests:Rt.a.number,numPublishedCodingExercises:Rt.a.number}).isRequired,questionAnswerStore:Rt.a.object.isRequired},dS=yS,hS=babelHelpers.applyDecoratedDescriptor(dS.prototype,"iosAppStoreLink",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mS=babelHelpers.applyDecoratedDescriptor(dS.prototype,"androidAppStoreLink",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pS=dS))||pS,SS=d.a.module("course-taking-v4/dashboard/overview/course-overview.ng-directive",[a.a.name,mt.name,Q_.name]).directive("courseOverview",jS);function jS(e,t,r,o){return e(_S,void 0,{},{courseExperienceStore:t,questionAnswerStore:r,$state:o})}jS.$inject=["reactDirective","CourseExperienceService","QuestionAnswerService","$state"];r("./src/udemy/js/course-taking-v4/dashboard/question-details.less");var ES,DS,xS,OS,TS,PS,HS,AS,IS,RS,qS,NS,zS,MS,LS,FS,US=Object(At.c)("courseExperienceStore","questionAnswerStore")(ES=Object(At.d)((TS=OS=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"hasLoadingError",xS,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){this.fetchQuestion()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.questionId!==e.match.params.questionId&&this.fetchQuestion()}},{key:"fetchQuestion",value:function(){var e=this;this.hasLoadingError=!1;var t=parseInt(this.props.match.params.questionId,10);return this.props.questionAnswerStore.loadQuestion(t).then(function(){e.props.questionAnswerStore.selectQuestion(t)}).catch(Object(J.action)(function(){e.hasLoadingError=!0}))}},{key:"goToOverview",value:function(){this.props.courseExperienceStore.$state.transitionTo("base.dashboard.questions")}},{key:"render",value:function(){return Nt.a.createElement("div",null,Nt.a.createElement("a",{onClick:this.goToOverview,onKeyPress:Object(No.b)(this.goToOverview),role:"link",tabIndex:"0",className:"question-details--back-link--lT5VV","data-purpose":"back-link"},gettext("Back to All Questions")),this.loadingSpinner,this.errorMessage,this.questionDetails)}},{key:"loadingSpinner",get:function(){return this.hasLoadingError||!this.props.questionAnswerStore.isLoading?null:Nt.a.createElement(Xt.a,{block:!0,size:"large"})}},{key:"errorMessage",get:function(){return this.hasLoadingError?Nt.a.createElement("span",{"data-purpose":"error-message"},gettext("Sorry! This question failed to load.")):null}},{key:"questionDetails",get:function(){return this.props.questionAnswerStore.activeQuestion?Nt.a.createElement("div",{className:"question-details--details--2Lyxr"},Nt.a.createElement(jl,{onDelete:this.goToOverview})):null}}]),i}(Nt.a.Component),OS.propTypes={match:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,questionAnswerStore:Rt.a.object.isRequired},DS=TS,babelHelpers.applyDecoratedDescriptor(DS.prototype,"fetchQuestion",[J.action],Object.getOwnPropertyDescriptor(DS.prototype,"fetchQuestion"),DS.prototype),xS=babelHelpers.applyDecoratedDescriptor(DS.prototype,"hasLoadingError",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(DS.prototype,"goToOverview",[X.a],Object.getOwnPropertyDescriptor(DS.prototype,"goToOverview"),DS.prototype),ES=DS))||ES)||ES,BS=r("./src/udemy/js/course-taking-v4/dashboard/question-overview.less"),VS=r.n(BS),$S=Object(At.c)("courseExperienceStore","questionAnswerStore")(PS=Object(At.d)((RS=IS=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"isNewQuestionFormVisible",AS,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){this.props.questionAnswerStore.loadQuestions()}},{key:"showNewQuestionForm",value:function(){this.isNewQuestionFormVisible=!0}},{key:"hideNewQuestionForm",value:function(){this.isNewQuestionFormVisible=!1}},{key:"goToQuestion",value:function(e){this.props.courseExperienceStore.$state.transitionTo("base.dashboard.questions",{id:e.id})}},{key:"onSearchQueryChange",value:function(e){this.props.questionAnswerStore.setSearchQuery(e.target.value)}},{key:"sort",value:function(e){this.props.questionAnswerStore.setSorting(e.target.value)}},{key:"toggleFollowingFilter",value:function(){var e=this.props.questionAnswerStore;e.setFollowedFilter(!e.filterFollowed)}},{key:"toggleResponsesFilter",value:function(){var e=this.props.questionAnswerStore;e.setNoAnswersFilter(!e.filterNoAnswers)}},{key:"render",value:function(){if(this.isNewQuestionFormVisible)return Nt.a.createElement("div",{className:"question-overview--wrapper--2yUqR"},Nt.a.createElement(Va,{editorTheme:Aa.n.Q_AND_A,onClose:this.hideNewQuestionForm}));var e=this.props.questionAnswerStore;return Nt.a.createElement("div",{className:"question-overview--wrapper--2yUqR"},Nt.a.createElement(Ql,null),Nt.a.createElement("div",{className:"question-overview--search-bar--3yFsJ"},Nt.a.createElement(Ga.a,{className:"question-overview--search--3TyVh"},Nt.a.createElement(Wa.a,{srOnly:!0},gettext("Search for a question")),Nt.a.createElement(vr.a,{type:"text",value:e.searchQuery,onChange:this.onSearchQueryChange,placeholder:gettext("Search for a question"),"data-purpose":"question-search-box"})),Nt.a.createElement("span",{className:"question-overview--or--WmGRo"},gettext("or")),Nt.a.createElement(tr.default,{onClick:this.showNewQuestionForm,bsStyle:"primary","data-purpose":"ask-new-question-button"},Nt.a.createElement("span",{className:"question-overview--ask-label--long--r16vP"},gettext("Ask a new question")),Nt.a.createElement("span",{className:"question-overview--ask-label--short--1eqjx"},gettext("Ask")))),Nt.a.createElement("div",{className:"question-overview--sort-and-filter--DAEYZ"},Nt.a.createElement(Ga.a,{className:"question-overview--sort--3l41D"},Nt.a.createElement(Wa.a,{srOnly:!0},gettext("Sort questions")),Nt.a.createElement(vr.a,{componentClass:"select",value:e.sorting,onChange:this.sort,"data-purpose":"set-sort"},Nt.a.createElement("option",{value:Na.POPULARITY},gettext("Sort by popular")),Nt.a.createElement("option",{value:Na.RECENCY},gettext("Sort by recency")))),Nt.a.createElement("div",{className:"question-overview--filters--1pAEF"},Nt.a.createElement(Ni.a,{inline:!0,checked:e.filterFollowed,onChange:this.toggleFollowingFilter,"data-purpose":"toggle-following"},gettext("See questions I'm following")),Nt.a.createElement(Ni.a,{inline:!0,checked:e.filterNoAnswers,onChange:this.toggleResponsesFilter,"data-purpose":"toggle-unanswered"},gettext("See questions without responses")))),Nt.a.createElement(Zl,{showResponses:!0,onSelect:this.goToQuestion,listClass:VS.a["question-list"],questionClass:VS.a.question,questionContentClassName:VS.a["question-content"]}))}}]),i}(Nt.a.Component),IS.propTypes={courseExperienceStore:Rt.a.object.isRequired,questionAnswerStore:Rt.a.object.isRequired},HS=RS,AS=babelHelpers.applyDecoratedDescriptor(HS.prototype,"isNewQuestionFormVisible",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(HS.prototype,"showNewQuestionForm",[X.a,J.action],Object.getOwnPropertyDescriptor(HS.prototype,"showNewQuestionForm"),HS.prototype),babelHelpers.applyDecoratedDescriptor(HS.prototype,"hideNewQuestionForm",[X.a,J.action],Object.getOwnPropertyDescriptor(HS.prototype,"hideNewQuestionForm"),HS.prototype),babelHelpers.applyDecoratedDescriptor(HS.prototype,"goToQuestion",[X.a],Object.getOwnPropertyDescriptor(HS.prototype,"goToQuestion"),HS.prototype),babelHelpers.applyDecoratedDescriptor(HS.prototype,"onSearchQueryChange",[X.a],Object.getOwnPropertyDescriptor(HS.prototype,"onSearchQueryChange"),HS.prototype),babelHelpers.applyDecoratedDescriptor(HS.prototype,"sort",[X.a],Object.getOwnPropertyDescriptor(HS.prototype,"sort"),HS.prototype),babelHelpers.applyDecoratedDescriptor(HS.prototype,"toggleFollowingFilter",[X.a],Object.getOwnPropertyDescriptor(HS.prototype,"toggleFollowingFilter"),HS.prototype),babelHelpers.applyDecoratedDescriptor(HS.prototype,"toggleResponsesFilter",[X.a],Object.getOwnPropertyDescriptor(HS.prototype,"toggleResponsesFilter"),HS.prototype),PS=HS))||PS)||PS,QS=(qS=J.observable.ref,Object(At.d)((FS=LS=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"reactRouterLocation",MS,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.questionAnswerStore=new Qa(e.courseExperienceStore,e.userCanMarkTopAnswer,"dashboard.tab."),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentWillUnmount",value:function(){this.unlisten&&this.unlisten()}},{key:"setReactRouterLocation",value:function(e){this.reactRouterLocation=e}},{key:"setupLocationChangeListener",value:function(e){e&&(this.unlisten=e.history.listen(this.setReactRouterLocation))}},{key:"render",value:function(){var e=this.props.$state,t=document.getElementsByTagName("base")[0].href.replace(/\/$/,""),r={pathname:e.href(e.current.name,e.params,{absolute:!0}).replace(t,"")},o=this.reactRouterLocation||r;return this.questionAnswerStore.areQuestionsDisabled?Nt.a.createElement(El,{courseExperienceStore:this.props.courseExperienceStore}):Nt.a.createElement(Yt.a,{ref:this.setupLocationChangeListener},Nt.a.createElement(At.b,{courseExperienceStore:this.props.courseExperienceStore,questionAnswerStore:this.questionAnswerStore,AnimatedStateChangeService:this.props.AnimatedStateChangeService},Nt.a.createElement(Qt.a,{location:o},Nt.a.createElement(Wt.a,{exact:!0,path:"/questions/",component:$S}),Nt.a.createElement(Wt.a,{exact:!0,path:"/questions/:questionId(\\d+)",component:US}),Nt.a.createElement(Gt.a,{to:"/questions/"}))))}}]),r}(Nt.a.Component),LS.propTypes={$state:Rt.a.object.isRequired,AnimatedStateChangeService:Rt.a.object.isRequired,courseExperienceStore:Rt.a.object.isRequired,userCanMarkTopAnswer:Rt.a.bool.isRequired},zS=FS,MS=babelHelpers.applyDecoratedDescriptor(zS.prototype,"reactRouterLocation",[qS],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),babelHelpers.applyDecoratedDescriptor(zS.prototype,"setReactRouterLocation",[X.a,J.action],Object.getOwnPropertyDescriptor(zS.prototype,"setReactRouterLocation"),zS.prototype),babelHelpers.applyDecoratedDescriptor(zS.prototype,"setupLocationChangeListener",[X.a,J.action],Object.getOwnPropertyDescriptor(zS.prototype,"setupLocationChangeListener"),zS.prototype),NS=zS))||NS),WS=d.a.module("course-taking-v4/dashboard/questions.ng-directive",["ui.router",a.a.name,mt.name,G.a.name]).directive("questions",GS);function GS(e,t,r,o,n){return e(QS,void 0,{},{courseExperienceStore:r,userCanMarkTopAnswer:t.canMarkTopAnswer,$state:o,AnimatedStateChangeService:n})}GS.$inject=["reactDirective","$rootScope","CourseExperienceService","$state","AnimatedStateChangeService"];var YS,KS,XS,JS,ZS,ej,tj,rj,oj=r("./src/udemy/js/survey/survey-question.react-component.js"),nj=(r("./src/udemy/js/course-taking-v4/dashboard/student-survey/survey-dialog.less"),function(){function t(e){babelHelpers.classCallCheck(this,t),this.store=e}return babelHelpers.createClass(t,[{key:"isValid",value:function(){return!this.answerRequired||this.store.isQuestionAnswered(this.questionCode)}},{key:"nextButtonText",value:function(){return gettext("Next")}},{key:"renderSurveyQuestion",value:function(){var e=this.store.questions[this.questionCode];return Nt.a.createElement(oj.a,{"data-purpose":"question-".concat(this.questionCode),key:e.id,question:e,survey:this.store.survey})}}]),t}()),ij={pages:[function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).name="welcome",t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"body",value:function(e){return Nt.a.createElement("div",{"data-purpose":"welcome-page-body"},Nt.a.createElement("h2",null,interpolate(gettext("Welcome to %(course_title)s"),{course_title:e.course.title},!0)),Nt.a.createElement("p",null,gettext("Please answer a couple quick questions to help us improve recommendations for you and other students.")))}},{key:"nextAction",value:function(){this.store.setPageName("question1")}}]),i}(nj),function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).index=1,t.name="question1",t.questionCode="topic-familiarity",t.answerRequired=!0,t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"body",value:function(){return Nt.a.createElement("div",{className:"survey-dialog--survey-question__big--3gu4S"},this.renderSurveyQuestion())}},{key:"nextAction",value:function(){this.store.saveSurvey(),this.store.setPageName("question2")}}]),i}(nj),function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).index=2,t.name="question2",t.questionCode="personal-or-professional",t.answerRequired=!0,t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"body",value:function(){return Nt.a.createElement("div",{className:"survey-dialog--survey-question__big--3gu4S"},this.renderSurveyQuestion())}},{key:"nextButtonText",value:function(){return gettext("Next")}},{key:"nextAction",value:function(){this.store.saveSurvey();var e=this.store.questions[this.questionCode].answer_options.find(function(e){return"personal"===e.text_code});this.store.getAnswer(this.questionCode)===e.id?this.store.setPageName("learning-goals-personal"):this.store.setPageName("learning-goals-professional")}}]),i}(nj),function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).index=3,t.name="learning-goals-personal",t.questionCode="learning-goals-personal",t.answerRequired=!0,t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"body",value:function(){return this.renderSurveyQuestion()}},{key:"nextButtonText",value:function(){return gettext("Next")}},{key:"nextAction",value:function(){this.store.saveSurvey(),this.store.setPageName("how-will-you-use")}}]),i}(nj),function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).index=3,t.name="learning-goals-professional",t.questionCode="learning-goals-professional",t.answerRequired=!0,t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"body",value:function(){return this.renderSurveyQuestion()}},{key:"nextButtonText",value:function(){return gettext("Next")}},{key:"nextAction",value:function(){this.store.saveSurvey(),this.store.setPageName("how-will-you-use")}}]),i}(nj),function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).index=4,t.name="how-will-you-use",t.questionCode="how-will-you-use",t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"body",value:function(){return this.renderSurveyQuestion()}},{key:"nextButtonText",value:function(){return gettext("Finish")}},{key:"nextAction",value:function(){this.store.saveSurvey(),this.store.setPageName("thank-you")}}]),i}(nj),function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).name="thank-you",t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"body",value:function(){return Nt.a.createElement("div",{"data-purpose":"thank-you-page-body"},Nt.a.createElement("h2",null,gettext("Great! Thanks for your feedback.")))}},{key:"nextButtonText",value:function(){return gettext("Go to course")}},{key:"nextAction",value:function(){this.store.setSurveyComplete(!0)}}]),i}(nj)],startingPage:"welcome",totalPages:4},sj=r("./src/udemy/js/survey/survey.mobx-store.js"),aj=(YS=function(){function e(){babelHelpers.classCallCheck(this,e),babelHelpers.initializerDefineProperty(this,"pageName",KS,this),babelHelpers.initializerDefineProperty(this,"isSurveyComplete",XS,this),babelHelpers.initializerDefineProperty(this,"isSurveyAvailable",JS,this),this.onSurveyCompleted=null,this.questions={}}return babelHelpers.createClass(e,[{key:"initializeSurvey",value:function(e){var t=this;this.survey=e,this.survey.setUserAnswers({}),this.isSurveyAvailable=!0,this.survey.questionSets[0].questions.forEach(function(e){t.questions[e.text_code]=e})}},{key:"setPageName",value:function(e){this.pageName=e}},{key:"setSurveyComplete",value:function(e){(this.isSurveyComplete=e)&&this.onSurveyCompleted&&this.onSurveyCompleted()}},{key:"getAnswer",value:function(e){var t=this.questions[e];return this.survey.userAnswers[t.id]}},{key:"isQuestionAnswered",value:function(e){return!!this.getAnswer(e)}},{key:"loadSurvey",value:function(e,t){var r=this,o=new sj.a(e,t);return o.getSurvey().then(function(){r.initializeSurvey(o)})}},{key:"saveSurvey",value:function(){this.survey.saveUserAnswers()}}]),e}(),KS=babelHelpers.applyDecoratedDescriptor(YS.prototype,"pageName",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),XS=babelHelpers.applyDecoratedDescriptor(YS.prototype,"isSurveyComplete",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),JS=babelHelpers.applyDecoratedDescriptor(YS.prototype,"isSurveyAvailable",[J.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(YS.prototype,"initializeSurvey",[J.action],Object.getOwnPropertyDescriptor(YS.prototype,"initializeSurvey"),YS.prototype),babelHelpers.applyDecoratedDescriptor(YS.prototype,"setPageName",[J.action],Object.getOwnPropertyDescriptor(YS.prototype,"setPageName"),YS.prototype),babelHelpers.applyDecoratedDescriptor(YS.prototype,"setSurveyComplete",[J.action],Object.getOwnPropertyDescriptor(YS.prototype,"setSurveyComplete"),YS.prototype),babelHelpers.applyDecoratedDescriptor(YS.prototype,"loadSurvey",[J.action],Object.getOwnPropertyDescriptor(YS.prototype,"loadSurvey"),YS.prototype),babelHelpers.applyDecoratedDescriptor(YS.prototype,"saveSurvey",[J.action],Object.getOwnPropertyDescriptor(YS.prototype,"saveSurvey"),YS.prototype),YS),lj=Object(At.d)((rj=tj=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e))).pages={},ij.pages.forEach(function(e){var t=new e(r.props.store);r.pages[t.name]=t}),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.props.store.loadSurvey("student-contextual-survey-v2",this.props.course.id)}},{key:"nextClicked",value:function(){this.currentPage.nextAction()}},{key:"dialogClosed",value:function(){this.props.store.setSurveyComplete(!0)}},{key:"render",value:function(){if(this.props.store.isSurveyComplete||!this.props.store.isSurveyAvailable)return null;var e=null;return this.currentPage.index&&(e=Nt.a.createElement("span",{"data-purpose":"page-indicator",className:"a11 mr20"},interpolate(gettext("%(current_page)s of %(total_page)s"),{current_page:this.currentPage.index,total_page:ij.totalPages},!0))),Nt.a.createElement(My.a,{show:!0,onHide:this.dialogClosed,className:"survey-dialog--survey-dialog--2ycaC"},Nt.a.createElement(My.a.Header,{closeButton:!0},Nt.a.createElement(My.a.Title,null,gettext("Getting Started"))),Nt.a.createElement(My.a.Body,null,this.currentPage.body(this.pageContext)),Nt.a.createElement(My.a.Footer,null,e,Nt.a.createElement(tr.default,{"data-purpose":"next-button",bsStyle:"secondary",disabled:!this.currentPage.isValid(),onClick:this.nextClicked},this.currentPage.nextButtonText())))}},{key:"currentPage",get:function(){return this.pages[this.props.store.pageName]}},{key:"pageContext",get:function(){return{course:this.props.course}}}]),t}(qt.Component),tj.propTypes={course:Rt.a.object.isRequired,store:Rt.a.object.isRequired},ej=rj,babelHelpers.applyDecoratedDescriptor(ej.prototype,"nextClicked",[X.a],Object.getOwnPropertyDescriptor(ej.prototype,"nextClicked"),ej.prototype),babelHelpers.applyDecoratedDescriptor(ej.prototype,"dialogClosed",[X.a],Object.getOwnPropertyDescriptor(ej.prototype,"dialogClosed"),ej.prototype),ZS=ej))||ZS,cj=d.a.module("course-taking-v4/dashboard/student-survey/survey-dialog.ng-directive",[a.a.name]).directive("surveyDialog",["reactDirective",function(e){return e(lj)}]);var uj=d.a.module("course-taking-v4/dashboard/dashboard.ng-controller",["mobx-angularjs",eh.a.name,"ui.router",a.a.name,E.a.name,mt.name,Ct.a.name,Fd.a.name,p.a.name,Kd.a.name,Y.name,Lk.a.name,V_.name,cj.name,d_.name,SS.name,UC.name,zC.name,Fk.a.name,LC.name,WS.name]).value("CourseExitReviewPopup",Mk).controller("DashboardController",pj);function pj(e,t,r,o,n,i,s,a,l,c,u,p,d){if(r.courseExperienceStore=i,s.loadExtraData({"fields[course]":["num_subscribers","num_published_lectures","num_published_practice_tests","instructional_level","content_info","content_length_practice_test_questions","locale","subscription_locale","has_closed_caption","has_coding_exercise","has_certificate","description","headline","visible_instructors","prerequisites","objectives","target_audiences","image_480x270","image_750x422","custom_category_ids","url"].join(","),"fields[user]":["url","display_name","title","job_title","image_200_H","initials","description","url_twitter","url_facebook","url_linkedin","url_youtube","url_personal_website"].join(","),"fields[locale]":"simple_english_title"}),r.course=Object.assign(s,{type:"course"}),r.showRemindersTip=!1,r.navbarCollapsed=!0,r.hasOrganization=T.a.brand.has_organization,r.isShareToWorkplaceEnabled=r.hasOrganization&&T.a.brand.is_share_to_workplace_enabled,r.isShareOnSlackEnabled=r.hasOrganization&&T.a.brand.is_share_on_slack_enabled,r.isContextMenuEnabled=r.hasOrganization&&T.a.brand.organization.is_context_menu_enabled,ks.a.trackPageview(s.analytics_tracking_code,"instructor","".concat(s.url,"course-dashboard")),i.onContentReady(),i.ensureCurriculumLoaded().then(function(){return!r.$$phase&&r.$digest()}),s.show_student_contextual_survey){var h=new aj;h.setPageName(ij.startingPage),h.onSurveyCompleted=function(){s.show_student_contextual_survey=!1,Yu.a.seen(Yu.a.ids.studentContextualSurvey,{obj_id:r.course.id,obj_type:"course"})},r.contextualSurveyStore=h}if(r.course_exit_review_popup_enabled=!1,d.getVariantValue("cr","course_exit_review_popup_enabled",!1)&&(b=60*d.getVariantValue("cr","course_exit_review_popup_min_watched_minutes",30),y=d.getVariantValue("cr","course_exit_review_popup_min_reviews",500),f=i.completedVideoLength,g=i.courseReview,v=i.exitedCourse,i.course.numReviews>=y&&v&&b<=f&&!g.rating)){var m=new Xw(r.course);r.course_exit_review_popup_enabled=!0,r.course_exit_review_popup_props={store:m},o(m.show,750)}var b,y,f,g,v;r.shouldShowStudentContextualSurvey=function(){return s.show_student_contextual_survey}}pj.$inject=["$rootScope","$state","$scope","$timeout","ViewMode","CourseExperienceService","CurrentCourse","gettextCatalog","$anchorScroll","$location","AnimatedStateChangeService","udConfirm","experimentVariants"];var dj=uj,hj=r("./src/udemy/js/course-taking-v4/dashboard/dashboard.ng-template.html"),mj=r.n(hj);r.d(t,"appModule",function(){return bj}),r.d(t,"default",function(){return yj});var bj=d.a.module("course-taking-v4/app",["ui.router","ngAnimate","angular-inview",O.a.name,c.a.name,a.a.name,E.a.name,b.name,Ed.name,j.name,p.a.name,y.name,Zv.name,yw.name,Ct.a.name,ys.name,jw.name,dj.name,Fd.a.name,Th.name,u.a.name,Td.name,Nw.name,Dw.name]).config(["$urlMatcherFactoryProvider",function(e){e.strictMode(!1)}]).config(["$urlRouterProvider",function(e){e.otherwise(M.path)}]).config(["$stateProvider",function(e){e.state("base",{url:"",abstract:!0,templateUrl:Q.a,controller:"CourseController"}).state("base.taking",{url:"/t",abstract:!0,templateUrl:gs.a,controller:"CourseTakingController"}).state("base.taking.locked",{params:{itemType:null,itemId:null},template:"<locked-screen></locked-screen>"}).state("base.taking.lecture",{url:"/lecture/:id?start",templateUrl:xd.a,controller:"LectureViewController",data:{objectType:"lecture"}}).state("base.taking.review",{params:{courseId:"",curriculumItem:null},template:"<review-prompt></review-prompt>"}).state("base.taking.quiz",{url:"/quiz/:id",template:'<quiz-view class="db w100p h100p"></quiz-view>'}).state("base.taking.quiz.practice-test",{url:"/{reactRouterPath:.*}"}).state("base.taking.practice",{url:"/practice/:id",templateUrl:Hh.a}).state("base.taking.practice.section",{url:"/{reactRouterPath:.*}",templateUrl:Hh.a,reactBaseStateName:"base.taking.practice"}).state("base.dashboard",{url:"?show_review_popup",abstract:!0,templateUrl:mj.a,controller:"DashboardController"}).state("base.dashboard.overview",{url:"/overview",template:"<course-overview></course-overview>",data:{tabCode:"overview"}}).state("base.dashboard.content",{url:"/content",templateUrl:Ww.a,data:{tabCode:"content"}}).state("base.dashboard.questions",{url:"/questions/:id",template:"<questions></questions>",data:{tabCode:"questions"}}).state("base.dashboard.bookmarks",{url:"/bookmarks",template:"<bookmarks-dashboard></bookmarks-dashboard>",data:{tabCode:"bookmarks"}}).state("base.dashboard.announcements",{url:"/announcements?ids,preview_announcement_title,preview_announcement_content,preview_announcement",template:"<announcements></announcements>",data:{tabCode:"announcements"}})}]).config(l.a).run(["$rootScope","$location","ViewMode","Fullscreen","PerformanceService",function(e,t,r,n,i){r.setPreviewMode(t.search().instructorPreviewMode),e.$on("$stateChangeStart",function(e,t,r,o){t.name.startsWith("base.dashboard")&&o&&o.name.startsWith("base.taking")&&n.isFullscreen()&&n.exitFullscreen(),t.name.startsWith("base.dashboard")?s()("body").removeClass("no-header-or-footer"):s()("body").addClass("no-header-or-footer")}),e.$on("$stateChangeSuccess",function(e,t,r,o){window.dataLayer=[],o.name&&i.disableMarkCalls(),P.a.track(x.d.COURSE_TAKING,x.a.NAVIGATION,"transition",null,null,{from:o&&o.name,to:t&&t.name}),T.a.brand.has_organization&&T.a.brand.organization.is_limited_consumption_trial&&L.includes(o.name)&&!t.name.startsWith("base.taking")&&document.dispatchEvent(new CustomEvent("limitedConsumptionTrial:leftCourseTakingPage"))})}]);function yj(e,t){Object(D.a)({cache:!0}),Object(H.a)(e,".ud-angular--course-taking-v4--app",bj,t)}},"./src/udemy/js/course-taking-v4/course-content/course-content.less":function(e,t,r){e.exports={main:"course-content--main--3XZ4I","course-content-menu":"course-content--course-content-menu--1Ww51",loading:"course-content--loading--1jSiJ",sections:"course-content--sections--1KNRO","empty-search-result":"course-content--empty-search-result--LcVFp"}},"./src/udemy/js/course-taking-v4/course-content/curriculum-filters.less":function(e,t,r){e.exports={filters:"curriculum-filters--filters--2qgej",active:"curriculum-filters--active--2XUmt"}},"./src/udemy/js/course-taking-v4/course-content/curriculum-item.less":function(e,t,r){e.exports={"curriculum-item":"curriculum-item--curriculum-item--iJwX5",icon:"curriculum-item--icon--2exyv","is-current":"curriculum-item--is-current--1j1zI","is-unpublished":"curriculum-item--is-unpublished--2KmxY",duration:"curriculum-item--duration--1OEOp",type:"curriculum-item--type--MqmJ7",title:"curriculum-item--title--3etrQ",progress:"curriculum-item--progress--3eKMJ","progress-icon":"curriculum-item--progress-icon--2mgwh","is-completed":"curriculum-item--is-completed--38V0M","is-organization":"curriculum-item--is-organization--2wN_Z","progress-disabled":"curriculum-item--progress-disabled--1RZwW","progress-loading":"curriculum-item--progress-loading--1yTU2"}},"./src/udemy/js/course-taking-v4/course-content/in-course-search.less":function(e,t,r){e.exports={"in-course-search":"in-course-search--in-course-search--UXo4H",results:"in-course-search--results--1tnyC","clear-icon":"in-course-search--clear-icon--1-Yx8","caption-search-tooltip":"in-course-search--caption-search-tooltip--2CTNP"}},"./src/udemy/js/course-taking-v4/course-content/locked-state-icon.less":function(e,t,r){e.exports={icon:"locked-state-icon--icon--1ryP0","icon--default":"locked-state-icon--icon--default--2OoRc","icon--white":"locked-state-icon--icon--white--CjhS9","tooltip-icon":"locked-state-icon--tooltip-icon--3HoNf"}},"./src/udemy/js/course-taking-v4/course-content/locked-state-icon.react-component.js":function(e,t,r){"use strict";var o=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),n=r.n(o),i=r("./node_modules/prop-types/index.js"),s=r.n(i),a=r("./node_modules/react/index.js"),l=r.n(a),c=r("./src/udemy/js/base-components/icon.react-component.js"),u=r("./src/udemy/js/base-components/tooltip-icon.react-component.js"),p=r("./src/udemy/js/base-components/tooltip.react-component.js"),d=(r("./src/udemy/js/course-taking-v4/course-content/locked-state-icon.less"),{"./locked-state-icon.less":{icon:"locked-state-icon--icon--1ryP0","icon--default":"locked-state-icon--icon--default--2OoRc","icon--white":"locked-state-icon--icon--white--CjhS9","tooltip-icon":"locked-state-icon--tooltip-icon--3HoNf"}}),h=function(e){var t=l.a.createElement(c.a,{glyph:"lock",className:n()("icon icon--".concat(e.theme),d)});if(e.isTooltipHidden)return t;var r=l.a.createElement(p.a,{bsStyle:"blue",id:e.tooltipId},e.tooltipMessage);return l.a.createElement("div",{className:"locked-state-icon--tooltip-icon--3HoNf"},l.a.createElement(u.a,{icon:t,tooltip:r}))};h.propTypes={isTooltipHidden:s.a.bool,tooltipMessage:s.a.string,tooltipId:s.a.string.isRequired,theme:s.a.oneOf(["default","white"])},h.defaultProps={isTooltipHidden:!1,tooltipMessage:"",theme:"default"},t.a=h},"./src/udemy/js/course-taking-v4/course-content/matching-cues-list.less":function(e,t,r){e.exports={cues:"matching-cues-list--cues--INfNn",cue:"matching-cues-list--cue--2em-6",time:"matching-cues-list--time--1h9ln","show-more-link":"matching-cues-list--show-more-link--1b_By"}},"./src/udemy/js/course-taking-v4/course-content/panel-content.less":function(e,t,r){e.exports={"panel-content":"panel-content--panel-content--L-pMe",title:"panel-content--title--3uuFE","is-scrolling":"panel-content--is-scrolling--3FDSs","close-button":"panel-content--close-button--1IIZs"}},"./src/udemy/js/course-taking-v4/course-content/resource-list.less":function(e,t,r){e.exports={resources:"resource-list--resources--2fAVX","link-icon":"resource-list--link-icon--1MO6K","loading-icon":"resource-list--loading-icon--2DF3R"}},"./src/udemy/js/course-taking-v4/course-content/section.less":function(e,t,r){e.exports={section:"section--section--CIk7q","section-heading":"section--section-heading--2xXfB","practice-test":"section--practice-test--3gdrq","section-content":"section--section-content--2OMW8"}},"./src/udemy/js/course-taking-v4/course-experience.ng-template.html":function(e,t){var r="/course-taking-v4/course-experience.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,"<div mobx-autorun> <ui-view ng-if=courseExperienceStore.course></ui-view> </div> ")}]),e.exports=r},"./src/udemy/js/course-taking-v4/course-taking/course-taking.ng-template.html":function(e,t){var r="/course-taking-v4/course-taking/course-taking.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,"<div mobx-autorun ng-class=store.curriculumPanelClass> <panel-content course-id=course.id mobile-close-panel=store.closePanel show-title=true> </panel-content> </div> <div ui-view class=course-taking data-ng-class=\"{'course-taking-mobile-app': isMobileApp, 'course-taking-mobile-browser': isMobileBrowser}\"> </div> ")}]),e.exports=r},"./src/udemy/js/course-taking-v4/course-taking/dashboard-button.less":function(e,t,r){e.exports={button__light:"dashboard-button--button__light--3-Xv0",active:"dashboard-button--active--2rs3Q",open:"dashboard-button--open--2qPY-","dropdown-toggle":"dashboard-button--dropdown-toggle--3e-8z",focus:"dashboard-button--focus--2m313","keyboard-navigation-in-use":"dashboard-button--keyboard-navigation-in-use--1j44n",disabled:"dashboard-button--disabled--5wiYd",badge:"dashboard-button--badge--2RwjV",button__dark:"dashboard-button--button__dark--1QOdo"}},"./src/udemy/js/course-taking-v4/course-taking/footer/footer.less":function(e,t,r){e.exports={footer:"footer--footer--30Bfe",footer__left:"footer--footer__left--2dmHz",footer__right:"footer--footer__right--1t_zZ",footer__center:"footer--footer__center--38aEL"}},"./src/udemy/js/course-taking-v4/course-taking/hotkeys.less":function(e,t,r){e.exports={"hotkey-feedback-activated":"hotkeys--hotkey-feedback-activated--15wUI","hotkey-feedback":"hotkeys--hotkey-feedback--10-dF","udi-vjs-play":"hotkeys--udi-vjs-play--FtY_x"}},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/article-viewer.less":function(e,t,r){e.exports={content:"article-viewer--content--3BnJp"}},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/interstitial/interstitial.less":function(e,t,r){e.exports={container:"interstitial--container--1xUrM",center:"interstitial--center--12v1X",right:"interstitial--right--1a3XD",content:"interstitial--content--24jBU",item__label:"interstitial--item__label--3auDm",item__row:"interstitial--item__row--3enYY",item__icon:"interstitial--item__icon--UgkMV","item__icon--completed":"interstitial--item__icon--completed--1OFj6",item__name:"interstitial--item__name--1xWI5",buttons:"interstitial--buttons--18Jax","progress-bar":"interstitial--progress-bar--2AuRp","goto-next":"interstitial--goto-next--ieAY_",active:"interstitial--active--1dgg5",open:"interstitial--open--lZzg1","dropdown-toggle":"interstitial--dropdown-toggle--_M0cN",focus:"interstitial--focus--1L-gA","keyboard-navigation-in-use":"interstitial--keyboard-navigation-in-use--2aBuA",disabled:"interstitial--disabled--3XW8q",badge:"interstitial--badge--3Qp4U","cancel-button":"interstitial--cancel-button--2M0X5"}},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/lecture-view.ng-template.html":function(e,t){var r="/course-taking-v4/course-taking/lecture-view/lecture-view.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div id=loader-container> <div class="fullscreen bg-midnight pos-a" ng-if=!lecture> <span class="preloader--center preloader--lg icon-spin"> <i class="udi udi-circle-loader text-white"></i> </span> </div> </div> <div mobx-autorun ng-class=store.lectureViewClass ng-if="lecture && store.courseExperienceStore.currentCurriculumItem"> <hotkeys hotkeys-type="\'lecture\'" ng-if=!store.isInterstitialVisible></hotkeys> <video-viewer lecture=lecture on-auto-next=store.onPlayerEnded ng-if="::(isAssetType(\'Video\') || isAssetType(\'VideoMashup\') || isAssetType(\'Audio\'))"></video-viewer> <article-viewer ng-if="::isAssetType(\'Article\')"></article-viewer> <presentation-player lecture=lecture ng-if="::isAssetType(\'Presentation\')"></presentation-player> <unavailable-viewer ng-if="::isAssetType(\'Unavailable\')"></unavailable-viewer> <questions-panel></questions-panel> </div> <div mobx-autorun> <interstitial ng-if=store.isInterstitialVisible></interstitial> </div> ')}]),e.exports=r},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/navigation-bar.less":function(e,t,r){e.exports={"nav-buttons":"navigation-bar--nav-buttons--3HuhR","action-buttons":"navigation-bar--action-buttons--2b62i",header:"navigation-bar--header--3aXVo"}},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/presentation-player.less":function(e,t,r){e.exports={container:"presentation-player--container--3MX3Y"}},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/unavailable-viewer.less":function(e,t,r){e.exports={content:"unavailable-viewer--content--2Xf1y"}},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/autocaptions-feedback/autocaptions-feedback-button.less":function(e,t,r){e.exports={icon:"autocaptions-feedback-button--icon--2SOuj"}},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/bookmarks/video-bookmark.less":function(e,t,r){e.exports={wrapper:"video-bookmark--wrapper--1QFPF",label:"video-bookmark--label--Y6sYp","label--social":"video-bookmark--label--social--2Lzq3","content-container--left":"video-bookmark--content-container--left--1ARaS","content-container--right":"video-bookmark--content-container--right--2nv5a","content--left":"video-bookmark--content--left--1oIuI","content--right":"video-bookmark--content--right--3ks3Q","bookmark-icon":"video-bookmark--bookmark-icon--2e-gx","bookmark-icon--social":"video-bookmark--bookmark-icon--social--1z1ep","remaining-chars":"video-bookmark--remaining-chars--2ASx3",deleting:"video-bookmark--deleting--1HCAc",closing:"video-bookmark--closing--26A8O",active:"video-bookmark--active--29jMk",closed:"video-bookmark--closed--12Cyj"}},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/positive-reinforcement/positive-reinforcement.less":function(e,t,r){e.exports={"reinforcement-tooltip":"positive-reinforcement--reinforcement-tooltip--pq9di","user-inactive":"positive-reinforcement--user-inactive--3mzsW","positive-reinforcement":"positive-reinforcement--positive-reinforcement--2wMY_","reinforcement-icon":"positive-reinforcement--reinforcement-icon--2Vwh7","tooltip-content":"positive-reinforcement--tooltip-content--3tH8x"}},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/transcripts/autoscroll-toggle.less":function(e,t,r){e.exports={"autoscroll-toggle":"autoscroll-toggle--autoscroll-toggle--22efg",checkbox:"autoscroll-toggle--checkbox--2jphB"}},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/transcripts/transcript.less":function(e,t,r){e.exports={"transcript-container":"transcript--transcript-container--3byVo",center:"transcript--center--1rBCv",right:"transcript--right--2mSuE","transcript-top-toolbar":"transcript--transcript-top-toolbar--o1J16","transcript-button-close":"transcript--transcript-button-close--3qX6f","transcript-display":"transcript--transcript-display--_TQQR","highlight-cue":"transcript--highlight-cue--2AE2b","cue-container":"transcript--cue-container--1dpNN","underline-cue":"transcript--underline-cue---GOvL","transcript-button-container":"transcript--transcript-button-container--1vCqn","discoverability-tooltip":"transcript--discoverability-tooltip--1L2ZD"}},"./src/udemy/js/course-taking-v4/course-taking/lecture-view/video-viewer/video-viewer.less":function(e,t,r){e.exports={container:"video-viewer--container--1FE3D","header--gradient":"video-viewer--header--gradient--QPDqx","download-lecture-tooltip-icon":"video-viewer--download-lecture-tooltip-icon--1Nfgv","download-lecture-tooltip":"video-viewer--download-lecture-tooltip--2TNjs","autoplay-setting":"video-viewer--autoplay-setting--g2ohY"}},"./src/udemy/js/course-taking-v4/course-taking/locked-screen/locked-screen.less":function(e,t,r){e.exports={"locked-screen":"locked-screen--locked-screen--i81Hu","locked-screen__message-container":"locked-screen--locked-screen__message-container--3GoZU"}},"./src/udemy/js/course-taking-v4/course-taking/panel.less":function(e,t,r){e.exports={"right-panel":"panel--right-panel--wXsrc","panel--open":"panel--panel--open--jlLRL"}},"./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-feedback-question-answer.ng-template.html":function(e,t){var r="/course-taking-v4/course-taking/practice-view/practice-feedback-question-answer.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,' <div> <div class=component-thread-head ng-class="{\'well well-sm text-muted mb0\': deleteInProgress}"> <div class="thread-head__avatar thread-head__avatar--stick-top"> <react-user-image user=feedbackQuestionAnswer.user></react-user-image> </div> <div class=thread-head__basic-info> <a ng-href={{feedbackQuestionAnswer.user.url}} class="inline inline--no-padding" ng-bind=feedbackQuestionAnswer.user.title data-purpose=commenter-name></a> <inplace-wysiwyg theme="{{ editorState.theme }}" editor-value=editorState.body submit-disabled=editorState.submitDisabled submit-fn=submitFn(value) class=no-compress editor-hidden=editorState.hidden> <div ng-bind-html="feedbackQuestionAnswer.body | openBlankTarget" prettify> </div> </inplace-wysiwyg> </div> <div dropdown class=dropdown ng-if=showOptionsDropdown> <button dropdown-toggle class="btn btn-tertiary btn-xs" data-deny-click-read=true id="feedbackQuestionAnswerActionMenu{{ feedbackQuestionAnswer.id }}" type=button aria-haspopup=true aria-expanded=false aria-label="{{ \'Question options\' | translate }}"> <i class="udi udi-ellipsis-v"></i> </button> <ul class="dropdown-menu dropdown-menu-right a11" role=menu aria-labelledby="feedbackQuestionAnswerActionMenu{{ feedbackQuestionAnswer.id }}"> <li role=presentation ng-show=canEdit> <a role=menuitem ng-click=editAnswer() href=javascript:void(0)> <span translate>Edit</span> </a> </li> <li role=presentation ng-show=canDelete> <a role=menuitem href=javascript:void(0) ng-click=deleteAnswer()> <span translate>Delete</span> </a> </li> </ul> </div> </div> <div class=ml60 ng-if=showComments> <comment-thread-react auto-load=true can-reply=canReply resource-url=commentResourceUrl comment-thread=feedbackQuestionAnswer.comment_thread should-wysiwyg=true> </comment-thread-react> </div> </div> ')}]),e.exports=r},"./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-feedback-question.ng-template.html":function(e,t){var r="/course-taking-v4/course-taking/practice-view/practice-feedback-question.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div> <div class=component-thread-head> <div class=thread-head__basic-info> <div class=no-compress ng-bind-html="question.body | openBlankTarget"></div> </div> </div> <practice-feedback-question-answer feedback-question-answer=answer practice-id="{{ practiceId }}" attempt-id="{{ attemptId }}" submission=submission show-comments=showComments on-delete=deleteAnswer(answer) on-edit="editAnswer(answer, value)" is-instructor-dashboard=isInstructorDashboard ng-repeat="answer in feedback"></practice-feedback-question-answer> <button class="btn btn-sm btn-link" ng-if="pagination.total && !feedbackQuestion.answers.length" ng-disabled=loading translate-n=pagination.total translate-plural="{{$count}} answers" ng-click=loadMoreAnswers(pagination.page) translate> {{ $count }} answer </button> <button class="btn btn-sm btn-link" ng-if="feedbackQuestion.answers.length && pagination.total > feedbackQuestion.answers.length" ng-disabled=loading ng-click=loadMoreAnswers(pagination.page) translate> Load more</button> <span ng-if=loading> <span class="udi udi-circle-loader udi-small"></span> </span> <div class=component-thread-head ng-show="!loading && reviewer.id == udMe.id && !feedback.length && !pagination.total"> <div class="thread-head__avatar thread-head__avatar--stick-top"> <react-user-image user=reviewer></react-user-image> </div> <div class="thread-head__basic-info basic-info--no-top-line-height"> <inplace-wysiwyg placeholder-text="{{ editorState.placeholderText }}" theme="{{ editorState.theme }}" editor-value=editorState.body submit-disabled=editorState.submitDisabled submit-fn=submitFn(value) class=no-compress editor-hidden=editorState.hidden> <input class=form-control placeholder="{{ editorState.placeholderText }}" ng-focus="editorState.hidden = false"> </inplace-wysiwyg> </div> </div> </div> ')}]),e.exports=r},"./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-feedback.ng-directive.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/ng/ud-core.js"),s=r("./src/udemy/js/ng/directives/common/inplace-wysiwyg/inplace-wysiwyg.ng-directive.js"),a=r("./src/udemy/js/ng/directives/common/react-user-image.ng-directive.js"),l=r("./src/udemy/js/ng/directives/common/utils.ng-directive.js"),c=r("./src/udemy/js/ng/filters/htmlutils.ng-filter.js"),u=r("./src/udemy/js/ng/services/v2/practice-resources.ng-factory.js"),p=r("./src/udemy/js/utils/ud-me.js"),d=(r("./node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls-0.13.1.js"),r("./node_modules/ngreact/ngReact.js")),h=r.n(d),m=r("./src/udemy/js/base-components/comments/comment-thread.react-component.js"),b=n.a.module("ng/directives/common/comment-thread.ng-directive",[h.a.name]).directive("commentThreadReact",y);function y(e){return e(m.a)}y.$inject=["reactDirective"];var f=r("./src/udemy/js/ng/directives/common/prettify.ng-directive.js"),g=r("./src/udemy/js/ng/services/confirm.ng-factory.js"),v=r("./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-feedback-question-answer.ng-template.html"),w=r.n(v),k=n.a.module("course-taking-v4/course-taking/practice-view/practice-feedback-question-answer.ng-directive",["ui.bootstrap",i.a.name,g.a.name,a.a.name,s.a.name,f.a.name,b.name,c.a.name]).directive("practiceFeedbackQuestionAnswer",function(){return{restrict:"E",replace:!0,templateUrl:w.a,scope:{feedbackQuestionAnswer:"=",practiceId:"@",attemptId:"@",submission:"=",onDelete:"&",onEdit:"&",showComments:"=",isInstructorDashboard:"="},controller:C}});function C(t,e,r){t.canEdit=p.a.id==t.feedbackQuestionAnswer.user.id,t.canDelete=p.a.id==t.feedbackQuestionAnswer.user.id,t.showOptionsDropdown=t.canEdit&&t.canDelete,t.canReply=t.isInstructorDashboard?t.canEdit:void 0,t.editorState={submitDisabled:!1,theme:"ASSIGNMENT",hidden:!0,body:t.feedbackQuestionAnswer.body},t.commentResourceUrl="/practices/".concat(t.practiceId,"/user-attempted-practices/").concat(t.attemptId,"/feedback-user-answers/").concat(t.feedbackQuestionAnswer.id,"/comments"),t.editAnswer=function(){if(!t.canEdit)return;t.editorState.hidden=!1},t.deleteAnswer=function(){return t.canDelete?e(r.getString("Are you sure you want to delete your response?")).then(function(){t.deleteInProgress=!0,t.onDelete({answer:t.feedbackQuestionAnswer}).finally(function(){delete t.deleteInProgress})}):void 0},t.submitFn=function(e){t.editorState.submitDisabled=!0,t.onEdit({answer:t.feedbackQuestionAnswer,value:e}).then(function(){t.editorState.hidden=!0,t.feedbackQuestionAnswer.body=t.editorState.body}).finally(function(){t.editorState.submitDisabled=!1})}}C.$inject=["$scope","udConfirm","gettextCatalog"];var _=k,S=r("./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-feedback-question.ng-template.html"),j=r.n(S),E=n.a.module("course-taking-v4/course-taking/practice-view/practice-feedback-question.ng-directive",[i.a.name,u.a.name,l.a.name,s.a.name,a.a.name,_.name,c.a.name]).directive("practiceFeedbackQuestion",function(){return{restrict:"E",replace:!0,templateUrl:j.a,scope:{question:"=",feedback:"=",practiceId:"@",attemptId:"@",type:"@",reviewer:"=",showComments:"=",isInstructorDashboard:"=",pageSize:"="},controller:D}});function D(r,o,e){var t=["user","body","feedback_question","comment_thread"],n=["title","display_name","image_50x50","initials","url"],i="self"==r.type?e.getString("I learned..."):e.getString("Add feedback...");r.udMe=p.a,r.editorState={submitDisabled:!1,theme:"ASSIGNMENT",hidden:!0,body:"",placeholderText:i},r.pagination={page:1},r.submitFn=function(e){r.editorState.submitDisabled=!0,o.save({practiceId:r.practiceId,"fields[practice_feedback_question_user_answer]":t.join(","),"fields[user]":n.join(","),"fields[practice_feedback_question]":"id","fields[comment_thread]":["@min","num_comments"].join(","),user:r.reviewer.id,feedback_question:r.question.id},[{body:e,feedback_question:r.question.id,user_attempted_practice:r.attemptId}]).$promise.then(function(e){r.feedback=r.feedback.concat(e.results),r.pagination.total++}).finally(function(){r.editorState.submitDisabled=!1})},r.loadMoreAnswers=function(e){r.loading=!0,o.get({practiceId:r.practiceId,attempt_id_in:r.attemptId,"fields[practice_feedback_question_user_answer]":t.join(","),"fields[user]":n.join(","),"fields[practice_feedback_question]":"id","fields[comment_thread]":["@min","num_comments"].join(","),page:e,page_size:r.pageSize,user:r.isInstructorDashboard?null:r.reviewer.id,feedback_question:r.question.id}).$promise.then(function(e){r.pagination.total=e.count,r.pagination.page++,r.feedback=r.feedback.concat(e.results)}).finally(function(){r.loading=!1})},r.editAnswer=function(e,t){return o.update({practiceId:r.practiceId,id:e.id},{body:t}).$promise},r.deleteAnswer=function(t){return o.delete({practiceId:r.practiceId,id:t.id}).$promise.then(function(){r.editorState.body="",r.editorState.hidden=!0;var e=r.feedback.findIndex(function(e){return e.id==t.id});r.feedback.splice(e,1),r.pagination.total--})}}D.$inject=["$scope","PracticeFeedbackQuestionAnswer","gettextCatalog"];var x=E,O=r("./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-feedback.ng-template.html"),T=r.n(O),P=n.a.module("course-taking-v4/course-taking/practice-view/practice-feedback.ng-directive",[i.a.name,x.name]).directive("practiceFeedback",function(){return{restrict:"E",replace:!0,templateUrl:T.a,scope:{practiceId:"@",attemptId:"@",question:"=",feedback:"=",reviewer:"=",type:"@",showComments:"=?",isInstructorDashboard:"=",pageSize:"="},controller:H}});function H(e){e.showComments=void 0===e.showComments||e.showComments,e.pagination={page:1,total:0}}H.$inject=["$scope"];t.a=P},"./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-feedback.ng-template.html":function(e,t){var r="/course-taking-v4/course-taking/practice-view/practice-feedback.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div> <practice-feedback-question question=question feedback=feedback reviewer=reviewer practice-id="{{ practiceId }}" attempt-id="{{ attemptId }}" type="{{ type }}" is-instructor-dashboard=isInstructorDashboard page-size=pageSize show-comments=showComments></practice-feedback-question> <span ng-if=loading> <span class="udi udi-circle-loader udi-small"></span> </span> </div> ')}]),e.exports=r},"./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-submission-question-list.ng-template.html":function(e,t){var r="/course-taking-v4/course-taking/practice-view/practice-submission-question-list.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div class="question__list view-mode"> <div class="component-thread-head component-thread-head--submission-owner"> <div class=thread-head__avatar> <react-user-image user=submission.user></react-user-image> </div> <div class=thread-head__basic-info> <a ng-href="{{ submission.user.url }}">{{ submission.user.title }}</a> <div class=thread-head__extra-info> <span ng-if=submission.submission_time translate> Posted {{ submission.submission_time | fromNow }}</span> </div> </div> </div> <div class="question__list__item pos-r" ng-repeat="question_user_answer in submission.question_user_answers"> <div> <div class=question__title> <div class=question__title--text ng-bind-html="question_user_answer.practice_question.body | openBlankTarget"></div> </div> <div class=question__answer ng-bind-html="question_user_answer.body | openBlankTarget" prettify></div> </div> </div> </div> ')}]),e.exports=r},"./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-submission.ng-directive.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/ng/directives/common/prettify.ng-directive.js"),s=r("./src/udemy/js/ng/directives/common/react-user-image.ng-directive.js"),a=r("./src/udemy/js/ng/filters/htmlutils.ng-filter.js"),l=r("./src/udemy/js/ng/filters/moment.ng-filter.js"),c=r("./src/udemy/js/ng/ud-core.js"),u=r("./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-submission-question-list.ng-template.html"),p=r.n(u),d=n.a.module("course-taking-v4/course-taking/practice-view/practice-submission.ng-directive",[c.a.name,s.a.name,i.a.name,a.a.name,l.a.name]).directive("practiceSubmission",function(){return{restrict:"E",replace:!0,templateUrl:p.a,scope:{submission:"="}}});t.a=d},"./src/udemy/js/course-taking-v4/course-taking/practice-view/practice-view.ng-template.html":function(e,t){var r="/course-taking-v4/course-taking/practice-view/practice-view.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div mobx-autorun class="fullscreen theme-gray practice-viewer" ng-class="{\'right-panel-open\': store.isRightPanelActive}"> <hotkeys hotkeys-type="\'test\'"></hotkeys> <practice></practice> <questions-panel></questions-panel> </div> ')}]),e.exports=r},"./src/udemy/js/course-taking-v4/course-taking/practice/feedback.less":function(e,t,r){e.exports={"feedback-form":"feedback--feedback-form--1rIUM","feedback-thread-head":"feedback--feedback-thread-head--2bVA2","feedback-thread-head__basic-info":"feedback--feedback-thread-head__basic-info--2l0TX","feedback-thread-head__avatar":"feedback--feedback-thread-head__avatar--JZGqG"}},"./src/udemy/js/course-taking-v4/course-taking/practice/introduction-page.less":function(e,t,r){e.exports={question__header:"introduction-page--question__header--24TtT","questions-wrapper":"introduction-page--questions-wrapper--2a8Fk"}},"./src/udemy/js/course-taking-v4/course-taking/practice/layout.less":function(e,t,r){e.exports={"feedback-view":"layout--feedback-view--3x1hp","feedback-view__header":"layout--feedback-view__header--2nyEi","feedback-view__title":"layout--feedback-view__title--1chVr","progress-bar-hidden":"layout--progress-bar-hidden--miHk7","message-container--practice":"layout--message-container--practice--uzeuR"}},"./src/udemy/js/course-taking-v4/course-taking/practice/messages.less":function(e,t,r){e.exports={"practice-info":"messages--practice-info--3x6gh"}},"./src/udemy/js/course-taking-v4/course-taking/practice/practice.less":function(e,t,r){e.exports={"page-wrapper":"practice--page-wrapper--3arBx","btn-skip-practice":"practice--btn-skip-practice--C2kZS","udi-next":"practice--udi-next--12YHL","panel-body-text":"practice--panel-body-text--2WsDc","practice-component-video":"practice--practice-component-video--11NcO","practice-basics":"practice--practice-basics--1EPLv",question__list:"practice--question__list--172D6"}},"./src/udemy/js/course-taking-v4/course-taking/practice/progress-bar.less":function(e,t,r){e.exports={"progress-bar":"progress-bar--progress-bar--33640","nav-tabs--wizard":"progress-bar--nav-tabs--wizard--1k-Yi","nav-tabs--wizard--completed":"progress-bar--nav-tabs--wizard--completed--3Ze_4"}},"./src/udemy/js/course-taking-v4/course-taking/practice/question.less":function(e,t,r){e.exports={question__list__item:"question--question__list__item--kbA-n",question__title:"question--question__title--3OfwZ","question__title--text":"question--question__title--text--2bQDD"}},"./src/udemy/js/course-taking-v4/course-taking/practice/resource-download.less":function(e,t,r){e.exports={download:"resource-download--download--ciVER"}},"./src/udemy/js/course-taking-v4/course-taking/practice/submission.less":function(e,t,r){e.exports={"submission-thread-head":"submission--submission-thread-head--3L4Fi","submission-thread-head__basic-info":"submission--submission-thread-head__basic-info--24Dm3","submission-thread-head__extra-info":"submission--submission-thread-head__extra-info--3rrRe"}},"./src/udemy/js/course-taking-v4/course-taking/practice/summary-detail-page.less":function(e,t,r){e.exports={"summary-detail-submission":"summary-detail-page--summary-detail-submission--peK-u","back-link":"summary-detail-page--back-link--3z2X5"}},"./src/udemy/js/course-taking-v4/course-taking/practice/summary-page.less":function(e,t,r){e.exports={"summary-panel":"summary-page--summary-panel--10Y5G"}},"./src/udemy/js/course-taking-v4/course-taking/questions-panel/questions-list.less":function(e,t,r){e.exports={"search-bar":"questions-list--search-bar--3viwR",search:"questions-list--search--2A42T","result-summary":"questions-list--result-summary--1n7Cx",results:"questions-list--results--2CL26"}},"./src/udemy/js/course-taking-v4/course-taking/questions-panel/questions-panel-base.less":function(e,t,r){e.exports={wrapper:"questions-panel-base--wrapper--1xGLw","back-button":"questions-panel-base--back-button--3NOOM","close-button":"questions-panel-base--close-button--3gd6E","minimize-button":"questions-panel-base--minimize-button--2IhP1",title:"questions-panel-base--title--3CNvE",content:"questions-panel-base--content--3oHbD"}},"./src/udemy/js/course-taking-v4/course-taking/questions-panel/questions-panel.less":function(e,t,r){e.exports={panel:"questions-panel--panel--3ifj_"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/coding-exercise.less":function(e,t,r){e.exports={"coding-exercise":"coding-exercise--coding-exercise--aYcPu",workspace:"coding-exercise--workspace--18c0c",center:"coding-exercise--center--t5iHA",right:"coding-exercise--right--3IPdY","editor-container":"coding-exercise--editor-container--2jurh",editor:"coding-exercise--editor--1M2I9","check-waiting":"coding-exercise--check-waiting--38ss-",primary:"coding-exercise--primary--2GcQL","check-primary":"coding-exercise--check-primary--3zobQ",waiting:"coding-exercise--waiting--34TW0","hint-tooltip":"coding-exercise--hint-tooltip--143Vy"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/editor-footer.less":function(e,t,r){e.exports={footer:"editor-footer--footer--3fPTt",message:"editor-footer--message--2iO3l"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/file.less":function(e,t,r){e.exports={file:"file--file--26jVU",active:"file--active--1hujZ"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/files.less":function(e,t,r){e.exports={files:"files--files--3qD0M","file-list":"files--file-list--1Bye_","drag-handle":"files--drag-handle--3GHk5"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/instructions.less":function(e,t,r){e.exports={instructions:"instructions--instructions--2HWUl",content:"instructions--content--1hKmi",title:"instructions--title--2p5jQ",description:"instructions--description--2w0Q2","drag-handle":"instructions--drag-handle--3LQua"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/coding-exercise/output.less":function(e,t,r){e.exports={output:"output--output--32DxD",resizing:"output--resizing--caXUw","output-section":"output--output-section--34JhL",title:"output--title--VP8Ah",preview:"output--preview--1Dsmu","drag-handle":"output--drag-handle--3vuaY"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/compact-quiz-container.less":function(e,t,r){e.exports={"compact-quiz-container":"compact-quiz-container--compact-quiz-container--35y12","responsive-fullscreen":"compact-quiz-container--responsive-fullscreen--1siyj"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/practice-test-summary.less":function(e,t,r){e.exports={summary:"practice-test-summary--summary--3-rmx",separator:"practice-test-summary--separator--x6bVX","summary-lg":"practice-test-summary--summary-lg--2bi4T"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/question/question-footer.less":function(e,t,r){e.exports={"left-btn":"question-footer--left-btn--2qW5p"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/question/question-navigation-item.less":function(e,t,r){e.exports={"nav-item-link":"question-navigation-item--nav-item-link--2FcyZ",item:"question-navigation-item--item--1GVqy",highlight:"question-navigation-item--highlight--16iID",disabled:"question-navigation-item--disabled--2kXO5","skip-label":"question-navigation-item--skip-label--qDhOG"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/question/question-navigation.less":function(e,t,r){e.exports={header:"question-navigation--header--eTY5x","questions-list":"question-navigation--questions-list--Z4wM0","empty-list":"question-navigation--empty-list---iEQa","header-button":"question-navigation--header-button--1WIM2"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/question/test-timer.less":function(e,t,r){e.exports={wrapper:"test-timer--wrapper--2s2wp",inner:"test-timer--inner--OqrxM","question-count":"test-timer--question-count--3-3eM",clock:"test-timer--clock--3Htgo","quiz-progress":"test-timer--quiz-progress--1Inl3",fill:"test-timer--fill--NrtxO","btn-icon":"test-timer--btn-icon--3bf86","timer-expired":"test-timer--timer-expired--1z0LY","wrapper-mobile-app":"test-timer--wrapper-mobile-app--14tjV"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/changelog-modal.less":function(e,t,r){e.exports={"changelog-modal":"changelog-modal--changelog-modal--1bVBS","changelog-entry":"changelog-modal--changelog-entry--3vICh"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/collapsed-result-content.less":function(e,t,r){e.exports={"collapsed-chart":"collapsed-result-content--collapsed-chart--2wS70","collapsed-status":"collapsed-result-content--collapsed-status--3jHV1","collapsed-percent-correct":"collapsed-result-content--collapsed-percent-correct--16KMM"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/detailed-result-panel.less":function(e,t,r){e.exports={"detailed-result-panel":"detailed-result-panel--detailed-result-panel--2yIqr","panel-row":"detailed-result-panel--panel-row--3GC5G","top-row":"detailed-result-panel--top-row--kPYkV","chart-container":"detailed-result-panel--chart-container--3IzPD","question-container":"detailed-result-panel--question-container--Wvw6U"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/expanded-result-content.less":function(e,t,r){e.exports={"expanded-summary":"expanded-result-content--expanded-summary--16NfH","expanded-status":"expanded-result-content--expanded-status--292KF","expanded-percent-correct":"expanded-result-content--expanded-percent-correct--1lGTs","expanded-fraction-correct":"expanded-result-content--expanded-fraction-correct--3Z0t6","expanded-summary-bottom":"expanded-result-content--expanded-summary-bottom--1ftr3","expanded-chart":"expanded-result-content--expanded-chart--2kcff"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/knowledge-area-bar-chart.less":function(e,t,r){e.exports={"bar-chart":"knowledge-area-bar-chart--bar-chart--coj3c","bar-correct":"knowledge-area-bar-chart--bar-correct--3SUdJ","bar-incorrect":"knowledge-area-bar-chart--bar-incorrect---uuD8","bar-skipped":"knowledge-area-bar-chart--bar-skipped--2e4o7"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/result-panel.less":function(e,t,r){e.exports={toggler:"result-panel--toggler--3p6yw","toggler-icon":"result-panel--toggler-icon--1dp07",collapsed:"result-panel--collapsed--1FrMu","collapsed-panel-body":"result-panel--collapsed-panel-body--12YLK",expanded:"result-panel--expanded--1IH7-"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/result-status.less":function(e,t,r){e.exports={correct:"result-status--correct--u6CHR",incorrect:"result-status--incorrect--2xvsh",skipped:"result-status--skipped--3_-ct"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/results-group.less":function(e,t,r){e.exports={"results-group":"results-group--results-group--MucNH","group-header":"results-group--group-header--1MZgG"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/results-header.less":function(e,t,r){e.exports={"results-header":"results-header--results-header--1JFKZ"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/results/results-page-container.less":function(e,t,r){e.exports={"results-page-container":"results-page-container--results-page-container--1aBPi"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/practice-test/start/start-page.less":function(e,t,r){e.exports={title:"start-page--title--1wY9N",instructions:"start-page--instructions--npvO2"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/quiz-page-layout.less":function(e,t,r){e.exports={"quiz-header":"quiz-page-layout--quiz-header--2A1c9","web-quiz-layout":"quiz-page-layout--web-quiz-layout--8Ezy_"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/feedback-alert.less":function(e,t,r){e.exports={feedback:"feedback-alert--feedback--1wEw8"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/fitb-quiz-answer.less":function(e,t,r){e.exports={blank:"fitb-quiz-answer--blank--15CZC","blank-correct":"fitb-quiz-answer--blank-correct--3s8x-","icon-correct":"fitb-quiz-answer--icon-correct--1ZFh-","blank-wrong":"fitb-quiz-answer--blank-wrong--1bbPB","icon-wrong":"fitb-quiz-answer--icon-wrong--11vUC"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/fitb-quiz-question.less":function(e,t,r){e.exports={quiz__answer:"fitb-quiz-question--quiz__answer--1U6bA","quiz__show-answers":"fitb-quiz-question--quiz__show-answers--TXQik"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/mc-quiz-answer.less":function(e,t,r){e.exports={"answer-body":"mc-quiz-answer--answer-body--3-Pd6",correctness:"mc-quiz-answer--correctness--32CuC",correct:"mc-quiz-answer--correct--1L5yp",incorrect:"mc-quiz-answer--incorrect--vTPf9","question-copy":"mc-quiz-answer--question-copy--2yJqU"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/mc-quiz-question.less":function(e,t,r){e.exports={header:"mc-quiz-question--header--1v7MF","question-prompt":"mc-quiz-question--question-prompt--9If0o",correct:"mc-quiz-question--correct--3stI2",incorrect:"mc-quiz-question--incorrect--LCbjG",skipped:"mc-quiz-question--skipped--2Ctjl",star:"mc-quiz-question--star--364uu",explanation:"mc-quiz-question--explanation--YnErh"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/question-list.less":function(e,t,r){e.exports={"question-summary":"question-list--question-summary--3SGDw","related-lecture":"question-list--related-lecture--7uJUw"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/question/review-star.less":function(e,t,r){e.exports={star:"review-star--star--1OAcW",transparent:"review-star--transparent--3a33z",dark:"review-star--dark--1SIaJ",filled:"review-star--filled--2yuH9"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/related-lecture.less":function(e,t,r){e.exports={link:"related-lecture--link--3dkJg",video:"related-lecture--video--1MHxB"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/results/results-page.less":function(e,t,r){e.exports={result:"results-page--result--3YiKF","status-section":"results-page--status-section--1WRjH","result-title":"results-page--result-title--u0NQ6",header:"results-page--header--3zrnx","status-icon-spacer":"results-page--status-icon-spacer--1EvGj","success-icon":"results-page--success-icon--1aPJg","header--fail":"results-page--header--fail--yvBqc",title:"results-page--title--KozUy",summary:"results-page--summary--3FyMz"}},"./src/udemy/js/course-taking-v4/course-taking/quiz-view/simple-quiz/start/start-page.less":function(e,t,r){e.exports={title:"start-page--title--1MQ1v",nav:"start-page--nav--3ICA2"}},"./src/udemy/js/course-taking-v4/current-course.ng-service.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/ng/services/course-resources.ng-factory.js"),s=r("./src/udemy/js/ng/ud-core.js"),a=n.a.module("course-taking-v4/current-course.ng-service",[s.a.name,i.a.name]).service("CurrentCourse",l);function l(e,r){n.a.extend(this,e.course),this.loadExtraData=function(e){var t=this;return e.courseId=this.id,r.get(e).$promise.then(function(e){return n.a.extend(t,e),t})}}l.$inject=["$rootScope","Course"],t.a=a},"./src/udemy/js/course-taking-v4/curriculum/continue-button.less":function(e,t,r){e.exports={icon:"continue-button--icon--3xa_4",loader:"continue-button--loader--3_dpm",responsive:"continue-button--responsive--3c3TI",btn__label:"continue-button--btn__label--3H0BR"}},"./src/udemy/js/course-taking-v4/curriculum/curriculum-item-controls.less":function(e,t,r){e.exports={"settings-menu":"curriculum-item-controls--settings-menu--1qcx0","fullscreen-tooltip":"curriculum-item-controls--fullscreen-tooltip---J_XG"}},"./src/udemy/js/course-taking-v4/dashboard/announcements/announcements.less":function(e,t,r){e.exports={content:"announcements--content--njjXn","empty-announcement":"announcements--empty-announcement--3PzHH",details:"announcements--details--3vdfF",avatar:"announcements--avatar--1YV5Y","instructor-name":"announcements--instructor-name--j8Y8D","report-abuse":"announcements--report-abuse--3iC_J",body:"announcements--body--3Ncud","panel-body":"announcements--panel-body--276c_"}},"./src/udemy/js/course-taking-v4/dashboard/bookmarks-dashboard.less":function(e,t,r){e.exports={"no-bookmarks-container":"bookmarks-dashboard--no-bookmarks-container--1CR0Q","large-bookmark-icon":"bookmarks-dashboard--large-bookmark-icon--13KhZ",loading:"bookmarks-dashboard--loading--1Xfnd","bookmarks-container":"bookmarks-dashboard--bookmarks-container--2l0TJ",bookmark:"bookmarks-dashboard--bookmark--3iOrR",info:"bookmarks-dashboard--info--2mlYJ",position:"bookmarks-dashboard--position--39JZR","section-heading":"bookmarks-dashboard--section-heading--1e_KR","section-panel":"bookmarks-dashboard--section-panel--2-U2K","lecture-heading":"bookmarks-dashboard--lecture-heading--2Pxqm",lecture:"bookmarks-dashboard--lecture--1dkm0"}},"./src/udemy/js/course-taking-v4/dashboard/content.ng-template.html":function(e,t){var r="/course-taking-v4/dashboard/content.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,"<course-content course-id=course.id></course-content> ")}]),e.exports=r},"./src/udemy/js/course-taking-v4/dashboard/course-content-dashboard.less":function(e,t,r){e.exports={dashboard:"course-content-dashboard--dashboard--qvMt6"}},"./src/udemy/js/course-taking-v4/dashboard/dashboard.ng-template.html":function(e,t){var r="/course-taking-v4/dashboard/dashboard.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div> <react-component ng-if=course_exit_review_popup_enabled name=CourseExitReviewPopup props=course_exit_review_popup_props watch-depth=collection> </react-component> <dashboard-header></dashboard-header> <div class=course-dashboard__bottom> <navbar></navbar> <div class="bottom__content container" data-ui-view> </div> </div> <survey-dialog ng-if=contextualSurveyStore course=course store=contextualSurveyStore watch-depth=reference> </survey-dialog> </div> ')}]),e.exports=r},"./src/udemy/js/course-taking-v4/dashboard/header/header.less":function(e,t,r){e.exports={"course-dashboard-header":"header--course-dashboard-header--3zUm3","course-dashboard-header-row":"header--course-dashboard-header-row--2SJjM","course-image-container":"header--course-image-container--3goYM","course-image-button":"header--course-image-button--2PAGj","course-image-overlay":"header--course-image-overlay--2ihBK","course-info-container":"header--course-info-container--3rl1K","course-title":"header--course-title--1bvpT","course-header-middle":"header--course-header-middle--wdh1r","course-header-actions":"header--course-header-actions--2urQu","course-header-action":"header--course-header-action--VBYPz","ratings-container":"header--ratings-container--SrmSS","progress-container":"header--progress-container--22fbc","course-progress-message":"header--course-progress-message--LgBQ-","reset-progress":"header--reset-progress--3a_mz","progress-info-container":"header--progress-info-container--89J9G","progress-bar":"header--progress-bar--2fFwW","no-trophy":"header--no-trophy--1Noyg","completion-indicator":"header--completion-indicator--3JBh0","certificate-status-container":"header--certificate-status-container--33uc1","certificate-download-link":"header--certificate-download-link--dmsj_","certificate-progress-bar":"header--certificate-progress-bar--2rdQb","certificate-ready":"header--certificate-ready--zjqgM","ufb-context-menu":"header--ufb-context-menu--3fl7v"}},"./src/udemy/js/course-taking-v4/dashboard/navbar/navbar.less":function(e,t,r){e.exports={navbar:"navbar--navbar--hIJRv","menu-text":"navbar--menu-text--1Bq8n","options-dropdown":"navbar--options-dropdown--2LvRt"}},"./src/udemy/js/course-taking-v4/dashboard/overview/course-overview.less":function(e,t,r){e.exports={"dashboard-overview":"course-overview--dashboard-overview--1TW1f","top-separator":"course-overview--top-separator--20iN7","description-section":"course-overview--description-section--xAGjj"}},"./src/udemy/js/course-taking-v4/dashboard/overview/instructor-profile.less":function(e,t,r){e.exports={"header-row":"instructor-profile--header-row--BpzJW","title-wrapper":"instructor-profile--title-wrapper--1LxxY",title:"instructor-profile--title--3UNk2",description:"instructor-profile--description--3UhH7","social-links-row":"instructor-profile--social-links-row--1MQ1x","social-profile-btn":"instructor-profile--social-profile-btn--17zUe"}},"./src/udemy/js/course-taking-v4/dashboard/overview/recent-announcements.less":function(e,t,r){e.exports={"loading-recent-announcements":"recent-announcements--loading-recent-announcements--wq226","recent-announcement":"recent-announcements--recent-announcement--3ynsl",title:"recent-announcements--title--2-NfW","announcement-link":"recent-announcements--announcement-link--2151f","no-recent-announcements":"recent-announcements--no-recent-announcements--w0MsD","recent-announcements":"recent-announcements--recent-announcements--12WfZ"}},"./src/udemy/js/course-taking-v4/dashboard/overview/recent-questions.less":function(e,t,r){e.exports={"loading-recent-questions":"recent-questions--loading-recent-questions--1Y3R0","recent-question":"recent-questions--recent-question--2Zo43","question-link":"recent-questions--question-link--1ChIJ","no-recent-questions":"recent-questions--no-recent-questions--1Wpn5","recent-questions":"recent-questions--recent-questions--3wqG4"}},"./src/udemy/js/course-taking-v4/dashboard/question-details.less":function(e,t,r){e.exports={"back-link":"question-details--back-link--lT5VV",details:"question-details--details--2Lyxr"}},"./src/udemy/js/course-taking-v4/dashboard/question-overview.less":function(e,t,r){e.exports={wrapper:"question-overview--wrapper--2yUqR","search-bar":"question-overview--search-bar--3yFsJ",search:"question-overview--search--3TyVh",or:"question-overview--or--WmGRo","ask-label--long":"question-overview--ask-label--long--r16vP","ask-label--short":"question-overview--ask-label--short--1eqjx","sort-and-filter":"question-overview--sort-and-filter--DAEYZ",sort:"question-overview--sort--3l41D",filters:"question-overview--filters--1pAEF","question-list":"question-overview--question-list--KlsVt",question:"question-overview--question--244jE","question-content":"question-overview--question-content--2M-k-"}},"./src/udemy/js/course-taking-v4/dashboard/student-survey/survey-dialog.less":function(e,t,r){e.exports={"survey-dialog":"survey-dialog--survey-dialog--2ycaC","survey-question__big":"survey-dialog--survey-question__big--3gu4S"}},"./src/udemy/js/course-taking-v4/loading-screen/loading-screen.ng-service.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=(r("./node_modules/angular-animate/index.js"),n.a.module("course-taking-v4/loading-screen/loading-screen.ng-service",["ngAnimate"]).service("loadingScreen",s));function s(e){var t=document.getElementsByClassName("loading-screen")[0];this.show=function(){e.addClass(t,"show")},this.hide=function(){e.removeClass(t,"show")}}s.$inject=["$animate"],t.a=i},"./src/udemy/js/course-taking-v4/question-answer/action-menu.less":function(e,t,r){e.exports={dropdown:"action-menu--dropdown--3HYc6",active:"action-menu--active--2O4dk",disabled:"action-menu--disabled--33oc-"}},"./src/udemy/js/course-taking-v4/question-answer/answer-editor.less":function(e,t,r){e.exports={buttons:"answer-editor--buttons--22NRl"}},"./src/udemy/js/course-taking-v4/question-answer/answer.less":function(e,t,r){e.exports={answer:"answer--answer--2QIpY","top-answer":"answer--top-answer--2v3Dx",image:"answer--image--CXl-k",info:"answer--info--2wSRa",user:"answer--user--2qHvD","instructor-tag":"answer--instructor-tag--24Okp","top-answer-badge":"answer--top-answer-badge--3F7ZV",body:"answer--body--2g-LP","edit-buttons":"answer--edit-buttons--4tvR5",upvoted:"answer--upvoted--1ft9Q"}},"./src/udemy/js/course-taking-v4/question-answer/new-question.less":function(e,t,r){e.exports={"support-link":"new-question--support-link--2P7B7",small:"new-question--small--aynnD"}},"./src/udemy/js/course-taking-v4/question-answer/question-details.less":function(e,t,r){e.exports={question:"question-details--question--35wJT",info:"question-details--info--FjIHr",title:"question-details--title--1sCu2",body:"question-details--body--5k8IF","follow-button":"question-details--follow-button--1VnYM","follow-button--following":"question-details--follow-button--following--25JZP","answer-list":"question-details--answer-list--h_RWQ",answers:"question-details--answers--DDU_n","load-more-answers":"question-details--load-more-answers--1N55v","dummy-answer-input-container":"question-details--dummy-answer-input-container--2-6JD","dummy-answer-input":"question-details--dummy-answer-input--3tfPr"}},"./src/udemy/js/course-taking-v4/question-answer/question-editor.less":function(e,t,r){e.exports={"title-editor":"question-editor--title-editor--2n8ko",buttons:"question-editor--buttons--1NiZo"}},"./src/udemy/js/course-taking-v4/question-answer/question-list-question.less":function(e,t,r){e.exports={wrapper:"question-list-question--wrapper--1zMqr","question-link":"question-list-question--question-link--iEDXQ",content:"question-list-question--content--SEjFC",title:"question-list-question--title--4K-V_",body:"question-list-question--body--2v0oT","num-answers":"question-list-question--num-answers--2vE_g","new-question-confirmation":"question-list-question--new-question-confirmation--1BRvv"}},"./src/udemy/js/course-taking-v4/question-answer/question-list.less":function(e,t,r){e.exports={questions:"question-list--questions--LUSO1","raise-hand":"question-list--raise-hand--1TWCT","raise-hand__title":"question-list--raise-hand__title--2KoyX","load-more":"question-list--load-more--3K2un"}},"./src/udemy/js/course-taking-v4/question-answer/questions-disabled.less":function(e,t,r){e.exports={reason:"questions-disabled--reason--1I08K"}},"./src/udemy/js/course-taking-v4/view-mode.ng-service.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o).a.module("course-taking-v4/view-mode.ng-service",[]).service("ViewMode",i);function i(t){var r=this;this.previewMode="",this.setPreviewMode=function(e){r.previewMode=e},this.isPreviewing=function(){return Boolean(r.previewMode)},this.isViewingAsInstructor=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.viewMode;return-1!==["instructor_read_view","instructor_edit_view"].indexOf(e)},this.isInstructor=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.viewMode;return-1!==["instructor_read_view","instructor_edit_view","preview_as_subscriber_view"].indexOf(e)},this.canEditCourse=function(){return"instructor_edit_view"===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.viewMode)},this.canMarkTopAnswer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.canMarkTopAnswer;return void 0===e||e},this.isPreviewingAsSubscriber=function(){return"preview_as_subscriber_view"===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.viewMode)}}i.$inject=["$rootScope"],t.a=n},"./src/udemy/js/intercom/app.js":function(e,t,r){"use strict";r.r(t),r.d(t,"appModule",function(){return h}),r.d(t,"default",function(){return m});var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/angular-intercom/angular-intercom.js"),s=r.n(i),a=r("./src/udemy/js/eu-cookie-message/eu-cookie-message.mobx-store.js"),l=r("./src/udemy/js/utils/ud-config.js"),c=r("./src/udemy/js/utils/ud-me.js"),u=r("./src/udemy/js/utils/ud-render-angular-apps.js"),p=r("./src/udemy/js/utils/ud-request.js"),d={};c.a.id&&Object.assign(d,{email:c.a.email,name:c.a.title,created_at:c.a.created,user_id:c.a.id}),p.a.extraIntercomData&&(Object.assign(d,p.a.extraIntercomData),d.hide_default_launcher=Object(a.b)()||d.hide_default_launcher);var h=n.a.module("intercom/app",[s.a.name]).config(["$intercomProvider",function(e){l.a.features.intercom_chat&&e.asyncLoading(!0).appID(l.a.third_party.intercom.app_id)}]).run(["$intercom",function(e){l.a.features.intercom_chat&&e.boot(d)}]);function m(e,t){Object(u.a)(e,".ud-angular--intercom--app",h,t)}},"./src/udemy/js/my-courses/collection-cache.ng-factory.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o).a.module("my-courses/collection-cache.ng-factory",[]).factory("collectionCache",["$cacheFactory",function(e){return e("collectionCache")}]);t.a=n},"./src/udemy/js/ng/config/http-interceptors.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/jquery/dist/jquery.js-exposed"),s=r.n(i),a=r("./src/udemy/js/utils/ud-api.js");t.a=["$httpProvider",function(e){function t(e){return void 0===e?e:s.a.param(e)}function r(e){return void 0===e?e:s.a.param(e,!0)}e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.interceptors.push(function(){return{request:function(e){return 0<=e.url.search("/api-2.0/")&&n.a.extend(e.headers,a.b),e.headers["Content-Type"]&&-1<e.headers["Content-Type"].indexOf("application/x-www-form-urlencoded")&&(e.traditionalFormSubmit?e.transformRequest=r:e.transformRequest=t),e}}})}]},"./src/udemy/js/ng/constants/channel.ng-constant.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/browse/lib/constants.js"),s=r("./src/udemy/js/ng/ud-translate.ng-service.js");e=n.a.module("ng/constants/channel.ng-constant",[s.a.name]).value("CoursePagination",{pageSize:12}).value("FunnelTrackingConstants",i.t).value("CATEGORY_CHANNEL","category").value("SUBCATEGORY_CHANNEL","subcategory").value("FEATURED_CHANNEL","featured").value("HOMEPAGE_CHANNEL","home").value("KEYWORD_CHANNEL","keyword").value("TEACH_CHANNEL","collection").value("COLLECTION_CHANNEL","collection").value("DYNAMIC_TAG_COLLECTION_CHANNEL","dynamic_tag_collection").value("TAG_BASED_COLLECTION_CHANNEL","tag_based_collection_channel").value("COLLECTION_BASED_COLLECTION_CHANNEL","collection_based_collection_channel").value("BACKGROUND_COLOR_SEE_ALL_PAGE","see_all_courses").value("TARGET_TYPE_COURSE","course").value("TARGET_TYPE_NON_CHANNEL","non_channel").value("TARGET_TYPE_EDITORIAL_COURSE_UNIT","editorial_course_unit").value("TARGET_TYPE_EDITORIAL_INSTRUCTOR_UNIT","editorial_instructor_unit");t.a=e},"./src/udemy/js/ng/directives/common/inplace-wysiwyg/inplace-wysiwyg.ng-directive.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/ng/directives/common/ud-wysiwyg.ng-directive.js"),s=r("./src/udemy/js/ng/filters/htmlutils.ng-filter.js"),a=r("./src/udemy/js/ng/ud-core.js"),l=r("./src/udemy/js/ng/directives/common/inplace-wysiwyg/inplace-wysiwyg.ng-template.html"),c=r.n(l),u=n.a.module("ng/directives/common/inplace-wysiwyg/inplace-wysiwyg.ng-directive",[a.a.name,i.a.name,s.a.name]).directive("inplaceWysiwyg",p);function p(o){return{restrict:"E",replace:!0,transclude:!0,templateUrl:c.a,scope:{editorValue:"=",placeholderText:"@?",theme:"@?",submitDisabled:"=?",submitLabel:"@?",submitFn:"&",editorHidden:"=",allowBlankAnswers:"@"},controller:d,compile:function(e,t){var r=o(t.submitFn);return function(e){e.parsedSubmitFn=r}}}}function d(e,t,r,o){e.openEditor=function(){e.editorHidden=!1,e.editorError=!1},e.closeEditor=function(){e.editorHidden=!0,e.editorError=!1},e.submitHandler=function(){e.allowBlankAnswer||o("htmlHasContent")(e.editorValue)?(e.parsedSubmitFn(e.$parent,{value:e.editorValue}),e.editorError=!1):e.editorError=!0},e.submitLabel=n.a.isDefined(e.submitLabel)?e.submitLabel:r.getString("Submit")}p.$inject=["$parse"],d.$inject=["$scope","$element","gettextCatalog","$filter"],t.a=u},"./src/udemy/js/ng/directives/common/inplace-wysiwyg/inplace-wysiwyg.ng-template.html":function(e,t){var r="/ng/directives/common/inplace-wysiwyg/inplace-wysiwyg.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div> <div ng-show=editorHidden data-purpose=inplace-content> <div ng-transclude> </div> </div> <div ng-show=!editorHidden data-purpose=inplace-editor class=editor-group ng-class="{\'has-error\': editorError}"> <ud-wysiwyg editor-value=editorValue focus=!editorHidden placeholder-text="{{ placeholderText }}" theme="{{ theme }}"></ud-wysiwyg> <small class=help-block ng-if=editorError translate> Text Required </small> <div class="submit-row pt10"> <button data-purpose=submit-wysiwyg type=submit class="btn btn-sm btn-primary" ng-disabled=submitDisabled ng-click="!submitDisabled && submitHandler()" translate> {{ submitLabel }} </button> <button data-purpose=close-wysiwyg type=submit class="btn btn-sm btn-tertiary" ng-disabled=submitDisabled ng-click="!submitDisabled && closeEditor()" translate> Cancel </button> </div> </div> </div> ')}]),e.exports=r},"./src/udemy/js/ng/directives/common/modal/modal-window.ng-template.html":function(e,t){var r="/ng/directives/common/modal/modal-window.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,"<div modal-render={{$isRendered}} tabindex=-1 role=dialog class=\"modal generic-modal\" modal-animation-class=fade modal-in-class=in ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\"> <div class=modal-dialog ng-class=\"size ? 'modal-' + size : ''\"> <div class=modal-content> <div stop-propagation=touchend stop-condition=true> <div modal-transclude></div> </div> <a class=close href=javascript:void(0) ng-click=close($event) data-purpose=close-popup aria-label=\"{{ 'close' | translate }}\"> <span aria-hidden=true ng-click=close($event)>×</span> </a> </div> </div> </div> ")}]),e.exports=r},"./src/udemy/js/ng/directives/common/modal/open-modal.ng-directive.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/jsuri/Uri.js"),p=r.n(i),s=(r("./node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls-0.13.1.js"),r("./src/udemy/js/ng/directives/common/utils.ng-directive.js")),d=r("./src/udemy/js/utils/ud-link.js"),a=r("./src/udemy/js/ng/directives/common/modal/modal-window.ng-template.html"),l=r.n(a),c=r("./node_modules/jquery/dist/jquery.js-exposed"),u=r.n(c),h=r("./node_modules/lodash-es/isObject.js"),m=r("./src/udemy/js/base-components/ajax-modal/enable-loader-handler-helpers.js"),b=r("./src/udemy/js/loaders/ud-app-loader.js"),y=r("./src/udemy/js/utils/serialize-form.js"),f=r("./src/udemy/js/utils/ud-utils.js");function g(i,s,a,l,e){e.rendered.then(function(){var o=u()(".generic-modal");function e(){(a.enableLoader||a.requireLogin)&&(o.find("a:not([data-disable-loader])").off("click",t).on("click",t),o.find("form").off("submit",r).on("submit",r),n(o.find(".run-command")))}function t(e){var t=u()('<a href="'.concat(this.href,'"></a>'))[0].host;if("_blank"===this.target||!this.href||!t)return!0;e.preventDefault(),a.openTemplateUrl(e.target.href),a.$dismiss()}function r(e){e.preventDefault();var t=u()(this),r=Object(y.a)(t);return o.find(".js-form-submit-loader").show(),i({traditionalFormSubmit:!!a.traditionalFormSubmit,method:t.attr("method"),url:t.attr("action"),data:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;if(o.find(".js-form-submit-loader").hide(),Object(h.a)(t))a.beforeRedirect?s.when(a.beforeRedirect()).finally(function(){l.location.href=t.returnUrl}):l.location.href=t.returnUrl;else{var r=u()(t).filter(".run-command");if(0===r.length)return a.openTemplate(t),void a.$close();n(r)}}).catch(function(){o.find(".js-form-submit-loader").hide(),a.openTemplate('<div class="fx-c" style="height:200px;">\n                        '.concat(gettext("An unknown error occurred"),"\n                    </div>")),a.$close()}),!1}function n(e){e.each(function(e,t){var r=u()(t);r.hasClass("close-popup")&&a.$close(),r.hasClass("redirect")&&(l.location.href=r.data("url")),r.hasClass("refresh-page")&&l.location.reload(),r.hasClass("give-feedback")&&f.b.Feedback.fromText(r.data("feedback"),r.data("feedbackType")),r.hasClass("remove-element")&&u()(r.data("element")).remove()})}Object(m.a)(o,e),a.$on("$destroy",function(){Object(m.b)(o,e)}),Object(b.a)(o),e(),o.on("keydown",function(e){var t=e.which||e.keyCode,r=e.target||e.srcElement,o=!(!r||!r.type&&!u()(r).is("[contenteditable]"));27===t&&o&&e.stopPropagation()}),o.on("ud-modal.close",function(){a.$close()})})}g.$inject=["$http","$q","$scope","$window","$modalInstance"];var v=n.a.module("ng/directives/common/modal/modal.ng-controller",["ui.bootstrap"]).controller("ModalController",g),w=r("./src/udemy/js/ng/ud-translate.ng-service.js");function k(t,n){var i={},r={animation:!0,keyboard:"static"!==n.backdrop,scope:n,controller:"ModalController",additionalClass:n.additionalClass?n.additionalClass:"",windowClass:n.hasHeader?"modal--has-header":""};function o(r){var o;if(r.templateUrl&&!i[r.templateUrl]){var e=u()('<div class="js-popup-loader">\n                    <div class="fxc popup-backdrop">\n                        <span class="udi udi-circle-loader udi-large text-white"></span>\n                    </div>\n                 </div>');u()("body").prepend(e),u()(".modal-backdrop").hide(),(o=t.open(r)).opened.finally(function(){e.remove(),u()(".modal-backdrop").show()})}else o=t.open(r);o.result.finally(function(){u()(".generic-modal").trigger("ud-modal.closed"),n.onClose()}),i[r.templateUrl]=!0,o.rendered.finally(function(){var e=u()("body"),t=".generic-modal, .modal-dialog, .modal-backdrop";u()(".generic-modal").addClass(r.additionalClass),e.off("click",t),e.on("click",t,function(e){u()(e.target).is(t)&&("static"===n.backdrop?e.preventDefault():o.close(e))}),n.onOpen&&n.onOpen()})}n.openTemplate=function(e){o(babelHelpers.objectSpread({template:e,windowTemplateUrl:n.modalWindowTemplateUrl},r))},n.openTemplateUrl=function(e){o(babelHelpers.objectSpread({templateUrl:e,windowTemplateUrl:n.modalWindowTemplateUrl},r))}}k.$inject=["$modal","$scope"];var C=n.a.module("ng/directives/common/modal/open-modal.ng-controller",["ui.bootstrap",w.a.name]).controller("OpenModalController",k);function _(){return{restrict:"A",controller:"OpenModalController",scope:{backdrop:"@",beforeOpen:"=?",requireLogin:"=",enableLoader:"=",disableCache:"=?",traditionalFormSubmit:"=?",hasHeader:"=?",autoOpen:"=?",onClose:"&?",onOpen:"&?",additionalClass:"@"},link:function(t,r,o){t.modalWindowTemplateUrl=l.a,t.autoOpen&&S(t,r,o),r.on("click",function(e){e.preventDefault(),t.beforeOpen?t.beforeOpen().then(function(){S(t,r,o)}):S(t,r,o)})}}}function S(e,t,r){r.templateUrl||r.href?e.openTemplateUrl(function(e){var t=e.href,r=e.templateUrl,o=e.requireLogin,n=e.showLoginPopup,i=e.signupPopupIdentifier,s=e.disableCache,a=new p.a(r||t);s&&a.addQueryParam("v",Date.now().toString());var l=a.toString();if(o){var c=n?"login-popup":"signup-popup",u={display_type:"popup",next:l};i&&(u.xref=i),l=d.a.to("join",c,u)}else l=a.addQueryParam("display_type","popup").toString();return l}(r)):e.openTemplate(t.html())}_.$inject=[];t.a=n.a.module("ng/directives/common/modal/open-modal.ng-directive",["ui.bootstrap",s.a.name,v.name,C.name]).directive("openModal",_)},"./src/udemy/js/ng/directives/common/prettify.ng-directive.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/google-code-prettify/bin/prettify.min.js"),s=n.a.module("ng/directives/common/prettify.ng-directive",[]).directive("prettify",a);function a(o){return{restrict:"A",priority:10,link:function(e,t,r){e.$watch(r.ngBindHtml,function(){var e=t.find(".prettyprint.linenums");e&&0<e.length&&(o(function(){return Object(i.prettyPrint)(null,t[0])},parseInt(r.prettifyDelay,10)||0),r.prettifyStopPropagation&&0<r.prettifyStopPropagation.length&&e.click(function(e){e.stopPropagation()}))})}}}a.$inject=["$timeout"],t.a=s},"./src/udemy/js/ng/directives/common/react-user-image.ng-directive.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/ngreact/ngReact.js"),s=r.n(i),a=r("./src/udemy/js/base-components/user-image.react-component.js");t.a=n.a.module("ng/directives/common/react-user-image.ng-directive",[s.a.name]).value("UserImage",a.b).directive("reactUserImage",function(){return{link:function(e){e.props={user:e.user,src:e.src,"data-purpose":e.purpose,alt:e.alt||"",size:e.size}},restrict:"E",scope:{user:"=",src:"=?",purpose:"=?",alt:"=?",size:"=?"},template:'<react-component props="props" name="UserImage" watch-depth="reference"></react-component>'}})},"./src/udemy/js/ng/directives/common/ud-wysiwyg.ng-directive.js":function(e,t,r){"use strict";var o,n,i=r("./node_modules/angular/angular.js"),s=r.n(i),a=r("./node_modules/mobx/lib/mobx.js"),l=r("./node_modules/mobx-react/index.module.js"),c=r("./node_modules/ngreact/ngReact.js"),u=r.n(c),p=r("./node_modules/prop-types/index.js"),d=r.n(p),h=r("./node_modules/react/index.js"),m=r.n(h),b=r("./src/udemy/js/base-components/rich-text-editor/rich-text-editor.react-component.js"),y=r("./src/udemy/js/ng/directives/common/ud-wysiwyg.ng-template.html"),f=r.n(y),g=(o=function(){function e(){babelHelpers.classCallCheck(this,e),babelHelpers.initializerDefineProperty(this,"value",n,this)}return babelHelpers.createClass(e,[{key:"setValue",value:function(e){this.value=e}}]),e}(),n=babelHelpers.applyDecoratedDescriptor(o.prototype,"value",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),babelHelpers.applyDecoratedDescriptor(o.prototype,"setValue",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"setValue"),o.prototype),o),v=Object(l.d)(function(e){var t=e.store,r=babelHelpers.objectWithoutProperties(e,["store"]);return m.a.createElement(b.a,Object.assign({},r,{value:t.value}))});v.propTypes=babelHelpers.objectSpread({},b.a.propTypes,{store:d.a.instanceOf(g).isRequired}),t.a=s.a.module("ng/directives/common/ud-wysiwyg.ng-directive",[u.a.name]).value("WorkaroundRichTextEditor",v).directive("udWysiwyg",[function(){return{restrict:"E",transclude:!0,scope:{disabled:"=?",focus:"=",editorValue:"=",onInit:"=?",placeholderText:"@?",theme:"@",toolbarFixed:"=?",minHeight:"@?"},templateUrl:f.a,link:function(t){var r,o=new g;function n(e){(e=e||"")!==o.value&&(o.setValue(e),t.editorValue=e)}s.a.isDefined(t.toolbarFixed)||(t.toolbarFixed=!0),t.props={autoFocus:!!t.focus,contentEditable:!t.disabled,minHeight:t.minHeight,onInit:function(e){r=e,t.onInit&&t.onInit(r)},onValueChange:n,placeholder:t.placeholderText,store:o,theme:t.theme,toolbarFixed:t.toolbarFixed},n(t.editorValue),t.$watch("editorValue",function(e){"string"==typeof e&&n(e)}),t.$watch("focus",function(e){!0===e&&r&&setTimeout(r.focus,100)}),t.$watch("placeholderText",function(e){t.props.placeholder=e})}}}])},"./src/udemy/js/ng/directives/common/ud-wysiwyg.ng-template.html":function(e,t){var r="/ng/directives/common/ud-wysiwyg.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,"<react-component props=props name=WorkaroundRichTextEditor watch-depth=reference></react-component> ")}]),e.exports=r},"./src/udemy/js/ng/directives/common/utils.ng-directive.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/angular-gettext/index.js"),s=r.n(i),a=r("./node_modules/jquery/dist/jquery.js-exposed"),l=r.n(a),c=r("./src/udemy/js/utils/handle-import-error.js"),u=r("./src/udemy/js/utils/ud-performance.js");t.a=n.a.module("ng/directives/common/utils.ng-directive",[s.a]).directive("stopPropagation",function(){return function(e,t,r){e.$eval(r.stopCondition)&&l()(t).on(r.stopPropagation,function(e){e.stopPropagation()})}}).directive("textAreaExpand",function(){return function(e,t){Promise.resolve().then(r.t.bind(null,"./node_modules/autosize/dist/autosize.js",7)).then(function(e){e.default(t)}).catch(c.a)}}).directive("focusOn",["$timeout",function(n){return function(t,r,o){t.$watch(o.focusOn,function(e){!0===e&&n(function(){var e=l()(r[0]).val();l()(r[0]).focus().val("").val(e),t[o.focusOn]=!1})})}}]).directive("blurOn",["$timeout",function(n){return function(t,r,o){t.$watch(o.blurOn,function(e){!0===e&&n(function(){var e=l()(r[0]).val();l()(r[0]).blur().val("").val(e),t[o.blurOn]=!1})})}}]).directive("perfMarkOnLoad",function(){return{restrict:"A",link:function(e,t,r){"true"==r.perfMarkOnLoad&&t.on("load",function(e){var t=e.currentTarget.currentSrc;t&&u.a.trackResourceTiming("_image",t),u.a.mark(r.perfMarkName),u.a.sync()})}}})},"./src/udemy/js/ng/directives/units/affinity-topic-unit/affinity-topic-unit.ng-template.html":function(e,t){var r="/ng/directives/units/affinity-topic-unit/affinity-topic-unit.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div class="c_topic-wrap c_topic--border mb30"> <a class=c_topic ng-class="{\'c_topic_item_border\': showRelatedTopicUnitBorder}" data-purpose="course-label-{{ item.id }}" ng-repeat="item in affinityTopicItems" ng-click=cntl.itemClicked(item) in-view=$inview&&cntl.markAsSeen(item)> {{ item.display_name | translate }} </a> </div> ')}]),e.exports=r},"./src/udemy/js/ng/directives/units/become-an-instructor-unit/become-an-instructor-unit.less":function(e,t,r){e.exports={"custom-module":"become-an-instructor-unit--custom-module--OFDUd",container:"become-an-instructor-unit--container--1CG65",header:"become-an-instructor-unit--header--1bnHO",body:"become-an-instructor-unit--body--U9YJ4"}},"./src/udemy/js/ng/directives/units/carousel-course-list-unit/carousel-course-list-unit.ng-template.html":function(e,t){var r="/ng/directives/units/carousel-course-list-unit/carousel-course-list-unit.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div class="carousel-discovery-unit-mask {{ channelType === HOMEPAGE_CHANNEL ? \'mt10\' : \'\'}}"> <div class=pos-r style=height:100px ng-hide=carousel_items> <div class="preloader--center preloader--lg"> <div class="udi udi-circle-loader"></div> </div> </div> <slick settings=slickConfig in-view=$inview&&cntl.markAsSeen() ng-style=marginStyle ng-if=carousel_items> <div ng-repeat="carousel_item in carousel_items" class=slick-carousel> <carousel-item ng-if="carousel_item._class==\'carousel_item\'" item=carousel_item></carousel-item> <editorial-instructor-unit ng-if="carousel_item._class==\'editorial_instructor_unit\'" unit="{custom_content: carousel_item}" source=source sub-context=carousel></editorial-instructor-unit> <editorial-course-unit ng-if="carousel_item._class==\'editorial_course_unit\'" unit="{custom_content: carousel_item}" source=source sub-context=carousel></editorial-course-unit> </div> </slick> </div> ')}]),e.exports=r},"./src/udemy/js/ng/directives/units/carousel-course-list-unit/carousel-item.less":function(e,t,r){e.exports={carousel_item:"carousel-item--carousel_item--2H36o",inner:"carousel-item--inner--21DaX",left:"carousel-item--left--3bfbi",center:"carousel-item--center--3uz5a",right:"carousel-item--right--3Ay3T",label:"carousel-item--label--3iwgI",title:"carousel-item--title--1bMSi","text-block":"carousel-item--text-block--1QSlL",footer:"carousel-item--footer--2xeCQ","carousel_item-background":"carousel-item--carousel_item-background--1S6l9"}},"./src/udemy/js/ng/directives/units/channel-list-unit/channel-item.ng-template.html":function(e,t){var r="/ng/directives/units/channel-list-unit/channel-item.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<li class=channel__item data-purpose="channel-{{ ::channel.title }}"> <a href="{{ ::channel.url_title }}" class=skin-color> <span class=sim-icons><span class="{{ ::channel.icon_class }}"></span></span> <span class=sim-title>{{ ::channel.title | translate}}</span> </a> </li> ')}]),e.exports=r},"./src/udemy/js/ng/directives/units/channel-list-unit/channel-list-unit.ng-template.html":function(e,t){var r="/ng/directives/units/channel-list-unit/channel-list-unit.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<ul class="related-topics fxjsb" data-purpose=channel-discovery-unit> <channel-item channel=channel ng-repeat="channel in channelList | limitTo:5" in-view=$inview&&cntl.markAsSeen(channel)></channel-item> </ul> ')}]),e.exports=r},"./src/udemy/js/ng/directives/units/course-list-unit/course-label-filter/course-label-filter.less":function(e,t,r){e.exports={"course-label-filter-item":"course-label-filter--course-label-filter-item--mhamH","course-label-filter--container":"course-label-filter--course-label-filter--container--3tc9V","icon-loading__container":"course-label-filter--icon-loading__container--2mPw8","icon-loading":"course-label-filter--icon-loading--2zDVN"}},"./src/udemy/js/ng/directives/units/course-list-unit/course-list-unit.less":function(e,t,r){e.exports={"title-container":"course-list-unit--title-container--ih3Jq","with-subtitle":"course-list-unit--with-subtitle--16N-V","contextual-text-experiment-active":"course-list-unit--contextual-text-experiment-active--3pnFQ","card-margin":"course-list-unit--card-margin--35yHw"}},"./src/udemy/js/ng/directives/units/custom-content-unit/custom-content-unit.ng-template.html":function(e,t){var r="/ng/directives/units/custom-content-unit/custom-content-unit.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,"<div ng-bind-html=htmlContent></div> ")}]),e.exports=r},"./src/udemy/js/ng/directives/units/discovery-unit-container.ng-template.html":function(e,t){var r="/ng/directives/units/discovery-unit-container.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div class="fxw db-xs pos-r c_discovery-units__header" data-us="{{ unit.score }}" data-purpose=discovery-unit-container ng-class="{\'fx-rb\': displaySubTitle}" ng-if="directiveName !== \'course-list-unit\' && (channelType === HOMEPAGE_CHANNEL || !hideTop)"> <div class=c_discovery-units__title-container ng-class="{\'c_discovery-units__contextual-texts\': displaySubTitle}"> <h2 class=c_discovery-units__title ng-class="{\'c_discovery-units__contextual-texts-active\': contextualTextExpActive}" ng-bind-html="trustedUnitTitle | translate" data-purpose="discovery-unit-{{ unit.id }}"></h2> <h1 class=c_discovery-units__title ng-if=displaySubTitle>{{unitSubTitle | translate}}</h1> </div> </div> ')}]),e.exports=r},"./src/udemy/js/ng/directives/units/editorial-course-unit/editorial-course-unit.less":function(e,t,r){e.exports={"c_editorial-course-unit":"editorial-course-unit--c_editorial-course-unit--1DWRx",image:"editorial-course-unit--image--CuFjk","bg-image":"editorial-course-unit--bg-image--33kM3","bg-image-force":"editorial-course-unit--bg-image-force--1YoLV","bg-image-not-in-carousel":"editorial-course-unit--bg-image-not-in-carousel--1gun_",inner:"editorial-course-unit--inner--3cNv1",left:"editorial-course-unit--left--2IHPN",center:"editorial-course-unit--center--2Btch",right:"editorial-course-unit--right--39txo",label:"editorial-course-unit--label--3pfcc",footer:"editorial-course-unit--footer--8TmEi",title:"editorial-course-unit--title--1yNMV","text-block":"editorial-course-unit--text-block--3iFPP","secondary-info":"editorial-course-unit--secondary-info--1U0lG",instructor:"editorial-course-unit--instructor--1740X","c_editorial-course-unit-background":"editorial-course-unit--c_editorial-course-unit-background--cLxt0","c_editorial-unit":"editorial-course-unit--c_editorial-unit--3qHym"}},"./src/udemy/js/ng/directives/units/editorial-instructor-unit/editorial-instructor-unit.less":function(e,t,r){e.exports={"c_editorial-unit":"editorial-instructor-unit--c_editorial-unit--hwtt0","c_editorial-unit__bg-image":"editorial-instructor-unit--c_editorial-unit__bg-image--15hrf","c_editorial-unit__bg-image-force":"editorial-instructor-unit--c_editorial-unit__bg-image-force--4B_R4","c_editorial-unit__bg-image-not-in-carousel":"editorial-instructor-unit--c_editorial-unit__bg-image-not-in-carousel--1Rx_7","c_editorial-unit--bg":"editorial-instructor-unit--c_editorial-unit--bg--22q83","c_editorial-unit__inner":"editorial-instructor-unit--c_editorial-unit__inner--3_uHk","c_editorial-unit__click-area":"editorial-instructor-unit--c_editorial-unit__click-area--1P_OQ","c_editorial-unit__left":"editorial-instructor-unit--c_editorial-unit__left--2dDd5",center:"editorial-instructor-unit--center--djZLh",right:"editorial-instructor-unit--right--3uRnr","c_editorial-unit__right":"editorial-instructor-unit--c_editorial-unit__right--Mq7Gb","c_editorial-unit__label":"editorial-instructor-unit--c_editorial-unit__label--goMVQ","c_editorial-unit__title":"editorial-instructor-unit--c_editorial-unit__title--3e1Au","c_editorial-unit__text-block":"editorial-instructor-unit--c_editorial-unit__text-block--3wstc","c_editorial-unit__secondary-info":"editorial-instructor-unit--c_editorial-unit__secondary-info--raUln","c_editorial-unit__cta":"editorial-instructor-unit--c_editorial-unit__cta--3IIDz","c_editorial-unit__student-count":"editorial-instructor-unit--c_editorial-unit__student-count--2B7eK","c_editorial-unit__featured-label":"editorial-instructor-unit--c_editorial-unit__featured-label--3fZCy","c_editorial-unit__instructor":"editorial-instructor-unit--c_editorial-unit__instructor--2eMEP","c_editorial-unit__image":"editorial-instructor-unit--c_editorial-unit__image--14F9Q","c_editorial-unit__footer":"editorial-instructor-unit--c_editorial-unit__footer--35Zi2","c_editorial-unit__instructor-cta":"editorial-instructor-unit--c_editorial-unit__instructor-cta--3Jx7q"}},"./src/udemy/js/ng/directives/units/featured-collections-unit/featured-collections-unit.ng-template.html":function(e,t){var r="/ng/directives/units/featured-collections-unit/featured-collections-unit.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div class=c_collection ng-class=itemCountClass> <a href="{{ ::item.collection_channel_url }}" ng-repeat="item in featuredCollectionItems" class=c_collection__item in-view=$inview&&cntl.markAsSeen(item)> <span class=c_collection__img-wrap> <img alt="" ng-src="{{ item.image_360x220 }}" width=360 height=220> </span> <p class=c_collection__desc>{{ ::item.title }}</p> </a> </div> ')}]),e.exports=r},"./src/udemy/js/ng/directives/units/featured-course-unit/featured-course-unit.less":function(e,t,r){e.exports={"c_featured-course-unit":"featured-course-unit--c_featured-course-unit--19vBc",image:"featured-course-unit--image--1jTR1","bg-image":"featured-course-unit--bg-image--xx_cd","bg-image-force":"featured-course-unit--bg-image-force--2H6l7","bg-image-not-in-carousel":"featured-course-unit--bg-image-not-in-carousel--R1dSg",inner:"featured-course-unit--inner--12rfF",left:"featured-course-unit--left--1U2dp",center:"featured-course-unit--center--2ti69",right:"featured-course-unit--right--3KP6Z",label:"featured-course-unit--label--UrOWr",footer:"featured-course-unit--footer--280Jr",title:"featured-course-unit--title--2Uzpk","text-block":"featured-course-unit--text-block--2AI1K","secondary-info":"featured-course-unit--secondary-info--3IVjq",instructor:"featured-course-unit--instructor--hbe2Z","c_featured-course-unit-background":"featured-course-unit--c_featured-course-unit-background--2utqS","c_featured-unit":"featured-course-unit--c_featured-unit--1o1AU"}},"./src/udemy/js/ng/directives/units/module.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),u=r.n(o),n=r("./src/udemy/js/channel-dashboard-v2/channel/channel.ng-factory.js"),i=r("./src/udemy/js/ng/constants/channel.ng-constant.js"),s=r("./src/udemy/js/ng/services/funnel-tracking/funnel-tracking.ng-factory.js"),a=u.a.module("ng/directives/units/affinity-topic-unit/affinity-topic-unit.ng-controller",[n.a.name,s.a.name,i.a.name]).controller("AffinityTopicUnitController",l);function l(o,t,r,n,i,s){var a=this;a.unit=o.unit,this.getAffinityTopicUnit=function(t){r.getCurrentChannel().then(function(e){r.getContentOfDiscoveryUnitWithParams(t,e).then(function(e){o.affinityTopicItems=e.data.topic_items})})},a.markAsSeen=function(e){var t={id:"cl|".concat(e.id)};n.markAsSeen(t,{context:s.channelContextMap[o.source],subcontext:"affinity",subcontext2:this.unit.id})},a.itemClicked=function(e){a.track("course-label-display-name",e.id),t.location.href=e.topic_channel_url},a.track=function(e,t){var r={unitId:o.unit.id,actionName:e,courseLabelId:t,unitType:o.unit.type,context:s.channelContextMap[o.source]};i.track("trackclick","channel-page",r)},o.unit.custom_content?o.affinityTopicItems=o.unit.custom_content.topic_items:this.getAffinityTopicUnit(o.unit.id)}l.$inject=["$scope","$window","Channel","FunnelTracking","PageEvent","FunnelTrackingConstants"];var c,p=r("./src/udemy/js/ng/directives/units/wireframe/course-list-unit-wireframe.ng-template.html"),d=(c=r.n(p).a,function(){return{restrict:"EA",replace:!0,scope:{done:"="},templateUrl:c}});var h=u.a.module("ng/directives/units/wireframe/module.ng-directive",[]).directive("courseListUnitWireframe",d),m=r("./src/udemy/js/ng/directives/units/affinity-topic-unit/affinity-topic-unit.ng-template.html"),b=r.n(m);var y=u.a.module("ng/directives/units/affinity-topic-unit/affinity-topic-unit.ng-directive",[h.name]).directive("affinityTopicUnit",function(){return{transclude:!0,restrict:"EA",controller:"AffinityTopicUnitController",controllerAs:"cntl",templateUrl:b.a}}),f=u.a.module("ng/directives/units/affinity-topic-unit/module",[y.name,a.name]),g=r("./node_modules/ngreact/ngReact.js"),v=r.n(g),w=r("./node_modules/prop-types/index.js"),k=r.n(w),C=r("./node_modules/react/index.js"),E=r.n(C),_=r("./src/udemy/js/base-components/button.react-component.js"),S=r("./src/udemy/js/utils/ud-request.js"),j=(r("./src/udemy/js/ng/directives/units/become-an-instructor-unit/become-an-instructor-unit.less"),function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return S.a.locale===this.props.unit.custom_content.locale?E.a.createElement("div",{className:"become-an-instructor-unit--custom-module--OFDUd",style:{backgroundImage:"url(".concat(this.props.unit.custom_content.background_image,")")}},E.a.createElement("div",{className:"container become-an-instructor-unit--container--1CG65"},E.a.createElement("div",{className:"become-an-instructor-unit--header--1bnHO","data-purpose":"bai-unit-title"},this.props.unit.title),E.a.createElement("div",{className:"become-an-instructor-unit--body--U9YJ4","data-purpose":"bai-unit-body"},this.props.unit.custom_content.body),E.a.createElement("a",{href:this.props.unit.custom_content.cta_destination},E.a.createElement(_.default,{bsStyle:"secondary","data-purpose":"bai-unit-cta"},this.props.unit.custom_content.cta_text)))):E.a.createElement("div",{"data-purpose":"bai-unit-wrong-locale"})}}]),t}(C.Component));j.propTypes={unit:k.a.object.isRequired};var D=u.a.module("ng/directives/units/become-an-instructor-unit/become-an-instructor-unit.ng-directive",[v.a.name]).directive("becomeAnInstructorUnit",["reactDirective",function(e){return e(j)}]);var x=u.a.module("ng/directives/units/become-an-instructor-unit/module",[D.name]),O=r("./node_modules/jquery/dist/jquery.js-exposed"),T=r.n(O),P=(r("./node_modules/angular-slick-carousel/dist/angular-slick.js"),r("./node_modules/slick-carousel/slick/slick.js"),u.a.module("ng/directives/units/carousel-course-list-unit/carousel-course-list-unit.ng-controller",["slickCarousel",n.a.name,s.a.name,i.a.name]).controller("CarouselCourseListUnitController",H));function H(s,r,a,l,e,c,u,p,d){var h=this;this.unit=s.unit,s.slickCurrentIndex=0,this.getCarouselUnit=function(t){r.getCurrentChannel().then(function(e){r.getContentOfDiscoveryUnitWithParams(t,e).then(function(e){s.carousel_items=e.data.carousel_items})})},this.markAsSeen=function(){if(s.carousel_items){var e=s.carousel_items[s.slickCurrentIndex],t=e.target_details;if(null!==t&&(t.type===u||"id"in t)){var r={};if(t.type===u)r={id:"undefined|".concat(e.id)};else if(t.type===c)r={id:t.id};else if(t.type===p){var o=t.related_object_ids.map(function(e){return"instructor|".concat(e)}).join(",");r={id:"".concat(t.id,",").concat(o).replace(/,*$/,"")}}else if(t.type===d){var n=t.related_object_ids.join(",");r={id:"instructor|".concat(t.id,",").concat(n).replace(/,*$/,"")}}var i={context2:l.featuredContext,subcontext:"carousel",subcontext2:h.unit.id};i.context=l.channelContextMap[s.source],a.markAsSeen(r,i)}}},s.slickConfig={enabled:!0,autoplay:!1,draggable:!1,centerMode:!0,focusOnSelect:!0,dots:!0,arrows:!1,variableWidth:!0,centerPadding:"0%",cssEase:"ease-in-out",slidesToShow:1,event:{afterChange:function(e,t,r){s.slickCurrentIndex=r,h.markAsSeen()},init:function(){T()(window).trigger("resize")}},responsive:[{breakpoint:1800,settings:{centerMode:!0,centerPadding:"15%",slidesToShow:1}},{breakpoint:1300,settings:{centerMode:!0,centerPadding:"10%",slidesToShow:1}},{breakpoint:1025,settings:{centerMode:!0,centerPadding:"5%",slidesToShow:1}},{breakpoint:769,settings:{centerMode:!0,centerPadding:"8%",slidesToShow:1}},{breakpoint:610,settings:{variableWidth:!1,centerMode:!0,centerPadding:"0",slidesToShow:1}}]},s.unit.custom_content?s.carousel_items=s.unit.custom_content.carousel_items:this.getCarouselUnit(s.unit.id)}H.$inject=["$scope","Channel","FunnelTracking","FunnelTrackingConstants","FEATURED_CHANNEL","TARGET_TYPE_COURSE","TARGET_TYPE_NON_CHANNEL","TARGET_TYPE_EDITORIAL_COURSE_UNIT","TARGET_TYPE_EDITORIAL_INSTRUCTOR_UNIT"];var A,I,R,q,N,z,M=P,L=r("./src/udemy/js/ng/directives/units/carousel-course-list-unit/carousel-course-list-unit.ng-template.html"),F=r.n(L),U=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),B=r.n(U),V=r("./node_modules/autobind-decorator/lib/index.js"),$=r.n(V),Q=r("./node_modules/classnames/index.js"),W=r.n(Q),G=r("./node_modules/lodash-es/debounce.js"),Y=r("./node_modules/mobx/lib/mobx.js"),K=r("./node_modules/mobx-react/index.module.js"),X=(r("./src/udemy/js/ng/directives/units/carousel-course-list-unit/carousel-item.less"),{"./carousel-item.less":{carousel_item:"carousel-item--carousel_item--2H36o",inner:"carousel-item--inner--21DaX","fx-lt":"carousel-item--fx-lt--_BqXk",left:"carousel-item--left--3bfbi",m_fx:"carousel-item--m_fx--3Rm0r","fx-dc":"carousel-item--fx-dc--3JuSY",label:"carousel-item--label--3iwgI",title:"carousel-item--title--1bMSi","text-block":"carousel-item--text-block--1QSlL","ellipsis-n-lines":"carousel-item--ellipsis-n-lines--3HHzK",footer:"carousel-item--footer--2xeCQ","carousel_item-background":"carousel-item--carousel_item-background--1S6l9","gr-black-transparent--right":"carousel-item--gr-black-transparent--right--8Z4G9"}}),J=function(){return{width:window.innerWidth,height:window.innerHeight}},Z=(A=Y.observable.struct,Object(K.d)((z=N=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"windowDimensions",q,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"componentDidMount",value:function(){this.resizeHandler=Object(G.a)(this.resizeHandler,50),T()(window).resize(this.resizeHandler)}},{key:"componentWillUnmount",value:function(){T()(window).off("resize",this.resizeHandler)}},{key:"resizeHandler",value:function(){this.windowDimensions=J()}},{key:"render",value:function(){var e=this.props.item,t=e.text_color,r=e.title,o=e.super_title,n=e.body,i=e.landing_page_url,s=e.button_cta,a=e.background_image_1440x512,l=e.background_image_iphone_1242x900,c=this.windowDimensions.width<=600?l:a,u=W()({carousel_item:!0,"carousel_item-background":c}),p=i&&s;return E.a.createElement("div",{"data-purpose":"carousel-item",style:{backgroundImage:"url(".concat(c,")")},className:B()(u,X)},E.a.createElement("div",{className:"carousel-item--inner--21DaX"},E.a.createElement("div",{className:"carousel-item--left--3bfbi"},E.a.createElement("div",{className:"carousel-item--label--3iwgI","data-purpose":"carousel-item-super-title",style:{color:t}},o),E.a.createElement("div",{className:"carousel-item--title--1bMSi","data-purpose":"carousel-item-title",style:{color:t}},E.a.createElement("h1",null,r)),E.a.createElement("p",{className:"carousel-item--text-block--1QSlL","data-purpose":"carousel-item-body",style:{color:t}},n),E.a.createElement("div",{className:"carousel-item--footer--2xeCQ"},p&&E.a.createElement(_.default,{bsStyle:"primary",href:i},s)))))}}]),i}(C.Component),N.propTypes={item:k.a.object.isRequired},R=z,q=babelHelpers.applyDecoratedDescriptor(R.prototype,"windowDimensions",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J()}}),babelHelpers.applyDecoratedDescriptor(R.prototype,"resizeHandler",[$.a,Y.action],Object.getOwnPropertyDescriptor(R.prototype,"resizeHandler"),R.prototype),I=R))||I),ee=function(e){var t=e.getState;return E.a.createElement(Z,t())};ee.propTypes={getState:k.a.func.isRequired};var te=u.a.module("ng/directives/units/carousel-course-list-unit/carousel-item.ng-directive",[v.a.name]).value("CarouselItemContainer",ee).directive("carouselItem",[function(){return{restrict:"E",scope:{item:"="},controller:re,template:'<react-component props="props" name="CarouselItemContainer"></react-component>'}}]);function re(e){e.props={getState:function(){return{item:e.item}}}}re.$inject=["$scope"];var oe=u.a.module("ng/directives/units/carousel-course-list-unit/carousel-course-list-unit.ng-directive",[h.name,te.name]).directive("carouselCourseListUnit",["$window",function(t){return{transclude:!0,restrict:"EA",controller:"CarouselCourseListUnitController",controllerAs:"cntl",templateUrl:F.a,link:function(i,e){i.getBackgroundStyle=function(e){return{"background-image":"url(".concat(e.background_image_1440x512,")"),"background-size":"cover","background-position":"center"}},i.marginStyle={};var n=t.innerWidth,s=i.$watch(function(){return i.carousel_items?e.find("slick")[0].clientWidth:0},function(e,t){if(e!=t){var r=T()("body").innerWidth(),o=Math.floor((r-e)/2),n="-".concat(o,"px");i.marginStyle={"margin-left":n,"margin-right":n},s()}});u.a.element(t).bind("resize",function(){var e=T()("body").innerWidth();if(n!=e){n=e;var t=T()(".carousel-discovery-unit-mask").width(),r=Math.floor((n-t)/2),o="-".concat(r,"px");i.marginStyle={"margin-left":o,"margin-right":o},i.$apply()}})}}}]),ne=u.a.module("ng/directives/units/carousel-course-list-unit/module",[oe.name,M.name]),ie=u.a.module("ng/directives/units/channel-list-unit/channel-list-unit.ng-controller",[n.a.name]).controller("ChannelListUnitController",se);function se(r,t,o,n){r.unit.custom_content?r.channelList=r.unit.custom_content:t.getCurrentChannel().then(function(e){t.getChannelsOfDiscoveryUnitWithParams(r.unit.id,e).then(function(e){r.channelList=e.data.results,null!==r.channelList&&void 0!==r.channelList&&0!==r.channelList.length||(r.unit.isEnabled=!1)})}),this.markAsSeen=function(e){var t={id:"channel|".concat(e.id)};o.markAsSeen(t,{context:n.channelContextMap[r.source],context2:n.featuredContext,subcontext:"channel-discovery-unit",subcontext2:r.unit.id})}}se.$inject=["$scope","Channel","FunnelTracking","FunnelTrackingConstants"];var ae=ie,le=r("./src/udemy/js/ng/directives/units/channel-list-unit/channel-item.ng-template.html"),ce=r.n(le),ue=r("./src/udemy/js/ng/directives/units/channel-list-unit/channel-list-unit.ng-template.html"),pe=r.n(ue);var de=u.a.module("ng/directives/units/channel-list-unit/channel-list-unit.ng-directive",[ae.name]).directive("channelListUnit",function(){return{restrict:"EA",controller:"ChannelListUnitController",controllerAs:"cntl",templateUrl:pe.a}}).directive("channelItem",function(){return{require:"^channel-list-unit",replace:!0,restrict:"EA",templateUrl:ce.a,scope:{channel:"=",courses:"="}}}),he=u.a.module("ng/directives/units/channel-list-unit/module",[de.name,ae.name]),me=u.a.module("ng/directives/units/custom-content-unit/custom-content-unit.ng-controller",[n.a.name]).controller("CustomContentUnitController",be);function be(t,r,o){t.unit.custom_content&&t.unit.custom_content.template_html?t.htmlContent=r.trustAsHtml(t.unit.custom_content.template_html):t.unit.html_content?t.htmlContent=t.unit.html_content:o.getCurrentChannel().then(function(e){o.getContentOfDiscoveryUnitWithParams(t.unit.id,e).then(function(e){t.htmlContent=r.trustAsHtml(e.data.html_content)})})}be.$inject=["$scope","$sce","Channel"];var ye=me,fe=r("./src/udemy/js/loaders/ud-app-loader.js"),ge=r("./src/udemy/js/ng/directives/units/custom-content-unit/custom-content-unit.ng-template.html"),ve=r.n(ge);var we=u.a.module("ng/directives/units/custom-content-unit/custom-content-unit.ng-directive",[ye.name]).directive("customContentUnit",function(){return{restrict:"EA",controller:"CustomContentUnitController",controllerAs:"cntl",templateUrl:ve.a,link:function(e,t){e.$watch("htmlContent",function(){Object(fe.a)(t)})}}}),ke=u.a.module("ng/directives/units/custom-content-unit/module",[we.name,ye.name]),Ce=(r("./node_modules/angular-ui-router/release/angular-ui-router.js"),r("./node_modules/angular-animate/index.js"),r("./src/udemy/js/ng/directives/units/discovery-unit-container.ng-template.html")),_e=r.n(Ce),Se=u.a.module("ng/directives/units/discovery-unit-container.ng-directive",["ui.router","ngAnimate",i.a.name]).directive("discoveryUnitContainer",je).value("DISCOVERY_UNIT_MAP",{CourseDiscoveryUnit:"course-list-unit",FilteredCourseDiscoveryUnit:"course-list-unit",TagDiscoveryUnit:"course-list-unit",ChannelDiscoveryUnit:"channel-list-unit",CustomDiscoveryUnit:"custom-content-unit",CarouselDiscoveryUnit:"carousel-course-list-unit",TemplateDiscoveryUnit:"custom-content-unit",TopicDiscoveryUnit:"topic-unit",FeaturedCollectionsUnit:"featured-collections-unit",AffinityTopicDiscoveryUnit:"affinity-topic-unit",EditorialCourseUnit:"editorial-course-unit",EditorialInstructorUnit:"editorial-instructor-unit",BecomeAnInstructorUnit:"become-an-instructor-unit",InstructorUnit:"instructor-list-unit"}).value("NON_COURSE_DISCOVERY_UNITS",["ChannelDiscoveryUnit","CustomDiscoveryUnit","CarouselDiscoveryUnit","TemplateDiscoveryUnit","TopicDiscoveryUnit","FeaturedCollectionsUnit","AffinityTopicDiscoveryUnit","EditorialCourseUnit","BecomeAnInstructorUnit","EditorialInstructorUnit"]);function je(n,i,a,l,c){return{restrict:"EA",transclude:!0,scope:{unit:"=",channelType:"=",source:"=",sourceItem:"=",isSeeAllActive:"=?",isInfScrollActive:"=?",showRelatedTopicUnitBorder:"="},templateUrl:_e.a,link:function(e,t){void 0===e.isSeeAllActive&&(e.isSeeAllActive=!0),void 0===e.isInfScrollActive&&(e.isInfScrollActive=!0);var r=a[e.unit.type];if("FilteredCourseDiscoveryUnit"===e.unit.type&&"featured_course"===e.unit.generation_type&&(r="featured-course-unit"),!r)throw new Error("Unit type : ".concat(e.unit.type," does not have a directive match"));var o=u.a.element(i('<{{unitDirectiveName}} unit="unit" source="source"> </{{unitDirectiveName}}>')({unitDirectiveName:r}));n(o)(e),t.append(o)},controller:["$animate","$element","$scope","$rootScope","$sce","$state",function(e,t,r,o,n,i){r.HOMEPAGE_CHANNEL=l,r.trustedUnitTitle=n.trustAsHtml(r.unit.title),r.directiveName=a[r.unit.type],r.hideTop="CarouselDiscoveryUnit"===r.unit.type||"EditorialCourseUnit"===r.unit.type||"EditorialInstructorUnit"===r.unit.type;var s="discoveryUnit";r.channelType&&r.channelType!==c&&(s="channel.".concat(r.channelType,".discoveryUnit")),r.goToSeeAll=function(e){i.go(s,{collectionTitle:i.params.collectionTitle,categoryTitle:i.params.categoryTitle,subcategoryTitle:i.params.subcategoryTitle,keywordTitle:i.params.keywordTitle,discoveryUnitTitle:e.url_title,unit:e})},r.enableUnit=function(){r.unit.isEnabled=!0}}]}}je.$inject=["$compile","$interpolate","DISCOVERY_UNIT_MAP","HOMEPAGE_CHANNEL","FEATURED_CHANNEL"];var Ee=Se,De=u.a.module("ng/directives/units/featured-collections-unit/featured-collections-unit.ng-controller",[n.a.name,s.a.name]).controller("FeaturedCollectionsUnitController",xe);function xe(r,o,n,i){var s=this;this.unit=r.unit,r.itemCountClass="",this.getFeaturedCollectionsUnit=function(t){o.getCurrentChannel().then(function(e){o.getContentOfDiscoveryUnitWithParams(t,e).then(function(e){r.featuredCollectionItems=e.data.featured_collection_items,s.setItemCountClass(e.data.featured_item_count)})})},this.markAsSeen=function(e){var t={id:"collection|".concat(e.collection_channel_id)};n.markAsSeen(t,{context:i.channelContextMap[r.source],context2:i.featuredContext,subcontext:"featured-collections-unit",subcontext2:s.unit.id})},this.setItemCountClass=function(e){7==e?r.itemCountClass="c_collection--seven":10==e&&(r.itemCountClass="c_collection--ten")},r.unit.custom_content?(r.featuredCollectionItems=r.unit.custom_content.featured_collection_items,this.setItemCountClass(r.unit.custom_content.featured_item_count)):this.getFeaturedCollectionsUnit(r.unit.id)}xe.$inject=["$scope","Channel","FunnelTracking","FunnelTrackingConstants"];var Oe=De,Te=r("./src/udemy/js/ng/directives/units/featured-collections-unit/featured-collections-unit.ng-template.html"),Pe=r.n(Te);var He=u.a.module("ng/directives/units/featured-collections-unit/featured-collections-unit.ng-directive",[h.name]).directive("featuredCollectionsUnit",function(){return{transclude:!0,restrict:"EA",controller:"FeaturedCollectionsUnitController",controllerAs:"cntl",templateUrl:Pe.a}}),Ae=u.a.module("ng/directives/units/featured-collections-unit/module",[He.name,Oe.name]),Ie=u.a.module("ng/directives/units/topic-unit/topic-unit.ng-controller",[n.a.name,s.a.name,i.a.name]).controller("TopicUnitController",Re);function Re(n,r,i,s){var a=this;this.unit=n.unit,this.getTopicUnit=function(t){r.getCurrentChannel().then(function(e){r.getContentOfDiscoveryUnitWithParams(t,e).then(function(e){n.topicItems=e.data.topic_items})})},this.markAsSeen=function(e){var t=e.target_details,r={id:t.id};"course"!==t.type&&(r={id:"".concat(t.type,"|").concat(t.id)});var o={context2:s.featuredContext,subcontext:a.unit.title,subcontext2:a.unit.id};o.context=s.channelContextMap[n.source],i.markAsSeen(r,o)},n.unit.custom_content?n.topicItems=n.unit.custom_content.topic_items:this.getTopicUnit(n.unit.id)}Re.$inject=["$scope","Channel","FunnelTracking","FunnelTrackingConstants"];var qe=Ie,Ne=r("./src/udemy/js/ng/directives/units/topic-unit/topic-unit.ng-template.html"),ze=r.n(Ne);var Me,Le,Fe,Ue,Be=u.a.module("ng/directives/units/topic-unit/topic-unit.ng-directive",[h.name]).directive("topicUnit",function(){return{transclude:!0,restrict:"EA",controller:"TopicUnitController",controllerAs:"cntl",templateUrl:ze.a}}),Ve=u.a.module("ng/directives/units/topic-unit/module",[Be.name,qe.name]),$e=r("./src/udemy/js/channel-dashboard-v2/channel/channel-utils.ng-factory.js"),Qe=r("./src/udemy/js/ng/services/experiment/ud-experiment.ng-service.js"),We=r("./src/udemy/js/ng/services/visits/ud-analytics.ng-provider.js"),Ge=r("./src/udemy/js/base-components/merchandising-course-card/index.js"),Ye=r("./src/udemy/js/base-components/person-card/index.js"),Ke=r("./src/udemy/js/browse/lib/constants.js"),Xe=r("./node_modules/lodash-es/noop.js"),Je=r("./node_modules/react-waypoint/build/waypoint.js"),Ze=r.n(Je),et=r("./node_modules/velocity-react/velocity-component.js"),tt=r.n(et),rt=r("./src/udemy/js/base-components/icon.react-component.js"),ot=r("./src/udemy/js/utils/a11y.js"),nt=r("./src/udemy/js/ng/directives/units/slider-list/mobile/mobile-list-view.react-component.js"),it=(r("./src/udemy/js/ng/directives/units/slider-list/slider-list.less"),function(e){var t=e.onClick;return E.a.createElement("a",{className:"slider-list--course-nav-btn--1sFHw slider-list--prev--W_hEf","data-purpose":"prev-button",tabIndex:"0",onClick:t,onKeyDown:Object(ot.b)(t),role:"button"},E.a.createElement(rt.a,{glyph:"previous"}),E.a.createElement("span",{className:"sr-only"},gettext("Previous items")))});it.propTypes={onClick:k.a.func.isRequired};var st=function(e){var t=e.onClick,r=e.loading;return E.a.createElement("a",{className:"slider-list--course-nav-btn--1sFHw slider-list--next--38ruk","data-purpose":"next-button",tabIndex:"0",onClick:t,onKeyDown:Object(ot.b)(t),role:"button"},r?E.a.createElement(rt.a,{className:"slider-list--icon-loading--2-dfq",glyph:"circle-loader"}):E.a.createElement(rt.a,{glyph:"next"}),E.a.createElement("span",{className:"sr-only"},gettext("Next items")))};st.propTypes={onClick:k.a.func.isRequired};var at,lt,ct,ut,pt,dt,ht,mt,bt,yt,ft,gt,vt,wt,kt,Ct,_t,St,jt,Et,Dt,xt,Ot,Tt,Pt,Ht,At=function(e){var t=e.onClick;return E.a.createElement(_.default,{bsStyle:"link",className:"slider-list--see-all-btn--3nRTm","data-purpose":"see-all-button",onClick:t},gettext("See all"))},It=Object(K.d)((Ue=Fe=function(e){function o(e){var t;babelHelpers.classCallCheck(this,o),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e));var r=E.a.Children.count(e.children);return t.state=e.state,t.state.updateItemCount(r),t}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"componentDidMount",value:function(){this.resizeHandler=Object(G.a)(this.resizeHandler,50),T()(window).resize(this.resizeHandler)}},{key:"componentDidUpdate",value:function(){var e=E.a.Children.count(this.props.children);this.state.updateItemCount(e)}},{key:"componentWillUnmount",value:function(){T()(window).off("resize",this.resizeHandler)}},{key:"resizeHandler",value:function(){this.state.resizeHandler()}},{key:"onAnimationStop",value:function(){this.state.onAnimationStop()}},{key:"render",value:function(){var e=this.props,t=e.duration,r=e.children,o=e.isSeeAllActive,n=e.goToSeeAll,i=e.titleBox,s=e.marker,a=e.filterComponent,l=e.state,c=e.hasVerticalCards,u=l.marginWidth,p=l.sliderEnabled,d=l.maskWidth,h=l.seeAllButtonIsEnabled,m=l.prevButtonIsEnabled,b=l.nextButtonIsEnabled,y=l.onPrevClick,f=l.onNextClick,g=l.loadingIconIsVisible,v=l.translation,w=l.opacity,k=l.onViewportEnter,C=l.onViewportLeave;if(0===E.a.Children.count(r))return null;if(!p||c)return E.a.createElement(nt.a,{titleBox:i,goToSeeAll:n,marker:s,seeMoreEnabled:!c,hasVerticalCards:c},r);var _=E.a.Children.map(r,function(e){return E.a.createElement("div",{className:"slider-list--item--2H5Yb",style:{marginRight:u}},e)}),S={width:d},j=o&&n&&h&&!a;return E.a.createElement("div",{className:"slider-list--slider-wrapper--3jv2F",style:S},E.a.createElement("div",{className:"slider-list--slider-top--1zrpT"},i,j?E.a.createElement(At,{onClick:n}):""),E.a.createElement("div",null,a),E.a.createElement("div",{className:"slider-list--slider-container--MqkC7"},m?E.a.createElement(it,{onClick:y}):"",b?E.a.createElement(st,{onClick:f,loading:g}):"",E.a.createElement("div",{className:"slider-list--slider-mask--1imJz",style:S},E.a.createElement(tt.a,{animation:{translateX:v,opacity:w},duration:t,complete:this.onAnimationStop},E.a.createElement("div",{className:"slider-list--item-list--73J8H"},_)))),E.a.createElement("div",{className:"slider-list--waypoint--WBmsl"},E.a.createElement(Ze.a,{onEnter:k,onLeave:C,scrollableAncestor:window})))}}]),o}(C.Component),Fe.propTypes={state:k.a.object.isRequired,duration:k.a.number,titleBox:k.a.object,marker:k.a.func,isSeeAllActive:k.a.bool,goToSeeAll:k.a.func,filterComponent:k.a.object,hasVerticalCards:k.a.bool},Fe.defaultProps={duration:500,titleBox:null,marker:Xe.a,isSeeAllActive:!0,goToSeeAll:null,filterComponent:null,hasVerticalCards:!1},Le=Ue,babelHelpers.applyDecoratedDescriptor(Le.prototype,"resizeHandler",[$.a,Y.action],Object.getOwnPropertyDescriptor(Le.prototype,"resizeHandler"),Le.prototype),babelHelpers.applyDecoratedDescriptor(Le.prototype,"onAnimationStop",[$.a],Object.getOwnPropertyDescriptor(Le.prototype,"onAnimationStop"),Le.prototype),Me=Le))||Me,Rt=function(){return{width:window.innerWidth,height:window.innerHeight}},qt=[{minWidth:0,maxWidth:767,frameSize:null},{minWidth:768,maxWidth:991,frameSize:3},{minWidth:992,maxWidth:1199,frameSize:4},{minWidth:1200,maxWidth:1430,frameSize:5}],Nt=(at=Y.observable.struct,lt=function(){function w(e){var t=this,r=e.frameSize,o=void 0===r?6:r,n=e.marginWidth,i=void 0===n?0:n,s=e.existingMarginWidth,a=void 0===s?15:s,l=e.itemWidth,c=void 0===l?231:l,u=e.earlyFetchFrameCount,p=void 0===u?3:u,d=e.framesToBeFetched,h=void 0===d?3:d,m=e.infinite,b=void 0!==m&&m,y=e.responsiveSettings,f=void 0===y?qt:y,g=e.fetcher,v=e.marker;babelHelpers.classCallCheck(this,w),babelHelpers.initializerDefineProperty(this,"currentItemIndex",ct,this),babelHelpers.initializerDefineProperty(this,"itemCount",ut,this),babelHelpers.initializerDefineProperty(this,"animationDirection",pt,this),babelHelpers.initializerDefineProperty(this,"fetchingItems",dt,this),babelHelpers.initializerDefineProperty(this,"moreItemsInServer",ht,this),babelHelpers.initializerDefineProperty(this,"sliderInViewport",mt,this),babelHelpers.initializerDefineProperty(this,"windowDimensions",bt,this),babelHelpers.initializerDefineProperty(this,"opacity",yt,this),this.marker=v,this.fetcher=g,this.infinite=b,this.frameSize=o,this.itemWidth=c,this.marginWidth=i,this.existingMarginWidth=a,this.earlyFetchFrameCount=p,this.framesToBeFetched=h,this.responsiveSettings=f,Object(Y.autorun)(function(){t.sliderInViewport&&t.marker(t.currentItemIndex,t.visibleItemCount)})}return babelHelpers.createClass(w,[{key:"resizeHandler",value:function(){this.windowDimensions=Rt(),this.currentItemIndex=0}},{key:"updateItemCount",value:function(e){this.itemCount=e}},{key:"setOpacity",value:function(e){this.opacity=e}},{key:"setCurrentItemIndex",value:function(e){this.currentItemIndex=e}},{key:"slideNext",value:function(){this.itemCountToRight<1?this.currentItemIndex+=Math.ceil(Math.min(this.itemCountToRight,this.visibleItemCount)):this.currentItemIndex+=Math.floor(Math.min(this.itemCountToRight,this.visibleItemCount)),this.animationDirection=1}},{key:"slidePrev",value:function(){this.itemCountToLeft<1?this.currentItemIndex-=Math.min(this.itemCountToLeft,this.visibleItemCount):this.currentItemIndex-=Math.floor(Math.min(this.itemCountToLeft,this.visibleItemCount)),this.animationDirection=-1}},{key:"onAnimationStop",value:function(){this.animationDirection=0}},{key:"onViewportEnter",value:function(){this.sliderInViewport=!0}},{key:"onViewportLeave",value:function(){this.sliderInViewport=!1}},{key:"onPrevClick",value:function(){this.animating||this.slidePrev()}},{key:"onNextClickDefault",value:function(){this.animating||this.onEnd||this.slideNext()}},{key:"onNextClickInfinite",value:function(){this.animating||(!this.fetchingItems&&this.moreItemsInServer&&this.closeEnoughToFetch?this.onLastFullFrame?this.fetchItemsThenSlide():(this.slideNext(),this.fetchItems()):this.fetchingItems&&this.onLastFullFrame||this.slideNext())}},{key:"onNextClick",value:function(){this.infinite?this.onNextClickInfinite():this.onNextClickDefault()}},{key:"fetchItemsCallback",value:function(e){this.moreItemsInServer=e,this.fetchingItems=!1}},{key:"fetchItems",value:function(){var t=this;return this.fetchingItems=!0,this.fetcher(this.itemsToBeFetched).then(function(e){t.fetchItemsCallback(e)})}},{key:"fetchItemsThenSlide",value:function(){var e=this;return this.fetchItems().then(function(){e.slideNext()})}},{key:"visibleItemCount",get:function(){if(this.responsiveSettings){var t=this.windowDimensions.width,e=this.responsiveSettings.findIndex(function(e){return e.maxWidth>=t&&t>=e.minWidth});if(-1!==e)return this.responsiveSettings[e].frameSize}return this.frameSize}},{key:"itemTotalWidth",get:function(){return this.itemWidth+this.marginWidth}},{key:"maskWidth",get:function(){return this.visibleItemCount*this.itemTotalWidth-this.marginWidth-this.existingMarginWidth+4}},{key:"translation",get:function(){return-this.currentItemIndex*this.itemTotalWidth}},{key:"sliderEnabled",get:function(){return null!==this.visibleItemCount}},{key:"itemCountToLeft",get:function(){return this.currentItemIndex}},{key:"itemCountToRight",get:function(){return this.onEnd?0:this.itemCount-this.currentItemIndex-this.visibleItemCount}},{key:"onStart",get:function(){return 0===this.currentItemIndex}},{key:"onEnd",get:function(){return this.itemCount-this.currentItemIndex<=this.visibleItemCount}},{key:"onLastFullFrame",get:function(){return this.itemCountToRight<this.visibleItemCount}},{key:"overflowingItemCount",get:function(){return this.itemCount%this.visibleItemCount}},{key:"animating",get:function(){return 0!==this.animationDirection}},{key:"loadingIconIsVisible",get:function(){return this.fetchingItems&&this.onLastFullFrame}},{key:"seeAllButtonIsEnabled",get:function(){return this.itemCount>=this.visibleItemCount}},{key:"nextButtonIsEnabled",get:function(){return this.itemCount>=this.visibleItemCount&&this.opacity&&(!this.onEnd||this.infinite&&this.moreItemsInServer)}},{key:"prevButtonIsEnabled",get:function(){return!this.onStart}},{key:"itemsToBeFetched",get:function(){return this.framesToBeFetched*this.visibleItemCount-this.overflowingItemCount}},{key:"closeEnoughToFetch",get:function(){return Math.floor(this.itemCountToRight/this.visibleItemCount)<=this.earlyFetchFrameCount}}]),w}(),ct=babelHelpers.applyDecoratedDescriptor(lt.prototype,"currentItemIndex",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ut=babelHelpers.applyDecoratedDescriptor(lt.prototype,"itemCount",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pt=babelHelpers.applyDecoratedDescriptor(lt.prototype,"animationDirection",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dt=babelHelpers.applyDecoratedDescriptor(lt.prototype,"fetchingItems",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ht=babelHelpers.applyDecoratedDescriptor(lt.prototype,"moreItemsInServer",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mt=babelHelpers.applyDecoratedDescriptor(lt.prototype,"sliderInViewport",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bt=babelHelpers.applyDecoratedDescriptor(lt.prototype,"windowDimensions",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rt()}}),yt=babelHelpers.applyDecoratedDescriptor(lt.prototype,"opacity",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),babelHelpers.applyDecoratedDescriptor(lt.prototype,"resizeHandler",[Y.action],Object.getOwnPropertyDescriptor(lt.prototype,"resizeHandler"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"visibleItemCount",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"visibleItemCount"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"itemTotalWidth",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"itemTotalWidth"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"maskWidth",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"maskWidth"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"translation",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"translation"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"updateItemCount",[$.a,Y.action],Object.getOwnPropertyDescriptor(lt.prototype,"updateItemCount"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"sliderEnabled",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"sliderEnabled"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"itemCountToLeft",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"itemCountToLeft"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"itemCountToRight",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"itemCountToRight"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"onStart",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"onStart"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"onEnd",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"onEnd"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"onLastFullFrame",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"onLastFullFrame"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"overflowingItemCount",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"overflowingItemCount"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"animating",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"animating"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"setOpacity",[$.a,Y.action],Object.getOwnPropertyDescriptor(lt.prototype,"setOpacity"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"setCurrentItemIndex",[$.a,Y.action],Object.getOwnPropertyDescriptor(lt.prototype,"setCurrentItemIndex"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"slideNext",[$.a,Y.action],Object.getOwnPropertyDescriptor(lt.prototype,"slideNext"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"slidePrev",[$.a,Y.action],Object.getOwnPropertyDescriptor(lt.prototype,"slidePrev"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"onAnimationStop",[$.a,Y.action],Object.getOwnPropertyDescriptor(lt.prototype,"onAnimationStop"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"onViewportEnter",[$.a,Y.action],Object.getOwnPropertyDescriptor(lt.prototype,"onViewportEnter"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"onViewportLeave",[$.a,Y.action],Object.getOwnPropertyDescriptor(lt.prototype,"onViewportLeave"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"loadingIconIsVisible",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"loadingIconIsVisible"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"seeAllButtonIsEnabled",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"seeAllButtonIsEnabled"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"nextButtonIsEnabled",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"nextButtonIsEnabled"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"prevButtonIsEnabled",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"prevButtonIsEnabled"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"onPrevClick",[$.a],Object.getOwnPropertyDescriptor(lt.prototype,"onPrevClick"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"onNextClickDefault",[$.a],Object.getOwnPropertyDescriptor(lt.prototype,"onNextClickDefault"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"onNextClickInfinite",[$.a],Object.getOwnPropertyDescriptor(lt.prototype,"onNextClickInfinite"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"onNextClick",[$.a],Object.getOwnPropertyDescriptor(lt.prototype,"onNextClick"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"fetchItemsCallback",[$.a,Y.action],Object.getOwnPropertyDescriptor(lt.prototype,"fetchItemsCallback"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"itemsToBeFetched",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"itemsToBeFetched"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"closeEnoughToFetch",[Y.computed],Object.getOwnPropertyDescriptor(lt.prototype,"closeEnoughToFetch"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"fetchItems",[$.a,Y.action],Object.getOwnPropertyDescriptor(lt.prototype,"fetchItems"),lt.prototype),babelHelpers.applyDecoratedDescriptor(lt.prototype,"fetchItemsThenSlide",[$.a],Object.getOwnPropertyDescriptor(lt.prototype,"fetchItemsThenSlide"),lt.prototype),lt),zt=(r("./src/udemy/js/ng/directives/units/course-list-unit/course-label-filter/course-label-filter.less"),vt=gt=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClick",value:function(){var e=this.props,t=e.onClick;t(e.index)}},{key:"render",value:function(){var e=this.props.courseLabel,t=W()({"fx-flex":!0,"text-primary":this.isActive,"text-midnight-lighter":!this.isActive});return E.a.createElement("a",{tabIndex:"0",role:"button",disabled:this.isDisabled,className:(t?t+" ":"")+"course-label-filter--course-label-filter-item--mhamH",onClick:this.onClick,onKeyDown:Object(ot.b)(this.onClick),"data-purpose":"course-label-filter-item-".concat(e.id)},gettext(e.display_name),E.a.createElement("div",{className:"course-label-filter--icon-loading__container--2mPw8"},this.displayLoader&&E.a.createElement(rt.a,{className:"course-label-filter--icon-loading--2zDVN",glyph:"circle-loader"})),E.a.createElement("span",{className:"sr-only"},gettext(e.display_name)))}},{key:"isDisabled",get:function(){var e=this.props,t=e.loadingCourses,r=e.index,o=e.activeLabelIndex;return t&&r!==o}},{key:"isActive",get:function(){var e=this.props;return e.index===e.activeLabelIndex}},{key:"displayLoader",get:function(){var e=this.props,t=e.loadingCourses,r=e.index,o=e.activeLabelIndex;return t&&r===o}}]),t}(C.Component),gt.propTypes={courseLabel:k.a.object.isRequired,index:k.a.number.isRequired,activeLabelIndex:k.a.number,loadingCourses:k.a.bool,onClick:k.a.func},gt.defaultProps={activeLabelIndex:0,loadingCourses:!1,onClick:Xe.a},ft=vt,babelHelpers.applyDecoratedDescriptor(ft.prototype,"onClick",[$.a],Object.getOwnPropertyDescriptor(ft.prototype,"onClick"),ft.prototype),ft),Mt=Object(K.d)((jt=St=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"activeLabelIndex",Ct,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"loading",_t,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"animateSlider",value:function(){var e=this.props.sliderState;e.setOpacity(0),e.setCurrentItemIndex(0)}},{key:"getCourses",value:function(){var t=this,e=this.props,r=e.sliderState;e.unit.fetchCoursesForCourseLabel(this.activeLabel.id,r.itemsToBeFetched).then(Object(Y.action)(function(e){r.fetchItemsCallback(e),r.setOpacity(1),t.loading=!1}))}},{key:"onClick",value:function(e){var t=this.props.unit;this.loading||e===this.activeLabelIndex||(this.activeLabelIndex=e,this.loading=!0,t.setFilterParams({course_label:this.activeLabel.id}),t.trackCourseLabelClick(this.activeLabel.id),this.animateSlider(),this.getCourses())}},{key:"render",value:function(){var e=this.props.unit;return e.courseLabels.length?E.a.createElement("div",{className:"course-label-filter--course-label-filter--container--3tc9V"},E.a.createElement(Ze.a,{onEnter:e.markAsSeenCourseLabels,scrollableAncestor:window}),this.filterItems):null}},{key:"courseLabels",get:function(){return[{display_name:"All",id:-1}].concat(babelHelpers.toConsumableArray(this.props.unit.courseLabels))}},{key:"activeLabel",get:function(){return this.courseLabels[this.activeLabelIndex]}},{key:"filterItems",get:function(){var o=this;return this.courseLabels.map(function(e,t){var r={courseLabel:e,index:t,activeLabelIndex:o.activeLabelIndex,loadingCourses:o.loading,onClick:o.onClick};return E.a.createElement(zt,Object.assign({},r,{key:e.id}))})}}]),i}(C.Component),St.propTypes={sliderState:k.a.object.isRequired,unit:k.a.object.isRequired},kt=jt,Ct=babelHelpers.applyDecoratedDescriptor(kt.prototype,"activeLabelIndex",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_t=babelHelpers.applyDecoratedDescriptor(kt.prototype,"loading",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(kt.prototype,"courseLabels",[Y.computed],Object.getOwnPropertyDescriptor(kt.prototype,"courseLabels"),kt.prototype),babelHelpers.applyDecoratedDescriptor(kt.prototype,"activeLabel",[Y.computed],Object.getOwnPropertyDescriptor(kt.prototype,"activeLabel"),kt.prototype),babelHelpers.applyDecoratedDescriptor(kt.prototype,"getCourses",[Y.action],Object.getOwnPropertyDescriptor(kt.prototype,"getCourses"),kt.prototype),babelHelpers.applyDecoratedDescriptor(kt.prototype,"onClick",[$.a,Y.action],Object.getOwnPropertyDescriptor(kt.prototype,"onClick"),kt.prototype),wt=kt))||wt,Lt=r("./node_modules/lodash-es/cloneDeep.js"),Ft=r("./src/udemy/js/utils/ud-api.js"),Ut=(Et=function(){function p(e,t,r,o,n){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},s=i.funnelTracking,a=i.funnelTrackingConstants,l=i.pageEvent,c=i.onAddToCartSuccess,u=i.onAddToWishlistSuccess;babelHelpers.classCallCheck(this,p),babelHelpers.initializerDefineProperty(this,"courses",Dt,this),babelHelpers.initializerDefineProperty(this,"courseLabels",xt,this),this.channel=r,this.channelUtils=o,this.funnelTracking=s,this.funnelTrackingConstants=a,this.pageEvent=l,this.enableUnit=n,this.onAddToCartSuccess=c,this.onAddToWishlistSuccess=u,this.source=t,this.filterParams={course_label:-1},this.courseLabelCoursesMap={},this._fillCourseLabelCoursesMap(e),e.courses?this._initWithCourses(e):this._init(e),e.instructor&&this._setInstructor(e)}return babelHelpers.createClass(p,[{key:"markAsSeenCourses",value:function(e,t){var r=this;this.courses.slice(e,e+t).forEach(function(e){e.markAsSeen(r.source,r,r.funnelTracking,r.funnelTrackingConstants)})}},{key:"markAsSeenCourseLabels",value:function(){var e=this.courseLabels.map(function(e){return"cl|".concat(e.id)}).join(",");this.funnelTracking.markAsSeen({id:e},{context:this.funnelTrackingConstants.channelContextMap[this.source],subcontext:this.title,subcontext2:this.id})}},{key:"trackCourseLabelClick",value:function(e){this.funnelTracking.logAction("course-label-clicked",[{id:"cl|".concat(e)}],{context:"discovery-unit-".concat(this.id)})}},{key:"fetchCoursesForCourseLabel",value:function(t,e){var r=this;return this.courseLabelCoursesMap[t].courses.length?new Promise(function(e){setTimeout(Object(Y.action)(function(){r.courses=r.courseLabelCoursesMap[t].courses,e(r.courseLabelCoursesMap[t].moreItemsInServer)}),750)}):this.fetchNextCourses(e,!0)}},{key:"setFilterParams",value:function(e){this.filterParams=e}},{key:"fetchNextCourses",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=babelHelpers.objectSpread({},this.filterParams,{page_size:e,last_course_id:t?-1:this.courses[this.courses.length-1].id});return this._fetchCourses(r)}},{key:"_fetchCourses",value:function(t){var r=this,o=this.filterParams.course_label;return this.channel.getCurrentChannel().then(function(e){return t=t||{},e.id&&Object.assign(t,{channel_id:e.id}),-1===e.id&&Object.assign(t,{channelType:e.channelType}),Ft.c.get("discovery-units/".concat(r.id,"/courses"),{params:t})}).then(Object(Y.action)(function(e){var t=0!==e.data.remaining_course_count;return r.courseLabelCoursesMap[o].moreItemsInServer=t,r._addCourses(e.data.results,o),r.channelUtils.updateChannelContentWithCourses(r.id,e.data.results),t}))}},{key:"_addCourses",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,r={funnelTracking:this.funnelTracking,pageEvent:this.pageEvent,quickViewBoxEnabled:!0,onAddToCartSuccess:this.onAddToCartSuccess,onAddToWishlistSuccess:this.onAddToWishlistSuccess},o=babelHelpers.toConsumableArray(this.courseLabelCoursesMap[t].courses).concat(babelHelpers.toConsumableArray(e.map(function(e){return new Ge.d(e,r)})));this.courseLabelCoursesMap[t].courses=o,this.courses=o}},{key:"_initWithCourses",value:function(e){var t=Object(Lt.a)(e.courses.map(function(e){return Object(Y.toJS)(e)})),r=Object(Lt.a)(Object(Y.toJS)(e));delete r.courses,Object(Y.extendObservable)(this,r),this._addCourses(t,-1)}},{key:"_init",value:function(e){var t=this,r=Object(Y.toJS)(e,!1);r.courses=[],Object(Y.extendObservable)(this,r),this._fetchCourses().then(function(){t.enableUnit()})}},{key:"_setCourseLabelCoursesMapItem",value:function(e){this.courseLabelCoursesMap[e]={courses:[],moreItemsInServer:!0}}},{key:"_fillCourseLabelCoursesMap",value:function(e){var t=this;e.course_labels&&(this.courseLabels=e.course_labels,this.courseLabels.map(function(e){return t._setCourseLabelCoursesMapItem(e.id)})),this._setCourseLabelCoursesMapItem(-1)}},{key:"_setInstructor",value:function(e){this.instructor=new Ye.b(e.instructor)}}]),p}(),Dt=babelHelpers.applyDecoratedDescriptor(Et.prototype,"courses",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xt=babelHelpers.applyDecoratedDescriptor(Et.prototype,"courseLabels",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),babelHelpers.applyDecoratedDescriptor(Et.prototype,"markAsSeenCourses",[$.a],Object.getOwnPropertyDescriptor(Et.prototype,"markAsSeenCourses"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"markAsSeenCourseLabels",[$.a],Object.getOwnPropertyDescriptor(Et.prototype,"markAsSeenCourseLabels"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"trackCourseLabelClick",[$.a],Object.getOwnPropertyDescriptor(Et.prototype,"trackCourseLabelClick"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"fetchCoursesForCourseLabel",[$.a],Object.getOwnPropertyDescriptor(Et.prototype,"fetchCoursesForCourseLabel"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"setFilterParams",[$.a],Object.getOwnPropertyDescriptor(Et.prototype,"setFilterParams"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"fetchNextCourses",[$.a],Object.getOwnPropertyDescriptor(Et.prototype,"fetchNextCourses"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"_fetchCourses",[$.a],Object.getOwnPropertyDescriptor(Et.prototype,"_fetchCourses"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"_addCourses",[$.a,Y.action],Object.getOwnPropertyDescriptor(Et.prototype,"_addCourses"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"_initWithCourses",[$.a,Y.action],Object.getOwnPropertyDescriptor(Et.prototype,"_initWithCourses"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"_init",[$.a,Y.action],Object.getOwnPropertyDescriptor(Et.prototype,"_init"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"_setCourseLabelCoursesMapItem",[$.a],Object.getOwnPropertyDescriptor(Et.prototype,"_setCourseLabelCoursesMapItem"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"_fillCourseLabelCoursesMap",[$.a,Y.action],Object.getOwnPropertyDescriptor(Et.prototype,"_fillCourseLabelCoursesMap"),Et.prototype),babelHelpers.applyDecoratedDescriptor(Et.prototype,"_setInstructor",[$.a,Y.action],Object.getOwnPropertyDescriptor(Et.prototype,"_setInstructor"),Et.prototype),Et),Bt=(r("./src/udemy/js/ng/directives/units/course-list-unit/course-list-unit.less"),{"./course-list-unit.less":{"title-container":"course-list-unit--title-container--ih3Jq","with-subtitle":"course-list-unit--with-subtitle--16N-V","contextual-text-experiment-active":"course-list-unit--contextual-text-experiment-active--3pnFQ","card-margin":"course-list-unit--card-margin--35yHw"}}),Vt=["enroll","view_based"],$t=function(e){var t=e.unit,r=e.source,o=e.experiments,n="featured"===r&&("with_contextual_unit_text"===o.personalizationExperiment||"with_preloader_and_contextual_unit_text"===o.personalizationExperiment),i=n&&t.internal_title&&0!==t.internal_title.length,s=W()({"title-container":!0,"contextual-text-experiment-active":n,"with-subtitle":i}),a=t.title;if(-1!==Vt.indexOf(t.generation_type)){var l=t.source_object&&t.source_object.url?'<a href="'.concat(t.source_object.url,'">').concat(t.source_object.title,"</a>"):"";a=t.raw_title.replace(/{}/g,l)}return E.a.createElement("div",{className:B()(s,Bt)},E.a.createElement("h2",{className:"c_discovery-units__title","data-purpose":"discovery-unit-".concat(t.id),dangerouslySetInnerHTML:{__html:a}}),i?E.a.createElement("h1",{className:"c_discovery-units__title",dangerouslySetInnerHTML:{__html:t.internal_title}}):"")};$t.propTypes={unit:k.a.object.isRequired,source:k.a.string.isRequired,experiments:k.a.object.isRequired};var Qt=Object(K.d)((Ht=Pt=function(e){function s(e){var t;babelHelpers.classCallCheck(this,s);var r=(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(s).call(this,e))).props,o=r.unit,n=r.responsiveSettings,i=r.frameSize;return t.state=new Nt({infinite:0<=o.id,fetcher:o.fetchNextCourses,marker:t.markAsSeenCourses,responsiveSettings:n,frameSize:i}),t}return babelHelpers.inherits(s,e),babelHelpers.createClass(s,[{key:"goToSeeAll",value:function(){this.props.goToSeeAll(Object(Y.toJS)(this.props.unit))}},{key:"markAsSeenCourses",value:function(e,t){this.props.unit.markAsSeenCourses(e,t)}},{key:"render",value:function(){var e=this.props,t=e.unit,r=e.source,o=e.experiments,n=Object(Ke.u)(r),i=t.courses.map(function(e,t){return E.a.createElement(Ge.c,{key:t,course:e,experiments:o,perfMarkName:n,responsive:!0,className:"course-list-unit--card-margin--35yHw"})});return t.instructor&&(i=[E.a.createElement(Ye.a,{key:"instructor",instructor:t.instructor})].concat(babelHelpers.toConsumableArray(i))),E.a.createElement("div",null,E.a.createElement(It,this.sliderListProps,i))}},{key:"isSeeAllEnabled",get:function(){var e=this.props,t=e.unit;return"home"!==e.source&&null!==t.url_title&&t.url_title&&0<t.url_title.length}},{key:"sliderListProps",get:function(){var e=this.props,t=e.unit,r=e.source,o=e.experiments,n={duration:500,marker:this.markAsSeenCourses,isSeeAllActive:this.props.isSeeAllActive,goToSeeAll:this.isSeeAllEnabled?this.goToSeeAll:null},i=E.a.createElement($t,{unit:t,source:r,experiments:o}),s=null;return t.course_labels&&t.course_labels.length&&(s=E.a.createElement(Mt,{sliderState:this.state,unit:t})),babelHelpers.objectSpread({state:this.state,filterComponent:s,titleBox:i},n)}}]),s}(C.Component),Pt.propTypes={unit:k.a.instanceOf(Ut).isRequired,source:k.a.oneOf(["category","subcategory","logged_in_homepage","featured","home","keyword","collection","logout","none"]),responsiveSettings:K.e.arrayOrObservableArray,frameSize:k.a.number,isSeeAllActive:k.a.bool,goToSeeAll:k.a.func.isRequired,experiments:k.a.object},Pt.defaultProps={source:"none",experiments:{},isSeeAllActive:!0,responsiveSettings:void 0,frameSize:void 0},Tt=Ht,babelHelpers.applyDecoratedDescriptor(Tt.prototype,"goToSeeAll",[$.a],Object.getOwnPropertyDescriptor(Tt.prototype,"goToSeeAll"),Tt.prototype),babelHelpers.applyDecoratedDescriptor(Tt.prototype,"markAsSeenCourses",[$.a],Object.getOwnPropertyDescriptor(Tt.prototype,"markAsSeenCourses"),Tt.prototype),babelHelpers.applyDecoratedDescriptor(Tt.prototype,"sliderListProps",[Y.computed],Object.getOwnPropertyDescriptor(Tt.prototype,"sliderListProps"),Tt.prototype),Ot=Tt))||Ot,Wt=function(e){var t=e.getState;return E.a.createElement(Qt,t())};Wt.propTypes={getState:k.a.func.isRequired};var Gt,Yt,Kt=u.a.module("ng/directives/units/course-list-unit/course-list-unit.ng-directive",[v.a.name,n.a.name,$e.a.name,s.a.name,i.a.name,Qe.a.name,We.a.name]).value("CourseListUnitContainer",Wt).directive("courseListUnit",[function(){return{restrict:"E",controller:Xt,template:'<react-component props="props" name="CourseListUnitContainer"></react-component>'}}]);function Xt(e,t,r,o,n,i,s){e.experiments={personalizationExperiment:i.getVariantValue("prs","personalization_of_recommendations_variant","disabled")},e.props={getState:function(){return{unit:new Ut(e.unit,e.source,t,r,e.enableUnit,{funnelTracking:o,funnelTrackingConstants:n,pageEvent:s}),source:e.source,experiments:e.experiments,isSeeAllActive:e.isSeeAllActive,goToSeeAll:e.goToSeeAll}}}}Xt.$inject=["$scope","Channel","ChannelUtils","FunnelTracking","FunnelTrackingConstants","experimentVariants","PageEvent"];var Jt,Zt,er,tr=(Gt=function(){function i(e,t,r,o,n){babelHelpers.classCallCheck(this,i),babelHelpers.initializerDefineProperty(this,"instructors",Yt,this),this.channel=t,this.source=r,this.funnelTracking=o,this.funnelTrackingConstants=n,e.custom_content?this._setInstructors(e.custom_content.instructors):this._init()}return babelHelpers.createClass(i,[{key:"_setInstructors",value:function(e){var t=Object(Y.toJS)(e,!1);this.instructors=t.map(function(e){return new Ye.b(e)})}},{key:"markAsSeen",value:function(e,t){var r=this;this.instructors.slice(e,e+t).forEach(function(e){e.markAsSeen(r.source,r,r.funnelTracking,r.funnelTrackingConstants)})}},{key:"_init",value:function(){var r=this;return this.channel.getCurrentChannel().then(function(e){var t={};return e.id&&(t.channel_id=e.id),-1===e.id&&(t.channelType=e.channelType),Ft.c.get("discovery-units/".concat(r.id,"/"),{params:t})}).then(Object(Y.action)(function(e){r._setInstructors(e.data.instructors)}))}}]),i}(),Yt=babelHelpers.applyDecoratedDescriptor(Gt.prototype,"instructors",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"_setInstructors",[$.a,Y.action],Object.getOwnPropertyDescriptor(Gt.prototype,"_setInstructors"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"markAsSeen",[$.a],Object.getOwnPropertyDescriptor(Gt.prototype,"markAsSeen"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"_init",[$.a,Y.action],Object.getOwnPropertyDescriptor(Gt.prototype,"_init"),Gt.prototype),Gt),rr=Object(K.d)((er=Zt=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).state=new Nt({marker:t.props.unit.markAsSeen}),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(){var e=this.props.unit,t={state:this.state,marker:e.markAsSeen};return E.a.createElement("div",null,E.a.createElement(It,t,e.instructors.map(function(e){return E.a.createElement(Ye.a,{key:e.id,instructor:e})})))}}]),r}(C.Component),Zt.propTypes={unit:k.a.instanceOf(tr).isRequired,source:k.a.oneOf(["category","subcategory","featured","home","keyword","collection","none"])},Zt.defaultProps={source:"none"},Jt=er))||Jt,or=function(e){var t=e.getState;return E.a.createElement(rr,t())};or.propTypes={getState:k.a.func.isRequired};var nr=u.a.module("ng/directives/units/instructor-list-unit/instructor-list-unit.ng-directive",[v.a.name,n.a.name,s.a.name,i.a.name]).value("InstructorListUnitContainer",or).directive("instructorListUnit",[function(){return{restrict:"E",controller:ir,template:'<react-component props="props" name="InstructorListUnitContainer"></react-component>'}}]);function ir(e,t,r,o){e.props={getState:function(){return{source:e.source,unit:new tr(e.unit,t,e.source,r,o)}}}}ir.$inject=["$scope","Channel","FunnelTracking","FunnelTrackingConstants"];var sr,ar,lr,cr,ur,pr=function(){function i(e,t,r,o){babelHelpers.classCallCheck(this,i),this.unitId=e.id,this.unitType=e.type;var n=e.custom_content;this.title=n.title,this.description=n.description,this.backgroundImage=n.background_image,this.backgroundColor=n.background_color,this.textColor=n.text_color,this.instructor=n.instructor,this.instructorImage=n.instructor_image,this.instructorCourses=n.instructor_courses,this.instructorTotalCourseCount=n.instructor_course_count,this.instructorTotalStudentCount=n.instructor_student_count,this.PageEvent=t,this.FunnelTracking=r,this.FunnelTrackingConstants=o}return babelHelpers.createClass(i,[{key:"track",value:function(e,t,r){var o={unitId:this.unitId,item:t,courseId:r,component:this.unitType,context:e};this.PageEvent.track("trackclick","channel-page",o)}},{key:"markAsSeen",value:function(e,t){if("carousel"!==t){var r=this.instructorCourses.map(function(e){return e.id}).join(","),o={id:"instructor|".concat(this.instructor.id,",").concat(r).replace(/,*$/,"")};this.FunnelTracking.markAsSeen(o,{context:this.FunnelTrackingConstants.channelContextMap[e],context2:this.FunnelTrackingConstants.featuredContext,subcontext2:this.unitId})}}}]),i}(),dr=r("./node_modules/classnames/bind.js"),hr=r.n(dr),mr=r("./src/udemy/js/base-components/image.react-component.js"),br=r("./src/udemy/js/utils/ud-numeral.js"),yr=(r("./src/udemy/js/ng/directives/units/editorial-instructor-unit/editorial-instructor-unit.less"),{"./editorial-instructor-unit.less":{"c_editorial-unit":"editorial-instructor-unit--c_editorial-unit--hwtt0","c_editorial-unit__bg-image":"editorial-instructor-unit--c_editorial-unit__bg-image--15hrf","c_editorial-unit__bg-image-force":"editorial-instructor-unit--c_editorial-unit__bg-image-force--4B_R4","c_editorial-unit__bg-image-not-in-carousel":"editorial-instructor-unit--c_editorial-unit__bg-image-not-in-carousel--1Rx_7","c_editorial-unit--bg":"editorial-instructor-unit--c_editorial-unit--bg--22q83","gr-black-transparent--right":"editorial-instructor-unit--gr-black-transparent--right--2a0Kn","c_editorial-unit__inner":"editorial-instructor-unit--c_editorial-unit__inner--3_uHk","fx-lt":"editorial-instructor-unit--fx-lt--3cIYN","c_editorial-unit__click-area":"editorial-instructor-unit--c_editorial-unit__click-area--1P_OQ","c_editorial-unit__left":"editorial-instructor-unit--c_editorial-unit__left--2dDd5",m_fx:"editorial-instructor-unit--m_fx--3gtLc","fx-dc":"editorial-instructor-unit--fx-dc--PHiQ_","c_editorial-unit__right":"editorial-instructor-unit--c_editorial-unit__right--Mq7Gb","fx-c":"editorial-instructor-unit--fx-c--3Z-se","c_editorial-unit__label":"editorial-instructor-unit--c_editorial-unit__label--goMVQ","c_editorial-unit__title":"editorial-instructor-unit--c_editorial-unit__title--3e1Au","c_editorial-unit__text-block":"editorial-instructor-unit--c_editorial-unit__text-block--3wstc","ellipsis-n-lines":"editorial-instructor-unit--ellipsis-n-lines--1xgy8","c_editorial-unit__secondary-info":"editorial-instructor-unit--c_editorial-unit__secondary-info--raUln","c_editorial-unit__cta":"editorial-instructor-unit--c_editorial-unit__cta--3IIDz","c_editorial-unit__student-count":"editorial-instructor-unit--c_editorial-unit__student-count--2B7eK","c_editorial-unit__featured-label":"editorial-instructor-unit--c_editorial-unit__featured-label--3fZCy","c_editorial-unit__instructor":"editorial-instructor-unit--c_editorial-unit__instructor--2eMEP","c_editorial-unit__image":"editorial-instructor-unit--c_editorial-unit__image--14F9Q","c_editorial-unit__footer":"editorial-instructor-unit--c_editorial-unit__footer--35Zi2","c_editorial-unit__instructor-cta":"editorial-instructor-unit--c_editorial-unit__instructor-cta--3Jx7q","fx-lc":"editorial-instructor-unit--fx-lc--nLQ0U",fx:"editorial-instructor-unit--fx--36JfJ"}}),fr=Object(K.d)((cr=lr=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClick",value:function(e,t){var r=this;return function(){r.props.unit.track(r.props.source,e,t)}}},{key:"onViewEnter",value:function(){this.props.unit.markAsSeen(this.props.source,this.props.subContext)}},{key:"studentCountText",value:function(){var e=this.props.unit,t={studentCount:Object(br.a)(e.instructorTotalStudentCount).format("0,0"),courseCount:Object(br.a)(e.instructorTotalCourseCount).format("0,0")};return 1<e.instructorTotalCourseCount?interpolate(ngettext("%(studentCount)s student in %(courseCount)s courses","%(studentCount)s students in %(courseCount)s courses",e.instructorTotalStudentCount),t,!0):interpolate(ngettext("%(studentCount)s student in %(courseCount)s course","%(studentCount)s students in %(courseCount)s course",e.instructorTotalStudentCount),t,!0)}},{key:"render",value:function(){var r=this,e=this.props.unit,t=hr()("c_editorial-unit",{"c_editorial-unit--bg":e.backgroundImage}),o={backgroundColor:e.backgroundColor},n={color:e.textColor},i=e.instructorCourses.map(function(e,t){return E.a.createElement("a",{href:e.url,key:t,className:"editorial-instructor-unit--c_editorial-unit__instructor-cta--3Jx7q",onClick:r.onClick("course-link",e.id)},E.a.createElement(mr.a,{alt:"",src:e.image_50x50,srcSet:"".concat(e.image_50x50," 1x, ").concat(e.image_100x100," 2x"),width:50,height:50}),E.a.createElement("span",null,e.title))}),s=hr()({"c_editorial-unit__bg-image":!e.backgroundImage,"c_editorial-unit__bg-image-force":e.backgroundImage,"c_editorial-unit__bg-image-not-in-carousel":"carousel"!==this.props.subContext});return E.a.createElement("div",{style:o,"data-purpose":"editorial-instructor-unit",className:B()(t,yr)},E.a.createElement(mr.a,{"data-purpose":"editorial-instructor-unit-bg-image",alt:"",src:e.backgroundImage||e.instructorImage,height:"unset",width:"unset",className:B()(s,yr)}),E.a.createElement("div",{className:"editorial-instructor-unit--c_editorial-unit__inner--3_uHk"},E.a.createElement("div",{className:"editorial-instructor-unit--c_editorial-unit__left--2dDd5"},E.a.createElement("a",{href:e.instructor.url,className:"editorial-instructor-unit--c_editorial-unit__click-area--1P_OQ","data-purpose":"editorial-instructor-unit-instructor-profile-url",onClick:this.onClick("instructor-profile-url")},E.a.createElement("div",{className:"editorial-instructor-unit--c_editorial-unit__label--goMVQ",style:n},E.a.createElement("span",{"data-purpose":"editorial-instructor-unit-title"},e.title)),E.a.createElement("div",{className:"editorial-instructor-unit--c_editorial-unit__title--3e1Au",style:n},E.a.createElement("h1",{"data-purpose":"editorial-instructor-unit-name"},e.instructor.display_name)),E.a.createElement("p",{className:"editorial-instructor-unit--c_editorial-unit__text-block--3wstc",style:n,"data-purpose":"editorial-instructor-unit-description"},e.description),E.a.createElement("div",{className:"editorial-instructor-unit--c_editorial-unit__student-count--2B7eK"},E.a.createElement("span",{"data-purpose":"editorial-instructor-student-counter",className:"editorial-instructor-unit--c_editorial-unit__secondary-info--raUln",style:n},this.studentCountText()))),E.a.createElement("div",{className:"editorial-instructor-unit--c_editorial-unit__footer--35Zi2",style:n,"data-purpose":"editorial-instructor-popular-courses"},E.a.createElement("span",{className:"editorial-instructor-unit--c_editorial-unit__featured-label--3fZCy"},gettext("Popular courses")),i)),e.backgroundImage?null:E.a.createElement("div",{className:"editorial-instructor-unit--c_editorial-unit__right--Mq7Gb"},E.a.createElement("div",{className:"editorial-instructor-unit--c_editorial-unit__image--14F9Q",style:{backgroundImage:"url(".concat(e.instructorImage,")")},"data-purpose":"editorial-instructor-unit-right-image"}))),E.a.createElement(Ze.a,{onEnter:this.onViewEnter,scrollableAncestor:window}))}}]),t}(C.Component),lr.propTypes={unit:k.a.instanceOf(pr).isRequired,source:k.a.oneOf(["category","subcategory","featured","home","keyword","collection","none"]),subContext:k.a.string},lr.defaultProps={source:"none",subContext:""},ar=cr,babelHelpers.applyDecoratedDescriptor(ar.prototype,"onClick",[$.a],Object.getOwnPropertyDescriptor(ar.prototype,"onClick"),ar.prototype),babelHelpers.applyDecoratedDescriptor(ar.prototype,"onViewEnter",[$.a],Object.getOwnPropertyDescriptor(ar.prototype,"onViewEnter"),ar.prototype),sr=ar))||sr,gr=u.a.module("ng/directives/units/editorial-instructor-unit/editorial-instructor-unit.ng-directive",[v.a.name,s.a.name]).value("EditorialInstructorUnit",fr).directive("editorialInstructorUnit",[function(){return{restrict:"E",scope:{unit:"=",source:"=",subContext:"@"},controller:vr,template:'<react-component props="props" name="EditorialInstructorUnit"></react-component>'}}]);function vr(e,t,r,o){e.props={unit:new pr(e.unit,t,r,o),source:e.source,subContext:e.subContext}}vr.$inject=["$scope","PageEvent","FunnelTracking","FunnelTrackingConstants"];var wr,kr,Cr,_r,Sr=(ur=function(){function a(e,t,r,o,n,i){babelHelpers.classCallCheck(this,a),this.unitId=e.id,this.unitType=e.type;var s=e.custom_content;this.title=s.title,this.description=s.description,this.courseDescription=s.course_description,this.backgroundImage=s.background_image,this.circleImage=s.circle_image,this.ctaText=s.cta_text,this.backgroundColor=s.background_color,this.textColor=s.text_color,this.featuredCourse=s.featured_course,this.funnelTracking=o,this.funnelTrackingConstants=n,this.PageEvent=i,this.source=t,this.subContext=r}return babelHelpers.createClass(a,[{key:"markAsSeen",value:function(){if("carousel"!==this.subContext){var e=this.featuredCourse.visible_instructors.slice(0,2).map(function(e){return"instructor|".concat(e.id)}).join(","),t={id:"".concat(this.featuredCourse.id,",").concat(e)};this.funnelTracking.markAsSeen(t,{context:this.funnelTrackingConstants.channelContextMap[this.source],context2:"featured",subcontext:this.title,subcontext2:this.unitId})}}},{key:"track",value:function(e){var t={unitId:this.unitId,item:e,component:this.unitType,context:this.source};this.PageEvent.track("trackclick","channel-page",t)}}]),a}(),babelHelpers.applyDecoratedDescriptor(ur.prototype,"markAsSeen",[$.a,Y.action],Object.getOwnPropertyDescriptor(ur.prototype,"markAsSeen"),ur.prototype),babelHelpers.applyDecoratedDescriptor(ur.prototype,"track",[$.a],Object.getOwnPropertyDescriptor(ur.prototype,"track"),ur.prototype),ur),jr=r("./src/udemy/js/base-components/instructor-titles.react-component.js"),Er=(r("./src/udemy/js/ng/directives/units/editorial-course-unit/editorial-course-unit.less"),{"./editorial-course-unit.less":{"c_editorial-course-unit":"editorial-course-unit--c_editorial-course-unit--1DWRx",image:"editorial-course-unit--image--CuFjk","bg-image":"editorial-course-unit--bg-image--33kM3","bg-image-force":"editorial-course-unit--bg-image-force--1YoLV","bg-image-not-in-carousel":"editorial-course-unit--bg-image-not-in-carousel--1gun_",inner:"editorial-course-unit--inner--3cNv1","fx-lt":"editorial-course-unit--fx-lt--1VhUi",left:"editorial-course-unit--left--2IHPN",m_fx:"editorial-course-unit--m_fx--2vHka","fx-dc":"editorial-course-unit--fx-dc--2odbz",label:"editorial-course-unit--label--3pfcc",footer:"editorial-course-unit--footer--8TmEi",right:"editorial-course-unit--right--39txo","fx-c":"editorial-course-unit--fx-c--1vevY",title:"editorial-course-unit--title--1yNMV","text-block":"editorial-course-unit--text-block--3iFPP","ellipsis-n-lines":"editorial-course-unit--ellipsis-n-lines--2OSCv","secondary-info":"editorial-course-unit--secondary-info--1U0lG",instructor:"editorial-course-unit--instructor--1740X","c_editorial-course-unit-background":"editorial-course-unit--c_editorial-course-unit-background--cLxt0","gr-black-transparent--right":"editorial-course-unit--gr-black-transparent--right--1EA0E","c_editorial-unit":"editorial-course-unit--c_editorial-unit--3qHym"}}),Dr=function(e){var t=e.course,r=e.courseDescription,o=e.textColor,n=e.track;return E.a.createElement("div",null,E.a.createElement("a",{className:"editorial-course-unit--title--1yNMV",href:t.url,style:{color:o},onClick:n},E.a.createElement("h1",{"data-purpose":"editorial-course-title"},t.title)),E.a.createElement("p",{className:"editorial-course-unit--text-block--3iFPP",style:{color:o},"data-purpose":"editorial-course-description"},r))},xr=Object(K.d)((_r=Cr=function(e){function o(e,t){var r;return babelHelpers.classCallCheck(this,o),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e,t))).trackers={},["course-title","cta","course-image","instructor"].forEach(function(e){r.trackers[e]=function(){return r.props.unit.track(e)}}),r}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"renderInstructorTitleWrapper",value:function(e){return E.a.createElement("a",{className:"editorial-course-unit--instructor--1740X",style:{color:this.props.unit.textColor},href:e.url,onClick:this.trackers.instructor,"data-purpose":"instructor"})}},{key:"render",value:function(){var e=this.props.unit,t={backgroundImage:"url(".concat(e.circleImage,")")},r=W()({"c_editorial-course-unit":!0,"c_editorial-course-unit-background":e.backgroundImage}),o=W()({"bg-image":!e.backgroundImage,"bg-image-force":e.backgroundImage,"bg-image-not-in-carousel":"carousel"!==this.props.subContext});return E.a.createElement("div",{"data-purpose":"editorial-course-unit",className:B()(r,Er)},E.a.createElement(mr.a,{"data-purpose":"editorial-course-unit-bg-image",alt:"",src:e.backgroundImage||e.circleImage,height:"unset",width:"unset",className:B()(o,Er)}),E.a.createElement("div",{className:"editorial-course-unit--inner--3cNv1"},E.a.createElement("div",{className:"editorial-course-unit--left--2IHPN"},E.a.createElement("div",{className:"editorial-course-unit--label--3pfcc",style:{color:e.textColor}},e.title),E.a.createElement(Dr,{course:e.featuredCourse,textColor:e.textColor,courseDescription:e.courseDescription,track:this.trackers["course-title"]}),E.a.createElement(jr.a,{instructors:e.featuredCourse.visible_instructors,format:"BY_TOP_TWO",renderTitleWrapper:this.renderInstructorTitleWrapper,className:"editorial-course-unit--secondary-info--1U0lG",dataPurpose:"editorial-course-instructor",style:{color:e.textColor}}),E.a.createElement("div",{className:"editorial-course-unit--footer--8TmEi"},E.a.createElement(_.default,{bsStyle:"secondary",href:e.featuredCourse.url,"data-purpose":"editorial-course-cta-button",onClick:this.trackers.cta},e.ctaText))),E.a.createElement("div",{className:"editorial-course-unit--right--39txo"},!e.backgroundImage&&E.a.createElement("a",{href:e.featuredCourse.url,"aria-label":e.title,tabIndex:"-1","data-purpose":"editorial-course-circle-image",onClick:this.trackers["course-image"]},E.a.createElement("div",{className:"editorial-course-unit--image--CuFjk",style:t})))),E.a.createElement(Ze.a,{scrollableAncestor:window,onEnter:e.markAsSeen}))}}]),o}(C.Component),Cr.propTypes={unit:k.a.instanceOf(Sr).isRequired,source:k.a.oneOf(["category","subcategory","featured","home","keyword","collection","none"]),subContext:k.a.string},Cr.defaultProps={source:"none",subContext:""},kr=_r,babelHelpers.applyDecoratedDescriptor(kr.prototype,"renderInstructorTitleWrapper",[$.a],Object.getOwnPropertyDescriptor(kr.prototype,"renderInstructorTitleWrapper"),kr.prototype),wr=kr))||wr,Or=function(e){var t=e.getState;return E.a.createElement(xr,t())};Or.propTypes={getState:k.a.func.isRequired};var Tr,Pr=u.a.module("ng/directives/units/editorial-course-unit/editorial-course-unit.ng-directive",[v.a.name,n.a.name,s.a.name,i.a.name,We.a.name]).value("EditorialCourseUnitContainer",Or).directive("editorialCourseUnit",[function(){return{restrict:"E",controller:Hr,scope:{unit:"=",source:"=",subContext:"@"},template:'<react-component props="props" name="EditorialCourseUnitContainer"></react-component>'}}]);function Hr(e,t,r,o){e.props={getState:function(){return{source:e.source,unit:new Sr(e.unit,e.source,e.subContext,t,r,o),subContext:e.subContext}}}}Hr.$inject=["$scope","FunnelTracking","FunnelTrackingConstants","PageEvent"];var Ar,Ir,Rr,qr,Nr=(Tr=function(){function s(e,t,r,o,n,i){babelHelpers.classCallCheck(this,s),this.unitId=e.id,this.unitType=e.type,this.featuredCourse=e.courses[0],this.title=e.title,this.funnelTracking=o,this.funnelTrackingConstants=n,this.PageEvent=i,this.source=t,this.subContext=r}return babelHelpers.createClass(s,[{key:"markAsSeen",value:function(){if("carousel"!==this.subContext){var e=this.featuredCourse.visible_instructors.slice(0,2).map(function(e){return"instructor|".concat(e.id)}).join(","),t={id:"".concat(this.featuredCourse.id,",").concat(e)};this.funnelTracking.markAsSeen(t,{context:this.funnelTrackingConstants.channelContextMap[this.source],context2:"featured",subcontext:this.title,subcontext2:this.unitId})}}},{key:"track",value:function(e){var t={unitId:this.unitId,item:e,component:this.unitType,context:this.source};this.PageEvent.track("trackclick","channel-page",t)}}]),s}(),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"markAsSeen",[$.a,Y.action],Object.getOwnPropertyDescriptor(Tr.prototype,"markAsSeen"),Tr.prototype),babelHelpers.applyDecoratedDescriptor(Tr.prototype,"track",[$.a],Object.getOwnPropertyDescriptor(Tr.prototype,"track"),Tr.prototype),Tr),zr=(r("./src/udemy/js/ng/directives/units/featured-course-unit/featured-course-unit.less"),{"./featured-course-unit.less":{"c_featured-course-unit":"featured-course-unit--c_featured-course-unit--19vBc",image:"featured-course-unit--image--1jTR1","bg-image":"featured-course-unit--bg-image--xx_cd","bg-image-force":"featured-course-unit--bg-image-force--2H6l7","bg-image-not-in-carousel":"featured-course-unit--bg-image-not-in-carousel--R1dSg",inner:"featured-course-unit--inner--12rfF","fx-lt":"featured-course-unit--fx-lt--2cfys",left:"featured-course-unit--left--1U2dp",m_fx:"featured-course-unit--m_fx--2SmEy","fx-dc":"featured-course-unit--fx-dc--2SI4v",label:"featured-course-unit--label--UrOWr",footer:"featured-course-unit--footer--280Jr",right:"featured-course-unit--right--3KP6Z","fx-c":"featured-course-unit--fx-c--tZTL7",title:"featured-course-unit--title--2Uzpk","text-block":"featured-course-unit--text-block--2AI1K","ellipsis-n-lines":"featured-course-unit--ellipsis-n-lines--aeAiA","secondary-info":"featured-course-unit--secondary-info--3IVjq",instructor:"featured-course-unit--instructor--hbe2Z","c_featured-course-unit-background":"featured-course-unit--c_featured-course-unit-background--2utqS","gr-black-transparent--right":"featured-course-unit--gr-black-transparent--right--2GyIQ","c_featured-unit":"featured-course-unit--c_featured-unit--1o1AU"}}),Mr=function(e){var t=e.course,r=e.track;return E.a.createElement("div",null,E.a.createElement("a",{className:"featured-course-unit--title--2Uzpk",href:t.url,onClick:r},E.a.createElement("h1",{"data-purpose":"featured-course-title"},t.title)),E.a.createElement("p",{className:"featured-course-unit--text-block--2AI1K","data-purpose":"featured-course-description"},t.headline))},Lr=Object(K.d)((qr=Rr=function(e){function o(e,t){var r;return babelHelpers.classCallCheck(this,o),(r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).call(this,e,t))).trackers={},["course-title","cta","course-image","instructor"].forEach(function(e){r.trackers[e]=function(){return r.props.unit.track(e)}}),r}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"renderInstructorTitleWrapper",value:function(e){return E.a.createElement("a",{className:"featured-course-unit--instructor--hbe2Z",href:e.url,onClick:this.trackers.instructor,"data-purpose":"instructor"})}},{key:"render",value:function(){var e=this.props.unit,t={backgroundImage:"url(".concat(e.featuredCourse.image_480x270,")")},r=W()({"bg-image":!0,"bg-image-not-in-carousel":"carousel"!==this.props.subContext});return E.a.createElement("div",{className:"featured-course-unit--c_featured-course-unit--19vBc","data-purpose":"featured-course-unit"},E.a.createElement(mr.a,{"data-purpose":"featured-course-unit-bg-image",alt:"",src:e.featuredCourse.image_480x270,width:480,height:270,className:B()(r,zr)}),E.a.createElement("div",{className:"featured-course-unit--inner--12rfF"},E.a.createElement("div",{className:"featured-course-unit--left--1U2dp"},E.a.createElement("div",{className:"featured-course-unit--label--UrOWr"},e.title),E.a.createElement(Mr,{course:e.featuredCourse,track:this.trackers["course-title"]}),E.a.createElement(jr.a,{instructors:e.featuredCourse.visible_instructors,format:"BY_TOP_TWO",renderTitleWrapper:this.renderInstructorTitleWrapper,className:"featured-course-unit--secondary-info--3IVjq",dataPurpose:"featured-course-instructor"}),E.a.createElement("div",{className:"featured-course-unit--footer--280Jr"},E.a.createElement(_.default,{bsStyle:"secondary",href:e.featuredCourse.url,"data-purpose":"featured-course-cta-button",onClick:this.trackers.cta},gettext("Explore course")))),E.a.createElement("div",{className:"featured-course-unit--right--3KP6Z"},E.a.createElement("a",{href:e.featuredCourse.url,"aria-label":e.title,tabIndex:"-1","data-purpose":"featured-course-circle-image",onClick:this.trackers["course-image"]},E.a.createElement("div",{className:"featured-course-unit--image--1jTR1",style:t})))),E.a.createElement(Ze.a,{scrollableAncestor:window,onEnter:e.markAsSeen}))}}]),o}(C.Component),Rr.propTypes={unit:k.a.instanceOf(Nr).isRequired,source:k.a.oneOf(["category","subcategory","featured","home","keyword","collection","none"]),subContext:k.a.string},Rr.defaultProps={source:"none",subContext:""},Ir=qr,babelHelpers.applyDecoratedDescriptor(Ir.prototype,"renderInstructorTitleWrapper",[$.a],Object.getOwnPropertyDescriptor(Ir.prototype,"renderInstructorTitleWrapper"),Ir.prototype),Ar=Ir))||Ar,Fr=function(e){var t=e.getState;return E.a.createElement(Lr,t())};Fr.propTypes={getState:k.a.func.isRequired};var Ur=u.a.module("ng/directives/units/featured-course-unit/featured-course-unit.ng-directive",[v.a.name,n.a.name,s.a.name,i.a.name,We.a.name]).value("FeaturedCourseUnitContainer",Fr).directive("featuredCourseUnit",[function(){return{restrict:"E",controller:Br,scope:{unit:"=",source:"=",subContext:"@"},template:'<react-component props="props" name="FeaturedCourseUnitContainer"></react-component>'}}]);function Br(e,t,r,o){e.props={getState:function(){return{source:e.source,unit:new Nr(e.unit,e.source,e.subContext,t,r,o),subContext:e.subContext}}}}Br.$inject=["$scope","FunnelTracking","FunnelTrackingConstants","PageEvent"];t.a=u.a.module("ng/directives/units/module",[f.name,x.name,ne.name,he.name,Kt.name,ke.name,Ee.name,Pr.name,gr.name,Ae.name,nr.name,Ve.name,Ur.name])},"./src/udemy/js/ng/directives/units/slider-list/mobile/mobile-list-view.react-component.js":function(e,t,r){"use strict";var o,n,i,s,a,l,c,u,p,d,h=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),m=r.n(h),b=r("./node_modules/autobind-decorator/lib/index.js"),y=r.n(b),f=r("./node_modules/classnames/index.js"),g=r.n(f),v=r("./node_modules/lodash-es/noop.js"),w=r("./node_modules/mobx/lib/mobx.js"),k=r("./node_modules/mobx-react/index.module.js"),C=r("./node_modules/prop-types/index.js"),_=r.n(C),S=r("./node_modules/react/index.js"),j=r.n(S),E=r("./src/udemy/js/base-components/button.react-component.js"),D=r("./src/udemy/js/base-components/icon.react-component.js"),x=r("./node_modules/react-waypoint/build/waypoint.js"),O=r.n(x),T=(i=n=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onEnter",value:function(){var e=this.props,t=e.startIndex,r=e.itemCount;(0,e.marker)(t,r)}},{key:"render",value:function(){var e=this.props.children;return j.a.createElement("div",null,j.a.createElement(O.a,{scrollableAncestor:window,onEnter:this.onEnter}),e)}}]),t}(S.Component),n.propTypes={itemCount:_.a.number,startIndex:_.a.number.isRequired,marker:_.a.func.isRequired},n.defaultProps={itemCount:1},o=i,babelHelpers.applyDecoratedDescriptor(o.prototype,"onEnter",[y.a],Object.getOwnPropertyDescriptor(o.prototype,"onEnter"),o.prototype),o);r("./src/udemy/js/ng/directives/units/slider-list/slider-list.less");r.d(t,"a",function(){return I});var P={"../slider-list.less":{"slider-wrapper":"slider-list--slider-wrapper--3jv2F","slider-top":"slider-list--slider-top--1zrpT","slider-container":"slider-list--slider-container--MqkC7","slider-mask":"slider-list--slider-mask--1imJz","item-list":"slider-list--item-list--73J8H",item:"slider-list--item--2H5Yb",waypoint:"slider-list--waypoint--WBmsl","icon-loading":"slider-list--icon-loading--2-dfq","see-all-btn":"slider-list--see-all-btn--3nRTm","course-nav-btn":"slider-list--course-nav-btn--1sFHw",prev:"slider-list--prev--W_hEf",next:"slider-list--next--38ruk","button-wrapper":"slider-list--button-wrapper--1OZlo","vertical-cards":"slider-list--vertical-cards--3Rya6"}},H=function(e){var t=e.onClick;return j.a.createElement(E.default,{bsStyle:"primary","data-purpose":"see-all-btn",onClick:t,className:"w100p"},gettext("See all"),j.a.createElement(D.a,{glyph:"chevron-right",size:"small"}))},A=function(e){var t=e.onClick;return j.a.createElement(E.default,{bsStyle:"default","data-purpose":"load-more-btn",onClick:t,className:"w100p"},gettext("See More"),j.a.createElement(D.a,{glyph:"chevron-down",size:"small"}))},I=Object(k.d)((d=p=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"displaySeeAll",l,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"displaySeeMore",c,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"displayedItemCount",u,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.itemCount=j.a.Children.count(e.children),t.setButtonVisibility(),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"setButtonVisibility",value:function(){var e=this.props.seeMoreEnabled;this.displayedItemCount=e?3:this.itemCount,this.displaySeeMore=this.itemCount>this.displayedItemCount,this.displaySeeAll=!!this.props.goToSeeAll}},{key:"seeMore",value:function(){this.displayedItemCount=this.itemCount,this.displaySeeMore=!1}},{key:"render",value:function(){var e=this.props,t=e.titleBox,r=e.children,o=e.marker,n=e.hasVerticalCards,i=g()({"vertical-cards":n}),s=j.a.Children.map(r,function(e,t){return j.a.createElement(T,{startIndex:t,marker:o},e)});return j.a.createElement("div",null,t,j.a.createElement("div",{className:m()(i,P)},s.slice(0,this.displayedItemCount)),this.buttonComponent)}},{key:"buttonComponent",get:function(){var e=this.props,t=e.seeMoreEnabled,r=e.goToSeeAll;return t?this.displaySeeMore?j.a.createElement("div",{className:"text-center mb20 slider-list--button-wrapper--1OZlo"},j.a.createElement(A,{onClick:this.seeMore})):this.displaySeeAll?j.a.createElement("div",{className:"text-center mb20 slider-list--button-wrapper--1OZlo"},j.a.createElement(H,{onClick:r})):null:null}}]),r}(S.Component),p.propTypes={titleBox:_.a.object,goToSeeAll:_.a.func,marker:_.a.func,seeMoreEnabled:_.a.bool,hasVerticalCards:_.a.bool},p.defaultProps={titleBox:null,goToSeeAll:null,marker:v.a,seeMoreEnabled:!0,hasVerticalCards:!1},a=d,l=babelHelpers.applyDecoratedDescriptor(a.prototype,"displaySeeAll",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=babelHelpers.applyDecoratedDescriptor(a.prototype,"displaySeeMore",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=babelHelpers.applyDecoratedDescriptor(a.prototype,"displayedItemCount",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),babelHelpers.applyDecoratedDescriptor(a.prototype,"setButtonVisibility",[w.action],Object.getOwnPropertyDescriptor(a.prototype,"setButtonVisibility"),a.prototype),babelHelpers.applyDecoratedDescriptor(a.prototype,"seeMore",[y.a,w.action],Object.getOwnPropertyDescriptor(a.prototype,"seeMore"),a.prototype),s=a))||s},"./src/udemy/js/ng/directives/units/slider-list/slider-list.less":function(e,t,r){e.exports={"slider-wrapper":"slider-list--slider-wrapper--3jv2F","slider-top":"slider-list--slider-top--1zrpT","slider-container":"slider-list--slider-container--MqkC7","slider-mask":"slider-list--slider-mask--1imJz","item-list":"slider-list--item-list--73J8H",item:"slider-list--item--2H5Yb",waypoint:"slider-list--waypoint--WBmsl","icon-loading":"slider-list--icon-loading--2-dfq","see-all-btn":"slider-list--see-all-btn--3nRTm","course-nav-btn":"slider-list--course-nav-btn--1sFHw",prev:"slider-list--prev--W_hEf",next:"slider-list--next--38ruk","button-wrapper":"slider-list--button-wrapper--1OZlo","vertical-cards":"slider-list--vertical-cards--3Rya6"}},"./src/udemy/js/ng/directives/units/topic-unit/topic-unit.ng-template.html":function(e,t){var r="/ng/directives/units/topic-unit/topic-unit.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div class="c_topic-wrap c_topic--image"> <a ng-repeat="topic in topicItems" class=c_topic href="{{ ::topic.landing_page_url }}" style="background-image:url(\'{{ ::topic.thumbnail_image_540x160 }}\')"> <div class=c_topic__detail in-view=$inview&&cntl.markAsSeen(topic)> <div class=c_topic__name> {{ topic.title }} </div> </div> </a> </div> ')}]),e.exports=r},"./src/udemy/js/ng/directives/units/wireframe/course-list-unit-wireframe.ng-template.html":function(e,t){var r="/ng/directives/units/wireframe/course-list-unit-wireframe.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<ul class=content-loader--list ng-hide=done data-purpose=content-loader-wireframe> <li ng-repeat="i in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] track by $index"> <div class="fxw p15"> <div class="content-loader__item item--1"></div> <div class="item--group fx"> <div class="content-loader__item item--2"></div> <div class="content-loader__item item--3"></div> <div class="content-loader__item item--4"></div> </div> </div> </li> </ul> ')}]),e.exports=r},"./src/udemy/js/ng/filters/htmlutils.ng-filter.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/jquery/dist/jquery.js-exposed"),a=r.n(i),s=r("./src/udemy/js/utils/ud-moment.js"),l=r("./src/udemy/js/ng/services/utils.ng-factory.js");t.a=n.a.module("ng/filters/htmlutils.ng-filter",[l.a.name]).filter("textToHtml",function(){return function(e){if(!e)return e;e=a()("<i/>").text(e).html().replace(/\n/g,"<br/>");for(var t,r=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:/~+#-]*[\w@?^=%&amp;/~+#-])?/gi,o=[],n=[];null!==(t=r.exec(e));)o.push(t.index),n.push(t[0]);if(0===o.length)return e;for(var i=e.substring(0,o[0]),s=0;s<o.length;s++)i+=(s+1<o.length?e.substring(o[s],o[s+1]):e.substring(o[s])).replace(n[s],'<a href="'.concat(n[s],'" target="_blank" rel="nofollow noreferrer noopener" >').concat(n[s],"</a>"));return i}}).filter("htmlHasContent",["Utils",function(t){return function(e){return"string"==typeof e&&(0<e.search(/<img src/g,"")||(e=e.replace(/\s|&nbsp;/g,""),t.trimTags(e)))}}]).filter("mysqlDate",["$filter",function(n){return function(e,t){var r="America/Los_Angeles",o=s.b.tz(e,r);return n("date")(o.toDate(),t,r)}}]).filter("openBlankTarget",function(){return function(e){if(null==e)return"";var t=n.a.element("<div>".concat(e,"</div>"));return t.find("a").attr({target:"_blank",rel:"noopener noreferrer"}),t.html()}})},"./src/udemy/js/ng/filters/moment.ng-filter.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/utils/ud-moment.js");t.a=n.a.module("ng/filters/moment.ng-filter",[]).filter("fromNow",function(){return i.c}).filter("humanLongDateTime",function(){return i.g}).filter("humanDate",function(){return i.e})},"./src/udemy/js/ng/filters/utility.ng-filter.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/ng/services/utils.ng-factory.js"),s=r("./src/udemy/js/ng/ud-translate.ng-service.js"),a=r("./src/udemy/js/utils/ud-numeral.js");t.a=n.a.module("ng/filters/utility.ng-filter",[s.a.name,i.a.name]).filter("secondsToHHMMSS",["$filter",function(r){return function(e){var t=3600<e?"HH:mm:ss":"mm:ss";return r("date")(new Date(1970,1,1,0,0,e,0),t)}}]).filter("numToNearestX",function(){return function(e,t){return e%t<=Math.floor(t/2)?e-e%t:e+(t-e%t)}}).filter("getPercentage",function(){return function(e,t,r,o){return 0===t?r:(o||(o=1),Math.round(e/t*100*o)/o)}}).filter("localizePercentage",function(){return function(e,t){var r="";if(0<t){r=".";for(var o=0;o<t;o++)r+="0"}return Object(a.a)(e).format("0".concat(r,"%"))}}).filter("trimTags",["Utils",function(e){return e.trimTags}]).filter("replaceImgTag",["Utils",function(e){return e.replaceImgTag}]).filter("toArray",function(){return function(r,e){return n.a.isObject(r)?e?Object.keys(r).map(function(e){var t=r[e];return n.a.isObject(t)?Object.defineProperty(t,"$key",{enumerable:!1,value:e}):Object.defineProperty({$value:t},"$key",{enumerable:!1,value:e})}):Object.keys(r).map(function(e){return r[e]}):r}})},"./src/udemy/js/ng/services/confirm.ng-factory.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=(r("./node_modules/angular-confirm/angular-confirm.js"),r("./node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls-0.13.1.js"),r("./src/udemy/js/ng/ud-translate.ng-service.js")),s=r("./src/udemy/js/ng/services/confirm.ng-template.html"),a=r.n(s),l=n.a.module("ng/services/confirm.ng-factory",["angular-confirm","ui.bootstrap",i.a.name]).factory("udConfirm",["$confirm","gettextCatalog",function(r,o){return function(e){var t={settings:{templateUrl:e.templateUrl||a.a,defaultLabels:{title:o.getString("Please Confirm"),ok:o.getString("OK"),cancel:o.getString("Cancel")}},btnStyles:{ok:"secondary",cancel:"quaternary"}};return e=e.text?e:{text:e},e=n.a.merge({},t,e),r(e,e.settings)}}]);t.a=l},"./src/udemy/js/ng/services/confirm.ng-template.html":function(e,t){var r="/ng/services/confirm.ng-template.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(r,'<div class=modal-header ng-if=data.title> <button ng-if=!data.noCloseButton type=button class=close aria-label="{{ data.cancel }}" ng-click=cancel()> <span aria-hidden=true>×</span> </button> <h4 class=modal-title id=myModalLabel>{{ data.title }}</h4> </div> <div class=modal-body>{{ data.text }}</div> <div class=modal-footer> <div class=modal-footer--inner> <button type=button class="btn btn-{{ data.btnStyles.cancel }}" ng-click=cancel() ng-if=data.cancel>{{ data.cancel }}</button> <button type=button class="btn btn-{{ data.btnStyles.ok }}" ng-click=ok()>{{ data.ok }}</button> </div> </div> ')}]),e.exports=r},"./src/udemy/js/ng/services/course-resources.ng-factory.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/angular-resource/index.js"),s=r.n(i);t.a=n.a.module("ng/services/course-resources.ng-factory",[s.a]).factory("Course",["$resource",function(e){return e("/api-2.0/courses/:courseId")}]).factory("CourseReviewResponse",["$resource",function(e){return e("/api-2.0/courses/:courseId/reviews/:reviewId/responses/:responseId",null,{update:{method:"PATCH"},delete:{method:"DELETE"}})}]).factory("UserCourseReview",["$resource",function(e){return e("/api-2.0/users/me/course-reviews/",null,{})}]).factory("CourseCurriculum",["$resource",function(e){return e("/api-2.0/courses/:courseId/:curriculum",{clocale:"@clocale"},{publicCurriculumItems:{method:"GET",params:{curriculum:"public-curriculum-items"}},instructorCurriculumItems:{method:"GET",params:{curriculum:"instructor-curriculum-items"}}})}]).factory("CourseProgress",["$resource",function(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/progress")}]).factory("CourseCertificate",["$resource",function(e){return e("/api-2.0/users/me/certificates")}]).factory("CourseAnnouncement",["$resource",function(e){return e("/api-2.0/courses/:courseId/announcements/")}]).factory("CourseSurveyStats",["$resource",function(e){return e("/api-2.0/courses/:courseId/survey-stats/")}])},"./src/udemy/js/ng/services/experiment/ud-experiment.ng-service.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/utils/ud-experiment.js");t.a=n.a.module("ng/services/experiment/ud-experiment.ng-service",[]).service("experimentVariants",function(){return{getVariantValue:i.a}})},"./src/udemy/js/ng/services/funnel-tracking/funnel-tracking.ng-factory.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/ng/services/funnel-tracking/funnel-tracking.js");t.a=n.a.module("ng/services/funnel-tracking/funnel-tracking.ng-factory",[]).value("FunnelTracking",i.a)},"./src/udemy/js/ng/services/mobile.ng-service.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/utils/mobile.js"),s=n.a.module("ng/services/mobile.ng-service",[]).service("Mobile",function(){this.isMobileApp=i.a,this.isMobileBrowser=function(){return i.c},this.getMobileOSType=i.b});t.a=s},"./src/udemy/js/ng/services/user-resources.ng-factory.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),i=r.n(o),n=r("./node_modules/angular-resource/index.js"),s=r.n(n),a=r("./src/udemy/js/my-courses/collection-cache.ng-factory.js"),l=r("./src/udemy/js/utils/ud-me.js");t.a=i.a.module("ng/services/user-resources.ng-factory",[s.a,a.a.name]).factory("UserResource",["$resource",function(e){return e("/api-2.0/users/:id")}]).factory("UserAnalytics",["$resource",function(e){return e("/api-2.0/users/me/analytics/:id")}]).factory("UserTaughtCourses",["$resource",function(e){return e("/api-2.0/users/me/taught-courses",{},{get:{transformResponse:function(e){return(e=i.a.fromJson(e))&&e.results&&e.results.forEach(function(e){var t=e.permissions.map(function(e){return e.permission});e.hasPermission=function(e){return t.includes(e)}}),e}}})}]).factory("UserTaughtCoursesReviews",["$resource",function(e){return e("/api-2.0/users/me/taught-courses-reviews")}]).factory("UserTaughtCoursesReviewsReport",["$resource",function(e){return e("/api-2.0/users/me/taught-courses-reviews/export")}]).factory("UserTaughtCoursesDiscussions",["$resource",function(e){return e("/api-2.0/users/me/taught-courses-discussions")}]).factory("UserTaughtCoursesAssignments",["$resource",function(e){return e("/api-2.0/users/me/taught-courses-assignments")}]).factory("InstructorAssignments",["$resource",function(e){return e("/api-2.0/users/me/taught-courses/:courseId/assignments")}]).factory("UserSettings",["$resource",function(e){return e("/api-2.0/users/me/settings",{},{save:{method:"POST",transformResponse:function(e,t,r){e=i.a.fromJson(e);var o=200<=r&&r<300;if(e&&o){var n={};n[e.setting]=e.value,i.a.extend(l.a.settings,n)}return e}}})}]).factory("UserCourseSettings",["$resource",function(e){return e("/api-2.0/users/me/course/:course_id/settings",{},{save:{method:"POST",transformResponse:function(e,t,r){e=i.a.fromJson(e);var o=200<=r&&r<300;if(e&&o){var n={};n[e.setting]=e.value,i.a.extend(l.a.settings,n)}return e}}})}]).factory("UserSubscribedCoursesCollections",["$resource","collectionCache",function(e,t){return e("/api-2.0/users/me/subscribed-courses-collections/:collectionId",{},{get:{method:"GET",cache:t},update:{method:"PATCH"}})}]).factory("SubscribedCoursesCollectionsCourses",["$resource","collectionCache",function(e){return e("/api-2.0/users/me/subscribed-courses-collections/:collectionId/courses/:courseId")}])},"./src/udemy/js/ng/services/utils.ng-factory.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/utils/ud-utils.js");t.a=n.a.module("ng/services/utils.ng-factory",[]).factory("Utils",[function(){function e(e){n.a.extend(this,e)}return e.trimTags=i.b.trimTags,e.replaceImgTag=i.b.replaceImgTag,e.joinObjWithEnclosedTag=i.b.joinObjWithEnclosedTag,e}])},"./src/udemy/js/ng/services/v2/practice-cache.ng-factory.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o).a.module("ng/services/v2/practice-cache.ng-factory",[]).factory("practiceCache",["$cacheFactory",function(e){return e("practiceCache")}]);t.a=n},"./src/udemy/js/ng/services/v2/practice-resources.ng-factory.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/angular-resource/index.js"),s=r.n(i),a=r("./src/udemy/js/ng/services/v2/practice-cache.ng-factory.js"),l=n.a.module("ng/services/v2/practice-resources.ng-factory",[s.a,a.a.name]).factory("SubscribedPractice",["$resource","practiceCache",function(e,t){return e("/api-2.0/practices/:id",{"fields[practice]":"title,is_free,is_published,sort_order,estimated_duration,object_index,description,num_submissions"},{get:{method:"GET",cache:t},update:{method:"PATCH"}})}]).factory("PracticeComponent",["$resource",function(e){return e("/api-2.0/practices/:practiceId/components/:id",{},{get:{method:"GET"},update:{method:"PATCH"}})}]).factory("PracticeQuestion",["$resource",function(e){return e("/api-2.0/practices/:practiceId/questions/:id",{},{update:{method:"PATCH"}})}]).factory("PracticeFeedbackQuestion",["$resource",function(e){return e("/api-2.0/practices/:practiceId/feedback-questions/:id")}]).factory("PracticeFeedbackQuestionAnswer",["$resource",function(e){return e("/api-2.0/practices/:practiceId/feedback-user-answers/:id",null,{update:{method:"PATCH"}})}]).factory("PracticeAssignedSubmission",["$resource",function(e){return e("/api-2.0/practices/:practiceId/user-assigned-submissions/:id",{},{partial_update:{method:"PATCH"}})}]).factory("PracticeSubmission",["$resource",function(e){return e("/api-2.0/practices/:practiceId/user-attempted-practices/:id",{},{partial_update:{method:"PATCH"}})}]).factory("PracticeSubmissionAnswer",["$resource",function(e){return e("/api-2.0/practices/:practiceId/user-attempted-practices/:attemptId/user-answers",{},{partial_update:{method:"PATCH"}})}]).factory("PracticeProgress",["$resource",function(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/practices/:practiceId/progress-logs",{},{})}]);t.a=l},"./src/udemy/js/ng/services/visits/ud-analytics.ng-provider.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/angular-resource/index.js"),s=r.n(i),a=r("./src/udemy/js/utils/ud-api-stat.js"),l=n.a.module("ng/services/visits/ud-analytics.ng-provider",[s.a]).provider("udAnalytics",p).factory("PageEvent",function(){return{track:a.e.trackPageEvent.bind(a.e)}}).factory("GAPageview",d).run(u),c={PAGE_VIEW:"pageview",TRACK_CLICK:"trackclick"};function u(e,t,n,i,s,a,l){t.has("$route")&&e.$on("$routeChangeSuccess",function(e,t,r){if(!t.redirectTo){var o=s.settings.pageTracking;o.trackPageViews&&a.track(c.PAGE_VIEW,n.absUrl(),{"location change":!0}),o.trackPageViewsInGA&&r&&l.track(i.baseHref()+t.originalPath.substr(1))}})}function p(){var t={pageTracking:{trackPageViews:!1,trackPageViewsInGA:!1}},e={settings:t};return{$get:function(){return e},trackPageViews:function(e){t.pageTracking.trackPageViews=e},trackPageViewsInGA:function(e){t.pageTracking.trackPageViewsInGA=e}}}function d(t){return{track:function(e){t.UD.GoogleAnalytics.trackAllPageview(e)}}}u.$inject=["$rootScope","$injector","$location","$browser","udAnalytics","PageEvent","GAPageview"],p.$inject=[],d.$inject=["$window"],t.a=l},"./src/udemy/js/ng/ud-core.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/angular-sanitize/index.js"),s=r.n(i),a=r("./node_modules/raven-js/plugins/angular.js"),l=r.n(a),c=r("./src/udemy/js/ng/ud-translate.ng-service.js"),u=r("./src/udemy/js/utils/ud-config.js"),p=r("./src/udemy/js/utils/ud-raven.js");u.a.third_party.raven_dsn&&p.a.addPlugin(l.a,n.a);var d=n.a.module("ng/ud-core",babelHelpers.toConsumableArray(u.a.third_party.raven_dsn?[l.a.moduleName]:[]).concat([s.a,c.a.name])).constant("NG_ROOT_URL","/staticx/udemy/js/ng/").config(m).config(h);function h(e){u.a&&"PROD"===u.a.env&&e.debugInfoEnabled(!1)}function m(e){n.a.element(document).find("base").attr("href")&&e.html5Mode(!0).hashPrefix("!")}h.$inject=["$compileProvider"],m.$inject=["$locationProvider"],t.a=d},"./src/udemy/js/ng/ud-translate.ng-service.js":function(e,t,l){"use strict";var r=l("./node_modules/angular/angular.js"),o=l.n(r),n=l("./node_modules/angular-gettext/index.js"),i=l.n(n),s=l("./node_modules/angular-i18n/en-us.js"),c=l.n(s),u=l("./src/udemy/js/utils/handle-import-error.js"),p=l("./src/udemy/js/utils/ud-config.js");var a=l("./src/udemy/js/utils/ud-request.js");t.a=o.a.module("ng/ud-translate.ng-service",["ngLocale",i.a]).run(["udTranslateService",function(e){e.setLanguage(a.a.locale)}]).service("udTranslateService",["$timeout","gettextCatalog",function(s,a){return{setLanguage:function(n){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).flushTimeout,i=void 0!==e&&e;return function(e){var t,r=e.replace("_","-").toLowerCase();switch(e){case"de_DE":t=l.e("angular-i18n-de-de").then(l.t.bind(null,"./node_modules/angular-i18n/de-de.js",7)).catch(u.a);break;case"es_ES":t=l.e("angular-i18n-es-es").then(l.t.bind(null,"./node_modules/angular-i18n/es-es.js",7)).catch(u.a);break;case"fr_FR":t=l.e("angular-i18n-fr-fr").then(l.t.bind(null,"./node_modules/angular-i18n/fr-fr.js",7)).catch(u.a);break;case"id_ID":t=l.e("angular-i18n-id-id").then(l.t.bind(null,"./node_modules/angular-i18n/id-id.js",7)).catch(u.a);break;case"it_IT":t=l.e("angular-i18n-it-it").then(l.t.bind(null,"./node_modules/angular-i18n/it-it.js",7)).catch(u.a);break;case"ja_JP":t=l.e("angular-i18n-ja-jp").then(l.t.bind(null,"./node_modules/angular-i18n/ja-jp.js",7)).catch(u.a);break;case"ko_KR":t=l.e("angular-i18n-ko-kr").then(l.t.bind(null,"./node_modules/angular-i18n/ko-kr.js",7)).catch(u.a);break;case"nl_NL":t=l.e("angular-i18n-nl-nl").then(l.t.bind(null,"./node_modules/angular-i18n/nl-nl.js",7)).catch(u.a);break;case"pl_PL":t=l.e("angular-i18n-pl-pl").then(l.t.bind(null,"./node_modules/angular-i18n/pl-pl.js",7)).catch(u.a);break;case"pt_BR":t=l.e("angular-i18n-pt-br").then(l.t.bind(null,"./node_modules/angular-i18n/pt-br.js",7)).catch(u.a);break;case"ro_RO":t=l.e("angular-i18n-ro-ro").then(l.t.bind(null,"./node_modules/angular-i18n/ro-ro.js",7)).catch(u.a);break;case"ru_RU":t=l.e("angular-i18n-ru-ru").then(l.t.bind(null,"./node_modules/angular-i18n/ru-ru.js",7)).catch(u.a);break;case"th_TH":t=l.e("angular-i18n-th-th").then(l.t.bind(null,"./node_modules/angular-i18n/th-th.js",7)).catch(u.a);break;case"tr_TR":t=l.e("angular-i18n-tr-tr").then(l.t.bind(null,"./node_modules/angular-i18n/tr-tr.js",7)).catch(u.a);break;case"zh_CN":t=l.e("angular-i18n-zh-cn").then(l.t.bind(null,"./node_modules/angular-i18n/zh-cn.js",7)).catch(u.a);break;case"zh_TW":t=l.e("angular-i18n-zh-tw").then(l.t.bind(null,"./node_modules/angular-i18n/zh-tw.js",7)).catch(u.a);break;case"xa_PL":case"xb_LW":case"xc_LT":case"en_US":t=Promise.resolve({default:c.a});break;default:console&&console.warn("Unsupported ud-angular-locale: ".concat(e)),t=Promise.resolve({default:c.a})}var o="en-us"===r?Promise.resolve({default:{en_US:{}}}):l("./generated/locale/ng lazy recursive ^\\.\\/.*\\.json$")("./".concat(r,".json")).catch(u.a);return Promise.all([t,o]).then(function(e){var t=babelHelpers.slicedToArray(e,2);return[t[0].default,t[1].default]}).catch(function(e){throw"PROD"!==p.a.env&&console&&console.warn("Angular locale ".concat(r," is missing. ")+"You need to run `./manage.py createlocaledir && ./manage.py buildfrontend` and restart webpack."),e})}(n).then(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1];return new Promise(function(t){s(function(){var e="pt_BR"!==n?n.substring(0,2):n;a.setStrings(e,o[n]),a.setCurrentLanguage(e),t([r,o])}),i&&s.flush()})})}}}])},"./src/udemy/js/organization-common/course-context-menu/wrappers/ufb-submenu-context-menu.react-component.js":function(e,t,r){"use strict";var o=r("./node_modules/prop-types/index.js"),n=r.n(o),i=r("./node_modules/react/index.js"),s=r.n(i),a=r("./src/udemy/js/organization-common/course-context-menu/course-context-menu.react-component.js"),l=r("./src/udemy/js/organization-common/course-context-menu/wrappers/menu-item-sets.js"),c=function(e){var t=e.course,r=e.openLeft,o=babelHelpers.objectWithoutProperties(e,["course","openLeft"]);if(!Object(a.d)())return null;var n=babelHelpers.toConsumableArray(Object(l.b)(t)).concat(babelHelpers.toConsumableArray(Object(l.a)(t)));return s.a.createElement(a.c,Object.assign({course:t},o),!!n.length&&s.a.createElement(a.b,{pullRight:r},n))};c.propTypes={course:n.a.object.isRequired,openLeft:n.a.bool},c.defaultProps={openLeft:!0},t.a=c},"./src/udemy/js/organization-trial/constants.js":function(e,t,r){"use strict";r.d(t,"g",function(){return n}),r.d(t,"k",function(){return i}),r.d(t,"l",function(){return s}),r.d(t,"v",function(){return a}),r.d(t,"b",function(){return l}),r.d(t,"r",function(){return c}),r.d(t,"e",function(){return p}),r.d(t,"f",function(){return d}),r.d(t,"o",function(){return h}),r.d(t,"p",function(){return m}),r.d(t,"c",function(){return b}),r.d(t,"n",function(){return y}),r.d(t,"t",function(){return f}),r.d(t,"m",function(){return g}),r.d(t,"a",function(){return v}),r.d(t,"d",function(){return w}),r.d(t,"w",function(){return k}),r.d(t,"x",function(){return C}),r.d(t,"i",function(){return _}),r.d(t,"j",function(){return S}),r.d(t,"s",function(){return j}),r.d(t,"q",function(){return E}),r.d(t,"h",function(){return D}),r.d(t,"u",function(){return x});var o=r("./src/udemy/js/organization-common/constants.js"),n="limitedConsumptionTrial:contentLocked",i="limitedConsumptionTrial:lecturesUnlocked",s="limitedConsumptionTrial:lecturedViewed",a="limitedConsumptionTrial:trialStarted",l="limitedConsumptionTrial:AllLecturesViewed",c="limitedConsumptionTrial:NudgeOwner",u="limitedConsumptionTrial:leftCourseTakingPage",p="limitedConsumptionTrial:buyUfbClick",d="limitedConsumptionTrial:clickedLectureOnClp",h=[n,i,s,a,u],m=[u],b={status:"/organization-trial/status",nudgeOwner:"/organization-trial/nudge-owner/"},y={unlock:"/organization-manage/users/invite/",buy:o.d.orgManageBillingPayment},f={USED:"used",AVAILABLE:"available",LOCKED:"locked"},g={minLectures:1,maxLectures:6,maxUsers:5},v=["Video","VideoMashup"],w="trial-overlay-blurred",k=gettext("Welcome to Udemy for Business"),C=gettext("Build the skills for what’s next"),_=gettext("Hey %(adminName)s,\n\nI've been taking Udemy for Business lectures and I am really enjoying the content. The videos I’ve watched have been valuable and I think this would be a beneficial tool for us to learn new skills.\n\nWould love to bring this to %(companyName)s - is this a possibility?\n\nThank you!\n\n%(employeeName)s"),S=gettext("Hey %(adminName)s,\n\nI've been taking Udemy for Business lectures and I am really enjoying the content. As I am helping evaluate this learning solution, it would be helpful to get more access to videos. Can you unlock more so I can better evaluate Udemy for Business?\n\nThank you!\n\n%(employeeName)s"),j=gettext("Message sent"),E=gettext("Something went wrong! Please try again later."),D=gettext("Buy Udemy for Business to have access to this content."),x=5},"./src/udemy/js/report-abuse/constants.js":function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return s}),r.d(t,"f",function(){return a}),r.d(t,"g",function(){return l}),r.d(t,"h",function(){return c}),r.d(t,"j",function(){return u}),r.d(t,"i",function(){return p}),r.d(t,"c",function(){return d}),r.d(t,"k",function(){return h}),r.d(t,"d",function(){return m}),r.d(t,"e",function(){return b});var o,n=r("./src/udemy/js/utils/ud-link.js"),i=Object.freeze({POLICY:"Policy",TECHNICAL:"Technical"}),s=Object.freeze((o={},babelHelpers.defineProperty(o,i.POLICY,"Policy Issue"),babelHelpers.defineProperty(o,i.TECHNICAL,"Technical Issue"),o)),a={copyright:"Copyright or Trademark Violation",inappropriateCourse:"Inappropriate Course Content",inappropriateBehavior:"Inappropriate Behavior",policy:"Udemy Policy Violation",spam:"Spammy Content",technicalIssue:"Technical Issue",other:"Other"},l={personal:"personal",company:"company",thirdParty:"third-party"},c={fail:-1,initial:0,inProcess:1,success:2},u={support:n.a.toSupportHome(),terms:n.a.to("terms"),termsCopyright:"".concat(n.a.to("terms","copyright"),"#copyright"),termsTrademark:"".concat(n.a.to("terms","copyright"),"#trademark")},p={audio:"Audio",video:"Video",captions:"Captions",download:"Download"},d={none:"I cannot hear audio at all",low:"I can hear audio, but the volume is very low",nonsense:"I can hear audio clearly, but I cannot understand the instructor",background:"Background music/sound is distracting"},h={none:"Video does not play at all",stops:"Video plays but stops suddenly and will not continue",quality:"Video quality is poor",stutter:"Video stutters (plays and stops)",restart:"Video restarts after a few minutes"},m={enable:"Captions are available but I cannot enable them",wrong:"Captions are available but they're not accurate",blocking:"Captions are in the way of what’s shown on the video"},b={enable:"Lecture is available for download but I cannot download",resource:"I cannot download/access the files listed in the resources section",certificate:"I cannot download/access the certificate of completion"}},"./src/udemy/js/report-abuse/report-abuse-launcher.less":function(e,t,r){e.exports={"menu-link":"report-abuse-launcher--menu-link--2iEhR"}},"./src/udemy/js/report-abuse/report-abuse-launcher.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return C});var o=r("./node_modules/lodash-es/omit.js"),n=r("./node_modules/prop-types/index.js"),i=r.n(n),s=r("./node_modules/react/index.js"),c=r.n(s),a=r("./src/udemy/js/base-components/ajax-modal/open-ajax-modal.react-component.js"),u=r("./src/udemy/js/base-components/button.react-component.js"),p=r("./src/udemy/js/base-components/icon.react-component.js"),l=r("./src/udemy/js/base-components/overlay-trigger.react-component.js"),d=r("./src/udemy/js/base-components/safe-anchor.react-component.js"),h=r("./src/udemy/js/base-components/tooltip.react-component.js"),m=r("./src/udemy/js/utils/ud-link.js"),b=r("./src/udemy/js/utils/ud-me.js"),y=r("./src/udemy/js/report-abuse/constants.js"),f=r("./src/udemy/js/report-abuse/report-abuse-launcher.less"),g=r.n(f),v=gettext("Report abuse"),w=function(e){var t,r=e.showLabel,o=e.text,n=e.useAnchor,i=e.useSpan,s=e.showIcon,a=e.useMenuStyling,l=babelHelpers.objectWithoutProperties(e,["showLabel","text","useAnchor","useSpan","showIcon","useMenuStyling"]);return i?t="span":n?t=d.default:(t=u.default,l=Object.assign({bsStyle:"default"},l)),n&&a&&(l=Object.assign({className:g.a["menu-link"]},l)),c.a.createElement(t,Object.assign({},l,{"aria-label":v}),s&&c.a.createElement(p.a,{glyph:"flag"}),r?" ".concat(o):"")};w.propTypes={showIcon:i.a.bool,showLabel:i.a.bool,text:i.a.string,useAnchor:i.a.bool,useSpan:i.a.bool,useMenuStyling:i.a.bool},w.defaultProps={showIcon:!0,showLabel:!1,text:v,useAnchor:!1,useSpan:!1,useMenuStyling:!1};var k=function(e){var t=e.text,r=babelHelpers.objectWithoutProperties(e,["text"]);return c.a.createElement(h.a,Object.assign({},r,{id:"open-modal-tooltip",placement:"left"}),t)};k.propTypes={text:i.a.string},k.defaultProps={text:v};var C=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e,t,r=c.a.createElement(w,this.triggerProps);return c.a.createElement(a.a,this.modalProps,this.props.showTooltip?(e=r,t=this.props.text,c.a.createElement(l.a,{placement:"left",trigger:["hover","click"],overlay:c.a.createElement(k,{text:t})},e)):r)}},{key:"popupUrl",get:function(){var e=encodeURIComponent(this.props.objectType),t=encodeURIComponent(String(this.props.objectId)),r="/feedback/report/?related_object_type=".concat(e,"&related_object_id=").concat(t);return this.props.category&&(r=r.concat("&category=".concat(encodeURIComponent(this.props.category)))),b.a.id?r:m.a.toAuth({showLogin:!0,nextUrl:r})}},{key:"modalProps",get:function(){return{url:this.popupUrl,show:this.props.show,onHide:this.props.onHide,onModalClick:this.props.onModalClick,enableLoader:!b.a.id||void 0}}},{key:"triggerProps",get:function(){var e=Object(o.a)(this.props,Object.keys(t.propTypes));return Object.assign({},{text:this.props.text},e)}}]),t}(s.Component);C.propTypes={objectId:i.a.number.isRequired,objectType:i.a.string.isRequired,onModalClick:i.a.func,showTooltip:i.a.bool,text:i.a.string,category:i.a.oneOf(Object.values(y.a)),show:a.a.propTypes.show,onHide:a.a.propTypes.onHide},C.defaultProps={onModalClick:void 0,showTooltip:!0,text:v,category:void 0,show:a.a.defaultProps.show,onHide:a.a.defaultProps.onHide}},"./src/udemy/js/share/marketplace-social-share-button.less":function(e,t,r){e.exports={"share-button":"marketplace-social-share-button--share-button--79rGp","share-button__referral-terms":"marketplace-social-share-button--share-button__referral-terms--yFy2w","share-button__text":"marketplace-social-share-button--share-button__text--1jqY7","share-button__top-border":"marketplace-social-share-button--share-button__top-border--bacJS"}},"./src/udemy/js/share/marketplace-social-share-button.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return k});var o,n,i,s,a=r("./node_modules/autobind-decorator/lib/index.js"),l=r.n(a),c=r("./node_modules/mobx/lib/mobx.js"),u=r("./node_modules/mobx-react/index.module.js"),p=r("./node_modules/prop-types/index.js"),d=r.n(p),h=r("./node_modules/react/index.js"),m=r.n(h),b=r("./src/udemy/js/base-components/button.react-component.js"),y=r("./src/udemy/js/base-components/icon.react-component.js"),f=r("./src/udemy/js/utils/ud-utils.js"),g=r("./src/udemy/js/share/config.js"),v=r("./src/udemy/js/share/marketplace-social-share-modal.react-component.js"),w=r("./src/udemy/js/share/marketplace-social-share-referral-terms.react-component.js"),k=(r("./src/udemy/js/share/marketplace-social-share-button.less"),Object(u.d)((s=i=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onShareButtonClick",value:function(){var e=this;this.props.store.getOrPopulateUrl().then(function(){e.props.store.showShareModal()}).catch(Object(c.action)(function(){f.b.Feedback.fromText(gettext("Something went wrong, please try again later"),f.b.MessageType.error)}))}},{key:"onModalHide",value:function(){this.props.store.hideShareModal()}},{key:"render",value:function(){var e=this.props,t=e.store,r=e.bsSize,o=e.bsStyle,n=e.showReferral,i=e.showReferralTerms,s=e.showTopBorder;return t.isMarketplaceShareEnabled?m.a.createElement("div",{className:"marketplace-social-share-button--share-button--79rGp"},s&&m.a.createElement("div",{className:"marketplace-social-share-button--share-button__top-border--bacJS"}),t.isReferralEnabled&&n&&m.a.createElement(w.a,{store:t}),m.a.createElement(b.default,{bsSize:r,bsStyle:o,onClick:this.onShareButtonClick},m.a.createElement(y.a,{glyph:"share"}),m.a.createElement("span",{className:"marketplace-social-share-button--share-button__text--1jqY7"},g.a[t.sourcePage].shareText||gettext("Share"))),m.a.createElement(v.a,{onHide:this.onModalHide,show:t.isShareModalShown,store:t}),t.isReferralEnabled&&n&&i&&m.a.createElement("div",{className:"marketplace-social-share-button--share-button__referral-terms--yFy2w"},m.a.createElement(w.b,{store:t}))):null}}]),t}(h.Component),i.propTypes={bsSize:d.a.string,bsStyle:d.a.string,showReferral:d.a.bool,showReferralTerms:d.a.bool,showTopBorder:d.a.bool,store:d.a.object.isRequired},i.defaultProps={bsSize:null,bsStyle:"link",showReferral:!0,showReferralTerms:!1,showTopBorder:!1},n=s,babelHelpers.applyDecoratedDescriptor(n.prototype,"onShareButtonClick",[l.a,c.action],Object.getOwnPropertyDescriptor(n.prototype,"onShareButtonClick"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"onModalHide",[l.a,c.action],Object.getOwnPropertyDescriptor(n.prototype,"onModalHide"),n.prototype),o=n))||o)},"./src/udemy/js/share/marketplace-social-share-items-container.less":function(e,t,r){e.exports={"social-share-icons":"marketplace-social-share-items-container--social-share-icons--3ME5y"}},"./src/udemy/js/share/marketplace-social-share-items-container.react-component.js":function(e,t,r){"use strict";var o,n,s,a,l,c,i,u,p,d,h,m,b,y,f,g,v,w,k=r("./node_modules/mobx-react/index.module.js"),C=r("./node_modules/prop-types/index.js"),_=r.n(C),S=r("./node_modules/react/index.js"),j=r.n(S),E=r("./src/udemy/js/browse/lib/device-type.js"),D=r("./src/udemy/js/utils/ud-config.js"),x=r("./src/udemy/js/utils/ud-me.js"),O=r("./src/udemy/js/share/config.js"),T=r("./node_modules/autobind-decorator/lib/index.js"),P=r.n(T),H=r("./node_modules/mobx/lib/mobx.js"),A=r("./src/udemy/js/base-components/alert.react-component.js"),I=r("./src/udemy/js/base-components/button.react-component.js"),R=r("./src/udemy/js/base-components/form/control-label.react-component.js"),q=r("./src/udemy/js/base-components/form/form-control.react-component.js"),N=r("./src/udemy/js/base-components/form/form-group.react-component.js"),z=r("./src/udemy/js/base-components/form/form.react-component.js"),M=r("./src/udemy/js/base-components/image.react-component.js"),L=(r("./src/udemy/js/share/share-email-modal.less"),r("./src/udemy/js/base-components/loader.react-component.js")),F=r("./src/udemy/js/base-components/modal.react-component.js"),U=r("./src/udemy/js/utils/currency-formatter.js"),B=r("./src/udemy/js/utils/ud-api.js"),V=r("./src/udemy/js/utils/ud-link.js"),$=r("./src/udemy/js/utils/ud-request.js"),Q=r("./src/udemy/js/utils/upow.js"),W=r("./src/udemy/js/share/constants.js"),G=Object(k.d)((u=i=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o))),babelHelpers.initializerDefineProperty(t,"error",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"loading",a,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"message",l,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"recipientEmails",c,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"clean",value:function(){this.error="",this.loading=!1,this.message="",this.recipientEmails=[]}},{key:"getEmailValidationState",value:function(){return 0<=this.recipientEmails.length&&this.recipientEmails.length<6&&this.recipientEmails.every(function(e){return e.match(/.+@.+\...+/)})?null:"error"}},{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),this.isFormValid)return this.loading=!0,Object(Q.a)("share-email",this.recipientEmails.join(","),"").then(function(e){return B.c.post(t.emailApiUrl,Object.assign({},t.formData,{upow:e})).then(function(){t.clean(),t.props.store.callbackEmails()}).catch(Object(H.action)(function(e){t.clean(),t.error=e.response.data.error.recipient_emails||gettext("Sorry, an error occurred while sending emails.")}))})}},{key:"updateEmailsInput",value:function(e){var t=e.target;this.recipientEmails=t.value.split(",").map(function(e){return e.trim()})}},{key:"updateMessageInput",value:function(e){var t=e.target;this.message=t.value.trim()}},{key:"renderTwoSidedIncentiveAlert",value:function(){var e=Object(U.a)(W.a,{locale:$.a.locale,symbol:"$",scale:0}),t=Object(U.a)(W.b,{locale:$.a.locale,symbol:"$",scale:0});return j.a.createElement(A.a,{bsStyle:"info",icon:!1,className:"share-email-modal--two-sided-incentive-alert--Shxmc"},j.a.createElement(M.a,{src:V.a.toS3Images("home/referral_program/credit_icon.svg"),alt:"",width:59,height:50}),j.a.createElement("span",{className:"share-email-modal--two-sided-incentive-alert__content--2CXCS",dangerouslySetInnerHTML:{__html:interpolate(gettext('Give credit, get credit. Get up to %(totalAmount)s credit&mdash;%(singleReferralAmount)s credit for each qualifying new user you refer who buys their first course by %(endDate)s.<a href="/terms/referral/" target="_blank">See Terms</a>'),{totalAmount:e,singleReferralAmount:t,endDate:this.props.store.referralEndDate},!0)}}))}},{key:"render",value:function(){var e=this.props,t=e.bodyPlaceholder,r=e.store,o=(e.styles,babelHelpers.objectWithoutProperties(e,["bodyPlaceholder","store","styles"]));return Object.values(W.e).includes(r.shareableObject.type)&&x.a.id?j.a.createElement(F.a,o,j.a.createElement(F.a.Header,{closeButton:!0},j.a.createElement(F.a.Title,null,gettext("Share via email"))),j.a.createElement(F.a.Body,null,r.isTwoSidedIncentive&&this.renderTwoSidedIncentiveAlert(),j.a.createElement(z.a,{onSubmit:this.onSubmit,className:"share-email-modal--email-modal-form--13woO"},j.a.createElement(N.a,{controlId:"emailRecipient",validationState:this.getEmailValidationState()},j.a.createElement(R.a,null,gettext("Email addresses")),j.a.createElement(q.a,{required:!0,id:"emailRecipient",type:"text",onChange:this.updateEmailsInput,placeholder:gettext("Enter up to 5 email addresses, separated by a comma.")})),j.a.createElement(N.a,{controlId:"emailBody"},j.a.createElement(R.a,null,gettext("Why are you recommending this?")),j.a.createElement(q.a,{componentClass:"textarea",id:"emailBody",maxLength:"256",onChange:this.updateMessageInput,placeholder:t,rows:"3",type:"email"})),j.a.createElement(I.default,{type:"submit",bsStyle:"primary",bsSize:"large",block:!0,disabled:!this.isFormValid||this.loading},this.loading&&j.a.createElement(L.a,{size:"small",className:"share-email-modal--email-modal-form__loader--1q97X"}),this.loading?gettext("Sending..."):gettext("Send")),this.error&&j.a.createElement("span",{className:"alert alert-danger share-email-modal--email-modal-form__error--1PjQE"},this.error),j.a.createElement("span",{className:"share-email-modal--email-modal-form__legal--2rPci"},gettext("By sending, you confirm that you know the recipient or recipients."))))):null}},{key:"isFormValid",get:function(){return this.recipientEmails.length&&null===this.getEmailValidationState()}},{key:"formData",get:function(){var e=this.props.store;return{shareable_object_id:e.shareableObject.id,message:this.message,recipient_emails:this.recipientEmails,share_url:e.sharedUrl,source:e.sourcePage,type:e.shareableObject.type}}},{key:"emailApiUrl",get:function(){return"share/email/".concat(this.props.store.shareableObject.type)}}]),i}(j.a.Component),i.propTypes={bodyPlaceholder:_.a.string,store:_.a.object.isRequired,styles:_.a.object},i.defaultProps={bodyPlaceholder:gettext("Enter your message here!"),styles:void 0},n=u,s=babelHelpers.applyDecoratedDescriptor(n.prototype,"error",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=babelHelpers.applyDecoratedDescriptor(n.prototype,"loading",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=babelHelpers.applyDecoratedDescriptor(n.prototype,"message",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=babelHelpers.applyDecoratedDescriptor(n.prototype,"recipientEmails",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"clean",[H.action],Object.getOwnPropertyDescriptor(n.prototype,"clean"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"isFormValid",[H.computed],Object.getOwnPropertyDescriptor(n.prototype,"isFormValid"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"formData",[H.computed],Object.getOwnPropertyDescriptor(n.prototype,"formData"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"emailApiUrl",[H.computed],Object.getOwnPropertyDescriptor(n.prototype,"emailApiUrl"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"onSubmit",[P.a,H.action],Object.getOwnPropertyDescriptor(n.prototype,"onSubmit"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"updateEmailsInput",[P.a,H.action],Object.getOwnPropertyDescriptor(n.prototype,"updateEmailsInput"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"updateMessageInput",[P.a,H.action],Object.getOwnPropertyDescriptor(n.prototype,"updateMessageInput"),n.prototype),o=n))||o,Y=(r("./src/udemy/js/share/marketplace-social-share-items-container.less"),r("./src/udemy/js/utils/ud-api-stat.js")),K=r("./src/udemy/js/utils/ud-user-tracker-logger.js"),X=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),J=r.n(X),Z=r("./node_modules/classnames/index.js"),ee=r.n(Z),te=r("./node_modules/clipboard/dist/clipboard.js"),re=r.n(te),oe=r("./src/udemy/js/base-components/form/input-group.react-component.js"),ne=r("./src/udemy/js/base-components/icon.react-component.js"),ie=r("./src/udemy/js/base-components/tooltip.react-component.js"),se=(r("./src/udemy/js/share/social-share-button.less"),{"./social-share-button.less":{"share-clipboard-input":"social-share-button--share-clipboard-input--sIPPK","share-item-wrapper":"social-share-button--share-item-wrapper--3ux_T","share-item":"social-share-button--share-item--3-Cva","share-item--xsmall":"social-share-button--share-item--xsmall--EfMWF","ufb-share-button":"social-share-button--ufb-share-button--1q2ZH"}}),ae={clipboard:"chain",facebook:"facebook",mailto:"envelope",mail_ref:"envelope",twitter:"twitter",fb_workplace:"workplace",slack:"slack",whatsapp:"whatsapp",messenger:"messenger"},le={fb_workplace:gettext("Share to Workplace"),slack:gettext("Share to Slack")},ce=(h=d=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){var e=this;"clipboard"===this.props.network&&(this.clipboard=new re.a("#social-share-item-clipboard",{text:function(){return e.props.shareUrl},container:this.props.parentContainerId?document.getElementById(this.props.parentContainerId):void 0}))}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.onClick(this.props.network)}},{key:"renderIcon",value:function(){return j.a.createElement(ne.a,{glyph:this.props.isLoading?"circle-loader":ae[this.props.network]})}},{key:"renderUfbShare",value:function(){var e=this.props.bsSize;return j.a.createElement(I.default,{bsSize:e,bsStyle:"default--white",className:"social-share-button--ufb-share-button--1q2ZH",onClick:this.handleClick},this.renderIcon(),j.a.createElement("span",{className:"ml5"},le[this.props.network]))}},{key:"renderClipboard",value:function(){return j.a.createElement(oe.a,{bsSize:"small",className:"social-share-button--share-clipboard-input--sIPPK"},j.a.createElement(q.a,{type:"text",value:this.props.shareUrl}),j.a.createElement(oe.a.Button,null,j.a.createElement(I.default,{id:"social-share-item-clipboard",onClick:this.handleClick},gettext("Copy"))))}},{key:"renderMarketplaceShare",value:function(){var e=this.props,t=e.bsSize;if("clipboard"===e.network)return this.renderClipboard();var r=ee()({"share-item":!0,"share-item--xsmall":"xsmall"===t});return j.a.createElement(I.default,{bsStyle:"default",bsSize:t,role:"link",tabIndex:"0",onClick:this.handleClick,className:J()(r,se)},this.renderIcon())}},{key:"render",value:function(){var e=this.props,t=e.isUfbShare,r=e.network,o=e.showTooltip;return t?this.renderUfbShare():j.a.createElement("div",{className:"social-share-button--share-item-wrapper--3ux_T"},this.renderMarketplaceShare(),o&&"clipboard"===r&&j.a.createElement(ie.a,{bsStyle:"blue",placement:"bottom",className:"in",id:"tooltip-top"},gettext("Link Copied!")))}}]),t}(S.Component),d.propTypes={bsSize:_.a.string,isLoading:_.a.bool,isUfbShare:_.a.bool.isRequired,network:_.a.string.isRequired,onClick:_.a.func.isRequired,shareUrl:_.a.string.isRequired,showTooltip:_.a.bool,parentContainerId:_.a.string},d.defaultProps={bsSize:"small",isLoading:!1,parentContainerId:void 0,showTooltip:!1},p=h,babelHelpers.applyDecoratedDescriptor(p.prototype,"handleClick",[P.a],Object.getOwnPropertyDescriptor(p.prototype,"handleClick"),p.prototype),p),ue=(r("./src/udemy/js/share/social-share-items.less"),Object(k.d)((f=y=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"handleClick",value:function(e){this.props.store.share(e),K.a.logEvents({events:[{category:"Social Sharing",action:"".concat(e,"-clicked"),objectid:this.props.store.shareableObject.id,objecttype:this.props.store.shareableObject.type}],page:this.props.store.sourcePage}),Y.e.increment("social_sharing.button.clicked",{network:e})}},{key:"render",value:function(){var r=this,e=this.props,o=e.bsSize,n=e.isUfbShare,i=e.parentContainerId,s=e.store,t=this.props.networks.map(function(e,t){return j.a.createElement(ce,{network:e,key:t,bsSize:o,getOrPopulateUrl:s.getOrPopulateUrl,showTooltip:s.isCopyLinkShown,onClick:r.handleClick,isUfbShare:n,isLoading:s.loadingNetwork.get(e),parentContainerId:i,shareUrl:s.sharedUrl})});return j.a.createElement("div",{className:"social-share-items--social-share-items--3T4Ug"},t)}}]),t}(S.Component),y.propTypes={bsSize:_.a.string,networks:_.a.array.isRequired,isUfbShare:_.a.bool.isRequired,parentContainerId:_.a.string,store:_.a.shape({shareableObject:_.a.object.isRequired,getOrPopulateUrl:_.a.func.isRequired,isCopyLinkShown:_.a.bool.isRequired,loadingNetwork:_.a.object.isRequired,share:_.a.func.isRequired,sharedUrl:_.a.string.isRequired,sourcePage:_.a.string.isRequired}).isRequired},y.defaultProps={bsSize:void 0,parentContainerId:void 0},b=f,babelHelpers.applyDecoratedDescriptor(b.prototype,"handleClick",[P.a],Object.getOwnPropertyDescriptor(b.prototype,"handleClick"),b.prototype),m=b))||m);r.d(t,"a",function(){return pe});var pe=Object(k.d)((w=v=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.bsSize,r=e.parentContainerId,o=e.store;return j.a.createElement(j.a.Fragment,null,j.a.createElement("div",{className:"marketplace-social-share-items-container--social-share-icons--3ME5y"},j.a.createElement(ue,{bsSize:t,store:o,networks:this.networks,isUfbShare:!1,parentContainerId:r,sourcePage:o.sourcePage})),j.a.createElement(G,{bodyPlaceholder:O.a[o.sourcePage]&&O.a[o.sourcePage].emailPlaceholder,onHide:o.hideImportEmailModal,show:o.isImportEmailModalShown,store:o}))}},{key:"networks",get:function(){var e=D.a.features.social_share&&D.a.features.social_share.email,t=Object(E.e)()===E.b;return["clipboard","facebook","twitter"].concat(babelHelpers.toConsumableArray(t?["messenger","whatsapp"]:[]),[x.a.id&&e?"mail_ref":"mailto"])}}]),t}(S.Component),v.propTypes={bsSize:_.a.string,parentContainerId:_.a.string,store:_.a.object.isRequired},v.defaultProps={bsSize:void 0,parentContainerId:void 0},g=w))||g},"./src/udemy/js/share/marketplace-social-share-modal.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return b});var o,n,i,s=r("./node_modules/mobx-react/index.module.js"),a=r("./node_modules/prop-types/index.js"),l=r.n(a),c=r("./node_modules/react/index.js"),u=r.n(c),p=r("./src/udemy/js/base-components/modal.react-component.js"),d=r("./src/udemy/js/ui-feedback/app.js"),h=r("./src/udemy/js/share/marketplace-social-share-items-container.react-component.js"),m=r("./src/udemy/js/share/marketplace-social-share-referral-terms.react-component.js"),b=Object(s.d)((i=n=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.bsSize,r=e.store,o=babelHelpers.objectWithoutProperties(e,["bsSize","store"]);if(!r.isMarketplaceShareEnabled)return null;var n=[{level:"info",message:gettext("Thanks for sharing!")}],i="marketplace-social-share-modal",s=r.isReferralEnabled?gettext("Invite friends"):gettext("Share this course");return u.a.createElement(u.a.Fragment,null,r.showEmailFeedback&&u.a.createElement(d.UIFeedback,{uiMessages:n}),u.a.createElement(p.a,Object.assign({id:i},o),u.a.createElement(p.a.Header,{closeButton:!0},u.a.createElement(p.a.Title,null,s)),u.a.createElement(p.a.Body,null,r.isReferralEnabled&&u.a.createElement(m.a,{store:r}),u.a.createElement(h.a,{bsSize:t,parentContainerId:i,store:r}),r.isReferralEnabled&&u.a.createElement(m.b,{store:r}))))}}]),t}(c.Component),n.propTypes={bsSize:l.a.string,onHide:l.a.func.isRequired,show:l.a.bool.isRequired,store:l.a.object.isRequired},n.defaultProps={bsSize:void 0},o=i))||o},"./src/udemy/js/share/marketplace-social-share-referral-terms.less":function(e,t,r){e.exports={"referral-header":"marketplace-social-share-referral-terms--referral-header--3B_aI","referral-header__asterisk":"marketplace-social-share-referral-terms--referral-header__asterisk--1aS4i","referral-terms":"marketplace-social-share-referral-terms--referral-terms--260sg","referral-terms__asterisk":"marketplace-social-share-referral-terms--referral-terms__asterisk--Jnxjr","referral-terms__text":"marketplace-social-share-referral-terms--referral-terms__text--2pfST"}},"./src/udemy/js/share/marketplace-social-share-referral-terms.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return p}),r.d(t,"b",function(){return d});var o=r("./node_modules/prop-types/index.js"),n=r.n(o),i=r("./node_modules/react/index.js"),s=r.n(i),a=r("./src/udemy/js/utils/currency-formatter.js"),l=r("./src/udemy/js/utils/ud-request.js"),c=r("./src/udemy/js/share/config.js"),u=r("./src/udemy/js/share/constants.js"),p=(r("./src/udemy/js/share/marketplace-social-share-referral-terms.less"),function(e){var t=e.store,r=gettext("GIVE CREDIT, GET CREDIT"),o=gettext("Share and earn up to $30");return s.a.createElement("div",{className:"marketplace-social-share-referral-terms--referral-header--3B_aI"},s.a.createElement("span",null,t.isTwoSidedIncentive?r:o),s.a.createElement("span",{className:"marketplace-social-share-referral-terms--referral-header__asterisk--1aS4i"},"*"))});p.propTypes={store:n.a.object.isRequired};var d=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props.store;if(!e.isMarketplaceShareEnabled||!e.isReferralEnabled)return null;var t=Object(a.a)(u.a,{locale:l.a.locale,symbol:"$",scale:0}),r=Object(a.a)(u.b,{locale:l.a.locale,symbol:"$",scale:0}),o=e.referralEndDate,n=interpolate(c.b[e.isTwoSidedIncentive?u.d.TWO_SIDED:u.d.ONE_SIDED].terms,{singleReferralAmount:r,totalAmount:t,endDate:o},!0);return s.a.createElement("div",{"data-purpose":"referral-terms",className:"marketplace-social-share-referral-terms--referral-terms--260sg"},s.a.createElement("span",{className:"marketplace-social-share-referral-terms--referral-terms__asterisk--Jnxjr"},"*"),s.a.createElement("span",{"data-purpose":"referral-terms-text",className:"marketplace-social-share-referral-terms--referral-terms__text--2pfST",dangerouslySetInnerHTML:{__html:n}}))}}]),t}(i.Component);d.propTypes={store:n.a.object.isRequired}},"./src/udemy/js/share/share-email-modal.less":function(e,t,r){e.exports={"email-modal-form":"share-email-modal--email-modal-form--13woO","email-modal-form__error":"share-email-modal--email-modal-form__error--1PjQE","email-modal-form__legal":"share-email-modal--email-modal-form__legal--2rPci","email-modal-form__loader":"share-email-modal--email-modal-form__loader--1q97X","two-sided-incentive-alert":"share-email-modal--two-sided-incentive-alert--Shxmc","two-sided-incentive-alert__content":"share-email-modal--two-sided-incentive-alert__content--2CXCS"}},"./src/udemy/js/share/social-share-button.less":function(e,t,r){e.exports={"share-clipboard-input":"social-share-button--share-clipboard-input--sIPPK","share-item-wrapper":"social-share-button--share-item-wrapper--3ux_T","share-item":"social-share-button--share-item--3-Cva","share-item--xsmall":"social-share-button--share-item--xsmall--EfMWF","ufb-share-button":"social-share-button--ufb-share-button--1q2ZH"}},"./src/udemy/js/share/social-share-items.less":function(e,t,r){e.exports={"social-share-items":"social-share-items--social-share-items--3T4Ug"}},"./src/udemy/js/social-auth/app.js":function(e,t,r){"use strict";r.r(t);var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./node_modules/prop-types/index.js"),s=r.n(i),a=r("./node_modules/react/index.js"),l=r.n(a),c=r("./src/udemy/js/base-components/seen-by-user-tracker.react-component.js"),u=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return l.a.createElement(c.a,{event:this.event,page:"auth",schema:"auth"})}},{key:"event",get:function(){return"LOGIN"===this.props.mode?{action:"seen-login-popup"}:{action:"seen-sign-up-popup-".concat(this.props.customPopupIdentifier||"email-only")}}}]),t}(a.Component);u.propTypes={mode:s.a.oneOf(["LOGIN","SIGNUP"]).isRequired,customPopupIdentifier:s.a.string},u.defaultProps={customPopupIdentifier:""};var p,d,h=r("./src/udemy/js/auth/components/django-email-field.react-component.js"),m=r("./node_modules/autobind-decorator/lib/index.js"),b=r.n(m),y=r("./node_modules/mobx-react/index.module.js"),f=r("./src/udemy/js/base-components/password-form-group.react-component.js"),g=r("./src/udemy/js/auth/components/auth.mobx-store.js"),v=Object(y.d)((d=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).authStore=new g.a,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"onChange",value:function(e){this.authStore.setFormData(e.target.name,e.target.value)}},{key:"render",value:function(){var e={name:"password",onChange:this.onChange},t=babelHelpers.objectSpread({},{controlId:"password"},e);return l.a.createElement(f.a,Object.assign({hideFormControlFeedback:!1},t,{controlLabel:gettext("Password"),value:this.authStore.formData.password}))}}]),r}(a.Component),babelHelpers.applyDecoratedDescriptor(d.prototype,"onChange",[b.a],Object.getOwnPropertyDescriptor(d.prototype,"onChange"),d.prototype),p=d))||p,w=r("./src/udemy/js/ng/config/http-interceptors.js"),k=r("./src/udemy/js/ng/ud-core.js"),C=r("./src/udemy/js/utils/ud-render-angular-apps.js"),_=r("./src/udemy/js/utils/ud-render-react-components.js"),S=r("./node_modules/jquery/dist/jquery.js-exposed"),j=r.n(S),E=r("./src/udemy/js/ng/services/mobile.ng-service.js"),D=n.a.module("social-auth/signin-form-mobile-fix.ng-directive",[E.a.name]).directive("signinFormMobileFix",x);function x(o){return{link:function(e,t){function r(){j()("html").removeClass("mobile-no-scroll")}o.isMobileBrowser()&&0<t.parents(".generic-modal").length&&(j()("html").addClass("mobile-no-scroll"),t.parents(".generic-modal").on("ud-modal.closed",r),e.$on("$destroy",function(){t.parents(".generic-modal").off("ud-modal.closed",r)}))},restrict:"A"}}x.$inject=["Mobile"];var O=D,T=r("./node_modules/webshim/js-webshim/minified/polyfiller.js"),P=r.n(T),H=r("./src/udemy/js/utils/ud-trackinglogs.js");var A=n.a.module("social-auth/signin-form.ng-directive",[]).directive("signinForm",function(){return{link:function(e,t,r){var o=t,n=j()("input",o),i=o.find('input[type="submit"]');P.a.polyfill("forms"),n.focus(c),t.submit(l),r.signinBoxClassName&&(j()(".".concat(r.signinBoxClassName)).on("signin-reset",s),j()(".".concat(r.signinBoxClassName)).on("signin-init",a));function s(){i.prop("disabled",!1).removeClass("disabled-btn")}function a(){i.prop("disabled",!0).addClass("disabled-btn")}function l(){if(i.prop("disabled"))return!1;r.signinBoxClassName&&j()(".".concat(r.signinBoxClassName)).trigger("signin-init"),i.prop("disabled",!0).val(gettext("loading...")),H.a.trackEvents({type:"email-".concat(r.actionType,"-clicked")})}function c(){j()(".js-error-alert",o).remove(),j()(".js-error-list",o).remove(),j()(".form-field-container",o).removeClass("has-error")}},restrict:"A"}});r.d(t,"appModule",function(){return I}),r.d(t,"default",function(){return R});var I=n.a.module("social-auth/app",[k.a.name,A.name,O.name]).config(w.a);function R(e,t){Object(C.a)(e,".ud-angular--social-auth--app",I,t);var r=e.querySelector(".ud-component--social-auth--django-email-field input");r&&Object(_.a)(e,".ud-component--social-auth--django-email-field",h.a,Object(h.b)(r)),Object(_.a)(e,".ud-component--social-auth--django-password-field",v,t),Object(_.a)(e,".ud-component--social-auth--auth-seen-by-user-tracker",u,t)}},"./src/udemy/js/survey/paginated/constants.js":function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return n});var o=Object.freeze({MODAL:"modal",OVERLAY:"overlay"}),n=Object.freeze({CLICK:"click",DOTS:"dots"})},"./src/udemy/js/survey/paginated/paginated-survey.less":function(e,t,r){e.exports={"survey-modal":"paginated-survey--survey-modal--2aRQR","modal-footer":"paginated-survey--modal-footer--26iUO"}},"./src/udemy/js/survey/paginated/paginated-survey.react-component.js":function(e,t,r){"use strict";var o,n,i,s,a,l,c,u=r("./node_modules/autobind-decorator/lib/index.js"),p=r.n(u),d=r("./node_modules/lodash-es/noop.js"),y=r("./node_modules/lodash-es/omit.js"),h=r("./node_modules/mobx-react/index.module.js"),m=r("./node_modules/prop-types/index.js"),b=r.n(m),f=r("./node_modules/react/index.js"),g=r.n(f),v=r("./src/udemy/js/base-components/button.react-component.js"),w=r("./src/udemy/js/base-components/modal.react-component.js"),k=r("./src/udemy/js/base-components/overlay.react-component.js"),C=r("./src/udemy/js/base-components/pagination-dots/pagination-dots.react-component.js"),_=r("./src/udemy/js/base-components/popover.react-component.js"),S=r("./src/udemy/js/survey/survey-question.react-component.js"),j=r("./src/udemy/js/survey/survey.mobx-store.js"),E=r("./src/udemy/js/survey/survey.react-component.js"),D=r("./src/udemy/js/survey/paginated/constants.js"),x=(r("./src/udemy/js/survey/paginated/paginated-survey.less"),r("./node_modules/mobx/lib/mobx.js")),O=(o=function(){function r(e,t){babelHelpers.classCallCheck(this,r),babelHelpers.initializerDefineProperty(this,"questionSetNumber",n,this),babelHelpers.initializerDefineProperty(this,"surveyComplete",i,this),this.surveyStore=e,this.onSubmit=t}return babelHelpers.createClass(r,[{key:"setQuestionSetNumber",value:function(e){this.questionSetNumber=e-1}},{key:"reset",value:function(){this.surveyStore.setUserAnswers({}),this.setQuestionSetNumber(1),this.surveyComplete=!1}},{key:"submit",value:function(){this.surveyStore.saveUserAnswers(),this.surveyComplete=!0,this.onSubmit()}},{key:"onPageChange",value:function(e){e>this.pageNumber?this.canGoToNextPage?this.setQuestionSetNumber(e):this.submit():this.setQuestionSetNumber(e)}},{key:"pageNumber",get:function(){return this.questionSetNumber+1}},{key:"pageCount",get:function(){return this.surveyStore.questionSets.length}},{key:"canGoToNextPage",get:function(){return this.pageNumber<this.pageCount}},{key:"isCurrentPageAnswered",get:function(){var r=this;return!!this.surveyStore.questionSets.length&&this.surveyStore.questionSets[this.questionSetNumber].questions.reduce(function(e,t){return t.is_required?e&&null!==r.surveyStore.userAnswers[t.id]:e},!0)}}]),r}(),n=babelHelpers.applyDecoratedDescriptor(o.prototype,"questionSetNumber",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i=babelHelpers.applyDecoratedDescriptor(o.prototype,"surveyComplete",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(o.prototype,"pageNumber",[x.computed],Object.getOwnPropertyDescriptor(o.prototype,"pageNumber"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"canGoToNextPage",[x.computed],Object.getOwnPropertyDescriptor(o.prototype,"canGoToNextPage"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"isCurrentPageAnswered",[x.computed],Object.getOwnPropertyDescriptor(o.prototype,"isCurrentPageAnswered"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"setQuestionSetNumber",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setQuestionSetNumber"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"reset",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"reset"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"submit",[p.a,x.action],Object.getOwnPropertyDescriptor(o.prototype,"submit"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"onPageChange",[p.a,x.action],Object.getOwnPropertyDescriptor(o.prototype,"onPageChange"),o.prototype),o);r.d(t,"a",function(){return P});var T=function(e){var t=e.title,r=e.text,o=e.onClose;return g.a.createElement("div",{className:"survey-modal__thank-you"},g.a.createElement("p",{"data-purpose":"thank-you-title",className:"survey-modal__thank-you__title"},t),g.a.createElement("p",{"data-purpose":"thank-you-text",className:"survey-modal__thank-you__text"},r),g.a.createElement(v.default,{bsStyle:"primary",onClick:o,className:"survey-modal__close"},gettext("Close")))};T.propTypes={title:b.a.string,text:b.a.string.isRequired,onClose:b.a.func.isRequired},T.defaultProps={title:""};var P=Object(h.d)((c=l=function(e){function b(e){var t;return babelHelpers.classCallCheck(this,b),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(b).call(this,e))).surveyStore=new j.a(e.surveyCode,e.courseId,e.relatedObjectType,e.relatedObjectId,e.useAPICache),t.store=new O(t.surveyStore,t.props.onSubmit),t}return babelHelpers.inherits(b,e),babelHelpers.createClass(b,[{key:"componentDidMount",value:function(){var e=this;this.surveyStore.getSurvey().then(function(){e.surveyStore.setUserAnswers({})}),this.surveyStore.setUserAnswerData(this.props.userAnswerData)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.surveyStore.setUserAnswerData(e.userAnswerData)}},{key:"onChange",value:function(){this.props.paginationMode===D.b.CLICK&&this.store.onPageChange(this.store.pageNumber+1)}},{key:"render",value:function(){var e,t,r,o=this,n=this.props,i=n.surveyCode,s=n.thankYouTitle,a=n.thankYouText,l=n.onHide,c=n.displayMode,u=n.overlayProps,p=n.className,d=n.popoverStyle;if(a&&this.store.surveyComplete){var h;e=s||gettext(this.store.surveyStore.headline),c!==D.a.MODAL&&(h=s),t=g.a.createElement(T,{title:h,text:a,onClose:l})}else{if(!a&&this.store.surveyComplete)return null;e=gettext(this.store.surveyStore.headline),this.store.surveyStore.questionSets.length&&(t=this.store.surveyStore.questionSets[this.store.questionSetNumber].questions.map(function(e){return o.props.questionVisibleCheck(e,o.store.surveyStore)&&g.a.createElement(S.a,{key:e.id,question:e,survey:o.store.surveyStore,questionDescriptionStyle:o.props.questionDescriptionStyle,onChange:o.onChange})})),r=g.a.createElement(w.a.Footer,{className:"paginated-survey--modal-footer--26iUO"},1===this.store.pageCount?this.submitButton:g.a.createElement(C.a,{items:this.store.pageCount,activePage:this.store.pageNumber,onSelect:this.store.onPageChange},g.a.createElement(C.a.NavButton,{direction:"prev",hideIfDisabled:!0},gettext("Previous")),g.a.createElement(C.a.Dots,null),g.a.createElement(C.a.NavButton,{direction:"next",allowOutOfBoundsLink:!0,disabled:!this.store.isCurrentPageAnswered},this.store.canGoToNextPage?gettext("Next"):gettext("Submit"))))}switch(c){case D.a.MODAL:var m=Object(y.a)(this.props,Object.keys(b.propTypes));return g.a.createElement(w.a,Object.assign({},m,{className:(m.className?m.className+" ":"")+"paginated-survey--survey-modal--2aRQR",onHide:l}),g.a.createElement(w.a.Header,{closeButton:!0},g.a.createElement(w.a.Title,null,e)),g.a.createElement(w.a.Body,null,t),r);case D.a.OVERLAY:return g.a.createElement(k.default,Object.assign({shouldUpdatePosition:!0},u),g.a.createElement(_.a,{id:i,className:p,style:d},t,!this.store.canGoToNextPage&&!this.store.surveyComplete&&this.submitButton))}}},{key:"submitButton",get:function(){return g.a.createElement(v.default,{disabled:!this.store.isCurrentPageAnswered,bsStyle:this.props.submitBtnProps.style,onClick:this.store.submit,className:"survey-modal__submit"},this.props.submitBtnProps.text)}}]),b}(g.a.Component),l.propTypes=babelHelpers.objectSpread({userAnswerData:b.a.object,thankYouTitle:b.a.string,thankYouText:b.a.string,onSubmit:b.a.func,onHide:b.a.func,paginationMode:b.a.oneOf(Object.values(D.b)),displayMode:b.a.oneOf(Object.values(D.a)),overlayProps:b.a.object,className:b.a.string,styles:b.a.object},E.a.propTypes,{submitBtnProps:b.a.object,popoverStyle:b.a.object,questionVisibleCheck:b.a.func}),l.defaultProps=babelHelpers.objectSpread({userAnswerData:{},thankYouTitle:void 0,thankYouText:void 0,onSubmit:d.a,onHide:d.a,paginationMode:D.b.DOTS,displayMode:D.a.MODAL,overlayProps:{},className:"",styles:void 0},E.a.defaultProps,{submitBtnProps:{style:"primary",text:gettext("Submit")},popoverStyle:void 0,questionVisibleCheck:function(){return!0}}),a=c,babelHelpers.applyDecoratedDescriptor(a.prototype,"onChange",[p.a],Object.getOwnPropertyDescriptor(a.prototype,"onChange"),a.prototype),s=a))||s},"./src/udemy/js/utils/branch-metrics.js":function(e,t,r){"use strict";var o=r("./node_modules/lodash-es/noop.js"),n=r("./node_modules/branch-sdk/dist/build.min.js"),i=r.n(n),s=r("./src/udemy/js/utils/mobile.js"),a=r("./src/udemy/js/utils/ud-config.js");function l(){var r={};return r.promise=new Promise(function(e,t){r.resolve=e,r.reject=t}),r}t.a=function(){var e;function r(e){var r=l();return i.a.link(e,function(e,t){r.resolve(t)}),r.promise}return e="DEV"===a.a.env?a.a.brand.is_udemy?"key_test_odgEKD7HeY8pCwFbkosrribgArahL8zN":"key_test_ebnrXmCOBlD9UQdlGuImyhilsymwj142":a.a.brand.is_udemy?"key_live_dkmkLOFE7jz8nKqIcFl0hliaamb5MyJ6":"key_live_ociw5pCRCis8ILedNrHjEbkfxCgwEgdh",i.a.init(e,o.a),{createLink:r,createiOSLinkWithDesktop:function(e){var t=babelHelpers.objectSpread({},e);return t.data=t.data||{},r(t)},createAndroidLinkWithDesktop:function(e){var t=babelHelpers.objectSpread({},e);return t.data=t.data||{},r(t)},createUFBLink:function(e){var t=babelHelpers.objectSpread({},e);return t.data=Object.assign({},t.data,{organizationName:a.a.brand.title,organizationIdentifier:a.a.brand.identifier,ufbDomain:a.a.brand.url,$ios_url:a.a.third_party.branch_metrics.ios_ufb_download_url,$android_url:a.a.third_party.branch_metrics.android_ufb_download_url}),"ios"===Object(s.b)()&&(t.data.$desktop_url=a.a.third_party.branch_metrics.ios_ufb_download_url),"android"===Object(s.b)()&&(t.data.$desktop_url=a.a.third_party.branch_metrics.android_ufb_download_url),r(t)},sendSMS:function(e){var t=l();return i.a.sendSMS(e.phone,e.linkData,{make_new_link:!1},function(e){e?t.reject(e):t.resolve()}),t.promise}}}()},"./src/udemy/js/utils/ensure-in-view.js":function(e,t,r){"use strict";r.d(t,"a",function(){return o});var u={getWindow:function(){return window},_ensureInView:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};r=babelHelpers.objectSpread({keepIfInView:!1,offsetTop:100,forceToTop:!1},r);var o,n,i,s=u.getWindow(),a=e.getBoundingClientRect();if(t){var l=t.getBoundingClientRect();o=a.top-l.top,n=a.bottom-l.top,i=l.height}else t=s,o=a.top,n=a.bottom,i=s.innerHeight;if(0<=o&&n<=i&&!r.forceToTop)return;var c=i<o||n<0;r.keepIfInView&&!c||t.scrollBy({top:Math.round(o-r.offsetTop),behavior:"smooth"})}};function o(){return u._ensureInView.apply(u,arguments)}},"./src/udemy/js/utils/fullscreen.js":function(e,t,r){"use strict";r.d(t,"a",function(){return m}),r.d(t,"d",function(){return y}),r.d(t,"b",function(){return f});var o,n,i=r("./node_modules/autobind-decorator/lib/index.js"),s=r.n(i),a=r("./node_modules/jquery/dist/jquery.js-exposed"),l=r.n(a),c=r("./node_modules/lodash-es/omit.js"),u=r("./node_modules/mobx/lib/mobx.js"),p=r("./node_modules/mobx-react/index.module.js"),d=r("./node_modules/react/index.js"),h=r.n(d),m=function(){function e(){babelHelpers.classCallCheck(this,e),this._propertyMap={fullscreen:["fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement"],fullscreenchange:["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"],requestFullscreen:["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"],exitFullscreen:["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"]}}return babelHelpers.createClass(e,[{key:"getPropertyName",value:function(e,t){for(var r=0;r<this._propertyMap[t].length;r++){var o=this._propertyMap[t][r];if(e[o])return o}}},{key:"getProperty",value:function(e,t){var r=this.getPropertyName(e,t);return r?e[r]:null}},{key:"isSupported",value:function(){return!!this.getProperty(document.documentElement,"requestFullscreen")}},{key:"isFullscreen",value:function(){return!!this.getProperty(document,"fullscreen")}},{key:"requestFullscreen",value:function(e){return!!this.isSupported()&&this.getProperty(e,"requestFullscreen").call(e)}},{key:"exitFullscreen",value:function(){return!!this.isSupported()&&this.getProperty(document,"exitFullscreen").call(document)}},{key:"toggleFullscreen",value:function(e){this.isFullscreen()?this.exitFullscreen():this.requestFullscreen(e)}},{key:"changeEvents",get:function(){return this._propertyMap.fullscreenchange.join(" ")}}]),e}(),b=new m;function y(t){var e,r;return Object(p.d)((r=e=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).fullscreenStore=new f,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(){return h.a.createElement(p.b,{fullscreenStore:this.fullscreenStore},h.a.createElement(t,Object.assign({toggleFullscreen:this.fullscreenStore.toggleFullscreen,isFullscreen:this.fullscreenStore.isFullscreen,setFullscreenRef:this.fullscreenStore.setRef},this.props)))}}]),r}(h.a.Component),e.displayName="Fullscreen-Enabled-".concat(t.displayName||t.name),e.propTypes=Object(c.a)(t.propTypes||{},["toggleFullscreen","isFullscreen","setFullscreenRef"]),e.defaultProps=t.defaultProps||{},e.wrappedComponent=t,r))}t.c=b;var f=(o=function(){function e(){babelHelpers.classCallCheck(this,e),babelHelpers.initializerDefineProperty(this,"isFullscreen",n,this)}return babelHelpers.createClass(e,[{key:"toggleFullscreen",value:function(){this.isFullscreen?(l()(document).on(b.changeEvents,this.handleFullscreenEvent),!1===b.exitFullscreen()&&l()(document).off(b.changeEvents)):!this.isFullscreen&&this.ref&&(l()(document).on(b.changeEvents,this.handleFullscreenEvent),!1===b.requestFullscreen(this.ref)&&l()(document).off(b.changeEvents))}},{key:"handleFullscreenEvent",value:function(){this.isFullscreen=b.isFullscreen(),this.isFullscreen||l()(document).off(b.changeEvents)}},{key:"setRef",value:function(e){this.ref=e}}]),e}(),n=babelHelpers.applyDecoratedDescriptor(o.prototype,"isFullscreen",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),babelHelpers.applyDecoratedDescriptor(o.prototype,"toggleFullscreen",[s.a,u.action],Object.getOwnPropertyDescriptor(o.prototype,"toggleFullscreen"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"handleFullscreenEvent",[s.a,u.action],Object.getOwnPropertyDescriptor(o.prototype,"handleFullscreenEvent"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"setRef",[s.a],Object.getOwnPropertyDescriptor(o.prototype,"setRef"),o.prototype),o)},"./src/udemy/js/utils/hotkeys.js":function(e,t,r){"use strict";var o,n,i,s=r("./node_modules/autobind-decorator/lib/index.js"),a=r.n(s),l=(i=n=function(){function n(e){babelHelpers.classCallCheck(this,n),this.container=e,this.registry={}}return babelHelpers.createClass(n,[{key:"keyStringToReference",value:function(e){var t,r=e.split("+"),o=r.slice(-1)[0];if(r=r.slice(0,-1).map(function(e){if(!n.MODIFIERS[e])throw new Error("Unknown modifier key, '".concat(e,"'."));return n.MODIFIERS[e]}).sort(),/^[a-z]$/.test(o))t="Key".concat(o.toUpperCase());else if(/^[0-9]$/.test(o))t="Digit".concat(o);else{if(!n.SPECIAL_KEYS[o])throw new Error("Unable to process key code '".concat(o,"'"));t=n.SPECIAL_KEYS[o]}return r.push(t),r.join("+")}},{key:"register",value:function(e,t){var r=this.keyStringToReference(e);Object.keys(this.registry).length||this.container.addEventListener("keydown",this.handleKeyDown),this.registry[r]||(this.registry[r]=[]),this.registry[r].push(t)}},{key:"unregister",value:function(e,t){var r=this.keyStringToReference(e);if(this.registry[r]){var o=this.registry[r].indexOf(t);o<0||(this.registry[r].splice(o,1),this.registry[r].length||delete this.registry[r],Object.keys(this.registry).length||this.container.removeEventListener("keydown",this.handleKeyDown))}}},{key:"handleKeyDown",value:function(r){var e=r.relatedTarget||r.toElement||document.activeElement;if(!e||!["input","textarea","button"].includes(e.tagName.toLowerCase())&&"true"!==e.getAttribute("contenteditable")){var t=Object.values(n.MODIFIERS).reduce(function(e,t){return r[t]&&e.push(t),e},[]).sort();t.push(r.code);var o=t.join("+");(this.registry[o]||[]).forEach(function(e){return e(r)})}}}]),n}(),n.MODIFIERS={alt:"altKey",shift:"shiftKey",ctrl:"ctrlKey",meta:"metaKey"},n.SPECIAL_KEYS={space:"Space",left:"ArrowLeft",right:"ArrowRight",down:"ArrowDown",up:"ArrowUp",enter:"Enter",escape:"Escape",slash:"Slash"},o=i,babelHelpers.applyDecoratedDescriptor(o.prototype,"handleKeyDown",[a.a],Object.getOwnPropertyDescriptor(o.prototype,"handleKeyDown"),o.prototype),o);t.a=new l(document)},"./src/udemy/js/utils/mobx.js":function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return s});var o,u=r("./node_modules/lodash-es/identity.js"),n=r("./node_modules/mobx/lib/mobx.js");function i(t,r,e){var o={};e.forEach(function(e){e in r&&(o[e]=r[e])}),Object.keys(r).forEach(function(e){if(!(e in o))throw new Error("Cannot assign unrecognized property ".concat(e," to ").concat(t.constructor.name))}),Object(n.extendObservable)(t,o)}var s=(o=function(){function t(e){babelHelpers.classCallCheck(this,t),this.setDataFromAPI(e)}return babelHelpers.createClass(t,[{key:"apiDataMap",get:function(){return{}}}]),babelHelpers.createClass(t,[{key:"setDataFromAPI",value:function(l){var c=this;Object.entries(this.apiDataMap).forEach(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1];if("string"==typeof o)void 0!==l[o]&&(c[r]=l[o]);else{var n="string"==typeof o.source?[o.source]:o.source,i=o.map||u.a;if(n.every(function(e){return void 0!==l[e]})){var s=n.map(function(e){return l[e]}),a=i.apply(void 0,babelHelpers.toConsumableArray(s));void 0!==a&&(c[r]=a)}else void 0!==o.defaultValue&&void 0===c[r]&&(c[r]=o.defaultValue)}})}}]),t}(),babelHelpers.applyDecoratedDescriptor(o.prototype,"setDataFromAPI",[n.action],Object.getOwnPropertyDescriptor(o.prototype,"setDataFromAPI"),o.prototype),o)},"./src/udemy/js/utils/pusher-event-handler.js":function(e,t,r){"use strict";r.d(t,"a",function(){return u});var o,n=r("./node_modules/autobind-decorator/lib/index.js"),i=r.n(n),s=r("./node_modules/pusher-js/dist/web/pusher.js"),a=r.n(s),l=r("./src/udemy/js/utils/ud-config.js"),c=function(e,t){return new a.a(e,t)},u=(o=function(){function a(e,t,r,o,n){var i=this;babelHelpers.classCallCheck(this,a),this.responseHandler=e,this.pusherClient=c(l.a.third_party.pusher.key,{}),this.pusherChannel="v2".concat(Math.floor(Math.random()*Math.pow(10,12)+Date.now()));var s=this.pusherClient.subscribe(this.pusherChannel);s.bind("pusher:subscription_succeeded",r),s.bind(n,this.pusherEventHandler),this.pusherClient.connection.bind("unavailable",function(){o(),i.destroy()}),this.pusherClient.connection.bind("failed",function(){o(),i.destroy()});this.idleTimeout=setTimeout(function(){i.destroy(),t()},12e3)}return babelHelpers.createClass(a,[{key:"pusherEventHandler",value:function(e){this.destroy(),this.responseHandler(e)}},{key:"destroy",value:function(){this.pusherClient&&this.pusherClient.disconnect(),clearTimeout(this.idleTimeout)}}]),a}(),babelHelpers.applyDecoratedDescriptor(o.prototype,"pusherEventHandler",[i.a],Object.getOwnPropertyDescriptor(o.prototype,"pusherEventHandler"),o.prototype),o)},"./src/udemy/js/utils/seeded-rng.js":function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return s});var o=r("./node_modules/mersenne-twister/src/mersenne-twister.js"),n=r.n(o);function i(e){return new n.a(e)}function s(e,t){for(var r=e.length;r;r--){var o=Math.floor(t.random()*r),n=[e[o],e[r-1]];e[r-1]=n[0],e[o]=n[1]}return e}},"./src/udemy/js/utils/ud-ace.js":function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var o=r("./src/udemy/js/utils/handle-import-error.js");function n(){var e=r.e("vendors~ace-plugins-theme-idle~brace~style-guide-app").then(r.t.bind(null,"./node_modules/brace/index.js",7)).catch(o.a),t=Promise.all([r.e("vendors~ace-plugins-theme-idle~brace~style-guide-app"),r.e("ace-plugins-theme-idle")]).then(r.bind(null,"./src/udemy/js/ace-plugins/theme-idle.js")).catch(o.a);return Promise.all([e,t]).then(function(e){return e[0]})}function i(e){return n().then(function(){switch(e){case"c_cpp":return r.e("brace-mode-c-cpp").then(r.t.bind(null,"./node_modules/brace/mode/c_cpp.js",7)).catch(o.a);case"csharp":return r.e("brace-mode-csharp").then(r.t.bind(null,"./node_modules/brace/mode/csharp.js",7)).catch(o.a);case"css":return Promise.all([r.e("vendors~brace-mode-css~brace-mode-html~brace-mode-php"),r.e("brace-mode-css")]).then(r.t.bind(null,"./node_modules/brace/mode/css.js",7)).catch(o.a);case"html":return Promise.all([r.e("vendors~brace-mode-html~brace-mode-java~brace-mode-javascript~brace-mode-php~style-guide-app"),r.e("vendors~brace-mode-css~brace-mode-html~brace-mode-php"),r.e("vendors~brace-mode-html~brace-mode-php"),r.e("brace-mode-html")]).then(r.t.bind(null,"./node_modules/brace/mode/html.js",7)).catch(o.a);case"java":return Promise.all([r.e("vendors~brace-mode-html~brace-mode-java~brace-mode-javascript~brace-mode-php~style-guide-app"),r.e("brace-mode-java")]).then(r.t.bind(null,"./node_modules/brace/mode/java.js",7)).catch(o.a);case"javascript":return Promise.all([r.e("vendors~brace-mode-html~brace-mode-java~brace-mode-javascript~brace-mode-php~style-guide-app"),r.e("brace-mode-javascript")]).then(r.t.bind(null,"./node_modules/brace/mode/javascript.js",7)).catch(o.a);case"php":return Promise.all([r.e("vendors~brace-mode-html~brace-mode-java~brace-mode-javascript~brace-mode-php~style-guide-app"),r.e("vendors~brace-mode-css~brace-mode-html~brace-mode-php"),r.e("vendors~brace-mode-html~brace-mode-php"),r.e("vendors~brace-mode-php")]).then(r.t.bind(null,"./node_modules/brace/mode/php.js",7)).catch(o.a);case"python":return r.e("brace-mode-python").then(r.t.bind(null,"./node_modules/brace/mode/python.js",7)).catch(o.a);case"ruby":return r.e("brace-mode-ruby").then(r.t.bind(null,"./node_modules/brace/mode/ruby.js",7)).catch(o.a);case"swift":return r.e("brace-mode-swift").then(r.t.bind(null,"./node_modules/brace/mode/swift.js",7)).catch(o.a);case"text":return r.e("brace-mode-text").then(r.t.bind(null,"./node_modules/brace/mode/text.js",7)).catch(o.a);default:throw new Error("Unknown ace mode: ".concat(e))}})}},"./src/udemy/js/utils/ud-body-app.js":function(e,t,r){"use strict";var o=r("./node_modules/angular/angular.js"),n=r.n(o),i=r("./src/udemy/js/intercom/app.js"),s=r("./src/udemy/js/ng/ud-core.js"),a=r("./src/udemy/js/social-auth/app.js");t.a=n.a.module("utils/ud-body-app",[i.appModule.name,a.appModule.name,s.a.name])},"./src/udemy/js/utils/ud-courseeventtracker.js":function(e,t,r){"use strict";var u=r("./src/udemy/js/utils/ud-api-stat.js");function o(){this._eventData={}}o.prototype.R1="1",o.prototype.setUserType=function(e){this._eventData.userType=e},o.prototype.setCourseId=function(e){this._eventData.courseId=e},o.prototype.setCourseType=function(e){this._eventData.courseType=e},o.prototype.setCurriculumObject=function(e,t){this._eventData.objectType=e,this._eventData.objectId=t},o.prototype.setCTVersion=function(e){this._eventData.ctVersion=e},o.prototype.track=function(e,t,r,o,n,i,s){if(this._eventData.courseId){var a={};for(var l in this._eventData)a[l]=this._eventData[l];for(var c in a.category=t,a.action=r,a.extra=JSON.stringify(i),s)a[c]=s[c];u.e.trackPageEvent("trackclick",e,a)}},t.a=new o},"./src/udemy/js/utils/ud-coursevideotracker.js":function(e,t,r){"use strict";var c=r("./src/udemy/js/utils/ud-api-stat.js"),u=r("./src/udemy/js/utils/ud-courseeventtracker.js");t.a=function(){var l=null;return{onVideoTracking:function(e){var t,r,o,n,i,s={downloadlecture:"Lecture",default:"Video Controls"},a={downloadlecture:"resource lecture-download",play:"video play",pause:"video pause",seek:"video seek",volume:"video volume",fullscreenchange:"video fullscreen: ".concat(e.isFullscreen?"on":"off"),qualityChange:"video hd: ".concat(e.quality),captionstrackchange:"video cc: ".concat(e.action),captionssettingchange:"video cc setting: ".concat(e.setting," ").concat(e.value),seekrewind:"video seek rewind",seekforward:"video seek forward",playbackrate:"video playback-rate: ".concat(e.speed),viewed:"video view"}[e.type];a&&(t=s[e.type]||s.default,a+=e.isHotkeyPressed?" hotkey":"","Video Controls"===t&&(r=e.stats),"captionstrackchange"===e.type&&(r.language=e.language),"playbackrate"===e.type?(o=t,n=a,i=r,l&&clearTimeout(l),l=setTimeout(function(){u.a.track(c.d.VIDEO_PLAYER,o,n,void 0,void 0,i)},2e3)):u.a.track(c.d.VIDEO_PLAYER,t,a,void 0,void 0,r))}}}},"./src/udemy/js/utils/ud-render-angular-apps.js":function(e,t,r){"use strict";r.d(t,"a",function(){return s});var o=r("./node_modules/angular/angular.js"),l=r.n(o),n=r("./node_modules/jquery/dist/jquery.js-exposed"),c=r.n(n),i={_udRenderAngularApps:function(e,t,a,r){var o=c()(e);if(!t.match(/^\.ud-angular--[\w-]+--[\w-]+$/))throw new Error("cssSelector should follow the pattern\n            '.ud-angular--{app-name}--{module-name}': received '".concat(t,"'"));var n=o.filter(t).add(o.find(t)).filter(function(e,t){var r=c()(t),o=r.parents('[class^="ud-angular--"], [class*=" ud-angular--"]');return 0===o.length||!!r.hasClass("ud-render-angular-apps--ignore-parents")});0<n.length&&(a=a.run(["$rootScope",function(e){Object.assign(e,r)}]),n.each(function(e,t){var r=c()(t);if(r.hasClass("ud-render-angular-apps--ignore-parents")){var o=["$provide",function(e){e.value("$rootElement",r)}],n=l.a.injector(["ng",o,a.name],!0),i=n.get("$rootScope").$new(!0);n.get("$compile")(t)(i),r.on("remove",function(){i.$destroy()})}else{var s=l.a.bootstrap(t,[a.name],{strictDi:!0});s.invoke(["$rootScope",function(e){r.on("remove",function(){e.$destroy()})}])}}))}};function s(){return i._udRenderAngularApps.apply(i,arguments)}},"./src/udemy/js/utils/ud-system-message.js":function(e,t,r){"use strict";var o=r("./src/udemy/js/utils/ud-api.js");t.a={ids:Object.freeze({autocaptionHeadsup:"autocaption_headsup",captionEditorSurvey:"caption_editor_survey",captionEditorSurveyPopup:"caption_editor_survey_popup",captionManagePage:"caption_manage_page",captionSearchTooltip:"caption_search_tooltip",clpConversionHint:"clp_conversion_hint",codingExerciseHint:"coding_exercise_hint",courseFreePaid:"course_free_paid",courseTranslationAutoCoverage:"course_translation_auto_coverage",courseTranslationDisabledLanguageCat:"course_translation_disabled_language_cat",courseTranslationLowConfidence:"course_translation_low_confidence",courseTranslationManualCoverage:"course_translation_manual_coverage",discoverabilityTranscriptTooltip:"discoverability_transcript_tooltip",engagementBehaviorHint:"engagement_behavior_hint",instructorApiEula:"instructor_api_eula",instructorOnboarding:"instructor_onboarding",linksWarningQA:"links_warning_qa",mtCaptionSurvey:"mt_caption_survey",qrpReactivate:"qrp_reactivate",reinforcementTooltipGettingThere:"reinforcement_tooltip_getting_there",reinforcementTooltipKeepGoing:"reinforcement_tooltip_keep_going",reinforcementTooltipNearlyThere:"reinforcement_tooltip_nearly_there",showAppLinkCourses:"show_app_link_courses",showAppLinkMessages:"show_app_link_messages",showAppLinkQA:"show_app_link_qa",showAppLinkRevenue:"show_app_link_revenue",showAppLinkReviews:"show_app_link_reviews",showAppLinkToast:"show_app_link_toast",studentContextualSurvey:"student_contextual_survey",surveyPrompt:"survey_prompt",taxFaq2017:"tax_faq_2017",testing:"testing",testVideoSurvey:"test_video_survey",translationHowTo:"translation_how_to",translationTooLate:"translation_too_late",visitorChartUnique:"visitor_chart_unique",modalInlineFirstTime:"modal_inline_first_time",instructorCategoryMigrate:"instructor_category_migrate",iaModalWelcomeMessage:"ia_modal_welcome_message",autoTranslatedCaptions:"auto_translated_captions",seenTeamUpsellTooltip:"seen_upsell_tooltip",seenUserManagePage:"seen_user_manage_page"}),seen:function(e,t){if(!Object.values(this.ids).includes(e))throw new Error("Invalid system message id: ".concat(e));return o.c.post("/users/me/system-messages/".concat(e,"/seen"),t)},hasSeen:function(e,t){return o.c.get("/users/me/system-messages/".concat(e,"/seen"),{params:t})}}},"./src/udemy/js/utils/upow.js":function(e,t,r){"use strict";r.d(t,"a",function(){return i});var o=r("./src/udemy/js/utils/handle-import-error.js"),n=[0,128,192,224,240,248,252,254,255];function l(e){return e<0?"":l(Math.floor(e/26)-1)+String.fromCharCode(65+e%26)}function c(e,t){for(var r=0;0<e;)if(7<e){if(0!=t[r])return!1;e-=8,r+=1}else if(0<e){if(0!=(t[r]&n[e]))return!1;break}return!0}function i(i,s,a){return Promise.all([r.e("vendors~create-hmac"),r.e("create-hmac")]).then(r.t.bind(null,"./node_modules/create-hmac/browser.js",7)).then(function(e){for(var t=e.default,r=0;;){var o=l(r),n=t("sha256",i);if(n.update(s+a+o),c(16,n.digest()))return o;r+=1}}).catch(o.a)}},"./src/udemy/js/video-player/captions/captions.mobx-store.js":function(e,t,r){"use strict";var o,n,i,s,a,l,c,u=r("./node_modules/autobind-decorator/lib/index.js"),p=r.n(u),d=r("./node_modules/js-cookie/src/js.cookie.js"),h=r.n(d),m=r("./node_modules/mobx/lib/mobx.js"),b=r("./node_modules/ua-parser-js/src/ua-parser.js"),y=r.n(b),f=r("./src/udemy/js/utils/ud-config.js"),g=r("./src/udemy/js/utils/ud-request.js"),v=r("./src/udemy/js/video-player/captions/constants.js"),w=r("./src/udemy/js/caption/caption.mobx-model.js"),k=r("./src/udemy/js/utils/ud-coursevideotracker.js"),C=r("./src/udemy/js/video-player/decorate-stats.js"),_=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attachTrack",value:function(e){var t=this;e.addEventListener("load",function(){Object(m.autorun)(function(){e.track.cues.getCueById(t.id).text=t.text})})}}]),t}(r("./src/udemy/js/caption/cue.mobx-model.js").b),S=(o=m.observable.ref,n=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e)),babelHelpers.initializerDefineProperty(t,"mode",i,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"player",s,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),babelHelpers.initializerDefineProperty(t,"playerTime",a,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(t))),t.textTrack=null,t.label=e.video_label,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"constructCue",value:function(e){return new _(e)}},{key:"setMode",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.mode=e,t&&this.trackModeChange(e===v.j.ACTIVE?v.d.ON:v.d.OFF)}},{key:"trackModeChange",value:function(e){var t=this;if(this.player){var r={type:v.c,language:this.language,action:e};Object(C.a)(this.player,null,null,null,r),Object(k.a)().onVideoTracking(r)}else Object(m.when)(function(){return t.player},this.trackModeChange.bind(this,e))}},{key:"attachPlayer",value:function(e,t){var r=this;this.player=e,this.player.on("timeupdate",Object(m.action)(function(){r.playerTime=r.player.currentTime()})),t&&Object(m.when)(function(){return r.isLoaded},this.addTrackToPlayer)}},{key:"addTrackToPlayer",value:function(){var e=this;if(this.mode!==v.j.INACTIVE){var t=this.player.addRemoteTextTrack({kind:"captions",src:this.asDataURL,srclang:this.language,label:this.label},!0);t.track.mode=this.mode,this.textTrack=t.track,this.cues.forEach(function(e){e.attachTrack(t)}),Object(m.autorun)(function(){e.textTrack.mode=e.mode})}}},{key:"activeCues",get:function(){var t=this;return this.cues.filter(function(e){return e.startTime<=t.playerTime&&e.endTime>t.playerTime})}},{key:"asDataURL",get:function(){var e=btoa(encodeURIComponent(this.asString).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x".concat(t))}));return"data:text/vtt;base64,".concat(e)}}]),r}(w.b),i=babelHelpers.applyDecoratedDescriptor(n.prototype,"mode",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.j.HIDDEN}}),s=babelHelpers.applyDecoratedDescriptor(n.prototype,"player",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=babelHelpers.applyDecoratedDescriptor(n.prototype,"playerTime",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"setMode",[m.action],Object.getOwnPropertyDescriptor(n.prototype,"setMode"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"attachPlayer",[m.action],Object.getOwnPropertyDescriptor(n.prototype,"attachPlayer"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"addTrackToPlayer",[p.a],Object.getOwnPropertyDescriptor(n.prototype,"addTrackToPlayer"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"activeCues",[m.computed],Object.getOwnPropertyDescriptor(n.prototype,"activeCues"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"asDataURL",[m.computed],Object.getOwnPropertyDescriptor(n.prototype,"asDataURL"),n.prototype),n);r.d(t,"a",function(){return j});var j=(l=function(){function o(e){var t=this,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];babelHelpers.classCallCheck(this,o),babelHelpers.initializerDefineProperty(this,"captions",c,this),e.forEach(function(e){t.addCaptionFromAPI(e)}),r&&this.autoSelectCaption()}return babelHelpers.createClass(o,[{key:"addCaptionFromAPI",value:function(e){this.captions.push(new S(e))}},{key:"setActiveCaption",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];this.captions.forEach(function(e){t&&e.id===t.id?e.setMode(v.j.ACTIVE,r):e.mode===v.j.ACTIVE&&e.setMode(v.j.HIDDEN,r)}),e&&this.persistSelectedCaption(t)}},{key:"loadCaptions",value:function(){this.captions.forEach(function(e){e.loadFromSource()})}},{key:"updateCaptionModesFromNativeTrack",value:function(){var t;this.captions.forEach(function(e){e.textTrack&&(e.textTrack.mode===v.j.ACTIVE&&(t=e),e.setMode(e.textTrack.mode))}),this.persistSelectedCaption(t)}},{key:"autoSelectCaption",value:function(){var t,r,o,e=h.a.get(v.b);if(void 0!==e){if(!e)return;t=e}var n,i,s,a=g.a.locale.substr(0,2),l=f.a.brand;"en"===a||l.has_organization&&!l.is_autoshow_cc_enabled||(r=a,o="en"),this.captions.forEach(function(e){t&&e.language===t?n=e:r&&e.language===r?i=e:o&&e.language===o&&(s=e)});var c,u=!1;n?c=n:i?(c=i,u=!0):s&&(c=s,u=!0),c&&(this.setActiveCaption(c,!1,!1),c.trackModeChange(u?v.d.ON_AUTO:v.d.ON_COOKIE))}},{key:"persistSelectedCaption",value:function(e){h.a.set(v.b,e?e.language:"",{expires:30,path:"/"})}},{key:"attachPlayer",value:function(t){var r=this;this.captions.forEach(function(e){e.attachPlayer(t,r.useNativeTextTracks)}),this.useNativeTextTracks&&t.textTracks().addEventListener("change",this.updateCaptionModesFromNativeTrack)}},{key:"useNativeTextTracks",get:function(){var e=new y.a,t=e.getOS().name,r=e.getBrowser().name;return"iOS"===t||"Android"===t&&"Chrome"===r}},{key:"isLoaded",get:function(){return this.captions.every(function(e){return e.isLoaded})}},{key:"hasError",get:function(){return this.captions.some(function(e){return e.error})}},{key:"activeTracks",get:function(){return this.captions.filter(function(e){return e.mode===v.j.ACTIVE})}}]),o}(),c=babelHelpers.applyDecoratedDescriptor(l.prototype,"captions",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),babelHelpers.applyDecoratedDescriptor(l.prototype,"addCaptionFromAPI",[m.action],Object.getOwnPropertyDescriptor(l.prototype,"addCaptionFromAPI"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"updateCaptionModesFromNativeTrack",[p.a],Object.getOwnPropertyDescriptor(l.prototype,"updateCaptionModesFromNativeTrack"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"isLoaded",[m.computed],Object.getOwnPropertyDescriptor(l.prototype,"isLoaded"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"hasError",[m.computed],Object.getOwnPropertyDescriptor(l.prototype,"hasError"),l.prototype),babelHelpers.applyDecoratedDescriptor(l.prototype,"activeTracks",[m.computed],Object.getOwnPropertyDescriptor(l.prototype,"activeTracks"),l.prototype),l)},"./src/udemy/js/video-player/captions/constants.js":function(e,t,r){"use strict";r.d(t,"i",function(){return o}),r.d(t,"h",function(){return n}),r.d(t,"e",function(){return i}),r.d(t,"k",function(){return s}),r.d(t,"f",function(){return a}),r.d(t,"g",function(){return l}),r.d(t,"l",function(){return c}),r.d(t,"a",function(){return u}),r.d(t,"b",function(){return p}),r.d(t,"c",function(){return d}),r.d(t,"d",function(){return h}),r.d(t,"j",function(){return m});var o=Object.freeze({TRACKS:"tracks",SETTINGS:"settings",FONT_SIZE:"fonts",OPACITY:"opacity"}),n=Object.freeze([50,75,100,150,200]),i=100,s=Object.freeze([0,25,50,75,100]),a=75,l=!1,c="captionsettings",u={FONT_SIZE_DEFAULT:24,FONT_SIZE_MIN:15},p="caption",d="captionstrackchange",h=Object.freeze({ON:"on",ON_AUTO:"on_auto",ON_COOKIE:"on_cookie",OFF:"off"}),m=Object.freeze({ACTIVE:"showing",INACTIVE:"disabled",HIDDEN:"hidden"})},"./src/udemy/js/video-player/captions/cue-display/captions-display.less":function(e,t,r){e.exports={"vjs-ud-captions-container":"captions-display--vjs-ud-captions-container--11J17","user-inactive":"captions-display--user-inactive--2QVjh","vjs-ud-captions-cue-text":"captions-display--vjs-ud-captions-cue-text--3092J"}},"./src/udemy/js/video-player/captions/cue-display/well.less":function(e,t,r){e.exports={container:"well--container--2edq4",text:"well--text--2H_p0","transition-active":"well--transition-active--35hDP"}},"./src/udemy/js/video-player/constants.js":function(e,t,r){"use strict";r.d(t,"f",function(){return o}),r.d(t,"g",function(){return n}),r.d(t,"h",function(){return i}),r.d(t,"b",function(){return s}),r.d(t,"a",function(){return a}),r.d(t,"e",function(){return l}),r.d(t,"i",function(){return c}),r.d(t,"c",function(){return u}),r.d(t,"d",function(){return p});var o="video-js",n="vjs-udemy-skin",i="vjs-waiting",s=4e3,a=(Object.freeze({CAPTIONS:"captions",SNEAK_PEEK:"metadata"}),Object.freeze({NONE:"none",CAPTIONS:"captions",SETTINGS:"settings"})),l=5,c=.1,u=Object.freeze({PLAY_PAUSE:"play-pause",SEEK_BACK:"seek-back",SEEK_FORWARD:"seek-forward",SPEED_DOWN:"speed-down",SPEED_UP:"speed-up",VOLUME_DOWN:"volume-down",VOLUME_UP:"volume-up",TOGGLE_FULLSCREEN:"fullscreen"}),p=Object.freeze({INITIAL_START:"initial_start",HLS_QUALITY_CHANGE:"hls_quality_change",UNBUFFERED_SEEK:"unbuffered_seek",BUFFERED_SEEK:"buffered_seek",WAITING:"waiting"})},"./src/udemy/js/video-player/control-bar/control-bar-button-factory.videojs-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var o=r("./node_modules/video.js/es5/video.js"),i=r.n(o).a.getComponent("Component");function n(n){return function(e){function o(){return babelHelpers.classCallCheck(this,o),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(o).apply(this,arguments))}return babelHelpers.inherits(o,e),babelHelpers.createClass(o,[{key:"buildCSSClass",value:function(){return"vjs-ud-control-bar-button ".concat(babelHelpers.get(babelHelpers.getPrototypeOf(o.prototype),"buildCSSClass",this).call(this))}},{key:"createEl",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),r=Object.assign({"data-purpose":n},r),babelHelpers.get(babelHelpers.getPrototypeOf(o.prototype),"createEl",this).call(this,e,t,r)}}]),o}(i)}},"./src/udemy/js/video-player/control-bar/control-bar-button.less":function(e,t,r){e.exports={button:"control-bar-button--button--20ibv","button--open":"control-bar-button--button--open--3aJfZ",icon:"control-bar-button--icon--28inh"}},"./src/udemy/js/video-player/control-bar/control-bar-button.react-component.js":function(e,t,r){"use strict";var o=r("./node_modules/classnames/index.js"),l=r.n(o),n=r("./node_modules/lodash-es/noop.js"),i=r("./node_modules/prop-types/index.js"),s=r.n(i),a=r("./node_modules/react/index.js"),c=r.n(a),u=r("./src/udemy/js/base-components/button.react-component.js"),p=r("./src/udemy/js/base-components/icon.react-component.js"),d=r("./src/udemy/js/base-components/tooltip-container.react-component.js"),h=r("./src/udemy/js/video-player/video-player-tooltip.react-component.js"),m=function(e){var t=e.tooltipText,r=e.isMenuOpen,o=e.children,n=c.a.createElement(h.a,{id:"".concat(t,"-tooltip")},t);return r?c.a.createElement("div",null,o):c.a.createElement(d.a,{tooltip:n,placement:"top"},o)};m.propTypes={tooltipText:s.a.string.isRequired,isMenuOpen:s.a.bool.isRequired};var b=m,y=r("./src/udemy/js/video-player/control-bar/control-bar-button.less"),f=r.n(y);r.d(t,"a",function(){return g});var g=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,r=e.icon,o=e.tooltip,n=e.isMenuOpen,i=e.className,s=babelHelpers.objectWithoutProperties(e,["onClick","icon","tooltip","isMenuOpen","className"]),a=l()(i,f.a[n?"button--open":"button"]);return c.a.createElement(b,{tooltipText:o,isMenuOpen:n},c.a.createElement(u.default,Object.assign({onClick:t,bsStyle:"text",className:a},s),c.a.createElement(p.a,{glyph:r,className:"control-bar-button--icon--28inh"})))}}]),t}(c.a.Component);g.propTypes={icon:s.a.string.isRequired,tooltip:s.a.string.isRequired,onClick:s.a.func,isMenuOpen:s.a.bool,className:s.a.string},g.defaultProps={onClick:n.a,isMenuOpen:!1,className:""}},"./src/udemy/js/video-player/control-bar/forward-skip-button.less":function(e,t,r){e.exports={"forward-button":"forward-skip-button--forward-button--2I186"}},"./src/udemy/js/video-player/control-bar/menu-item.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return g});var o,n,i,s,a=r("./node_modules/autobind-decorator/lib/index.js"),l=r.n(a),c=r("./node_modules/lodash-es/noop.js"),u=r("./node_modules/mobx-react/index.module.js"),p=r("./node_modules/prop-types/index.js"),d=r.n(p),h=r("./node_modules/react/index.js"),m=r.n(h),b=r("./src/udemy/js/base-components/menu-item.react-component.js"),y=r("./src/udemy/js/video-player/control-bar/menu.less"),f=r.n(y),g=Object(u.c)("menuStore")((s=i=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onSelect",value:function(){var e=this.props,t=e.closeDropdown,r=e.onClick,o=e.menuStore;r.apply(void 0,arguments),t&&o.toggleMenu()}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,o=(e.closeDropdown,e.menuStore,e.onClick,babelHelpers.objectWithoutProperties(e,["children","className","closeDropdown","menuStore","onClick"])),n="".concat(r," ").concat(f.a.menu," ").concat(f.a.item);return m.a.createElement(b.a,Object.assign({},o,{onSelect:this.onSelect,className:n}),t)}}]),t}(m.a.Component),i.propTypes={menuStore:d.a.object.isRequired,onClick:d.a.func,onSelect:d.a.func,className:d.a.string,closeDropdown:d.a.bool},i.defaultProps={onClick:c.a,onSelect:c.a,className:"",closeDropdown:!1},n=s,babelHelpers.applyDecoratedDescriptor(n.prototype,"onSelect",[l.a],Object.getOwnPropertyDescriptor(n.prototype,"onSelect"),n.prototype),o=n))||o},"./src/udemy/js/video-player/control-bar/menu.less":function(e,t,r){e.exports={menu:"menu--menu--2Pw42",item:"menu--item--2IgLt","submenu--left":"menu--submenu--left--jd901","submenu--right":"menu--submenu--right--r72AF",dropdown:"menu--dropdown--3Vksr","captions-menu":"menu--captions-menu--beS8H","settings-menu":"menu--settings-menu--26z60","current-value":"menu--current-value--2R8Lp","well-setting":"menu--well-setting--2lWNm","extra-menu-item":"menu--extra-menu-item--2Fx30"}},"./src/udemy/js/video-player/control-bar/rewind-skip-button.less":function(e,t,r){e.exports={"rewind-button":"rewind-skip-button--rewind-button--2HGPk"}},"./src/udemy/js/video-player/decorate-stats.js":function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return c});var o=r("./node_modules/jsuri/Uri.js"),n=r.n(o);function i(e,t,r,o,n,i){if(n.player="videojs",n.mode=n.mode||e.techName_,n.isHotkeyPressed=e.isHotkeyPressed&&e.isHotkeyPressed(),n.stats={dimension2:"".concat(n.player," ").concat(n.mode)},i){var s,a=n.stats;r.user&&r.user.id&&(a.userId=r.user.id),a.assetId=r.assetId,a.msPosition=1e3*e.currentTime(),a.format=e.currentType(),a.quality=e.resolution,a.userAgent=window.navigator.userAgent,t&&(a.elementHeight=t.clientHeight,a.elementWidth=t.clientWidth),Object.keys(o).forEach(function(e){var t=o[e].highest;t&&(a[e]=Math.round(t))});try{s=e.currentSource()}catch(e){return}if(s.isHls){a.hlsBandwidthConfig=e.tech_.hls.bandwidth;var l=e.tech_.hls.playlists.media();l&&(a.hlsResolution=l.attributes.RESOLUTION.height);s.src.split("\\").pop().split("/").pop().startsWith("aa00")?a.streamType="NEW-HLS":a.streamType="HLS"}else a.streamType="NOT-HLS";a.cdn=c(e)}}function c(e){var t,r="none";try{t=e.currentSrc()}catch(e){}if(t){var o=new n.a(t).host();["udemy-assets-on-demand.udemy.com","udemy-assets-on-demand2.udemy.com","adaptive-streaming.udemy.com"].includes(o)&&(r="level3"),["a.udemycdn.com","a2.udemycdn.com","h.udemycdn-a.com"].includes(o)&&(r="new-level3"),["adaptive-content.udemy.com","dabm6vlh6a177.cloudfront.net"].includes(o)&&(r="cf"),["udemy.akamaized.net"].includes(o)&&(r="akamai"),["udemy.unifieddeliverynetwork.net"].includes(o)&&(r="ericsson")}return r}},"./src/udemy/js/video-player/error-display.less":function(e,t,r){e.exports={modal:"error-display--modal--2WrSk"}},"./src/udemy/js/video-player/error-display.react-component.js":function(e,t,r){"use strict";r.d(t,"a",function(){return p}),r.d(t,"b",function(){return d});var o=r("./node_modules/prop-types/index.js"),n=r.n(o),i=r("./node_modules/react/index.js"),s=r.n(i),a=r("./node_modules/react-overlays/lib/Portal.js"),l=r.n(a),c=r("./src/udemy/js/base-components/modal.react-component.js"),u=r("./src/udemy/js/utils/ud-link.js"),p=(r("./src/udemy/js/video-player/error-display.less"),[s.a.createElement("p",{key:"apology"},gettext("We tried several times to play your video but there was an unforeseen error.\n                   We have notified our engineers.")),s.a.createElement("p",{key:"flashcheck",dangerouslySetInnerHTML:{__html:interpolate(gettext("Visit %(hyperlink)s to check that Flash is enabled on your browser."),{hyperlink:'<a href="https://helpx.adobe.com/flash-player.html" target="_blank">https://helpx.adobe.com/flash-player.html</a>'},!0)}}),s.a.createElement("p",{key:"tryagain",dangerouslySetInnerHTML:{__html:interpolate(gettext("With Flash enabled, please try again in a few minutes or <a %(hyperlink)s>contact support</a>."),{hyperlink:'href="'.concat(u.a.to("support","229231227",{b_id:"3056"}),'" target="_blank"')},!0)}})]),d=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return this.props.player.errorDisplay?s.a.createElement(l.a,{container:this.props.player.errorDisplay.el()},s.a.createElement("div",null,s.a.createElement(c.a.Dialog,{className:"error-display--modal--2WrSk"},s.a.createElement(c.a.Header,{closeButton:!0,onHide:this.props.store.hideError},s.a.createElement(c.a.Title,null,gettext("Video Error"))),s.a.createElement(c.a.Body,null,this.props.errorBody),this.footer))):null}},{key:"footer",get:function(){return this.props.errorFooter?s.a.createElement(c.a.Footer,null,this.props.errorFooter):null}}]),t}(s.a.Component);d.propTypes={player:n.a.object.isRequired,store:n.a.object.isRequired,errorBody:n.a.node,errorFooter:n.a.node},d.defaultProps={errorBody:p,errorFooter:null}},"./src/udemy/js/video-player/placeholder/placeholder.less":function(e,t,r){e.exports={placeholder:"placeholder--placeholder--yjY45"}},"./src/udemy/js/video-player/placeholder/thumbnail.less":function(e,t,r){e.exports={thumbnail:"thumbnail--thumbnail--1GwZw"}},"./src/udemy/js/video-player/user-activity.less":function(e,t,r){e.exports={"user-inactive":"user-activity--user-inactive--2uBeO","hide-when-user-inactive":"user-activity--hide-when-user-inactive--pDPGx"}},"./src/udemy/js/video-player/user-activity.mobx-store.js":function(e,t,r){"use strict";r.d(t,"a",function(){return h});var o,n,i=r("./node_modules/autobind-decorator/lib/index.js"),s=r.n(i),a=r("./node_modules/jquery/dist/jquery.js-exposed"),l=r.n(a),c=r("./node_modules/mobx/lib/mobx.js"),u=r("./src/udemy/js/video-player/constants.js"),p=r("./src/udemy/js/video-player/user-activity.less"),d=r.n(p),h=(o=function(){function e(){babelHelpers.classCallCheck(this,e),babelHelpers.initializerDefineProperty(this,"isUserActive",n,this),this.activityOverride=!1}return babelHelpers.createClass(e,[{key:"setControlBarStore",value:function(e){this.controlBarStore=e}},{key:"setActive",value:function(){this.isUserActive=!0}},{key:"setInactive",value:function(){this.activityOverride||this.controlBarStore&&this.controlBarStore.activeMenu!==u.a.NONE||(this.isUserActive=!1)}},{key:"setActiveOn",value:function(){this.activityOverride=!0,this.setActive()}},{key:"unsetActiveOn",value:function(){this.activityOverride=!1}},{key:"setupPlayerListeners",value:function(e){e.on("useractive",this.setActive),e.on("userinactive",this.setInactive),this.setActive()}},{key:"addActiveOnHover",value:function(e){(e=l()(e)).on("mouseover",this.setActiveOn),e.on("mouseout",this.unsetActiveOn)}},{key:"addHideOnInactive",value:function(e){(e=l()(e)).addClass(d.a["hide-when-user-inactive"])}}]),e}(),n=babelHelpers.applyDecoratedDescriptor(o.prototype,"isUserActive",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),babelHelpers.applyDecoratedDescriptor(o.prototype,"setActive",[s.a,c.action],Object.getOwnPropertyDescriptor(o.prototype,"setActive"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"setInactive",[s.a,c.action],Object.getOwnPropertyDescriptor(o.prototype,"setInactive"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"setActiveOn",[s.a],Object.getOwnPropertyDescriptor(o.prototype,"setActiveOn"),o.prototype),babelHelpers.applyDecoratedDescriptor(o.prototype,"unsetActiveOn",[s.a],Object.getOwnPropertyDescriptor(o.prototype,"unsetActiveOn"),o.prototype),o)},"./src/udemy/js/video-player/video-player-tooltip.less":function(e,t,r){e.exports={"video-player-tooltip":"video-player-tooltip--video-player-tooltip--2eO5i"}},"./src/udemy/js/video-player/video-player-tooltip.react-component.js":function(e,t,r){"use strict";var o=r("./node_modules/react/index.js"),n=r.n(o),i=r("./src/udemy/js/base-components/tooltip.react-component.js"),s=(r("./src/udemy/js/video-player/video-player-tooltip.less"),function(e){var t=e.className,r=babelHelpers.objectWithoutProperties(e,["className"]);return n.a.createElement(i.a,Object.assign({},r,{withChevron:!1,className:(t?t+" ":"")+"video-player-tooltip--video-player-tooltip--2eO5i"}))});s.propTypes=babelHelpers.objectSpread({},i.a.propTypes),s.defaultProps=babelHelpers.objectSpread({},i.a.defaultProps),t.a=s},"./src/udemy/js/video-player/video-player.less":function(e,t,r){e.exports={container:"video-player--container--YDQRW",center:"video-player--center--2vS3g",right:"video-player--right--3KunI","video-wrapper":"video-player--video-wrapper--1L212"}},"./src/udemy/js/video-player/video-player.react-component.js":function(e,t,r){"use strict";var o=r("./node_modules/autobind-decorator/lib/index.js"),n=r.n(o),i=r("./node_modules/classnames/index.js"),s=r.n(i),a=r("./node_modules/jsuri/Uri.js"),l=r.n(a),c=r("./node_modules/lodash-es/identity.js"),u=r("./node_modules/lodash-es/noop.js"),p=r("./node_modules/mobx/lib/mobx.js"),d=r("./node_modules/mobx-react/index.module.js"),h=r("./node_modules/prop-types/index.js"),m=r.n(h),b=r("./node_modules/qs/lib/index.js"),y=r.n(b),f=r("./node_modules/react/index.js"),g=r.n(f),v=r("./src/udemy/js/utils/fullscreen.js"),w=r("./src/udemy/js/utils/hotkeys.js"),k=r("./src/udemy/js/utils/ud-api-stat.js"),C=r("./src/udemy/js/utils/ud-me.js"),_=r("./src/udemy/js/utils/ud-request.js"),S=r("./src/udemy/js/utils/ud-utils.js"),j=(r("./src/udemy/js/video-player/videojs-setup/pre.js"),r("./node_modules/video.js/es5/video.js")),E=r.n(j),D=r("./node_modules/videojs-contrib-hls/es5/videojs-contrib-hls.js"),x=r.n(D),O=r("./node_modules/videojs-sneakpeek/dist/videojs-sneakpeek.min.js"),T=r.n(O),P=E.a.getComponent("Menu"),H=E.a.getComponent("Component"),A=E.a.getComponent("Player"),I=E.a.getComponent("PlaybackRateMenuButton"),R=E.a.getComponent("PlaybackRateMenuItem");A.prototype.speedDown=function(){if(this.playbackRateSupported()){var e=this.options_.playbackRates,t=e.lastIndexOf(this.playbackRate());0<=t-1&&this.playbackRate(e[t-1])}},A.prototype.speedUp=function(){if(this.playbackRateSupported()){var e=this.options_.playbackRates,t=e.lastIndexOf(this.playbackRate());t+1<e.length&&this.playbackRate(e[t+1])}};var q=E.a.extend(I,{options_:{title:""},createEl:function(){var e=I.prototype.createEl.bind(this),t=e(),r=H.prototype.createEl("div",{className:"vjs-button-disabled-text",innerHTML:gettext("Playback rate change is not supported for flash.")});return t.appendChild(r),I.prototype.handleClick=u.a,t},createMenuWithoutMultiplier:function(){var t=this,r=new P(this.player());return(this.playbackRates()||[]).forEach(function(e){return r.addChild(new R(t.player(),{rate:e}))}),r},createMenu:function(){var e=this.createMenuWithoutMultiplier();if(e.children_.forEach(function(e){e.selectable=!0}),this.options_.title){var t=e.contentEl(),r=H.prototype.createEl("li",{className:"vjs-menu-title",innerHTML:this.options_.title,tabindex:-1});t.insertBefore(r,t.childNodes[0])}return e},updateLabel:function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML="".concat(this.player().playbackRate()))},updateVisibility:function(){this.playbackRateSupported()?(this.removeClass("vjs-button-disabled"),this.off("click",this.handleClick).on("click",this.handleClick)):(this.addClass("vjs-button-disabled"),this.off("click",this.handleClick))}});E.a.registerComponent("DisableablePlaybackRateMenuButton",q);var N=E.a.getComponent("Component"),z={slides:[],length:0};var M=E.a.extend(N,{constructor:function(e,t){var r=N.prototype.createEl("div",{className:"vjs-slide-window"});this.imageEl=N.prototype.createEl("img",{src:t.slides[0].url}),r.appendChild(this.imageEl),r.addEventListener("click",function(){e.paused()?e.play():e.pause()}),t=E.a.mergeOptions({el:r},t),N.call(this,e,t),this.slideNumber_=0,this.on(e,"timeupdate",this.updateSlide),this.slides=this.options_.slides}});M.prototype.minimizeVideo=function(){var e=this.el(),t=this.player().el().getElementsByClassName("vjs-tech")[0],r=this.player().el().getElementsByClassName("vjs-poster")[0];e.classList.remove("mashup-window-content"),e.style.opacity=1,t.classList.add("mashup-window-content"),r.classList.add("mashup-window-content")},M.prototype.minimizeSlide=function(){var e=this.el(),t=this.player().el().getElementsByClassName("vjs-tech")[0],r=this.player().el().getElementsByClassName("vjs-poster")[0];e.classList.add("mashup-window-content"),e.style.opacity=.5,t.classList.remove("mashup-window-content"),r.classList.remove("mashup-window-content")},M.prototype.updateSlide=function(){var e,t=Math.round(this.player().scrubbing?this.player().getCache().currentTime:this.player().currentTime());for(e=0;e<this.slides.length&&!(t<this.slides[e].time);e++);var r=Math.max(0,e-1);r!==this.slideNumber_&&(this.slideNumber_=r,this.imageEl.setAttribute("src",this.slides[this.slideNumber_].url),this.minimizeVideo())},E.a.registerComponent("SlideWindow",M),E.a.plugin("mashup",function(t){var o=this;t=E.a.mergeOptions(z,t),o.ready(function(){var r,e;!function(e,t){for(var r,o,n,i=e.controlBar.progressControl.seekBar.el(),s=N.prototype.createEl("div",{className:"vjs-intervals"}),a=100,l=0;l<t.slides.length;l++)a-=r=l===t.slides.length-1?a:Math.floor((t.slides[l+1].time-t.slides[l].time)/t.length*100),(o=N.prototype.createEl("div",{className:"vjs-interval"})).style.width="".concat(r,"%"),(n=N.prototype.createEl("div")).appendChild(N.prototype.createEl("img",{src:t.slides[l].url})),o.appendChild(n),s.appendChild(o);i.insertBefore(s,i.lastChild)}(o,t),o.el().appendChild((r=o,(e=N.prototype.createEl("div",{className:"mashup-window-overlay"})).addEventListener("mouseenter",function(){this.classList.add("active-on-hover");for(var e=r.el().getElementsByClassName("mashup-window-content"),t=0;t<e.length;t++)e[t].style.opacity=1}),e.addEventListener("mouseleave",function(){this.classList.remove("active-on-hover");for(var e=r.el().getElementsByClassName("mashup-window-content"),t=0;t<e.length;t++)e[t].style.opacity=.5}),e.addEventListener("click",function(){r.slideWindow.el().classList.contains("mashup-window-content")?r.slideWindow.minimizeVideo():r.slideWindow.minimizeSlide()}),e)),o.slideWindow=new M(o,t),o.slideWindow.minimizeVideo(),o.addChild(o.slideWindow)})});var L=r("./node_modules/jquery/dist/jquery.js-exposed"),F=r.n(L),U=function(e){function n(){return babelHelpers.classCallCheck(this,n),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).apply(this,arguments))}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"createEl",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",t=1<arguments.length?arguments[1]:void 0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=babelHelpers.get(babelHelpers.getPrototypeOf(n.prototype),"createEl",this).call(this,e,t,r);return o.className="vjs-ud-captions-display",o}},{key:"updateDisplay",value:function(){}}]),n}(E.a.getComponent("TextTrackDisplay")),B=function(e){function i(){var e,t;babelHelpers.classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(i)).call.apply(e,[this].concat(o)))).close=u.a,t}return babelHelpers.inherits(i,e),i}(E.a.getComponent("Component")),V={player:function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"userActive",value:function(e){return void 0!==e?((e=!!e)!==this.userActive_&&((this.userActive_=e)?(this.userActivity_=!0,this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.trigger("userinactive"))),this):this.userActive_}}]),t}(E.a.getComponent("Player")),textTrackDisplay:U,errorDisplay:B};var $=E.a.getComponent("SeekBar");function Q(e){var t;!function(o){var n,i=[320,480,768,1200,1/0],s={Infinity:"large-screen",1200:"medium-screen",768:"tablet",480:"mobile-landscape",320:"mobile-portrait"};function e(){for(var e=o.el().offsetWidth,t="max",r=0;r<i.length;r++)if(e<=i[r]){t=i[r];break}t!==n&&(s[t]&&o.el().classList.add(s[t]),s[n]&&o.el().classList.remove(s[n]),n=t)}o.ready(e),window.addEventListener("resize",e),o.on("dispose",function(){window.removeEventListener("resize",e)})}(e),e.controlBar.el().classList.add("player-controls"),(t=e).tech_&&(t.tech_.el().addEventListener("mousedown",function(){t._playbackElementClicked=!0}),t.controlBar.el().addEventListener("mousedown",function(){t._playbackElementClicked=!1}))}Object.entries(V).forEach(function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],o=t[1];return E.a.registerComponent(r,o)}),$.prototype.originalHandleMouseMove=$.prototype.handleMouseMove,$.prototype.handleMouseMove=function(e){var t=F()(this.player_.el());if(!this.scrubberContainer||!this.scrubber)return this.scrubberContainer=t.find(".vjs-slider.vjs-slider-horizontal"),this.scrubber=t.find(".vjs-play-progress.vjs-slider-bar"),this.originalHandleMouseMove(e);var r=this.scrubberContainer.width()||0,o=e.clientX-this.scrubberContainer.offset().left;if(0<o&&o<=r){var n=Math.round(o/r*100);this.scrubber.css({width:"".concat(n,"%")})}this.originalHandleMouseMove(e)};E.a.plugin("udemypatches",function(){var e=this;!function(t){t._originalPlaybackRateMethod=t.playbackRate,t._playbackRate=t.playbackRate();var e=E.a.getComponent("PlaybackRateMenuButton");t.playbackRates=function(){return this.options_.playbackRates},t.playbackRateSupported=e.prototype.playbackRateSupported.bind(t),t.playbackRate=function(e){return void 0!==e&&(this._playbackRate=e),t.playbackRateSupported()?this._originalPlaybackRateMethod(e):this._playbackRate},t.on("play",function(){this.playbackRate(this._playbackRate)})}(e),e.on("seeking",function(){"Flash"===this.techName_&&this.ended()&&this.tech_.trigger("seeked")}),function(e){for(var t=E.a.browser.IS_SAFARI&&!E.a.browser.IS_IOS,r=E.a.browser.IS_CHROME&&E.a.browser.IS_ANDROID,o=E.a.browser.IS_EDGE||E.a.browser.IE_VERSION||t||r,n=e.options_.sources,i=n.length;0<i;)"application/x-mpegURL"===n[--i].type&&o&&n.splice(i,1)}(e),function(e){if(E.a.browser.IS_IOS){var t=e.el().querySelector("video");e.on("ended",function(){t.webkitDisplayingFullscreen&&t.webkitExitFullscreen()})}}(e),e.ready(function(){Q(e)})});var W=function(){function e(){babelHelpers.classCallCheck(this,e),this.highest=0,this.lastTotal=0}return babelHelpers.createClass(e,[{key:"add",value:function(e,t){var r=(e-this.lastTotal)/t;r>this.highest&&(this.highest=r),this.lastTotal=e}}]),e}();E.a.plugin("bandwidthWatermark",function(){var o=Date.now(),n=this,i={bytesSecHighestHLSBandwidth:new W,bytesSecHighestDecoder:new W,millisSecHighestBandwidth:new W};n.setInterval(function(){var e=Date.now(),t=(e-o)/1e3;o=e,i.bytesSecHighestDecoder.add(function(){if(n.tech_){var e=n.tech_.el();return e.webkitAudioDecodedByteCount+e.webkitVideoDecodedByteCount}}(),t);var r=n.duration();r&&i.millisSecHighestBandwidth.add(n.bufferedPercent()*r*1e3,t),n.tech_&&n.tech_.hls&&i.bytesSecHighestHLSBandwidth.add(n.tech_.hls.bytesReceived,t),n.trigger("onbandwidthwatermarkupdate",{bandwidthWatermarks:i})},1e3)});var G=r("./src/udemy/js/video-player/decorate-stats.js");E.a.plugin("eventTracking",function(r,o){var n=this,e=!1;n.hotkeyPressed=function(){e=!0},n.resetHotkeyPressed=function(){e=!1},n.isHotkeyPressed=function(){return e};var i={};function t(e){s({type:e.type,data:e.interval})}function s(e,t){Object(G.a)(n,o,r,i,e,t),r.onVideoTracking(e),n.resetHotkeyPressed()}n.on("onbandwidthwatermarkupdate",function(e,t){i=t.bandwidthWatermarks}),n.ready(function(){s({type:"viewed",mode:this.techName_})}),n.on("customerror",function(){s({type:"error"})}),n.on("userinactive",function(){s({type:"userinactive"})}),n.on("fullscreenchange",function(){s({type:"fullscreenchange",isFullscreen:n.isFullscreen()})}),n.on("play",function(){s({type:"play"},!0)}),n.on("pause",function(){s({type:"pause"})}),n.on("changeRes",function(){s({type:"qualityChange",quality:n.resolution})}),n.on("firstplaybackratechange",function(e){s({type:"playbackrate",speed:e.speed})}),n.on("ratechange",function(){s({type:"playbackrate",speed:n.playbackRate()})}),n.on("seeked",function(){s({type:"seek"},!0)}),n.on("volumechange",function(){s({type:"volume"})}),n.on("seekforward",t),n.on("seekrewind",t)});var Y=r("./node_modules/js-cookie/src/js.cookie.js"),K=r.n(Y);function X(e){var t="general";return e&&(t=e),"quality_".concat(t)}E.a.plugin("persistUserSetting",function(e){var o=this;function n(){t(X(e.courseId),o.resolution)}function i(){t("playbackspeed",o.playbackRate())}function s(){t("volume",Math.round(100*o.volume())/100),t("mute",o.muted()?"1":"0")}function t(e,t){K.a.set(e,t,{expires:30,path:"/"})}o.ready(function(){var e,t,r;0<=(e=Number(K.a.get("volume")||"0.5"))&&e<=1&&o.techName_&&o.volume(e),Number(K.a.get("mute")||"0")&&o.muted(!0),"Html5"===o.techName_&&(t=o.playbackRate(),r=Number(K.a.get("playbackspeed")),-1===(o.options().playbackRates||[]).indexOf(r)&&(r=t),o.one("canplaythrough",function(){o.playbackRate(r),o.trigger("ratechange")})),o.on("changeRes",n),o.on("ratechange",i),o.on("volumechange",s)})}),E.a.plugin("hls",x.a),E.a.plugin("sneakpeek",T.a);r("./src/udemy/js/video-player/control-bar/menu.less");var J,Z,ee,te,re,oe,ne,ie,se,ae,le,ce,ue,pe,de,he,me,be,ye,fe,ge,ve,we,ke,Ce,_e,Se,je,Ee,De,xe,Oe,Te,Pe,He,Ae,Ie,Re,qe,Ne,ze,Me,Le,Fe,Ue=r("./node_modules/store/dist/store.legacy.js"),Be=r.n(Ue),Ve=r("./src/udemy/js/utils/mobile.js"),$e=r("./src/udemy/js/utils/ud-coursevideotracker.js"),Qe=r("./src/udemy/js/video-player/constants.js"),We=r("./src/udemy/js/video-player/captions/constants.js"),Ge=(J=function(){function i(e,t,r,o){var n=this;babelHelpers.classCallCheck(this,i),babelHelpers.initializerDefineProperty(this,"activeFontSize",Z,this),babelHelpers.initializerDefineProperty(this,"activeOpacity",ee,this),babelHelpers.initializerDefineProperty(this,"isWellEnabled",te,this),babelHelpers.initializerDefineProperty(this,"menuPage",re,this),babelHelpers.initializerDefineProperty(this,"cuePosition",oe,this),this.controlBarStore=e,this.captionsStore=t,this.player=r,this.hasMTCaptions=o,this.userHasFontSizePreference=!1,this.userHasOpacityPreference=!1,this.userHasWellPreference=!1,this.isMobileBrowser=Ve.c,this.loadUserPreferences(),this.player.on("timeupdate",this.calculateCuePosition),Object(p.reaction)(function(){return[n.activeFontSize,n.activeOpacity,n.isWellEnabled]},this.updateUserPreferences)}return babelHelpers.createClass(i,[{key:"toggleMenu",value:function(e){e?this.controlBarStore.setMenuOpen(Qe.a.CAPTIONS):(this.setSubmenu(We.i.TRACKS),this.controlBarStore.setMenuClosed())}},{key:"setSubmenu",value:function(e){this.menuPage=e}},{key:"selectFontSize",value:function(e){this.userHasFontSizePreference=!0,this.activeFontSize=e,Object($e.a)().onVideoTracking({type:"captionssettingchange",setting:"fontsize",value:e})}},{key:"selectTrackOpacity",value:function(e){this.userHasOpacityPreference=!0,this.activeOpacity=e,Object($e.a)().onVideoTracking({type:"captionssettingchange",setting:"opacity",value:e})}},{key:"toggleWellEnabled",value:function(){this.userHasWellPreference=!0,this.isWellEnabled=!this.isWellEnabled,Object($e.a)().onVideoTracking({type:"captionssettingchange",setting:"well",value:this.isWellEnabled})}},{key:"updateUserPreferences",value:function(){if(this.userHasFontSizePreference||this.userHasOpacityPreference||this.userHasWellPreference){var e={};this.userHasFontSizePreference&&(e.fontSize=this.activeFontSize),this.userHasOpacityPreference&&(e.opacity=this.activeOpacity),this.userHasWellPreference&&(e.isWellEnabled=this.isWellEnabled),Be.a.set(We.l,e)}else Be.a.remove(We.l)}},{key:"loadUserPreferences",value:function(){var e=Be.a.get(We.l);e&&(void 0!==e.fontSize&&(this.activeFontSize=e.fontSize,this.userHasFontSizePreference=!0),void 0!==e.opacity&&(this.activeOpacity=e.opacity,this.userHasOpacityPreference=!0),void 0!==e.isWellEnabled&&(this.isWellEnabled=e.isWellEnabled,this.userHasWellPreference=!0))}},{key:"reset",value:function(){this.userHasFontSizePreference=!1,this.userHasOpacityPreference=!1,this.userHasWellPreference=!1,this.activeFontSize=We.e,this.activeOpacity=We.f,this.isWellEnabled=We.g}},{key:"calculateCuePosition",value:function(){if(this.activeCue){var e=this.activeCue.endTime-this.activeCue.startTime;this.cuePosition=(this.player.currentTime()-this.activeCue.startTime)/e}else this.cuePosition=0}},{key:"isMenuOpen",get:function(){return this.controlBarStore.activeMenu===Qe.a.CAPTIONS}},{key:"activeTrack",get:function(){return this.captionsStore.activeTracks.length?this.captionsStore.activeTracks[0]:null}},{key:"activeCue",get:function(){return this.activeTrack&&this.activeTrack.activeCues.length?this.activeTrack.activeCues[0]:null}},{key:"activeCueText",get:function(){return this.activeCue?this.activeCue.displayText:""}},{key:"captionStyle",get:function(){var e,t=this.player.el().offsetHeight;e=t?t<1e3?Math.max(8*t/300,We.a.FONT_SIZE_MIN):Math.max(6*t/300,27):We.a.FONT_SIZE_DEFAULT;var r=this.activeFontSize/100*e;return{fontSize:"".concat(r,"px"),opacity:this.activeOpacity/100}}},{key:"shouldDisplayWell",get:function(){return this.isWellEnabled&&this.activeTrack&&!this.isMobileBrowser}}]),i}(),Z=babelHelpers.applyDecoratedDescriptor(J.prototype,"activeFontSize",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return We.e}}),ee=babelHelpers.applyDecoratedDescriptor(J.prototype,"activeOpacity",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return We.f}}),te=babelHelpers.applyDecoratedDescriptor(J.prototype,"isWellEnabled",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return We.g}}),re=babelHelpers.applyDecoratedDescriptor(J.prototype,"menuPage",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return We.i.TRACKS}}),oe=babelHelpers.applyDecoratedDescriptor(J.prototype,"cuePosition",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),babelHelpers.applyDecoratedDescriptor(J.prototype,"toggleMenu",[n.a],Object.getOwnPropertyDescriptor(J.prototype,"toggleMenu"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"isMenuOpen",[p.computed],Object.getOwnPropertyDescriptor(J.prototype,"isMenuOpen"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"setSubmenu",[p.action],Object.getOwnPropertyDescriptor(J.prototype,"setSubmenu"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"selectFontSize",[p.action],Object.getOwnPropertyDescriptor(J.prototype,"selectFontSize"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"selectTrackOpacity",[p.action],Object.getOwnPropertyDescriptor(J.prototype,"selectTrackOpacity"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"toggleWellEnabled",[n.a,p.action],Object.getOwnPropertyDescriptor(J.prototype,"toggleWellEnabled"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"updateUserPreferences",[n.a],Object.getOwnPropertyDescriptor(J.prototype,"updateUserPreferences"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"loadUserPreferences",[p.action],Object.getOwnPropertyDescriptor(J.prototype,"loadUserPreferences"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"reset",[n.a,p.action],Object.getOwnPropertyDescriptor(J.prototype,"reset"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"calculateCuePosition",[n.a,p.action],Object.getOwnPropertyDescriptor(J.prototype,"calculateCuePosition"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"activeTrack",[p.computed],Object.getOwnPropertyDescriptor(J.prototype,"activeTrack"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"activeCue",[p.computed],Object.getOwnPropertyDescriptor(J.prototype,"activeCue"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"activeCueText",[p.computed],Object.getOwnPropertyDescriptor(J.prototype,"activeCueText"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"captionStyle",[p.computed],Object.getOwnPropertyDescriptor(J.prototype,"captionStyle"),J.prototype),babelHelpers.applyDecoratedDescriptor(J.prototype,"shouldDisplayWell",[p.computed],Object.getOwnPropertyDescriptor(J.prototype,"shouldDisplayWell"),J.prototype),J),Ye=r("./node_modules/react-overlays/lib/Portal.js"),Ke=r.n(Ye),Xe=r("./src/udemy/js/base-components/dropdown.react-component.js"),Je=r("./src/udemy/js/video-player/control-bar/control-bar-button.react-component.js"),Ze=r("./src/udemy/js/base-components/form/checkbox.react-component.js"),et=r("./src/udemy/js/video-player/control-bar/menu-item.react-component.js"),tt=Object(d.d)((ae=se=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).isMobileBrowser=Ve.c,t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"goToTracks",value:function(){this.props.captionDisplayStore.setSubmenu(We.i.TRACKS)}},{key:"goToFontSize",value:function(){this.props.captionDisplayStore.setSubmenu(We.i.FONT_SIZE)}},{key:"goToOpacity",value:function(){this.props.captionDisplayStore.setSubmenu(We.i.OPACITY)}},{key:"render",value:function(){var e=this.props,t=e.captionDisplayStore,r=babelHelpers.objectWithoutProperties(e,["captionDisplayStore"]);return g.a.createElement(Xe.default.Menu,Object.assign({className:"menu--menu--2Pw42 menu--captions-menu--beS8H"},r),g.a.createElement(et.a,{onClick:this.goToTracks,"data-purpose":"go-to-tracks",className:"menu--submenu--left--jd901"},gettext("Caption Settings")),g.a.createElement(et.a,{divider:!0}),g.a.createElement(et.a,{onClick:this.goToFontSize,"data-purpose":"go-to-font-size",className:"menu--submenu--right--r72AF"},g.a.createElement("span",null,gettext("Font Size")),g.a.createElement("span",{"data-purpose":"current-font-size",className:"menu--current-value--2R8Lp"},"".concat(t.activeFontSize,"%"))),g.a.createElement(et.a,{onClick:this.goToOpacity,"data-purpose":"go-to-opacity",className:"menu--submenu--right--r72AF"},g.a.createElement("span",null,gettext("Background Opacity")),g.a.createElement("span",{"data-purpose":"current-opacity",className:"menu--current-value--2R8Lp"},"".concat(t.activeOpacity,"%"))),this.wellSetting,g.a.createElement(et.a,{onClick:t.reset,"data-purpose":"reset"},gettext("Reset")))}},{key:"wellSetting",get:function(){return this.isMobileBrowser?null:g.a.createElement(et.a,{unclickable:!0},g.a.createElement(Ze.a,{inline:!0,slide:!0,checked:this.props.captionDisplayStore.isWellEnabled,onChange:this.props.captionDisplayStore.toggleWellEnabled,className:"menu--well-setting--2lWNm"},gettext("Display under video")))}}]),r}(g.a.Component),se.propTypes=babelHelpers.objectSpread({captionDisplayStore:m.a.object.isRequired},Xe.default.Menu.propTypes),se.defaultProps=Xe.default.Menu.defaultProps,ie=ae,babelHelpers.applyDecoratedDescriptor(ie.prototype,"goToTracks",[n.a],Object.getOwnPropertyDescriptor(ie.prototype,"goToTracks"),ie.prototype),babelHelpers.applyDecoratedDescriptor(ie.prototype,"goToFontSize",[n.a],Object.getOwnPropertyDescriptor(ie.prototype,"goToFontSize"),ie.prototype),babelHelpers.applyDecoratedDescriptor(ie.prototype,"goToOpacity",[n.a],Object.getOwnPropertyDescriptor(ie.prototype,"goToOpacity"),ie.prototype),ne=ie))||ne,rt=Object(d.c)("captionDisplayStore")((pe=ue=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClick",value:function(){this.props.captionDisplayStore.selectFontSize(this.props.size)}},{key:"render",value:function(){var e=this.props,t=e.size,r=(e.captionDisplayStore,babelHelpers.objectWithoutProperties(e,["size","captionDisplayStore"]));return g.a.createElement(et.a,Object.assign({},r,{onClick:this.onClick,className:"menu--menu--2Pw42 menu--item--2IgLt"}),"".concat(t,"%"))}}]),t}(g.a.Component),ue.propTypes={captionDisplayStore:m.a.object.isRequired,size:m.a.number.isRequired},ce=pe,babelHelpers.applyDecoratedDescriptor(ce.prototype,"onClick",[n.a],Object.getOwnPropertyDescriptor(ce.prototype,"onClick"),ce.prototype),le=ce))||le,ot=Object(d.d)((be=me=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"goToSettings",value:function(){this.props.captionDisplayStore.setSubmenu(We.i.SETTINGS)}},{key:"render",value:function(){var e=this.props,t=(e.captionDisplayStore,babelHelpers.objectWithoutProperties(e,["captionDisplayStore"]));return g.a.createElement(Xe.default.Menu,Object.assign({className:"menu--menu--2Pw42 menu--captions-menu--beS8H"},t),g.a.createElement(et.a,{onClick:this.goToSettings,"data-purpose":"go-to-settings",className:"menu--submenu--left--jd901"},gettext("Font Size")),g.a.createElement(et.a,{divider:!0}),this.fontSizeItems)}},{key:"fontSizeItems",get:function(){var t=this;return We.h.map(function(e){return g.a.createElement(rt,{key:e,size:e,active:t.props.captionDisplayStore.activeFontSize===e})})}}]),t}(g.a.Component),me.propTypes=babelHelpers.objectSpread({captionDisplayStore:m.a.object.isRequired},Xe.default.Menu.propTypes),me.defaultProps=Xe.default.Menu.defaultProps,he=be,babelHelpers.applyDecoratedDescriptor(he.prototype,"goToSettings",[n.a],Object.getOwnPropertyDescriptor(he.prototype,"goToSettings"),he.prototype),de=he))||de,nt=Object(d.c)("captionDisplayStore")((ve=ge=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClick",value:function(){this.props.captionDisplayStore.selectTrackOpacity(this.props.opacity)}},{key:"render",value:function(){var e=this.props,t=e.opacity,r=(e.captionDisplayStore,babelHelpers.objectWithoutProperties(e,["opacity","captionDisplayStore"]));return g.a.createElement(et.a,Object.assign({},r,{onClick:this.onClick,className:"menu--menu--2Pw42 menu--item--2IgLt"}),"".concat(t,"%"))}}]),t}(g.a.Component),ge.propTypes={captionDisplayStore:m.a.object.isRequired,opacity:m.a.number.isRequired},fe=ve,babelHelpers.applyDecoratedDescriptor(fe.prototype,"onClick",[n.a],Object.getOwnPropertyDescriptor(fe.prototype,"onClick"),fe.prototype),ye=fe))||ye,it=Object(d.d)((_e=Ce=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"goToSettings",value:function(){this.props.captionDisplayStore.setSubmenu(We.i.SETTINGS)}},{key:"render",value:function(){var e=this.props,t=(e.captionDisplayStore,babelHelpers.objectWithoutProperties(e,["captionDisplayStore"]));return g.a.createElement(Xe.default.Menu,Object.assign({className:"menu--menu--2Pw42 menu--captions-menu--beS8H"},t),g.a.createElement(et.a,{onClick:this.goToSettings,"data-purpose":"go-to-settings",className:"menu--submenu--left--jd901"},gettext("Background Opacity")),g.a.createElement(et.a,{divider:!0}),this.opacityItems)}},{key:"opacityItems",get:function(){var t=this;return We.k.map(function(e){return g.a.createElement(nt,{key:e,opacity:e,active:t.props.captionDisplayStore.activeOpacity===e})})}}]),t}(g.a.Component),Ce.propTypes=babelHelpers.objectSpread({captionDisplayStore:m.a.object.isRequired},Xe.default.Menu.propTypes),Ce.defaultProps=Xe.default.Menu.defaultProps,ke=_e,babelHelpers.applyDecoratedDescriptor(ke.prototype,"goToSettings",[n.a],Object.getOwnPropertyDescriptor(ke.prototype,"goToSettings"),ke.prototype),we=ke))||we,st=r("./src/udemy/js/base-components/image.react-component.js"),at=Object(d.c)("captionsStore")((De=Ee=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"onClick",value:function(){this.props.captionsStore.setActiveCaption(this.props.track)}},{key:"render",value:function(){var e=this.props,t=e.track,r=(e.captionsStore,babelHelpers.objectWithoutProperties(e,["track","captionsStore"])),o=t?t.label:gettext("Off");return g.a.createElement(et.a,Object.assign({},r,{onClick:this.onClick,className:"menu--menu--2Pw42 menu--item--2IgLt"}),o)}}]),t}(g.a.Component),Ee.propTypes={captionsStore:m.a.object.isRequired,track:m.a.object},Ee.defaultProps={track:null},je=De,babelHelpers.applyDecoratedDescriptor(je.prototype,"onClick",[n.a],Object.getOwnPropertyDescriptor(je.prototype,"onClick"),je.prototype),Se=je))||Se,lt=Object(d.d)((Pe=Te=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"goToSettings",value:function(){this.props.captionDisplayStore.setSubmenu(We.i.SETTINGS)}},{key:"render",value:function(){var e=this.props,t=e.captionDisplayStore,r=(e.captionsStore,e.extraCaptionMenuItems,babelHelpers.objectWithoutProperties(e,["captionDisplayStore","captionsStore","extraCaptionMenuItems"])),o=t.player.el().offsetHeight;return g.a.createElement(Xe.default.Menu,Object.assign({className:"menu--menu--2Pw42 menu--captions-menu--beS8H",style:{maxHeight:"".concat(.7*o,"px")}},r),g.a.createElement(at,{active:!t.activeTrack}),this.trackItems,this.attribution,g.a.createElement(et.a,{divider:!0}),this.extraCaptionsMenuItems,g.a.createElement(et.a,{className:"menu--submenu--right--r72AF","data-purpose":"go-to-settings",onClick:this.goToSettings},gettext("Caption Settings")))}},{key:"trackItems",get:function(){return this.props.captionsStore.captions.map(function(e){return g.a.createElement(at,{key:e.id,track:e,active:e.mode===We.j.ACTIVE})})}},{key:"attribution",get:function(){return this.props.captionDisplayStore.hasMTCaptions?g.a.createElement(et.a,{href:"http://translate.google.com",target:"blank_","data-purpose":"attribution-link"},g.a.createElement(st.a,{alt:"Translated by Google",width:244,height:32,src:"/staticx/udemy/images/content-l10n/translated-by-google.png"})):null}},{key:"extraCaptionsMenuItems",get:function(){if(0!==this.props.extraCaptionMenuItems.length)return this.props.extraCaptionMenuItems.map(function(e,t){return g.a.createElement(et.a,{key:t,className:"menu--extra-menu-item--2Fx30","data-purpose":"extra-menu-item"}," ",e)})}}]),t}(g.a.Component),Te.propTypes=babelHelpers.objectSpread({},Xe.default.Menu.propTypes,{captionDisplayStore:m.a.object.isRequired,captionsStore:m.a.object.isRequired,extraCaptionMenuItems:m.a.array}),Te.defaultProps=babelHelpers.objectSpread({},Xe.default.Menu.defaultProps,{extraCaptionMenuItems:[]}),Oe=Pe,babelHelpers.applyDecoratedDescriptor(Oe.prototype,"goToSettings",[n.a],Object.getOwnPropertyDescriptor(Oe.prototype,"goToSettings"),Oe.prototype),xe=Oe))||xe,ct=Object(d.c)("captionDisplayStore","captionsStore")(He=Object(d.d)((Ie=Ae=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.captionDisplayStore,r=e.captionsStore;if(!t.player.controlBar||!t.player.controlBar.captionsButton)return null;var o=t.player.controlBar.captionsButton;return r.captions.length?(o.show(),g.a.createElement(d.b,{menuStore:t},g.a.createElement(Ke.a,{container:o.el()},g.a.createElement("div",null,g.a.createElement(Xe.default,{id:"captions-menu",dropup:!0,pullRight:!0,open:t.isMenuOpen,onToggle:t.toggleMenu,className:"menu--dropdown--3Vksr"},g.a.createElement(Je.a,{bsRole:"toggle",tooltip:gettext("Captions"),isMenuOpen:t.isMenuOpen,icon:"closed-caption"}),this.activeMenuPage))))):(o.hide(),null)}},{key:"activeMenuPage",get:function(){var e=this.props,t=e.captionDisplayStore,r=e.captionsStore;switch(this.props.captionDisplayStore.menuPage){case We.i.TRACKS:return g.a.createElement(lt,{captionDisplayStore:t,captionsStore:r,extraCaptionMenuItems:this.props.extraCaptionMenuItems});case We.i.SETTINGS:return g.a.createElement(tt,{captionDisplayStore:t});case We.i.FONT_SIZE:return g.a.createElement(ot,{captionDisplayStore:t});case We.i.OPACITY:return g.a.createElement(it,{captionDisplayStore:t})}}}]),t}(g.a.Component),Ae.propTypes={captionDisplayStore:m.a.object.isRequired,captionsStore:m.a.object.isRequired,extraCaptionMenuItems:m.a.array},Ae.defaultProps={extraCaptionMenuItems:[]},He=Ie))||He)||He,ut=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js"),pt=r.n(ut),dt=(r("./src/udemy/js/video-player/captions/cue-display/captions-display.less"),Object(d.c)("captionDisplayStore")(Re=Object(d.d)((Ne=qe=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return this.props.captionDisplayStore.activeCueText?g.a.createElement("div",{className:"captions-display--vjs-ud-captions-cue-text--3092J","data-purpose":"captions-cue-text",style:this.props.captionDisplayStore.captionStyle},this.props.captionDisplayStore.activeCueText):null}}]),t}(g.a.Component),qe.propTypes={captionDisplayStore:m.a.object.isRequired},Re=Ne))||Re)||Re),ht=r("./src/udemy/js/video-player/captions/cue-display/well.less"),mt=r.n(ht);function bt(e,t){var r,o=e[0].toUpperCase()+e.slice(1);return r={},babelHelpers.defineProperty(r,"Webkit".concat(o),t),babelHelpers.defineProperty(r,"Moz".concat(o),t),babelHelpers.defineProperty(r,"ms".concat(o),t),babelHelpers.defineProperty(r,"O".concat(o),t),babelHelpers.defineProperty(r,e,t),r}var yt,ft,gt,vt,wt,kt,Ct,_t,St=Object(d.c)("captionDisplayStore")(ze=Object(d.d)((Fe=Le=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).disposers=[],t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"componentDidMount",value:function(){var e=this;this.disposers.push(Object(p.observe)(this.props.captionDisplayStore,"cuePosition",function(){e.textRef.classList.add(mt.a["transition-active"])}),Object(p.observe)(this.props.captionDisplayStore,"activeCueText",function(){e.textRef.classList.remove(mt.a["transition-active"]),e.reset=!0}))}},{key:"componentWillUnmount",value:function(){this.disposers.forEach(function(e){return e()})}},{key:"addContainerRef",value:function(e){this.containerRef=e}},{key:"addTextRef",value:function(e){this.textRef=e}},{key:"render",value:function(){var e=this.props.captionDisplayStore,t=this.containerRef&&this.textRef?this.textRef.offsetHeight-this.containerRef.offsetHeight:0,r=bt("transform","translateY(-".concat(t*this.props.captionDisplayStore.cuePosition,"px)")),o=bt("transform","none"),n=t&&!this.reset;return this.reset=!1,g.a.createElement("div",{className:"well--container--2edq4",style:{fontSize:e.captionStyle.fontSize},ref:this.addContainerRef},g.a.createElement("span",{className:"well--text--2H_p0 well--transition-active--35hDP",style:n?r:o,ref:this.addTextRef},e.activeCueText))}}]),r}(g.a.Component),Le.propTypes={captionDisplayStore:m.a.object.isRequired},Me=Fe,babelHelpers.applyDecoratedDescriptor(Me.prototype,"addContainerRef",[n.a],Object.getOwnPropertyDescriptor(Me.prototype,"addContainerRef"),Me.prototype),babelHelpers.applyDecoratedDescriptor(Me.prototype,"addTextRef",[n.a],Object.getOwnPropertyDescriptor(Me.prototype,"addTextRef"),Me.prototype),ze=Me))||ze)||ze,jt={"./captions-display.less":{"vjs-ud-captions-container":"captions-display--vjs-ud-captions-container--11J17","user-inactive":"captions-display--user-inactive--2QVjh",transition:"captions-display--transition--2q8uC","add-prefix":"captions-display--add-prefix--2U9yc","vjs-ud-captions-cue-text":"captions-display--vjs-ud-captions-cue-text--3092J"}},Et=Object(d.c)("captionDisplayStore","userActivityStore")(yt=Object(d.d)((gt=ft=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){if(this.props.captionDisplayStore.shouldDisplayWell)return g.a.createElement(St,null);var e=s()("vjs-ud-captions-container",{"user-inactive":this.props.userActivityStore&&!this.props.userActivityStore.isUserActive});return g.a.createElement(Ke.a,{container:this.props.captionDisplayStore.player.textTrackDisplay.el()},g.a.createElement("div",null,g.a.createElement("div",{className:pt()(e,jt)},g.a.createElement(dt,null))))}}]),t}(g.a.Component),ft.propTypes={captionDisplayStore:m.a.object.isRequired,userActivityStore:m.a.object},ft.defaultProps={userActivityStore:null},yt=gt))||yt)||yt,Dt=Object(d.c)("controlBarStore","captionsStore")(vt=Object(d.d)((kt=wt=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).store=new Ge(e.controlBarStore,e.captionsStore,e.player,e.hasMTCaptions),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(){return g.a.createElement(d.b,{captionDisplayStore:this.store},g.a.createElement("div",null,g.a.createElement(ct,{extraCaptionMenuItems:this.props.extraCaptionMenuItems}),g.a.createElement(Et,null)))}}]),r}(g.a.Component),wt.propTypes={player:m.a.object.isRequired,hasMTCaptions:m.a.bool,controlBarStore:m.a.object.isRequired,captionsStore:m.a.object.isRequired,extraCaptionMenuItems:m.a.array},wt.defaultProps={hasMTCaptions:!1,extraCaptionMenuItems:[]},vt=kt))||vt)||vt,xt=r("./src/udemy/js/video-player/captions/captions.mobx-store.js"),Ot=(Ct=function(){function e(){babelHelpers.classCallCheck(this,e),babelHelpers.initializerDefineProperty(this,"activeMenu",_t,this)}return babelHelpers.createClass(e,[{key:"setMenuOpen",value:function(e){this.activeMenu=e}},{key:"setMenuClosed",value:function(){this.activeMenu=Qe.a.NONE}},{key:"setupMenuHandlers",value:function(e){var t=[".vjs-playback-rate"],r=this;F()(e.controlBar.el()).on("mousedown",".vjs-menu-button",function(){r.setMenuClosed(),F()(document).off(".videoplayer-menu");var e=F()(this);e.hasClass("popup-active")?e.removeClass("popup-active"):(F()(".popup-active").removeClass("popup-active"),e.is(t.join(","))&&(e.addClass("popup-active"),F()(document).on("click.videoplayer-menu",function(e){0===F()(e.target).closest(".vjs-menu-button").length&&F()(".popup-active").removeClass("popup-active")})))}).on("mouseover",[".vjs-volume-menu-button"].join(","),function(){F()(".popup-active",e.controlBar.el()).removeClass("popup-active"),r.setMenuClosed()})}}]),e}(),_t=babelHelpers.applyDecoratedDescriptor(Ct.prototype,"activeMenu",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qe.a.NONE}}),babelHelpers.applyDecoratedDescriptor(Ct.prototype,"setMenuOpen",[p.action],Object.getOwnPropertyDescriptor(Ct.prototype,"setMenuOpen"),Ct.prototype),babelHelpers.applyDecoratedDescriptor(Ct.prototype,"setMenuClosed",[p.action],Object.getOwnPropertyDescriptor(Ct.prototype,"setMenuClosed"),Ct.prototype),Ct),Tt=r("./node_modules/react-dom/index.js"),Pt=r.n(Tt),Ht=(r("./src/udemy/js/video-player/control-bar/forward-skip-button.less"),function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.player,r=babelHelpers.objectWithoutProperties(e,["player"]),o=t.controlBar.forwardSkipButton;return Pt.a.createPortal(g.a.createElement(Je.a,Object.assign({icon:"exp-skip-forward",tooltip:interpolate(gettext("Forward %(seconds)ss"),{seconds:Qe.e},!0),className:"forward-skip-button--forward-button--2I186"},r)),o.el())}}]),t}(g.a.Component));Ht.propTypes={player:m.a.object.isRequired};var At=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.player,r=e.isFullscreen,o=babelHelpers.objectWithoutProperties(e,["player","isFullscreen"]);if(!t.controlBar||!t.controlBar.fullscreenToggle)return null;var n=t.controlBar.fullscreenToggle;return Pt.a.createPortal(g.a.createElement(Je.a,Object.assign({icon:r?"collapse":"expand",tooltip:gettext("Fullscreen")},o)),n.el())}}]),t}(g.a.Component);At.propTypes={player:m.a.object.isRequired,isFullscreen:m.a.bool.isRequired};r("./src/udemy/js/video-player/control-bar/rewind-skip-button.less");var It=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){var e=this.props,t=e.player,r=babelHelpers.objectWithoutProperties(e,["player"]),o=t.controlBar.rewindSkipButton;return Pt.a.createPortal(g.a.createElement(Je.a,Object.assign({icon:"exp-skip-back",tooltip:interpolate(gettext("Rewind %(seconds)ss"),{seconds:Qe.e},!0),className:"rewind-skip-button--rewind-button--2HGPk"},r)),o.el())}}]),t}(g.a.Component);It.propTypes={player:m.a.object.isRequired};var Rt=r("./src/udemy/js/video-player/error-display.react-component.js"),qt=r("./src/udemy/js/utils/a11y.js"),Nt=(r("./src/udemy/js/video-player/placeholder/placeholder.less"),function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return this.props.show?g.a.createElement("div",{className:"play-button play-button--initially-visible","data-purpose":"video-play-button-initial"},g.a.createElement("span",{className:"sr-only"},gettext("Play video"))):null}}]),t}(f.Component));Nt.propTypes={show:m.a.bool},Nt.defaultProps={show:!1};var zt=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return this.props.show?g.a.createElement("span",{className:"vjs-loading-spinner"}):null}}]),t}(f.Component);zt.propTypes={show:m.a.bool},zt.defaultProps={show:!1};r("./src/udemy/js/video-player/placeholder/thumbnail.less");var Mt=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return this.props.poster?g.a.createElement("div",{className:s()("placeholder__thumbnail-container",{"placeholder__thumbnail-container--overlay-enabled":this.props.tint})},g.a.createElement(st.a,{className:"thumbnail--thumbnail--1GwZw",src:this.props.poster,alt:gettext("Video Thumbnail"),width:1280,height:720})):null}}]),t}(f.Component);Mt.propTypes={poster:m.a.string,tint:m.a.bool},Mt.defaultProps={poster:void 0,tint:void 0};var Lt,Ft,Ut,Bt=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"render",value:function(){return this.props.show?g.a.createElement("div",{className:"asset-container__placeholder play-button-trigger",onKeyDown:Object(qt.b)(this.props.onClick),tabIndex:"0",role:"button",onClick:this.props.onClick},g.a.createElement("div",{className:(s()(Qe.f,Qe.g,Qe.h)?s()(Qe.f,Qe.g,Qe.h)+" ":"")+"placeholder--placeholder--yjY45"},g.a.createElement(zt,{show:this.props.withSpinner}),g.a.createElement(Mt,{poster:this.props.poster,tint:this.props.withTint}),g.a.createElement(Nt,{show:this.props.withPlayButton}))):null}}]),t}(f.Component);Bt.propTypes={show:m.a.bool,withSpinner:m.a.bool,withPlayButton:m.a.bool,withTint:m.a.bool,poster:m.a.string,onClick:m.a.func.isRequired},Bt.defaultProps={show:void 0,withSpinner:void 0,withPlayButton:void 0,withTint:void 0,poster:void 0};var Vt,$t,Qt,Wt,Gt,Yt,Kt,Xt,Jt,Zt,er,tr,rr,or,nr,ir,sr,ar,lr=(Ut=Ft=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"chooseResolution",value:function(){this.props.store.setResolution(this.props.resolution)}},{key:"render",value:function(){var e=this.props,t=(e.resolution,e.store,babelHelpers.objectWithoutProperties(e,["resolution","store"]));return g.a.createElement(et.a,Object.assign({onClick:this.chooseResolution},t),this.props.children)}}]),t}(g.a.Component),Ft.propTypes={resolution:m.a.object.isRequired,store:m.a.object.isRequired},Lt=Ut,babelHelpers.applyDecoratedDescriptor(Lt.prototype,"chooseResolution",[n.a],Object.getOwnPropertyDescriptor(Lt.prototype,"chooseResolution"),Lt.prototype),Lt),cr=(Vt=function(){function t(e){babelHelpers.classCallCheck(this,t),this.controlBarStore=e}return babelHelpers.createClass(t,[{key:"toggleMenu",value:function(e){e?this.openMenu():this.closeMenu()}},{key:"openMenu",value:function(){this.controlBarStore.setMenuOpen(Qe.a.SETTINGS)}},{key:"closeMenu",value:function(){this.controlBarStore.setMenuClosed()}},{key:"isMenuOpen",get:function(){return this.controlBarStore.activeMenu===Qe.a.SETTINGS}}]),t}(),babelHelpers.applyDecoratedDescriptor(Vt.prototype,"toggleMenu",[n.a],Object.getOwnPropertyDescriptor(Vt.prototype,"toggleMenu"),Vt.prototype),babelHelpers.applyDecoratedDescriptor(Vt.prototype,"openMenu",[n.a],Object.getOwnPropertyDescriptor(Vt.prototype,"openMenu"),Vt.prototype),babelHelpers.applyDecoratedDescriptor(Vt.prototype,"closeMenu",[n.a],Object.getOwnPropertyDescriptor(Vt.prototype,"closeMenu"),Vt.prototype),babelHelpers.applyDecoratedDescriptor(Vt.prototype,"isMenuOpen",[p.computed],Object.getOwnPropertyDescriptor(Vt.prototype,"isMenuOpen"),Vt.prototype),Vt),ur=Object(d.d)((Wt=Qt=function(e){function r(e){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this,e))).store=new cr(t.props.controlBarStore),t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"render",value:function(){var e=this.props,t=e.player,i=e.videoPlayerStore;if(!t.controlBar||!t.controlBar.settingsButton)return null;var r=t.controlBar.settingsButton;r.show();var o=i.availableResolutions,s=i.hlsResolution;return g.a.createElement(d.b,{menuStore:this.store},g.a.createElement(Ke.a,{container:r.el()},g.a.createElement("div",null,g.a.createElement(Xe.default,{dropup:!0,pullRight:!0,open:this.store.isMenuOpen,onToggle:this.store.toggleMenu,className:"menu--dropdown--3Vksr","data-purpose":"settings-menu",id:"settings-menu"},g.a.createElement(Je.a,{bsRole:"toggle",isMenuOpen:this.store.isMenuOpen,tooltip:gettext("Settings"),icon:"settings","data-purpose":"settings-button"}),g.a.createElement(Xe.default.Menu,{className:"menu--menu--2Pw42 menu--settings-menu--26z60"},o.map(function(e){var t=e.displayLabel,r=e.isHls,o=e.label,n=i.resolution.label===e.label;return r&&n&&s&&(t="Auto (".concat(s,"p)")),g.a.createElement(lr,{key:o,resolution:e,active:n,store:i},gettext(t))}),this.extraSettings)))))}},{key:"extraSettings",get:function(){return g.a.Children.count(this.props.children)?[g.a.createElement(et.a,{key:"divider",divider:!0}),this.props.children]:null}}]),r}(g.a.Component),Qt.propTypes={controlBarStore:m.a.object.isRequired,player:m.a.object.isRequired,videoPlayerStore:m.a.object.isRequired},Qt.defaultProps={downloadUrl:null,assetType:null},$t=Wt))||$t,pr=r("./src/udemy/js/video-player/user-activity.less"),dr=r.n(pr),hr=r("./src/udemy/js/video-player/user-activity.mobx-store.js"),mr=r("./src/udemy/js/video-player/video-player.less"),br=r.n(mr),yr=r("./node_modules/axios/index.js"),fr=r.n(yr),gr=r("./src/udemy/js/utils/ud-link.js"),vr=r("./src/udemy/js/video-player/control-bar/control-bar-button-factory.videojs-component.js"),wr=[{component:"playToggle",activeOnHover:!0},{component:"rewindSkipButton",activeOnHover:!0,componentClass:Object(vr.a)("rewind-skip-button")},{component:"disableablePlaybackRateMenuButton",activeOnHover:!0},{component:"forwardSkipButton",activeOnHover:!0,componentClass:Object(vr.a)("forward-skip-button")},{component:"currentTimeDisplay",activeOnHover:!1},{component:"timeDivider",activeOnHover:!1},{component:"durationDisplay",activeOnHover:!1},{component:"progressControl",activeOnHover:!0,options:{seekBar:{mouseTimeDisplay:!1},keepTooltipsInside:!1}},{component:"customControlSpacer",activeOnHover:!1},{component:"volumeMenuButton",activeOnHover:!0,options:{inline:!1,volumeBar:{vertical:!0}}},{component:"captionsButton",activeOnHover:!0,componentClass:Object(vr.a)("captions-menu-button")},{component:"settingsButton",activeOnHover:!0,componentClass:Object(vr.a)("settings-menu-button")},{component:"fullscreenToggle",activeOnHover:!0,componentClass:Object(vr.a)("fullscreen-toggle-button")}],kr=(Gt=function(){function h(e,t,r,o,n){var i=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],s=6<arguments.length?arguments[6]:void 0,a=7<arguments.length?arguments[7]:void 0,l=8<arguments.length?arguments[8]:void 0,c=9<arguments.length?arguments[9]:void 0,u=10<arguments.length?arguments[10]:void 0,p=11<arguments.length?arguments[11]:void 0,d=12<arguments.length?arguments[12]:void 0;babelHelpers.classCallCheck(this,h),this._videoPlayer=null,this.videoElement=void 0,this.playerId=null,this.videoPlayerOptions={},this.courseId=null,this.numErrors=0,this.position=-1,this.lastPosition=-1,this.controlBarControls=[],babelHelpers.initializerDefineProperty(this,"showPlaceholder",Yt,this),babelHelpers.initializerDefineProperty(this,"showPlaceholderLoader",Kt,this),babelHelpers.initializerDefineProperty(this,"showPlaceholderPlayButton",Xt,this),babelHelpers.initializerDefineProperty(this,"isErrorVisible",Jt,this),babelHelpers.initializerDefineProperty(this,"availableResolutions",Zt,this),babelHelpers.initializerDefineProperty(this,"hlsResolution",er,this),babelHelpers.initializerDefineProperty(this,"_chosenResolution",tr,this),this.defaultResolution=void 0,this.bandwidthWatermarks={},this.seekTimer=this._createTimer(),this.waitingTimer=this._createTimer(),this.loadStartTime=null,this.initialStartSent=!1,this.captionsStore=e,this.videoPlayerOptions=t,this.playerId=r,this.getControls=o,this.courseId=n,void 0!==s&&(this.videoPlayerOptions.duration=s),void 0!==a&&(this.videoPlayerOptions.sources=this._formattedSources(a)),this.trackingTag=l,this.assetId=c,this.onVideoProgress=u,this.videoProgressInterval=p,this.onTimeUpdate=d,this.setPlaceholder(i)}return babelHelpers.createClass(h,[{key:"setPlaceholder",value:function(e){this.showPlaceholder=e,this.showPlaceholderLoader=e}},{key:"hidePlaceholder",value:function(){this.showPlaceholder=!1,this.showPlaceholderLoader=!1,this.showPlaceholderPlayButton=!1}},{key:"showPlaceholderWithPlayButton",value:function(){this.showPlaceholder=!0,this.showPlaceholderLoader=!1,this.showPlaceholderPlayButton=!0}},{key:"showError",value:function(){this.isErrorVisible=!0}},{key:"hideError",value:function(){this.isErrorVisible=!1}},{key:"play",value:function(){this._videoPlayer?(this.hidePlaceholder(),this._videoPlayer.play()):this.playAfterInitialising=!0}},{key:"_formattedSources",value:function(e){return e.Video.map(function(e){return e.src=e.file,e})}},{key:"_createPlayer",value:function(e){return E()(this.videoElement,e)}},{key:"initializeVideojs",value:function(e){var r=this;return this.videoElement=e,this._useNativeControlsForMobile(),this._enableNativeTracksForMobile(),E.a.options.flash.swf=gr.a.toJs("node_modules/video.js/dist/video-js.swf"),this.videoPlayerOptions["vtt.js"]=gr.a.toJs("node_modules/videojs-vtt.js/dist/vtt.min.js"),this._videoPlayer=this._createPlayer(this.videoPlayerOptions),this._setupControlBar(),this.playAfterInitialising&&this._videoPlayer.ready(function(){r.play()}),this._setupResolutions(),this._videoPlayer.on("mediachange",this.updatehlsResolution),this._videoPlayer.on("loadedmetadata",this.updatehlsResolution),this._videoPlayer.on("onbandwidthwatermarkupdate",function(e,t){r.bandwidthWatermarks=t.bandwidthWatermarks}),this._videoPlayer.one("play",function(){r.loadStartTime=new Date}),this._videoPlayer.one("playing",this._trackPlaying),this._videoPlayer.on("seeking",this._trackSeeking),this._videoPlayer.on("seeked",this._trackSeeked),this._videoPlayer.on("waiting",this._trackWaiting),this._videoPlayer.on("timeupdate",this._trackTimeupdate),this._videoPlayer}},{key:"_useNativeControlsForMobile",value:function(){this._detectMobile()&&(this.videoPlayerOptions.nativeControlsForTouch=!0)}},{key:"_detectMobile",value:function(){return E.a.browser.IS_ANDROID||E.a.browser.IS_IOS}},{key:"_enableNativeTracksForMobile",value:function(){E.a.getTech("Html5").prototype.featuresNativeTextTracks=this.captionsStore.useNativeTextTracks}},{key:"_setupControlBar",value:function(){var r=this;this.controlBarControls=this.getControls(wr),this.controlBarControls.forEach(function(e){e.componentClass&&E.a.registerComponent(e.component,e.componentClass);var t=e.options||{};t.playerOptions=r._videoPlayer.controlBar.options_.playerOptions,r._videoPlayer.controlBar[e.component]=r._videoPlayer.controlBar.addChild(e.component,t)})}},{key:"handleVideoProgress",value:function(e){var t=this._videoPlayer.currentTime(),r=this._videoPlayer.duration();if(this.position=Math.ceil(t/this.videoProgressInterval),!(this.lastPosition===this.position||this.position<=0)){this.lastPosition=this.position;var o="ended"===e.type?r:Math.min(this.position*this.videoProgressInterval,r);this.onVideoProgress(e,{total:Math.floor(r),position:Math.floor(o)})}}},{key:"handleTimeUpdate",value:function(e){this.onTimeUpdate(e,this._videoPlayer.currentTime())}},{key:"handleVideoError",value:function(){var e=this._videoPlayer.error()||{};if(void 0!==e.code&&e.code!==e.MEDIA_ERR_ABORTED){var t="Html5"===this._videoPlayer.techName_;if(e.code===e.MEDIA_ERR_DECODE&&t)this._retryWithFlash(e);else{e.code===e.MEDIA_ERR_NETWORK&&this.numErrors<5?this._retry(e):e.code===e.MEDIA_ERR_SRC_NOT_SUPPORTED&&this.numErrors<5?this._retry(e):e.code===e.MEDIA_ERR_SRC_NOT_SUPPORTED&&t?this._retryWithFlash(e):(this.showError(),this._logErrorWithHttpStatus(e))}}}},{key:"setResolution",value:function(e){e!==this.resolution&&(this._chosenResolution=e,this._setPlayerResolution(e))}},{key:"_setupResolutions",value:function(){var e,t=this._videoPlayer,r=!1,o=[],n=this.savedResolutionLabel,i=!0,s=!1,a=void 0;try{for(var l,c=t.options_.sources.entries()[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=babelHelpers.slicedToArray(l.value,2),p=u[0],d=u[1];if(d.label){var h=parseInt(d.label,10);Number.isNaN(h)?(r=!0,d.isHls=!0,d.displayLabel=d.label,d.sortOrder=p):(d.isHls=!1,d.displayLabel="".concat(h,"p"),d.sortOrder=-h),d.label===n&&(e=d),o.push(d)}}}catch(e){s=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(s)throw a}}o.sort(function(e,t){return e.sortOrder-t.sortOrder}),this.defaultResolution=o[0],t.tech_&&t.tech_.el().canPlayType&&(e?this.defaultResolution=e:r&&(this.defaultResolution=o[o.length-1]),this.availableResolutions=o,this._setPlayerResolution(this.defaultResolution,!1))}},{key:"updatehlsResolution",value:function(){if(this.resolution.isHls){var e=this._videoPlayer,t=e.tech_&&e.tech_.hls&&e.tech_.hls.playlists.media(),r=this.hlsResolution;this.hlsResolution=t?t.attributes.RESOLUTION.height:null,this.trackPerformance({key:Qe.d.HLS_QUALITY_CHANGE,extra:{oldRes:r,newRes:this.hlsResolution}})}}},{key:"trackPerformance",value:function(e){var t={user:C.a,assetId:this.assetId};Object(G.a)(this._videoPlayer,this.videoElement,t,this.bandwidthWatermarks,e,!0),k.e.trackPageEvent("videoplayertiming",k.d.COURSE_TAKING,e)}},{key:"_trackPlaying",value:function(){var e={key:Qe.d.INITIAL_START,wait_time:new Date-this.loadStartTime};this.trackPerformance(e),this.initialStartSent=!0}},{key:"_trackSeeking",value:function(){this.seekTimer.startTime=new Date,this.seekTimer.type=Qe.d.UNBUFFERED_SEEK;for(var e=this._videoPlayer.buffered(),t=0;t<e.length;t++)if(this._videoPlayer.currentTime()>=e.start(t)&&this._videoPlayer.currentTime()<=e.end(t)){this.seekTimer.type=Qe.d.BUFFERED_SEEK;break}}},{key:"_trackSeeked",value:function(){var e={key:this.seekTimer.type,wait_time:new Date-this.seekTimer.startTime};this.trackPerformance(e),this.seekTimer=this._createTimer()}},{key:"_trackWaiting",value:function(){this.initialStartSent&&(this.waitingTimer.startTime=new Date,this.waitingTimer.type=Qe.d.WAITING)}},{key:"_trackTimeupdate",value:function(){if(this.waitingTimer.startTime){var e={key:this.waitingTimer.type,wait_time:new Date-this.waitingTimer.startTime};this.trackPerformance(e),this.waitingTimer=this._createTimer()}}},{key:"_setPlayerResolution",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=this._videoPlayer,o=r.el().firstChild,n=r.paused(),i=r.currentTime();"none"===o.preload&&(o.preload="metadata"),r.src(e),r.one("loadedmetadata",function(){r.currentTime(i),r.addClass("vjs-has-started"),n||r.play()}),r.resolution=e.label,t&&r.trigger("changeRes"),this.hlsResolution=null}},{key:"_retryWithFlash",value:function(e){var t=E.a.getTech("Flash");t&&t.isSupported()?(this._videoPlayer.options_.techOrder=["flash"],this._videoPlayer.src(this._videoPlayer.options_.sources),this._logErrorWithHttpStatus(e,"videoplayer.error.retryflash")):(this.showError(),this._logErrorWithHttpStatus(e))}},{key:"_logErrorWithHttpStatus",value:function(t,e){var r=this;fr.a.head(this._videoPlayer.src()).then(function(e){t.responseStatus=e.status}).catch(function(e){void 0!==e.response&&(t.responseStatus=e.response.status)}).then(function(){r._logError(t,e)})}},{key:"_logError",value:function(e,t){var r=E.a.getTech("Html5"),o=E.a.getTech("Flash"),n={retries:this.numErrors,code:e.code,message:e.message,tech:this._videoPlayer.techName_,resolution:this.resolution&&this.resolution.label,hlsResolution:this.hlsResolution,html5Exists:r&&r.isSupported(),flashVersion:o&&o.version()[0],trackingTag:this.trackingTag,responseStatus:e.responseStatus,cdn:Object(G.b)(this._videoPlayer),userCountry:C.a.country};t=t||"videoplayer.error",k.e.increment(t,n),n.userAgent=window.navigator&&window.navigator.userAgent,n.userId=C.a.id,n.assetId=this.assetId,k.e.trackPageEvent("pageview","sitewide",n),this._videoPlayer.trigger("customerror")}},{key:"_retry",value:function(e){var t=this;this.numErrors+=1,setTimeout(function(){t._videoPlayer.src(t._videoPlayer.options_.sources)},500*this.numErrors*this.numErrors),this._logErrorWithHttpStatus(e,"videoplayer.error.retry")}},{key:"_createTimer",value:function(){return{type:null,startTime:null}}},{key:"resolution",get:function(){return this._chosenResolution||this.defaultResolution}},{key:"savedResolutionLabel",get:function(){return K.a.get(X(this.courseId))}}]),h}(),Yt=babelHelpers.applyDecoratedDescriptor(Gt.prototype,"showPlaceholder",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kt=babelHelpers.applyDecoratedDescriptor(Gt.prototype,"showPlaceholderLoader",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xt=babelHelpers.applyDecoratedDescriptor(Gt.prototype,"showPlaceholderPlayButton",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jt=babelHelpers.applyDecoratedDescriptor(Gt.prototype,"isErrorVisible",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zt=babelHelpers.applyDecoratedDescriptor(Gt.prototype,"availableResolutions",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),er=babelHelpers.applyDecoratedDescriptor(Gt.prototype,"hlsResolution",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tr=babelHelpers.applyDecoratedDescriptor(Gt.prototype,"_chosenResolution",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"setPlaceholder",[p.action],Object.getOwnPropertyDescriptor(Gt.prototype,"setPlaceholder"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"hidePlaceholder",[p.action],Object.getOwnPropertyDescriptor(Gt.prototype,"hidePlaceholder"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"showPlaceholderWithPlayButton",[p.action],Object.getOwnPropertyDescriptor(Gt.prototype,"showPlaceholderWithPlayButton"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"showError",[p.action],Object.getOwnPropertyDescriptor(Gt.prototype,"showError"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"hideError",[n.a,p.action],Object.getOwnPropertyDescriptor(Gt.prototype,"hideError"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"handleVideoProgress",[n.a],Object.getOwnPropertyDescriptor(Gt.prototype,"handleVideoProgress"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"handleTimeUpdate",[n.a],Object.getOwnPropertyDescriptor(Gt.prototype,"handleTimeUpdate"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"setResolution",[n.a,p.action],Object.getOwnPropertyDescriptor(Gt.prototype,"setResolution"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"_setupResolutions",[p.action],Object.getOwnPropertyDescriptor(Gt.prototype,"_setupResolutions"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"updatehlsResolution",[n.a,p.action],Object.getOwnPropertyDescriptor(Gt.prototype,"updatehlsResolution"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"_trackPlaying",[n.a],Object.getOwnPropertyDescriptor(Gt.prototype,"_trackPlaying"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"_trackSeeking",[n.a],Object.getOwnPropertyDescriptor(Gt.prototype,"_trackSeeking"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"_trackSeeked",[n.a],Object.getOwnPropertyDescriptor(Gt.prototype,"_trackSeeked"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"_trackWaiting",[n.a],Object.getOwnPropertyDescriptor(Gt.prototype,"_trackWaiting"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"_trackTimeupdate",[n.a],Object.getOwnPropertyDescriptor(Gt.prototype,"_trackTimeupdate"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"_setPlayerResolution",[n.a,p.action],Object.getOwnPropertyDescriptor(Gt.prototype,"_setPlayerResolution"),Gt.prototype),babelHelpers.applyDecoratedDescriptor(Gt.prototype,"resolution",[p.computed],Object.getOwnPropertyDescriptor(Gt.prototype,"resolution"),Gt.prototype),Gt);r.d(t,"a",function(){return Cr});var Cr=(rr=p.observable.ref,Object(v.d)(or=Object(d.d)((ar=sr=function(e){function t(e){var r;return babelHelpers.classCallCheck(this,t),r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e)),babelHelpers.initializerDefineProperty(r,"videoPlayer",ir,babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(r))),e.videojsSetupData.language=_.a.locale.toLowerCase().replace("_","-"),r.captionsStore=e.captionsStore||new xt.a(e.captions),r.store=new kr(r.captionsStore,S.b.Object.deepMergeWithArrayMerge({plugins:{udemypatches:{}},playbackRates:[.5,.75,1,1.25,1.5,1.75,2],autoplay:!1,controlBar:{initChildren:!1},flash:{hls:{withCredentials:!0}},inactivityTimeout:Qe.b,html5:{hls:{withCredentials:!0}}},r.props.videojsSetupData),e.playerId,e.getControls,e.courseId,e.showPlaceholder,e.duration,e.streamUrls,e.trackingTag,e.assetId,e.onVideoProgress,e.videoProgressInterval,e.onTimeUpdate),r.controlBarStore=new Ot,e.userActivityEnabled&&(r.userActivityStore=e.userActivityStore||new hr.a,r.userActivityStore.setControlBarStore(r.controlBarStore)),r.hotkeys=[{key:"space",fn:r.withHotkeyCallback(r.togglePlayPause,Qe.c.PLAY_PAUSE)},{key:"enter",fn:r.withHotkeyCallback(r.togglePlayPause,Qe.c.PLAY_PAUSE)},{key:"left",fn:r.withHotkeyCallback(r.seekBack,Qe.c.SEEK_BACK)},{key:"right",fn:r.withHotkeyCallback(r.seekForward,Qe.c.SEEK_FORWARD)},{key:"shift+left",fn:r.withHotkeyCallback(r.speedDown,Qe.c.SPEED_DOWN)},{key:"shift+right",fn:r.withHotkeyCallback(r.speedUp,Qe.c.SPEED_UP)},{key:"down",fn:r.withHotkeyCallback(r.volumeDown,Qe.c.VOLUME_DOWN)},{key:"up",fn:r.withHotkeyCallback(r.volumeUp,Qe.c.VOLUME_UP)}],r.props.fullscreenEnabled&&r.hotkeys.push({key:"f",fn:r.withHotkeyCallback(r.props.toggleFullscreen,Qe.c.TOGGLE_FULLSCREEN)}),Array(10).fill().forEach(function(e,t){r.hotkeys.push({key:t.toString(),fn:r.withHotkeyCallback(r.jumpTo.bind(babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(r)),t))})}),r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"componentDidMount",value:function(){this.initVideoPlayer(),this.captionsStore.loadCaptions()}},{key:"componentDidUpdate",value:function(e){e.isFullscreen!==this.props.isFullscreen&&this.videoPlayer&&this.videoPlayer.isFullscreen(this.props.isFullscreen)}},{key:"componentWillUnmount",value:function(){this.videoPlayer&&this.videoPlayer.dispose(),this.unregisterHotkeys()}},{key:"initVideoPlayer",value:function(){this.videoPlayer=this.store.initializeVideojs(this.videoElement),this.initializePlugins(),this.setupPlayerEvents()}},{key:"initializePlugins",value:function(){if(this.videoPlayer.persistUserSetting({courseId:this.props.courseId}),this.videoPlayer.bandwidthWatermark(),this.videoPlayer.eventTracking({user:C.a,onVideoTracking:this.props.onVideoTracking,assetId:this.props.assetId},this.videoElement),this.props.thumbnailSprite){var e=new l.a(this.props.thumbnailSprite.img_url),t=y.a.parse(e.query(),{ignoreQueryPrefix:!0}),r=e.path().slice(0,e.path().lastIndexOf("/"));this.videoPlayer.sneakpeek({basePath:"".concat(e.protocol(),"://").concat(e.host()).concat(r,"/"),urlParams:t})}this.videoPlayer.isFullscreen(this.props.isFullscreen)}},{key:"setupPlayerEvents",value:function(){var e=this;this.videoPlayer.ready(this.videoPlayerReady),this.videoPlayer.one("play",function(){k.e.increment("udemy-video-player.viewed",{tech:e.videoPlayer.techName_,resolution:e.store.resolution.label,trackingTag:e.props.trackingTag,cdn:Object(G.b)(e.videoPlayer),userCountry:C.a.country})}),this.props.onVideoAvailable(this.props.playerId,this.videoPlayer),this.props.onVideoProgress&&this.videoPlayer.on(["timeupdate","ended"],this.store.handleVideoProgress),this.props.onTimeUpdate&&this.videoPlayer.on("timeupdate",this.store.handleTimeUpdate),this.videoPlayer.on("dispose",this.onVideoUnavailable),this.videoPlayer.on("error",function(){e.props.onPlayerError(),e.store.handleVideoError()}),this.videoPlayer.on("ended",function(){(e.props.onVideoEnd||e.videoPlayer.exitFullscreen.bind(e.videoPlayer))(e.props.playerId,e.videoPlayer,e.store),e.props.restoreSplashScreenAtVideoEnd&&e.store.showPlaceholderWithPlayButton()})}},{key:"videoPlayerReady",value:function(){var t=this;this.controlBarStore.setupMenuHandlers(this.videoPlayer),this.captionsStore.attachPlayer(this.videoPlayer),this.userActivityStore&&(this.userActivityStore.setupPlayerListeners(this.videoPlayer),this.store.controlBarControls.forEach(function(e){e.activeOnHover&&t.userActivityStore.addActiveOnHover(t.videoPlayer.controlBar[e.component].el())}),this.userActivityStore.addHideOnInactive(this.videoPlayer.controlBar.el())),this.registerHotkeys(),this.videoPlayer.on("dblclick",this.onVideoDoubleClick),this.props.onPlayerReady(this.videoPlayer),this.videoPlayer.techName_&&this.videoPlayer.poster(this.thumbnail),this.props.videojsSetupData.autoplay?this.store.hidePlaceholder():this.props.showPlaceholder&&this.store.showPlaceholderWithPlayButton()}},{key:"onVideoUnavailable",value:function(){this.unregisterHotkeys(),this.props.onVideoUnavailable()}},{key:"registerHotkeys",value:function(){this.props.hotkeysEnabled&&this.hotkeys.forEach(function(e){w.a.register(e.key,e.fn)})}},{key:"unregisterHotkeys",value:function(){this.props.hotkeysEnabled&&this.hotkeys.forEach(function(e){w.a.unregister(e.key,e.fn)})}},{key:"withHotkeyCallback",value:function(i,s){var a=this;return function(e){var t;e&&e.preventDefault(),a.videoPlayer.hotkeyPressed();for(var r=arguments.length,o=new Array(1<r?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];s&&(t=a.props).onHotkey.apply(t,[s,e].concat(o)),i.apply(void 0,[e].concat(o))}}},{key:"contextMenu",value:function(e){e.preventDefault()}},{key:"togglePlayPause",value:function(){this.videoPlayer.paused()?(this.store.hidePlaceholder(),this.videoPlayer.play()):this.videoPlayer.pause()}},{key:"seekBack",value:function(){this.videoPlayer.currentTime(Math.max(0,this.videoPlayer.currentTime()-Qe.e))}},{key:"seekForward",value:function(){this.videoPlayer.currentTime(this.videoPlayer.currentTime()+Qe.e)}},{key:"speedDown",value:function(){this.videoPlayer.speedDown()}},{key:"speedUp",value:function(){this.videoPlayer.speedUp()}},{key:"volumeDown",value:function(){this.videoPlayer.volume(this.videoPlayer.volume()-Qe.i)}},{key:"volumeUp",value:function(){this.videoPlayer.volume(this.videoPlayer.volume()+Qe.i)}},{key:"jumpTo",value:function(e){this.videoPlayer.currentTime(this.videoPlayer.duration()*e*.1)}},{key:"onVideoDoubleClick",value:function(e){var t=e.relatedTarget||e.toElement||document.activeElement,r=this.videoPlayer.el();t!==r&&t!==r.querySelector(".vjs-tech")&&t!==r.querySelector(".iframeblocker")||this.props.toggleFullscreen()}},{key:"play",value:function(){this.store.play()}},{key:"render",value:function(){var t=this,e=s()("w100p","h100p",br.a.container),r=s()(br.a["video-wrapper"],babelHelpers.defineProperty({},dr.a["user-inactive"],this.userActivityStore&&!this.userActivityStore.isUserActive));return g.a.createElement(d.b,{captionsStore:this.captionsStore,userActivityStore:this.userActivityStore,controlBarStore:this.controlBarStore},g.a.createElement("div",{className:e,ref:this.props.setFullscreenRef},g.a.createElement("div",{className:r},this.preloadLinks,g.a.createElement("video",Object.assign({ref:function(e){t.videoElement=e},className:s()(Qe.f,Qe.g),id:this.props.playerId,preload:this.props.preload,crossOrigin:"anonymous",controls:!0,onContextMenu:this.contextMenu},this.props.extraVideoAttributes),this.sneakpeek),g.a.createElement(Bt,{show:this.store.showPlaceholder,poster:this.props.thumbnail,withSpinner:this.store.showPlaceholderLoader,withPlayButton:this.store.showPlaceholderPlayButton,withTint:this.props.showPosterTint,onClick:this.play}),this.errorDisplay),this.rewindSkipButton,this.forwardSkipButton,this.captions,this.settingsMenu,this.fullscreenButton))}},{key:"sneakpeek",get:function(){return this.props.thumbnailSprite?g.a.createElement("track",{kind:"metadata",label:"sneakpeek",src:this.props.thumbnailSprite.vtt_url}):null}},{key:"preloadLinks",get:function(){var e=[];return this.props.thumbnailSprite&&e.push(g.a.createElement("link",{rel:"preload",key:"sneakpeek",href:this.props.thumbnailSprite.img_url,as:"image"})),e}},{key:"rewindSkipButton",get:function(){return this.videoPlayer?g.a.createElement(It,{player:this.videoPlayer,onClick:this.seekBack}):null}},{key:"forwardSkipButton",get:function(){return this.videoPlayer?g.a.createElement(Ht,{player:this.videoPlayer,onClick:this.seekForward}):null}},{key:"captions",get:function(){return this.videoPlayer?g.a.createElement(Dt,{player:this.videoPlayer,hasMTCaptions:this.captionsStore.captions.some(function(e){return e.isTranslation}),extraCaptionMenuItems:this.props.extraCaptionMenuItems}):null}},{key:"settingsMenu",get:function(){return this.videoPlayer?g.a.createElement(ur,{controlBarStore:this.controlBarStore,player:this.videoPlayer,videoPlayerStore:this.store},this.props.extraSettings):null}},{key:"fullscreenButton",get:function(){return this.videoPlayer&&this.props.fullscreenEnabled?g.a.createElement(At,{player:this.videoPlayer,isFullscreen:this.props.isFullscreen,onClick:this.props.toggleFullscreen}):null}},{key:"errorDisplay",get:function(){return this.store.isErrorVisible?g.a.createElement(Rt.b,{player:this.videoPlayer,errorBody:this.props.errorBody,errorFooter:this.props.errorFooter,store:this.store}):null}}]),t}(f.Component),sr.propTypes={playerId:m.a.string.isRequired,captions:m.a.array,captionsStore:m.a.instanceOf(xt.a),streamUrls:m.a.object,thumbnailSprite:m.a.shape({vtt_url:m.a.string.isRequired,img_url:m.a.string.isRequired}),toggleFullscreen:m.a.func.isRequired,isFullscreen:m.a.bool.isRequired,setFullscreenRef:m.a.func.isRequired,videojsSetupData:m.a.object,assetId:m.a.number,courseId:m.a.number,thumbnail:m.a.string,trackingTag:m.a.string,onVideoTracking:m.a.func,onVideoEnd:m.a.func,onVideoProgress:m.a.func,videoProgressInterval:m.a.number,onTimeUpdate:m.a.func,onVideoAvailable:m.a.func,onVideoUnavailable:m.a.func,onPlayerError:m.a.func,hotkeysEnabled:m.a.bool,onHotkey:m.a.func,duration:m.a.number,preload:m.a.oneOf(["auto","metadata","none"]),onPlayerReady:m.a.func,restoreSplashScreenAtVideoEnd:m.a.bool,extraVideoAttributes:m.a.object,showPlaceholder:m.a.bool,userActivityEnabled:m.a.bool,userActivityStore:m.a.object,errorBody:Rt.b.propTypes.errorBody,errorFooter:Rt.b.propTypes.errorFooter,getControls:m.a.func,extraSettings:m.a.node,extraCaptionMenuItems:m.a.array,fullscreenEnabled:m.a.bool,showPosterTint:m.a.bool},sr.defaultProps={captionsStore:null,streamUrls:void 0,assetId:void 0,courseId:void 0,thumbnail:void 0,onVideoEnd:void 0,duration:void 0,restoreSplashScreenAtVideoEnd:void 0,extraVideoAttributes:void 0,onVideoAvailable:u.a,onVideoUnavailable:u.a,onVideoProgress:void 0,videoProgressInterval:0,onTimeUpdate:void 0,onVideoTracking:u.a,onPlayerError:u.a,onPlayerReady:u.a,hotkeysEnabled:!1,onHotkey:u.a,preload:"metadata",trackingTag:"",showPlaceholder:!0,videojsSetupData:{},captions:[],thumbnailSprite:void 0,userActivityEnabled:!0,userActivityStore:null,errorBody:Rt.b.defaultProps.errorBody,errorFooter:Rt.b.defaultProps.errorFooter,getControls:c.a,extraSettings:[],extraCaptionMenuItems:[],fullscreenEnabled:!0,showPosterTint:!1},nr=ar,ir=babelHelpers.applyDecoratedDescriptor(nr.prototype,"videoPlayer",[rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),babelHelpers.applyDecoratedDescriptor(nr.prototype,"initVideoPlayer",[p.action],Object.getOwnPropertyDescriptor(nr.prototype,"initVideoPlayer"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"videoPlayerReady",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"videoPlayerReady"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"onVideoUnavailable",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"onVideoUnavailable"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"withHotkeyCallback",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"withHotkeyCallback"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"contextMenu",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"contextMenu"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"togglePlayPause",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"togglePlayPause"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"seekBack",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"seekBack"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"seekForward",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"seekForward"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"speedDown",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"speedDown"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"speedUp",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"speedUp"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"volumeDown",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"volumeDown"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"volumeUp",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"volumeUp"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"jumpTo",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"jumpTo"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"onVideoDoubleClick",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"onVideoDoubleClick"),nr.prototype),babelHelpers.applyDecoratedDescriptor(nr.prototype,"play",[n.a],Object.getOwnPropertyDescriptor(nr.prototype,"play"),nr.prototype),or=nr))||or)||or)},"./src/udemy/js/video-player/videojs-setup/pre.js":function(e,t,r){"use strict";window.VIDEOJS_NO_DYNAMIC_STYLE=!0},17:function(e,t){},18:function(e,t){}}]);
//# sourceMappingURL=course-taking-v4-app.cbeccae3b5516f19a45e.js.map